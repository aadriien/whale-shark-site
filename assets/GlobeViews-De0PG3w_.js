import{j as e,r as o}from"./index-CFp1UTdv.js";import{g as m,p as h,a as u,b as N,c as x,d as j,e as g,m as f,G as v}from"./DataUtils-CgzupoU9.js";import"./three.module-B1l304HR.js";import"./linear-DWw4ICw8.js";const k=({shark:s})=>s?e.jsxs("div",{className:"shark-info-panel",children:[e.jsxs("h2",{children:["ID: ",s.id]}),e.jsxs("div",{className:"shark-panel-details",children:[e.jsxs("div",{className:"shark-traits",children:[e.jsxs("p",{className:"shark-details",children:[e.jsx("strong",{children:"Sex:"}),"Â  ",s.sex]}),e.jsxs("p",{className:"shark-details",children:[e.jsx("strong",{children:"Life Stage:"}),"Â  ",s.lifeStage]})]}),e.jsxs("div",{className:"shark-records",children:[e.jsxs("h3",{className:"shark-details",children:[e.jsx("strong",{children:"Total Records:"}),"Â  ",s.occurrences]}),e.jsxs("p",{className:"shark-details",children:[s.oldest," Â ...Â  ",s.newest]}),e.jsxs("p",{className:"shark-details",children:[e.jsx("strong",{children:"Satellite tracking:"}),"Â Â ",Math.round(s.machine/(s.machine+s.human)*100),"%"]}),e.jsxs("p",{className:"shark-details",children:[e.jsx("strong",{children:"Human sightings:"}),"Â Â ",Math.round(s.human/(s.machine+s.human)*100),"%"]})]}),e.jsxs("div",{className:"shark-regions",children:[e.jsx("h3",{className:"shark-details",children:"Places Visited"}),e.jsx("ul",{className:"timeline-list",children:s.countries.split(",").map((i,a)=>{const n=s.regions||"",c=s.publishing||"",t=s.remarks||"",d=m(n),l=m(i),r=d!=="Unknown"?d:l;return e.jsxs("li",{className:"timeline-item",children:[e.jsxs("div",{className:"timeline-header",children:[e.jsx("strong",{children:h(i)})," ",e.jsxs("span",{className:"timeline-date",children:["(",r,")"]})]}),e.jsxs("div",{className:"timeline-region",children:[e.jsx("span",{className:"timeline-label",children:"Region:"})," ",e.jsx("em",{children:n!=="Unknown"?h(n):"Unspecified"})]}),e.jsxs("div",{className:"timeline-meta",children:[e.jsx("span",{className:"timeline-label",children:"Published by:"})," ",e.jsx("em",{children:h(c)})]}),e.jsxs("div",{className:"timeline-remarks",children:[e.jsx("span",{className:"timeline-label",children:"Sighting remarks:"})," ",e.jsx("em",{children:t!=="Unknown"?u(t):"None"})]})]},a)})})]}),e.jsxs("div",{className:"shark-images-container",children:[e.jsx("h3",{children:"Media Gallery"}),N(s.image).map((i,a)=>e.jsxs("div",{className:"shark-image-card",children:[e.jsx("img",{src:i.url,alt:`Shark image ${a}`}),e.jsx("p",{className:"shark-image-meta",children:e.jsxs("small",{children:["ðŸ“¸ Creator: ",i.creator," | ",i.license]})})]},a))]})]})]}):e.jsxs("div",{className:"shark-info-panel",children:[e.jsx("h2",{children:"All Sharks Overview"}),e.jsx("p",{children:"Select a shark to view detailed tracking information."})]});function S({sharks:s,onReset:i,onSelect:a,selectedSharkId:n}){return e.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx("button",{onClick:i,className:n==null?"active":"",children:e.jsx("span",{className:"all-sharks-button-text",children:"Show All Sharks"})}),e.jsx("div",{className:"shark-selector-list",children:s.map(c=>e.jsx("div",{className:`shark-selector-item ${c.id===n?"selected":""}`,onClick:()=>a(c.id),children:c.id},c.id))})]})}function y(){const[s,i]=o.useState(null),a=o.useRef(),n=f;o.useEffect(()=>{var l;if(s)(l=a.current)==null||l.highlightShark(s);else if(a.current){const r=a.current.getGlobe();x(r);const p=j();g(r,p)}},[s]);const c=l=>{i(l)},t=()=>{i(null)};o.useEffect(()=>{if(a.current){const l=a.current.getGlobe();x(l);const r=j();g(l,r)}},[]);const d=n.find(l=>l.id===s)||null;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",overflowY:"auto",textAlign:"center",paddingTop:"60px"},children:[e.jsx("h1",{children:"GlobeViews Page"}),e.jsxs("div",{className:"globe-views-container",children:[e.jsx("div",{className:"info-sidebar",children:e.jsx(k,{shark:d})}),e.jsx("div",{className:"globe-container",children:e.jsx(v,{ref:a})}),e.jsx("div",{className:"shark-selector",children:e.jsx(S,{sharks:n,onSelect:c,onReset:t,selectedSharkId:s})})]})]})}export{y as default};
