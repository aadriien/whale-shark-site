import{g as m_,r as x0,j as y_}from"./index-WOis3kv1.js";import{C as sh,V as Re,G as Y0,M as Da,S as j1,a as lr,F as Xg,b as la,c as Sr,T as Kg,d as ut,B as a0,e as e1,f as D0,I as $r,g as Zg,h as Hr,i as __,j as Z3,k as w_,l as za,H as Xn,N as Fs,m as Ut,P as S_,n as cA,o as Ot,R as s1,L as Dr,p as Yo,q as c0,r as _n,s as Os,D as f0,W as Ai,t as x_,u as Jg,v as b_,w as e8,A as t8,x as T_,y as I_,z as E_,E as k_,J as N_,K as R_,O as M_,Q as C_,U as qi,X as ui,Y as N0,Z as Es,_ as a8,$ as J3,a0 as Qr,a1 as oh,a2 as di,a3 as P_,a4 as B_,a5 as v0,a6 as Bn,a7 as Yr,a8 as xa,a9 as Xr,aa as Kr,ab as Xo,ac as Ar,ad as Fr,ae as n8,af as Cd,ag as L_,ah as Fi,ai as Oi,aj as Pd,ak as js,al as $s,am as ih,an as oo,ao as V1,ap as q_,aq as r8,ar as ln,as as hA,at as lh,au as pA,av as B1,aw as Bd,ax as ci,ay as s8,az as u0,aA as o8,aB as i8,aC as l8,aD as A8,aE as u8,aF as Ah,aG as d8,aH as c8,aI as $n,aJ as h8,aK as p8,aL as g8,aM as D8,aN as f8,aO as v8,aP as m8,aQ as y8,aR as _8,aS as w8,aT as S8,aU as x8,aV as F_,aW as O_,aX as U_,aY as hi,aZ as yl,a_ as _l,a$ as wl,b0 as b8,b1 as T8,b2 as I8,b3 as E8,b4 as k8,b5 as N8,b6 as R8,b7 as M8,b8 as pi,b9 as G_,ba as V_,bb as C8,bc as Ko,bd as Zo,be as ks,bf as z_,bg as uh,bh as W_,bi as H_,bj as dh,bk as ch,bl as gi,bm as hh,bn as ph,bo as ku,bp as el,bq as tl,br as al,bs as e5,bt as t5,bu as a5,bv as n5,bw as r5,bx as Ld,by as qd,bz as Fd,bA as Od,bB as Ud,bC as Gd,bD as Vd,bE as zd,bF as Wd,bG as Hd,bH as jd,bI as $d,bJ as Qd,bK as Yd,bL as Xd,bM as Kd,bN as Nu,bO as j_,bP as s5,bQ as o5,bR as i5,bS as $_,bT as P8,bU as B8,bV as Q_,bW as Y_,bX as X_,bY as K_,bZ as gA,b_ as Z_,b$ as L8,c0 as J_,c1 as ew,c2 as l5,c3 as q8,c4 as F8,c5 as DA,c6 as h2,c7 as tw,c8 as O8,c9 as gh,ca as A5,cb as aw,cc as nw,cd as Sl,ce as rw,cf as sw,cg as ow,ch as iw,ci as lw,cj as Aw,ck as uw,cl as dw,cm as cw,cn as hw,co as pw,cp as gw,cq as Dw,cr as fw,cs as vw,ct as mw,cu as yw,cv as _w,cw as ww,cx as Sw,cy as xw,cz as bw,cA as Tw,cB as U8,cC as G8,cD as Iw,cE as Ew,cF as kw,cG as Nw,cH as L1,cI as Rw,cJ as Dh,cK as Mw,cL as Cw,cM as Pw,cN as Bw,cO as Lw,cP as fh,cQ as fA,cR as nl,cS as V8,cT as rl,cU as qw,cV as Fw,cW as Ow,cX as vh,cY as Uw,cZ as Gw,c_ as Vw,c$ as z8,d0 as W8,d1 as zw,d2 as Ww,d3 as Us,d4 as Ns,d5 as u5,d6 as Hw,d7 as jw}from"./three.module-B1l304HR.js";import{i as $w,l as Qw,b as Yw,r as Rs,a as t1,c as Xw,d as H8,e as Kw,s as Zw}from"./linear-D8wwPlEk.js";var Di;(n=>{const e={};let t=-1,a=0;n.Linear={None:s=>s},n.Quadratic={In:s=>s*s,Out:s=>-s*(s-2),InOut:s=>(s*=2)<1?.5*s*s:-.5*(--s*(s-2)-1)},n.Cubic={In:s=>s*s*s,Out:s=>--s*s*s+1,InOut:s=>(s*=2)<1?.5*s*s*s:.5*((s-=2)*s*s+2)},n.Quartic={In:s=>s*s*s*s,Out:s=>-(--s*s*s*s-1),InOut:s=>(s*=2)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2)},n.Quintic={In:s=>s*s*s*s*s,Out:s=>(s=s-1)*s*s*s*s+1,InOut:s=>(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)},n.Sinusoidal={In:s=>-Math.cos(s*Math.PI/2)+1,Out:s=>Math.sin(s*Math.PI/2),InOut:s=>-.5*(Math.cos(Math.PI*s)-1)},n.Exponential={In:s=>s==0?0:Math.pow(2,10*(s-1)),Out:s=>s==1?1:-Math.pow(2,-10*s)+1,InOut:s=>s==0?0:s==1?1:(s*=2)<1?.5*Math.pow(2,10*(s-1)):.5*(-Math.pow(2,-10*(s-1))+2)},n.Circular={In:s=>-(Math.sqrt(1-s*s)-1),Out:s=>Math.sqrt(1- --s*s),InOut:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)},n.Elastic={In:s=>{let o,d=.1,c=.4;return s==0?0:s==1?1:(!d||d<1?(d=1,o=c/4):o=c/(2*Math.PI)*Math.asin(1/d),-(d*Math.pow(2,10*(s-=1))*Math.sin((s-o)*(2*Math.PI)/c)))},Out:s=>{let o,d=.1,c=.4;return s==0?0:s==1?1:(!d||d<1?(d=1,o=c/4):o=c/(2*Math.PI)*Math.asin(1/d),d*Math.pow(2,-10*s)*Math.sin((s-o)*(2*Math.PI)/c)+1)},InOut:s=>{let o,d=.1,c=.4;return s==0?0:s==1?1:(!d||d<1?(d=1,o=c/4):o=c/(2*Math.PI)*Math.asin(1/d),(s*=2)<1?-.5*(d*Math.pow(2,10*(s-=1))*Math.sin((s-o)*(2*Math.PI)/c)):d*Math.pow(2,-10*(s-=1))*Math.sin((s-o)*(2*Math.PI)/c)*.5+1)}},n.Back={In:s=>{var o=1.70158;return s*s*((o+1)*s-o)},Out:s=>{var o=1.70158;return(s=s-1)*s*((o+1)*s+o)+1},InOut:s=>{var o=2.5949095;return(s*=2)<1?.5*(s*s*((o+1)*s-o)):.5*((s-=2)*s*((o+1)*s+o)+2)}},n.Bounce={In:s=>1-n.Bounce.Out(1-s),Out:s=>(s/=1)<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375,InOut:s=>s<.5?n.Bounce.In(s*2)*.5:n.Bounce.Out(s*2-1)*.5+.5};class r{constructor(o){this.o={},this.id=-1,this.d=1e3,this.st=0,this.ds=0,this.sp={},this.fp={},this.dp={},this.ec=n.Linear.None,this.ucb=!1,this.ccb=!1,this.cj=null,this.to=(d,c)=>{c!==null&&(this.d=c);for(let g in d)this.fp[g]=d[g];return this},this.start=()=>(this.st=new Date().getTime(),this.ds?(this.st+=this.ds,setTimeout(()=>this.postStart(),this.ds)):this.postStart(),this.id=t++,e[this.id]=this,this),this.postStart=()=>{for(let d in this.fp)this.sp[d]=this.o[d],this.dp[d]=this.fp[d]-this.o[d]},this.update=d=>{let c,g,D;if(!(d<this.st)){g=(d-this.st)/this.d,g>1&&(g=1),D=this.ec(g);for(c in this.dp)this.o[c]=this.sp[c]+this.dp[c]*D;return this.ucb&&this.ucb(this.o,g),g===1&&(delete e[this.id],this.ccb&&this.ccb(this.o),this.cj&&this.cj.start()),d}},this.easing=d=>(this.ec=d,this),this.delay=d=>(this.ds=d,this),this.onUpdate=d=>(this.ucb=d,this),this.onComplete=d=>(this.ccb=d,this),this.chain=d=>(this.cj=d,this),this.o=o}}n.JEasing=r,n.update=()=>{a=new Date().getTime(),Object.keys(e).forEach(s=>{e[s].update(a)})},n.getLength=()=>Object.keys(e).length,n.removeAll=()=>{Object.keys(e).forEach(s=>delete e[s])},n.removeJEasing=s=>{Object.keys(e).forEach(o=>{e[o]===s&&delete e[o]})}})(Di||(Di={}));const{JEasing:N1,Linear:SG,Quadratic:xG,Cubic:R1,Quartic:bG,Quintic:TG,Sinusoidal:IG,Exponential:EG,Circular:kG,Elastic:NG,Back:RG,Bounce:MG}=Di;function Zd(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Jw=typeof global=="object"&&global&&global.Object===Object&&global,eS=typeof self=="object"&&self&&self.Object===Object&&self,j8=Jw||eS||Function("return this")(),Ru=function(){return j8.Date.now()},tS=/\s/;function aS(n){for(var e=n.length;e--&&tS.test(n.charAt(e)););return e}var nS=/^\s+/;function rS(n){return n&&n.slice(0,aS(n)+1).replace(nS,"")}var xl=j8.Symbol,$8=Object.prototype,sS=$8.hasOwnProperty,oS=$8.toString,yo=xl?xl.toStringTag:void 0;function iS(n){var e=sS.call(n,yo),t=n[yo];try{n[yo]=void 0;var a=!0}catch{}var r=oS.call(n);return a&&(e?n[yo]=t:delete n[yo]),r}var lS=Object.prototype,AS=lS.toString;function uS(n){return AS.call(n)}var dS="[object Null]",cS="[object Undefined]",d5=xl?xl.toStringTag:void 0;function hS(n){return n==null?n===void 0?cS:dS:d5&&d5 in Object(n)?iS(n):uS(n)}function pS(n){return n!=null&&typeof n=="object"}var gS="[object Symbol]";function DS(n){return typeof n=="symbol"||pS(n)&&hS(n)==gS}var c5=NaN,fS=/^[-+]0x[0-9a-f]+$/i,vS=/^0b[01]+$/i,mS=/^0o[0-7]+$/i,yS=parseInt;function h5(n){if(typeof n=="number")return n;if(DS(n))return c5;if(Zd(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Zd(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=rS(n);var t=vS.test(n);return t||mS.test(n)?yS(n.slice(2),t?2:8):fS.test(n)?c5:+n}var _S="Expected a function",wS=Math.max,SS=Math.min;function xS(n,e,t){var a,r,s,o,d,c,g=0,D=!1,m=!1,_=!0;if(typeof n!="function")throw new TypeError(_S);e=h5(e)||0,Zd(t)&&(D=!!t.leading,m="maxWait"in t,s=m?wS(h5(t.maxWait)||0,e):s,_="trailing"in t?!!t.trailing:_);function w(L){var O=a,G=r;return a=r=void 0,g=L,o=n.apply(G,O),o}function x(L){return g=L,d=setTimeout(N,e),D?w(L):o}function T(L){var O=L-c,G=L-g,j=e-O;return m?SS(j,s-G):j}function I(L){var O=L-c,G=L-g;return c===void 0||O>=e||O<0||m&&G>=s}function N(){var L=Ru();if(I(L))return R(L);d=setTimeout(N,T(L))}function R(L){return d=void 0,_&&a?w(L):(a=r=void 0,o)}function M(){d!==void 0&&clearTimeout(d),g=0,a=c=r=d=void 0}function B(){return d===void 0?o:R(Ru())}function F(){var L=Ru(),O=I(L);if(a=arguments,r=this,c=L,O){if(d===void 0)return x(c);if(m)return clearTimeout(d),d=setTimeout(N,e),w(c)}return d===void 0&&(d=setTimeout(N,e)),o}return F.cancel=M,F.flush=B,F}function p5(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}function bS(n){if(Array.isArray(n))return n}function TS(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function IS(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function ES(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var a,r,s,o,d=[],c=!0,g=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(a=s.call(t)).done)&&(d.push(a.value),d.length!==e);c=!0);}catch(D){g=!0,r=D}finally{try{if(!c&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(g)throw r}}return d}}function kS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NS(n,e){return bS(n)||ES(n,e)||RS(n,e)||kS()}function RS(n,e){if(n){if(typeof n=="string")return p5(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p5(n,e):void 0}}var MS=IS(function n(e,t){var a=t.default,r=a===void 0?null:a,s=t.triggerUpdate,o=s===void 0?!0:s,d=t.onChange,c=d===void 0?function(g,D){}:d;TS(this,n),this.name=e,this.defaultVal=r,this.triggerUpdate=o,this.onChange=c});function an(n){var e=n.stateInit,t=e===void 0?function(){return{}}:e,a=n.props,r=a===void 0?{}:a,s=n.methods,o=s===void 0?{}:s,d=n.aliases,c=d===void 0?{}:d,g=n.init,D=g===void 0?function(){}:g,m=n.update,_=m===void 0?function(){}:m,w=Object.keys(r).map(function(x){return new MS(x,r[x])});return function x(){for(var T=arguments.length,I=new Array(T),N=0;N<T;N++)I[N]=arguments[N];var R=!!(this instanceof x&&this.constructor),M=R?I.shift():void 0,B=I[0],F=B===void 0?{}:B,L=Object.assign({},t instanceof Function?t(F):t,{initialised:!1}),O={};function G(Y){return j(Y,F),ne(),G}var j=function(Z,re){D.call(G,Z,L,re),L.initialised=!0},ne=xS(function(){L.initialised&&(_.call(G,L,O),O={})},1);return w.forEach(function(Y){G[Y.name]=Z(Y);function Z(re){var de=re.name,te=re.triggerUpdate,$=te===void 0?!1:te,X=re.onChange,ue=X===void 0?function(Ee,Ce){}:X,pe=re.defaultVal,ge=pe===void 0?null:pe;return function(Ee){var Ce=L[de];if(!arguments.length)return Ce;var Le=Ee===void 0?ge:Ee;return L[de]=Le,ue.call(G,Le,L,Ce),!O.hasOwnProperty(de)&&(O[de]=Ce),$&&ne(),G}}}),Object.keys(o).forEach(function(Y){G[Y]=function(){for(var Z,re=arguments.length,de=new Array(re),te=0;te<re;te++)de[te]=arguments[te];return(Z=o[Y]).call.apply(Z,[G,L].concat(de))}}),Object.entries(c).forEach(function(Y){var Z=NS(Y,2),re=Z[0],de=Z[1];return G[re]=G[de]}),G.resetProps=function(){return w.forEach(function(Y){G[Y.name](Y.defaultVal)}),G},G.resetProps(),L._rerender=ne,R&&M&&G(M),G}}var Va=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return n},Out:function(n){return n},InOut:function(n){return n}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-Va.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Va.Bounce.In(n*2)*.5:Va.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),Vo=function(){return performance.now()},Q8=function(){function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(){for(var e,t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];for(var r=0,s=t;r<s.length;r++){var o=s[r];(e=o._group)===null||e===void 0||e.remove(o),o._group=this,this._tweens[o.getId()]=o,this._tweensAddedDuringUpdate[o.getId()]=o}},n.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var a=0,r=e;a<r.length;a++){var s=r[a];s._group=void 0,delete this._tweens[s.getId()],delete this._tweensAddedDuringUpdate[s.getId()]}},n.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},n.prototype.update=function(e,t){e===void 0&&(e=Vo()),t===void 0&&(t=!0);var a=Object.keys(this._tweens);if(a.length!==0)for(;a.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<a.length;r++){var s=this._tweens[a[r]],o=!t;s&&s.update(e,o)===!1&&!t&&this.remove(s)}a=Object.keys(this._tweensAddedDuringUpdate)}},n}(),Jd={Linear:function(n,e){var t=n.length-1,a=t*e,r=Math.floor(a),s=Jd.Utils.Linear;return e<0?s(n[0],n[1],a):e>1?s(n[t],n[t-1],t-a):s(n[r],n[r+1>t?t:r+1],a-r)},Utils:{Linear:function(n,e,t){return(e-n)*t+n}}},Y8=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),ec=new Q8,Ln=function(){function n(e,t){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Va.Linear.None,this._interpolationFunction=Jd.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Y8.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof t=="object"?(this._group=t,t.add(this)):t===!0&&(this._group=ec,ec.add(this))}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.getDuration=function(){return this._duration},n.prototype.to=function(e,t){if(t===void 0&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=t<0?0:t,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,t){if(e===void 0&&(e=Vo()),t===void 0&&(t=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var a in this._valuesStartRepeat)this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var s in this._valuesEnd)r[s]=this._valuesEnd[s];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,t,a,r,s){for(var o in a){var d=e[o],c=Array.isArray(d),g=c?"array":typeof d,D=!c&&Array.isArray(a[o]);if(!(g==="undefined"||g==="function")){if(D){var m=a[o];if(m.length===0)continue;for(var _=[d],w=0,x=m.length;w<x;w+=1){var T=this._handleRelativeValue(d,m[w]);if(isNaN(T)){D=!1,console.warn("Found invalid interpolation list. Skipping.");break}_.push(T)}D&&(a[o]=_)}if((g==="object"||c)&&d&&!D){t[o]=c?[]:{};var I=d;for(var N in I)t[o][N]=I[N];r[o]=c?[]:{};var m=a[o];if(!this._isDynamic){var R={};for(var N in m)R[N]=m[N];a[o]=m=R}this._setupProperties(I,t[o],m,r[o],s)}else(typeof t[o]>"u"||s)&&(t[o]=d),c||(t[o]*=1),D?r[o]=a[o].slice().reverse():r[o]=t[o]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},n.prototype.pause=function(e){return e===void 0&&(e=Vo()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},n.prototype.resume=function(e){return e===void 0&&(e=Vo()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},n.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},n.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=Va.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=Jd.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,t){var a=this,r;if(e===void 0&&(e=Vo()),t===void 0&&(t=n.autoStartOnUpdate),this._isPaused)return!0;var s;if(!this._goToEnd&&!this._isPlaying)if(t)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var o=e-this._startTime,d=this._duration+((r=this._repeatDelayTime)!==null&&r!==void 0?r:this._delayTime),c=this._duration+this._repeat*d,g=function(){if(a._duration===0||o>c)return 1;var T=Math.trunc(o/d),I=o-T*d,N=Math.min(I/a._duration,1);return N===0&&o===a._duration?1:N},D=g(),m=this._easingFunction(D);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,m),this._onUpdateCallback&&this._onUpdateCallback(this._object,D),this._duration===0||o>=this._duration)if(this._repeat>0){var _=Math.min(Math.trunc((o-this._duration)/d)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=_);for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=d*_,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var w=0,x=this._chainedTweens.length;w<x;w++)this._chainedTweens[w].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,t,a,r){for(var s in a)if(t[s]!==void 0){var o=t[s]||0,d=a[s],c=Array.isArray(e[s]),g=Array.isArray(d),D=!c&&g;D?e[s]=this._interpolationFunction(d,r):typeof d=="object"&&d?this._updateProperties(e[s],o,d,r):(d=this._handleRelativeValue(o,d),typeof d=="number"&&(e[s]=o+(d-o)*r))}},n.prototype._handleRelativeValue=function(e,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?e+parseFloat(t):parseFloat(t)},n.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],a=this._valuesEnd[e];typeof a=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(a):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},n.autoStartOnUpdate=!1,n}();Y8.nextId;var O0=ec;O0.getAll.bind(O0);O0.removeAll.bind(O0);O0.add.bind(O0);O0.remove.bind(O0);O0.update.bind(O0);function CS(n){const e=+this._x.call(null,n),t=+this._y.call(null,n),a=+this._z.call(null,n);return X8(this.cover(e,t,a),e,t,a,n)}function X8(n,e,t,a,r){if(isNaN(e)||isNaN(t)||isNaN(a))return n;var s,o=n._root,d={data:r},c=n._x0,g=n._y0,D=n._z0,m=n._x1,_=n._y1,w=n._z1,x,T,I,N,R,M,B,F,L,O,G;if(!o)return n._root=d,n;for(;o.length;)if((B=e>=(x=(c+m)/2))?c=x:m=x,(F=t>=(T=(g+_)/2))?g=T:_=T,(L=a>=(I=(D+w)/2))?D=I:w=I,s=o,!(o=o[O=L<<2|F<<1|B]))return s[O]=d,n;if(N=+n._x.call(null,o.data),R=+n._y.call(null,o.data),M=+n._z.call(null,o.data),e===N&&t===R&&a===M)return d.next=o,s?s[O]=d:n._root=d,n;do s=s?s[O]=new Array(8):n._root=new Array(8),(B=e>=(x=(c+m)/2))?c=x:m=x,(F=t>=(T=(g+_)/2))?g=T:_=T,(L=a>=(I=(D+w)/2))?D=I:w=I;while((O=L<<2|F<<1|B)===(G=(M>=I)<<2|(R>=T)<<1|N>=x));return s[G]=o,s[O]=d,n}function PS(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,t=new Float64Array(e),a=new Float64Array(e),r=new Float64Array(e);let s=1/0,o=1/0,d=1/0,c=-1/0,g=-1/0,D=-1/0;for(let m=0,_,w,x,T;m<e;++m)isNaN(w=+this._x.call(null,_=n[m]))||isNaN(x=+this._y.call(null,_))||isNaN(T=+this._z.call(null,_))||(t[m]=w,a[m]=x,r[m]=T,w<s&&(s=w),w>c&&(c=w),x<o&&(o=x),x>g&&(g=x),T<d&&(d=T),T>D&&(D=T));if(s>c||o>g||d>D)return this;this.cover(s,o,d).cover(c,g,D);for(let m=0;m<e;++m)X8(this,t[m],a[m],r[m],n[m]);return this}function BS(n,e,t){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(t=+t))return this;var a=this._x0,r=this._y0,s=this._z0,o=this._x1,d=this._y1,c=this._z1;if(isNaN(a))o=(a=Math.floor(n))+1,d=(r=Math.floor(e))+1,c=(s=Math.floor(t))+1;else{for(var g=o-a||1,D=this._root,m,_;a>n||n>=o||r>e||e>=d||s>t||t>=c;)switch(_=(t<s)<<2|(e<r)<<1|n<a,m=new Array(8),m[_]=D,D=m,g*=2,_){case 0:o=a+g,d=r+g,c=s+g;break;case 1:a=o-g,d=r+g,c=s+g;break;case 2:o=a+g,r=d-g,c=s+g;break;case 3:a=o-g,r=d-g,c=s+g;break;case 4:o=a+g,d=r+g,s=c-g;break;case 5:a=o-g,d=r+g,s=c-g;break;case 6:o=a+g,r=d-g,s=c-g;break;case 7:a=o-g,r=d-g,s=c-g;break}this._root&&this._root.length&&(this._root=D)}return this._x0=a,this._y0=r,this._z0=s,this._x1=o,this._y1=d,this._z1=c,this}function LS(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function qS(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function $t(n,e,t,a,r,s,o){this.node=n,this.x0=e,this.y0=t,this.z0=a,this.x1=r,this.y1=s,this.z1=o}function FS(n,e,t,a){var r,s=this._x0,o=this._y0,d=this._z0,c,g,D,m,_,w,x=this._x1,T=this._y1,I=this._z1,N=[],R=this._root,M,B;for(R&&N.push(new $t(R,s,o,d,x,T,I)),a==null?a=1/0:(s=n-a,o=e-a,d=t-a,x=n+a,T=e+a,I=t+a,a*=a);M=N.pop();)if(!(!(R=M.node)||(c=M.x0)>x||(g=M.y0)>T||(D=M.z0)>I||(m=M.x1)<s||(_=M.y1)<o||(w=M.z1)<d))if(R.length){var F=(c+m)/2,L=(g+_)/2,O=(D+w)/2;N.push(new $t(R[7],F,L,O,m,_,w),new $t(R[6],c,L,O,F,_,w),new $t(R[5],F,g,O,m,L,w),new $t(R[4],c,g,O,F,L,w),new $t(R[3],F,L,D,m,_,O),new $t(R[2],c,L,D,F,_,O),new $t(R[1],F,g,D,m,L,O),new $t(R[0],c,g,D,F,L,O)),(B=(t>=O)<<2|(e>=L)<<1|n>=F)&&(M=N[N.length-1],N[N.length-1]=N[N.length-1-B],N[N.length-1-B]=M)}else{var G=n-+this._x.call(null,R.data),j=e-+this._y.call(null,R.data),ne=t-+this._z.call(null,R.data),Y=G*G+j*j+ne*ne;if(Y<a){var Z=Math.sqrt(a=Y);s=n-Z,o=e-Z,d=t-Z,x=n+Z,T=e+Z,I=t+Z,r=R.data}}return r}const OS=(n,e,t,a,r,s)=>Math.sqrt((n-a)**2+(e-r)**2+(t-s)**2);function US(n,e,t,a){const r=[],s=n-a,o=e-a,d=t-a,c=n+a,g=e+a,D=t+a;return this.visit((m,_,w,x,T,I,N)=>{if(!m.length)do{const R=m.data;OS(n,e,t,this._x(R),this._y(R),this._z(R))<=a&&r.push(R)}while(m=m.next);return _>c||w>g||x>D||T<s||I<o||N<d}),r}function GS(n){if(isNaN(_=+this._x.call(null,n))||isNaN(w=+this._y.call(null,n))||isNaN(x=+this._z.call(null,n)))return this;var e,t=this._root,a,r,s,o=this._x0,d=this._y0,c=this._z0,g=this._x1,D=this._y1,m=this._z1,_,w,x,T,I,N,R,M,B,F,L;if(!t)return this;if(t.length)for(;;){if((R=_>=(T=(o+g)/2))?o=T:g=T,(M=w>=(I=(d+D)/2))?d=I:D=I,(B=x>=(N=(c+m)/2))?c=N:m=N,e=t,!(t=t[F=B<<2|M<<1|R]))return this;if(!t.length)break;(e[F+1&7]||e[F+2&7]||e[F+3&7]||e[F+4&7]||e[F+5&7]||e[F+6&7]||e[F+7&7])&&(a=e,L=F)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[F]=s:delete e[F],(t=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&t===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!t.length&&(a?a[L]=t:this._root=t),this):(this._root=s,this)}function VS(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function zS(){return this._root}function WS(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function HS(n){var e=[],t,a=this._root,r,s,o,d,c,g,D;for(a&&e.push(new $t(a,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=e.pop();)if(!n(a=t.node,s=t.x0,o=t.y0,d=t.z0,c=t.x1,g=t.y1,D=t.z1)&&a.length){var m=(s+c)/2,_=(o+g)/2,w=(d+D)/2;(r=a[7])&&e.push(new $t(r,m,_,w,c,g,D)),(r=a[6])&&e.push(new $t(r,s,_,w,m,g,D)),(r=a[5])&&e.push(new $t(r,m,o,w,c,_,D)),(r=a[4])&&e.push(new $t(r,s,o,w,m,_,D)),(r=a[3])&&e.push(new $t(r,m,_,d,c,g,w)),(r=a[2])&&e.push(new $t(r,s,_,d,m,g,w)),(r=a[1])&&e.push(new $t(r,m,o,d,c,_,w)),(r=a[0])&&e.push(new $t(r,s,o,d,m,_,w))}return this}function jS(n){var e=[],t=[],a;for(this._root&&e.push(new $t(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));a=e.pop();){var r=a.node;if(r.length){var s,o=a.x0,d=a.y0,c=a.z0,g=a.x1,D=a.y1,m=a.z1,_=(o+g)/2,w=(d+D)/2,x=(c+m)/2;(s=r[0])&&e.push(new $t(s,o,d,c,_,w,x)),(s=r[1])&&e.push(new $t(s,_,d,c,g,w,x)),(s=r[2])&&e.push(new $t(s,o,w,c,_,D,x)),(s=r[3])&&e.push(new $t(s,_,w,c,g,D,x)),(s=r[4])&&e.push(new $t(s,o,d,x,_,w,m)),(s=r[5])&&e.push(new $t(s,_,d,x,g,w,m)),(s=r[6])&&e.push(new $t(s,o,w,x,_,D,m)),(s=r[7])&&e.push(new $t(s,_,w,x,g,D,m))}t.push(a)}for(;a=t.pop();)n(a.node,a.x0,a.y0,a.z0,a.x1,a.y1,a.z1);return this}function $S(n){return n[0]}function QS(n){return arguments.length?(this._x=n,this):this._x}function YS(n){return n[1]}function XS(n){return arguments.length?(this._y=n,this):this._y}function KS(n){return n[2]}function ZS(n){return arguments.length?(this._z=n,this):this._z}function K8(n,e,t,a){var r=new mh(e??$S,t??YS,a??KS,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?r:r.addAll(n)}function mh(n,e,t,a,r,s,o,d,c){this._x=n,this._y=e,this._z=t,this._x0=a,this._y0=r,this._z0=s,this._x1=o,this._y1=d,this._z1=c,this._root=void 0}function g5(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var Wa=K8.prototype=mh.prototype;Wa.copy=function(){var n=new mh(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,t,a;if(!e)return n;if(!e.length)return n._root=g5(e),n;for(t=[{source:e,target:n._root=new Array(8)}];e=t.pop();)for(var r=0;r<8;++r)(a=e.source[r])&&(a.length?t.push({source:a,target:e.target[r]=new Array(8)}):e.target[r]=g5(a));return n};Wa.add=CS;Wa.addAll=PS;Wa.cover=BS;Wa.data=LS;Wa.extent=qS;Wa.find=FS;Wa.findAllWithinRadius=US;Wa.remove=GS;Wa.removeAll=VS;Wa.root=zS;Wa.size=WS;Wa.visit=HS;Wa.visitAfter=jS;Wa.x=QS;Wa.y=XS;Wa.z=ZS;function bl(n,e){let t,a;if(e===void 0)for(const r of n)r!=null&&(t===void 0?r>=r&&(t=a=r):(t>r&&(t=r),a<r&&(a=r)));else{let r=-1;for(let s of n)(s=e(s,++r,n))!=null&&(t===void 0?s>=s&&(t=a=s):(t>s&&(t=s),a<s&&(a=s)))}return[t,a]}class cr{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let a=0;for(let r=0;r<this._n&&r<32;r++){const s=t[r],o=e+s,d=Math.abs(e)<Math.abs(s)?e-(o-s):s-(o-e);d&&(t[a++]=d),e=o}return t[a]=e,this._n=a+1,this}valueOf(){const e=this._partials;let t=this._n,a,r,s,o=0;if(t>0){for(o=e[--t];t>0&&(a=o,r=e[--t],o=a+r,s=r-(o-a),!s););t>0&&(s<0&&e[t-1]<0||s>0&&e[t-1]>0)&&(r=s*2,a=o+r,r==a-o&&(o=a))}return o}}function JS(n,e){let t;for(const a of n)a!=null&&(t<a||t===void 0&&a>=a)&&(t=a);return t}function ex(n,e){let t=0,a=0;if(e===void 0)for(let r of n)r!=null&&(r=+r)>=r&&(++t,a+=r);else{let r=-1;for(let s of n)(s=e(s,++r,n))!=null&&(s=+s)>=s&&(++t,a+=s)}if(t)return a/t}function*tx(n){for(const e of n)yield*e}function fi(n){return Array.from(tx(n))}function Z8(){var n=0,e=1,t=1,a=[.5],r=[0,1],s;function o(c){return c!=null&&c<=c?r[Yw(a,c,0,t)]:s}function d(){var c=-1;for(a=new Array(t);++c<t;)a[c]=((c+1)*e-(c-t)*n)/(t+1);return o}return o.domain=function(c){return arguments.length?([n,e]=c,n=+n,e=+e,d()):[n,e]},o.range=function(c){return arguments.length?(t=(r=Array.from(c)).length-1,d()):r.slice()},o.invertExtent=function(c){var g=r.indexOf(c);return g<0?[NaN,NaN]:g<1?[n,a[0]]:g>=t?[a[t-1],e]:[a[g-1],a[g]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return Z8().domain([n,e]).range(r).unknown(s)},$w.apply(Qw(o),arguments)}var _t=1e-6,tc=1e-12,Tt=Math.PI,vn=Tt/2,Tl=Tt/4,qn=Tt*2,ha=180/Tt,rt=Tt/180,jt=Math.abs,yh=Math.atan,Zn=Math.atan2,ct=Math.cos,p2=Math.ceil,ax=Math.exp,ac=Math.hypot,nx=Math.log,Ke=Math.sin,rx=Math.sign||function(n){return n>0?1:n<0?-1:0},fr=Math.sqrt,sx=Math.tan;function ox(n){return n>1?0:n<-1?Tt:Math.acos(n)}function vr(n){return n>1?vn:n<-1?-vn:Math.asin(n)}function D5(n){return(n=Ke(n/2))*n}function Za(){}function Il(n,e){n&&v5.hasOwnProperty(n.type)&&v5[n.type](n,e)}var f5={Feature:function(n,e){Il(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,a=-1,r=t.length;++a<r;)Il(t[a].geometry,e)}},v5={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var t=n.coordinates,a=-1,r=t.length;++a<r;)n=t[a],e.point(n[0],n[1],n[2])},LineString:function(n,e){nc(n.coordinates,e,0)},MultiLineString:function(n,e){for(var t=n.coordinates,a=-1,r=t.length;++a<r;)nc(t[a],e,0)},Polygon:function(n,e){m5(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,a=-1,r=t.length;++a<r;)m5(t[a],e)},GeometryCollection:function(n,e){for(var t=n.geometries,a=-1,r=t.length;++a<r;)Il(t[a],e)}};function nc(n,e,t){var a=-1,r=n.length-t,s;for(e.lineStart();++a<r;)s=n[a],e.point(s[0],s[1],s[2]);e.lineEnd()}function m5(n,e){var t=-1,a=n.length;for(e.polygonStart();++t<a;)nc(n[t],e,1);e.polygonEnd()}function vA(n,e){n&&f5.hasOwnProperty(n.type)?f5[n.type](n,e):Il(n,e)}var El=new cr,y5=new cr,J8,eD,rc,sc,oc,mr={point:Za,lineStart:Za,lineEnd:Za,polygonStart:function(){El=new cr,mr.lineStart=ix,mr.lineEnd=lx},polygonEnd:function(){var n=+El;y5.add(n<0?qn+n:n),this.lineStart=this.lineEnd=this.point=Za},sphere:function(){y5.add(qn)}};function ix(){mr.point=Ax}function lx(){tD(J8,eD)}function Ax(n,e){mr.point=tD,J8=n,eD=e,n*=rt,e*=rt,rc=n,sc=ct(e=e/2+Tl),oc=Ke(e)}function tD(n,e){n*=rt,e*=rt,e=e/2+Tl;var t=n-rc,a=t>=0?1:-1,r=a*t,s=ct(e),o=Ke(e),d=oc*o,c=sc*s+d*ct(r),g=d*a*Ke(r);El.add(Zn(g,c)),rc=n,sc=s,oc=o}function kl(n){return[Zn(n[1],n[0]),vr(n[2])]}function z1(n){var e=n[0],t=n[1],a=ct(t);return[a*ct(e),a*Ke(e),Ke(t)]}function g2(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function Qs(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function Mu(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function D2(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function Nl(n){var e=fr(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}var ia,fn,da,Cn,b1,aD,nD,Gs,Jo,Or,yr,sr={point:ic,lineStart:_5,lineEnd:w5,polygonStart:function(){sr.point=sD,sr.lineStart=ux,sr.lineEnd=dx,Jo=new cr,mr.polygonStart()},polygonEnd:function(){mr.polygonEnd(),sr.point=ic,sr.lineStart=_5,sr.lineEnd=w5,El<0?(ia=-(da=180),fn=-(Cn=90)):Jo>_t?Cn=90:Jo<-1e-6&&(fn=-90),yr[0]=ia,yr[1]=da},sphere:function(){ia=-(da=180),fn=-(Cn=90)}};function ic(n,e){Or.push(yr=[ia=n,da=n]),e<fn&&(fn=e),e>Cn&&(Cn=e)}function rD(n,e){var t=z1([n*rt,e*rt]);if(Gs){var a=Qs(Gs,t),r=[a[1],-a[0],0],s=Qs(r,a);Nl(s),s=kl(s);var o=n-b1,d=o>0?1:-1,c=s[0]*ha*d,g,D=jt(o)>180;D^(d*b1<c&&c<d*n)?(g=s[1]*ha,g>Cn&&(Cn=g)):(c=(c+360)%360-180,D^(d*b1<c&&c<d*n)?(g=-s[1]*ha,g<fn&&(fn=g)):(e<fn&&(fn=e),e>Cn&&(Cn=e))),D?n<b1?Nn(ia,n)>Nn(ia,da)&&(da=n):Nn(n,da)>Nn(ia,da)&&(ia=n):da>=ia?(n<ia&&(ia=n),n>da&&(da=n)):n>b1?Nn(ia,n)>Nn(ia,da)&&(da=n):Nn(n,da)>Nn(ia,da)&&(ia=n)}else Or.push(yr=[ia=n,da=n]);e<fn&&(fn=e),e>Cn&&(Cn=e),Gs=t,b1=n}function _5(){sr.point=rD}function w5(){yr[0]=ia,yr[1]=da,sr.point=ic,Gs=null}function sD(n,e){if(Gs){var t=n-b1;Jo.add(jt(t)>180?t+(t>0?360:-360):t)}else aD=n,nD=e;mr.point(n,e),rD(n,e)}function ux(){mr.lineStart()}function dx(){sD(aD,nD),mr.lineEnd(),jt(Jo)>_t&&(ia=-(da=180)),yr[0]=ia,yr[1]=da,Gs=null}function Nn(n,e){return(e-=n)<0?e+360:e}function cx(n,e){return n[0]-e[0]}function S5(n,e){return n[0]<=n[1]?n[0]<=e&&e<=n[1]:e<n[0]||n[1]<e}function oD(n){var e,t,a,r,s,o,d;if(Cn=da=-(ia=fn=1/0),Or=[],vA(n,sr),t=Or.length){for(Or.sort(cx),e=1,a=Or[0],s=[a];e<t;++e)r=Or[e],S5(a,r[0])||S5(a,r[1])?(Nn(a[0],r[1])>Nn(a[0],a[1])&&(a[1]=r[1]),Nn(r[0],a[1])>Nn(a[0],a[1])&&(a[0]=r[0])):s.push(a=r);for(o=-1/0,t=s.length-1,e=0,a=s[t];e<=t;a=r,++e)r=s[e],(d=Nn(a[1],r[0]))>o&&(o=d,ia=r[0],da=a[1])}return Or=yr=null,ia===1/0||fn===1/0?[[NaN,NaN],[NaN,NaN]]:[[ia,fn],[da,Cn]]}var zo,Rl,Ml,Cl,Pl,Bl,Ll,ql,lc,Ac,uc,iD,lD,An,un,dn,h0={sphere:Za,point:_h,lineStart:x5,lineEnd:b5,polygonStart:function(){h0.lineStart=gx,h0.lineEnd=Dx},polygonEnd:function(){h0.lineStart=x5,h0.lineEnd=b5}};function _h(n,e){n*=rt,e*=rt;var t=ct(e);Ui(t*ct(n),t*Ke(n),Ke(e))}function Ui(n,e,t){++zo,Ml+=(n-Ml)/zo,Cl+=(e-Cl)/zo,Pl+=(t-Pl)/zo}function x5(){h0.point=hx}function hx(n,e){n*=rt,e*=rt;var t=ct(e);An=t*ct(n),un=t*Ke(n),dn=Ke(e),h0.point=px,Ui(An,un,dn)}function px(n,e){n*=rt,e*=rt;var t=ct(e),a=t*ct(n),r=t*Ke(n),s=Ke(e),o=Zn(fr((o=un*s-dn*r)*o+(o=dn*a-An*s)*o+(o=An*r-un*a)*o),An*a+un*r+dn*s);Rl+=o,Bl+=o*(An+(An=a)),Ll+=o*(un+(un=r)),ql+=o*(dn+(dn=s)),Ui(An,un,dn)}function b5(){h0.point=_h}function gx(){h0.point=fx}function Dx(){AD(iD,lD),h0.point=_h}function fx(n,e){iD=n,lD=e,n*=rt,e*=rt,h0.point=AD;var t=ct(e);An=t*ct(n),un=t*Ke(n),dn=Ke(e),Ui(An,un,dn)}function AD(n,e){n*=rt,e*=rt;var t=ct(e),a=t*ct(n),r=t*Ke(n),s=Ke(e),o=un*s-dn*r,d=dn*a-An*s,c=An*r-un*a,g=ac(o,d,c),D=vr(g),m=g&&-D/g;lc.add(m*o),Ac.add(m*d),uc.add(m*c),Rl+=D,Bl+=D*(An+(An=a)),Ll+=D*(un+(un=r)),ql+=D*(dn+(dn=s)),Ui(An,un,dn)}function T5(n){zo=Rl=Ml=Cl=Pl=Bl=Ll=ql=0,lc=new cr,Ac=new cr,uc=new cr,vA(n,h0);var e=+lc,t=+Ac,a=+uc,r=ac(e,t,a);return r<tc&&(e=Bl,t=Ll,a=ql,Rl<_t&&(e=Ml,t=Cl,a=Pl),r=ac(e,t,a),r<tc)?[NaN,NaN]:[Zn(t,e)*ha,vr(a/r)*ha]}function dc(n,e){function t(a,r){return a=n(a,r),e(a[0],a[1])}return n.invert&&e.invert&&(t.invert=function(a,r){return a=e.invert(a,r),a&&n.invert(a[0],a[1])}),t}function cc(n,e){return jt(n)>Tt&&(n-=Math.round(n/qn)*qn),[n,e]}cc.invert=cc;function uD(n,e,t){return(n%=qn)?e||t?dc(E5(n),k5(e,t)):E5(n):e||t?k5(e,t):cc}function I5(n){return function(e,t){return e+=n,jt(e)>Tt&&(e-=Math.round(e/qn)*qn),[e,t]}}function E5(n){var e=I5(n);return e.invert=I5(-n),e}function k5(n,e){var t=ct(n),a=Ke(n),r=ct(e),s=Ke(e);function o(d,c){var g=ct(c),D=ct(d)*g,m=Ke(d)*g,_=Ke(c),w=_*t+D*a;return[Zn(m*r-w*s,D*t-_*a),vr(w*r+m*s)]}return o.invert=function(d,c){var g=ct(c),D=ct(d)*g,m=Ke(d)*g,_=Ke(c),w=_*r-m*s;return[Zn(m*r+_*s,D*t+w*a),vr(w*t-D*a)]},o}function vx(n){n=uD(n[0]*rt,n[1]*rt,n.length>2?n[2]*rt:0);function e(t){return t=n(t[0]*rt,t[1]*rt),t[0]*=ha,t[1]*=ha,t}return e.invert=function(t){return t=n.invert(t[0]*rt,t[1]*rt),t[0]*=ha,t[1]*=ha,t},e}function mx(n,e,t,a,r,s){if(t){var o=ct(e),d=Ke(e),c=a*t;r==null?(r=e+a*qn,s=e-c/2):(r=N5(o,r),s=N5(o,s),(a>0?r<s:r>s)&&(r+=a*qn));for(var g,D=r;a>0?D>s:D<s;D-=c)g=kl([o,-d*ct(D),-d*Ke(D)]),n.point(g[0],g[1])}}function N5(n,e){e=z1(e),e[0]-=n,Nl(e);var t=ox(-e[1]);return((-e[2]<0?-t:t)+qn-_t)%qn}function dD(){var n=[],e;return{point:function(t,a,r){e.push([t,a,r])},lineStart:function(){n.push(e=[])},lineEnd:Za,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function sl(n,e){return jt(n[0]-e[0])<_t&&jt(n[1]-e[1])<_t}function f2(n,e,t,a){this.x=n,this.z=e,this.o=t,this.e=a,this.v=!1,this.n=this.p=null}function cD(n,e,t,a,r){var s=[],o=[],d,c;if(n.forEach(function(x){if(!((T=x.length-1)<=0)){var T,I=x[0],N=x[T],R;if(sl(I,N)){if(!I[2]&&!N[2]){for(r.lineStart(),d=0;d<T;++d)r.point((I=x[d])[0],I[1]);r.lineEnd();return}N[0]+=2*_t}s.push(R=new f2(I,x,null,!0)),o.push(R.o=new f2(I,null,R,!1)),s.push(R=new f2(N,x,null,!1)),o.push(R.o=new f2(N,null,R,!0))}}),!!s.length){for(o.sort(e),R5(s),R5(o),d=0,c=o.length;d<c;++d)o[d].e=t=!t;for(var g=s[0],D,m;;){for(var _=g,w=!0;_.v;)if((_=_.n)===g)return;D=_.z,r.lineStart();do{if(_.v=_.o.v=!0,_.e){if(w)for(d=0,c=D.length;d<c;++d)r.point((m=D[d])[0],m[1]);else a(_.x,_.n.x,1,r);_=_.n}else{if(w)for(D=_.p.z,d=D.length-1;d>=0;--d)r.point((m=D[d])[0],m[1]);else a(_.x,_.p.x,-1,r);_=_.p}_=_.o,D=_.z,w=!w}while(!_.v);r.lineEnd()}}}function R5(n){if(e=n.length){for(var e,t=0,a=n[0],r;++t<e;)a.n=r=n[t],r.p=a,a=r;a.n=r=n[0],r.p=a}}function Cu(n){return jt(n[0])<=Tt?n[0]:rx(n[0])*((jt(n[0])+Tt)%qn-Tt)}function hD(n,e){var t=Cu(e),a=e[1],r=Ke(a),s=[Ke(t),-ct(t),0],o=0,d=0,c=new cr;r===1?a=vn+_t:r===-1&&(a=-vn-_t);for(var g=0,D=n.length;g<D;++g)if(_=(m=n[g]).length)for(var m,_,w=m[_-1],x=Cu(w),T=w[1]/2+Tl,I=Ke(T),N=ct(T),R=0;R<_;++R,x=B,I=L,N=O,w=M){var M=m[R],B=Cu(M),F=M[1]/2+Tl,L=Ke(F),O=ct(F),G=B-x,j=G>=0?1:-1,ne=j*G,Y=ne>Tt,Z=I*L;if(c.add(Zn(Z*j*Ke(ne),N*O+Z*ct(ne))),o+=Y?G+j*qn:G,Y^x>=t^B>=t){var re=Qs(z1(w),z1(M));Nl(re);var de=Qs(s,re);Nl(de);var te=(Y^G>=0?-1:1)*vr(de[2]);(a>te||a===te&&(re[0]||re[1]))&&(d+=Y^G>=0?1:-1)}}return(o<-1e-6||o<_t&&c<-1e-12)^d&1}function pD(n,e,t,a){return function(r){var s=e(r),o=dD(),d=e(o),c=!1,g,D,m,_={point:w,lineStart:T,lineEnd:I,polygonStart:function(){_.point=N,_.lineStart=R,_.lineEnd=M,D=[],g=[]},polygonEnd:function(){_.point=w,_.lineStart=T,_.lineEnd=I,D=fi(D);var B=hD(g,a);D.length?(c||(r.polygonStart(),c=!0),cD(D,_x,B,t,r)):B&&(c||(r.polygonStart(),c=!0),r.lineStart(),t(null,null,1,r),r.lineEnd()),c&&(r.polygonEnd(),c=!1),D=g=null},sphere:function(){r.polygonStart(),r.lineStart(),t(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function w(B,F){n(B,F)&&r.point(B,F)}function x(B,F){s.point(B,F)}function T(){_.point=x,s.lineStart()}function I(){_.point=w,s.lineEnd()}function N(B,F){m.push([B,F]),d.point(B,F)}function R(){d.lineStart(),m=[]}function M(){N(m[0][0],m[0][1]),d.lineEnd();var B=d.clean(),F=o.result(),L,O=F.length,G,j,ne;if(m.pop(),g.push(m),m=null,!!O){if(B&1){if(j=F[0],(G=j.length-1)>0){for(c||(r.polygonStart(),c=!0),r.lineStart(),L=0;L<G;++L)r.point((ne=j[L])[0],ne[1]);r.lineEnd()}return}O>1&&B&2&&F.push(F.pop().concat(F.shift())),D.push(F.filter(yx))}}return _}}function yx(n){return n.length>1}function _x(n,e){return((n=n.x)[0]<0?n[1]-vn-_t:vn-n[1])-((e=e.x)[0]<0?e[1]-vn-_t:vn-e[1])}const M5=pD(function(){return!0},wx,xx,[-Tt,-vn]);function wx(n){var e=NaN,t=NaN,a=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(s,o){var d=s>0?Tt:-Tt,c=jt(s-e);jt(c-Tt)<_t?(n.point(e,t=(t+o)/2>0?vn:-vn),n.point(a,t),n.lineEnd(),n.lineStart(),n.point(d,t),n.point(s,t),r=0):a!==d&&c>=Tt&&(jt(e-a)<_t&&(e-=a*_t),jt(s-d)<_t&&(s-=d*_t),t=Sx(e,t,s,o),n.point(a,t),n.lineEnd(),n.lineStart(),n.point(d,t),r=0),n.point(e=s,t=o),a=d},lineEnd:function(){n.lineEnd(),e=t=NaN},clean:function(){return 2-r}}}function Sx(n,e,t,a){var r,s,o=Ke(n-t);return jt(o)>_t?yh((Ke(e)*(s=ct(a))*Ke(t)-Ke(a)*(r=ct(e))*Ke(n))/(r*s*o)):(e+a)/2}function xx(n,e,t,a){var r;if(n==null)r=t*vn,a.point(-Tt,r),a.point(0,r),a.point(Tt,r),a.point(Tt,0),a.point(Tt,-r),a.point(0,-r),a.point(-Tt,-r),a.point(-Tt,0),a.point(-Tt,r);else if(jt(n[0]-e[0])>_t){var s=n[0]<e[0]?Tt:-Tt;r=t*s/2,a.point(-s,r),a.point(0,r),a.point(s,r)}else a.point(e[0],e[1])}function bx(n){var e=ct(n),t=2*rt,a=e>0,r=jt(e)>_t;function s(D,m,_,w){mx(w,n,t,_,D,m)}function o(D,m){return ct(D)*ct(m)>e}function d(D){var m,_,w,x,T;return{lineStart:function(){x=w=!1,T=1},point:function(I,N){var R=[I,N],M,B=o(I,N),F=a?B?0:g(I,N):B?g(I+(I<0?Tt:-Tt),N):0;if(!m&&(x=w=B)&&D.lineStart(),B!==w&&(M=c(m,R),(!M||sl(m,M)||sl(R,M))&&(R[2]=1)),B!==w)T=0,B?(D.lineStart(),M=c(R,m),D.point(M[0],M[1])):(M=c(m,R),D.point(M[0],M[1],2),D.lineEnd()),m=M;else if(r&&m&&a^B){var L;!(F&_)&&(L=c(R,m,!0))&&(T=0,a?(D.lineStart(),D.point(L[0][0],L[0][1]),D.point(L[1][0],L[1][1]),D.lineEnd()):(D.point(L[1][0],L[1][1]),D.lineEnd(),D.lineStart(),D.point(L[0][0],L[0][1],3)))}B&&(!m||!sl(m,R))&&D.point(R[0],R[1]),m=R,w=B,_=F},lineEnd:function(){w&&D.lineEnd(),m=null},clean:function(){return T|(x&&w)<<1}}}function c(D,m,_){var w=z1(D),x=z1(m),T=[1,0,0],I=Qs(w,x),N=g2(I,I),R=I[0],M=N-R*R;if(!M)return!_&&D;var B=e*N/M,F=-e*R/M,L=Qs(T,I),O=D2(T,B),G=D2(I,F);Mu(O,G);var j=L,ne=g2(O,j),Y=g2(j,j),Z=ne*ne-Y*(g2(O,O)-1);if(!(Z<0)){var re=fr(Z),de=D2(j,(-ne-re)/Y);if(Mu(de,O),de=kl(de),!_)return de;var te=D[0],$=m[0],X=D[1],ue=m[1],pe;$<te&&(pe=te,te=$,$=pe);var ge=$-te,Ee=jt(ge-Tt)<_t,Ce=Ee||ge<_t;if(!Ee&&ue<X&&(pe=X,X=ue,ue=pe),Ce?Ee?X+ue>0^de[1]<(jt(de[0]-te)<_t?X:ue):X<=de[1]&&de[1]<=ue:ge>Tt^(te<=de[0]&&de[0]<=$)){var Le=D2(j,(-ne+re)/Y);return Mu(Le,O),[de,kl(Le)]}}}function g(D,m){var _=a?n:Tt-n,w=0;return D<-_?w|=1:D>_&&(w|=2),m<-_?w|=4:m>_&&(w|=8),w}return pD(o,d,s,a?[0,-n]:[-Tt,n-Tt])}function Tx(n,e,t,a,r,s){var o=n[0],d=n[1],c=e[0],g=e[1],D=0,m=1,_=c-o,w=g-d,x;if(x=t-o,!(!_&&x>0)){if(x/=_,_<0){if(x<D)return;x<m&&(m=x)}else if(_>0){if(x>m)return;x>D&&(D=x)}if(x=r-o,!(!_&&x<0)){if(x/=_,_<0){if(x>m)return;x>D&&(D=x)}else if(_>0){if(x<D)return;x<m&&(m=x)}if(x=a-d,!(!w&&x>0)){if(x/=w,w<0){if(x<D)return;x<m&&(m=x)}else if(w>0){if(x>m)return;x>D&&(D=x)}if(x=s-d,!(!w&&x<0)){if(x/=w,w<0){if(x>m)return;x>D&&(D=x)}else if(w>0){if(x<D)return;x<m&&(m=x)}return D>0&&(n[0]=o+D*_,n[1]=d+D*w),m<1&&(e[0]=o+m*_,e[1]=d+m*w),!0}}}}}var v2=1e9,m2=-1e9;function Ix(n,e,t,a){function r(g,D){return n<=g&&g<=t&&e<=D&&D<=a}function s(g,D,m,_){var w=0,x=0;if(g==null||(w=o(g,m))!==(x=o(D,m))||c(g,D)<0^m>0)do _.point(w===0||w===3?n:t,w>1?a:e);while((w=(w+m+4)%4)!==x);else _.point(D[0],D[1])}function o(g,D){return jt(g[0]-n)<_t?D>0?0:3:jt(g[0]-t)<_t?D>0?2:1:jt(g[1]-e)<_t?D>0?1:0:D>0?3:2}function d(g,D){return c(g.x,D.x)}function c(g,D){var m=o(g,1),_=o(D,1);return m!==_?m-_:m===0?D[1]-g[1]:m===1?g[0]-D[0]:m===2?g[1]-D[1]:D[0]-g[0]}return function(g){var D=g,m=dD(),_,w,x,T,I,N,R,M,B,F,L,O={point:G,lineStart:Z,lineEnd:re,polygonStart:ne,polygonEnd:Y};function G(te,$){r(te,$)&&D.point(te,$)}function j(){for(var te=0,$=0,X=w.length;$<X;++$)for(var ue=w[$],pe=1,ge=ue.length,Ee=ue[0],Ce,Le,Xe=Ee[0],it=Ee[1];pe<ge;++pe)Ce=Xe,Le=it,Ee=ue[pe],Xe=Ee[0],it=Ee[1],Le<=a?it>a&&(Xe-Ce)*(a-Le)>(it-Le)*(n-Ce)&&++te:it<=a&&(Xe-Ce)*(a-Le)<(it-Le)*(n-Ce)&&--te;return te}function ne(){D=m,_=[],w=[],L=!0}function Y(){var te=j(),$=L&&te,X=(_=fi(_)).length;($||X)&&(g.polygonStart(),$&&(g.lineStart(),s(null,null,1,g),g.lineEnd()),X&&cD(_,d,te,s,g),g.polygonEnd()),D=g,_=w=x=null}function Z(){O.point=de,w&&w.push(x=[]),F=!0,B=!1,R=M=NaN}function re(){_&&(de(T,I),N&&B&&m.rejoin(),_.push(m.result())),O.point=G,B&&D.lineEnd()}function de(te,$){var X=r(te,$);if(w&&x.push([te,$]),F)T=te,I=$,N=X,F=!1,X&&(D.lineStart(),D.point(te,$));else if(X&&B)D.point(te,$);else{var ue=[R=Math.max(m2,Math.min(v2,R)),M=Math.max(m2,Math.min(v2,M))],pe=[te=Math.max(m2,Math.min(v2,te)),$=Math.max(m2,Math.min(v2,$))];Tx(ue,pe,n,e,t,a)?(B||(D.lineStart(),D.point(ue[0],ue[1])),D.point(pe[0],pe[1]),X||D.lineEnd(),L=!1):X&&(D.lineStart(),D.point(te,$),L=!1)}R=te,M=$,B=X}return O}}var hc,pc,ol,il,Ys={sphere:Za,point:Za,lineStart:Ex,lineEnd:Za,polygonStart:Za,polygonEnd:Za};function Ex(){Ys.point=Nx,Ys.lineEnd=kx}function kx(){Ys.point=Ys.lineEnd=Za}function Nx(n,e){n*=rt,e*=rt,pc=n,ol=Ke(e),il=ct(e),Ys.point=Rx}function Rx(n,e){n*=rt,e*=rt;var t=Ke(e),a=ct(e),r=jt(n-pc),s=ct(r),o=Ke(r),d=a*o,c=il*t-ol*a*s,g=ol*t+il*a*s;hc.add(Zn(fr(d*d+c*c),g)),pc=n,ol=t,il=a}function Mx(n){return hc=new cr,vA(n,Ys),+hc}var gc=[null,null],Cx={type:"LineString",coordinates:gc};function a1(n,e){return gc[0]=n,gc[1]=e,Mx(Cx)}var C5={Feature:function(n,e){return Fl(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,a=-1,r=t.length;++a<r;)if(Fl(t[a].geometry,e))return!0;return!1}},P5={Sphere:function(){return!0},Point:function(n,e){return B5(n.coordinates,e)},MultiPoint:function(n,e){for(var t=n.coordinates,a=-1,r=t.length;++a<r;)if(B5(t[a],e))return!0;return!1},LineString:function(n,e){return L5(n.coordinates,e)},MultiLineString:function(n,e){for(var t=n.coordinates,a=-1,r=t.length;++a<r;)if(L5(t[a],e))return!0;return!1},Polygon:function(n,e){return q5(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,a=-1,r=t.length;++a<r;)if(q5(t[a],e))return!0;return!1},GeometryCollection:function(n,e){for(var t=n.geometries,a=-1,r=t.length;++a<r;)if(Fl(t[a],e))return!0;return!1}};function Fl(n,e){return n&&P5.hasOwnProperty(n.type)?P5[n.type](n,e):!1}function B5(n,e){return a1(n,e)===0}function L5(n,e){for(var t,a,r,s=0,o=n.length;s<o;s++){if(a=a1(n[s],e),a===0||s>0&&(r=a1(n[s],n[s-1]),r>0&&t<=r&&a<=r&&(t+a-r)*(1-Math.pow((t-a)/r,2))<tc*r))return!0;t=a}return!1}function q5(n,e){return!!hD(n.map(Px),gD(e))}function Px(n){return n=n.map(gD),n.pop(),n}function gD(n){return[n[0]*rt,n[1]*rt]}function Bx(n,e){return(n&&C5.hasOwnProperty(n.type)?C5[n.type]:Fl)(n,e)}function F5(n,e,t){var a=Rs(n,e-_t,t).concat(e);return function(r){return a.map(function(s){return[r,s]})}}function O5(n,e,t){var a=Rs(n,e-_t,t).concat(e);return function(r){return a.map(function(s){return[s,r]})}}function Lx(){var n,e,t,a,r,s,o,d,c=10,g=c,D=90,m=360,_,w,x,T,I=2.5;function N(){return{type:"MultiLineString",coordinates:R()}}function R(){return Rs(p2(a/D)*D,t,D).map(x).concat(Rs(p2(d/m)*m,o,m).map(T)).concat(Rs(p2(e/c)*c,n,c).filter(function(M){return jt(M%D)>_t}).map(_)).concat(Rs(p2(s/g)*g,r,g).filter(function(M){return jt(M%m)>_t}).map(w))}return N.lines=function(){return R().map(function(M){return{type:"LineString",coordinates:M}})},N.outline=function(){return{type:"Polygon",coordinates:[x(a).concat(T(o).slice(1),x(t).reverse().slice(1),T(d).reverse().slice(1))]}},N.extent=function(M){return arguments.length?N.extentMajor(M).extentMinor(M):N.extentMinor()},N.extentMajor=function(M){return arguments.length?(a=+M[0][0],t=+M[1][0],d=+M[0][1],o=+M[1][1],a>t&&(M=a,a=t,t=M),d>o&&(M=d,d=o,o=M),N.precision(I)):[[a,d],[t,o]]},N.extentMinor=function(M){return arguments.length?(e=+M[0][0],n=+M[1][0],s=+M[0][1],r=+M[1][1],e>n&&(M=e,e=n,n=M),s>r&&(M=s,s=r,r=M),N.precision(I)):[[e,s],[n,r]]},N.step=function(M){return arguments.length?N.stepMajor(M).stepMinor(M):N.stepMinor()},N.stepMajor=function(M){return arguments.length?(D=+M[0],m=+M[1],N):[D,m]},N.stepMinor=function(M){return arguments.length?(c=+M[0],g=+M[1],N):[c,g]},N.precision=function(M){return arguments.length?(I=+M,_=F5(s,r,90),w=O5(e,n,I),x=F5(d,o,90),T=O5(a,t,I),N):I},N.extentMajor([[-180,-90+_t],[180,90-_t]]).extentMinor([[-180,-80-_t],[180,80+_t]])}function qx(){return Lx()()}function wh(n,e){var t=n[0]*rt,a=n[1]*rt,r=e[0]*rt,s=e[1]*rt,o=ct(a),d=Ke(a),c=ct(s),g=Ke(s),D=o*ct(t),m=o*Ke(t),_=c*ct(r),w=c*Ke(r),x=2*vr(fr(D5(s-a)+o*c*D5(r-t))),T=Ke(x),I=x?function(N){var R=Ke(N*=x)/T,M=Ke(x-N)/T,B=M*D+R*_,F=M*m+R*w,L=M*d+R*g;return[Zn(F,B)*ha,Zn(L,fr(B*B+F*F))*ha]}:function(){return[t*ha,a*ha]};return I.distance=x,I}const U5=n=>n;var Xs=1/0,Ol=Xs,vi=-Xs,Ul=vi,G5={point:Fx,lineStart:Za,lineEnd:Za,polygonStart:Za,polygonEnd:Za,result:function(){var n=[[Xs,Ol],[vi,Ul]];return vi=Ul=-(Ol=Xs=1/0),n}};function Fx(n,e){n<Xs&&(Xs=n),n>vi&&(vi=n),e<Ol&&(Ol=e),e>Ul&&(Ul=e)}function Sh(n){return function(e){var t=new Dc;for(var a in n)t[a]=n[a];return t.stream=e,t}}function Dc(){}Dc.prototype={constructor:Dc,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function xh(n,e,t){var a=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),a!=null&&n.clipExtent(null),vA(t,n.stream(G5)),e(G5.result()),a!=null&&n.clipExtent(a),n}function DD(n,e,t){return xh(n,function(a){var r=e[1][0]-e[0][0],s=e[1][1]-e[0][1],o=Math.min(r/(a[1][0]-a[0][0]),s/(a[1][1]-a[0][1])),d=+e[0][0]+(r-o*(a[1][0]+a[0][0]))/2,c=+e[0][1]+(s-o*(a[1][1]+a[0][1]))/2;n.scale(150*o).translate([d,c])},t)}function Ox(n,e,t){return DD(n,[[0,0],e],t)}function Ux(n,e,t){return xh(n,function(a){var r=+e,s=r/(a[1][0]-a[0][0]),o=(r-s*(a[1][0]+a[0][0]))/2,d=-s*a[0][1];n.scale(150*s).translate([o,d])},t)}function Gx(n,e,t){return xh(n,function(a){var r=+e,s=r/(a[1][1]-a[0][1]),o=-s*a[0][0],d=(r-s*(a[1][1]+a[0][1]))/2;n.scale(150*s).translate([o,d])},t)}var V5=16,Vx=ct(30*rt);function z5(n,e){return+e?Wx(n,e):zx(n)}function zx(n){return Sh({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}})}function Wx(n,e){function t(a,r,s,o,d,c,g,D,m,_,w,x,T,I){var N=g-a,R=D-r,M=N*N+R*R;if(M>4*e&&T--){var B=o+_,F=d+w,L=c+x,O=fr(B*B+F*F+L*L),G=vr(L/=O),j=jt(jt(L)-1)<_t||jt(s-m)<_t?(s+m)/2:Zn(F,B),ne=n(j,G),Y=ne[0],Z=ne[1],re=Y-a,de=Z-r,te=R*re-N*de;(te*te/M>e||jt((N*re+R*de)/M-.5)>.3||o*_+d*w+c*x<Vx)&&(t(a,r,s,o,d,c,Y,Z,j,B/=O,F/=O,L,T,I),I.point(Y,Z),t(Y,Z,j,B,F,L,g,D,m,_,w,x,T,I))}}return function(a){var r,s,o,d,c,g,D,m,_,w,x,T,I={point:N,lineStart:R,lineEnd:B,polygonStart:function(){a.polygonStart(),I.lineStart=F},polygonEnd:function(){a.polygonEnd(),I.lineStart=R}};function N(G,j){G=n(G,j),a.point(G[0],G[1])}function R(){m=NaN,I.point=M,a.lineStart()}function M(G,j){var ne=z1([G,j]),Y=n(G,j);t(m,_,D,w,x,T,m=Y[0],_=Y[1],D=G,w=ne[0],x=ne[1],T=ne[2],V5,a),a.point(m,_)}function B(){I.point=N,a.lineEnd()}function F(){R(),I.point=L,I.lineEnd=O}function L(G,j){M(r=G,j),s=m,o=_,d=w,c=x,g=T,I.point=M}function O(){t(m,_,D,w,x,T,s,o,r,d,c,g,V5,a),I.lineEnd=B,B()}return I}}var Hx=Sh({point:function(n,e){this.stream.point(n*rt,e*rt)}});function jx(n){return Sh({point:function(e,t){var a=n(e,t);return this.stream.point(a[0],a[1])}})}function $x(n,e,t,a,r){function s(o,d){return o*=a,d*=r,[e+n*o,t-n*d]}return s.invert=function(o,d){return[(o-e)/n*a,(t-d)/n*r]},s}function W5(n,e,t,a,r,s){if(!s)return $x(n,e,t,a,r);var o=ct(s),d=Ke(s),c=o*n,g=d*n,D=o/n,m=d/n,_=(d*t-o*e)/n,w=(d*e+o*t)/n;function x(T,I){return T*=a,I*=r,[c*T-g*I+e,t-g*T-c*I]}return x.invert=function(T,I){return[a*(D*T-m*I+_),r*(w-m*T-D*I)]},x}function Qx(n){return Yx(function(){return n})()}function Yx(n){var e,t=150,a=480,r=250,s=0,o=0,d=0,c=0,g=0,D,m=0,_=1,w=1,x=null,T=M5,I=null,N,R,M,B=U5,F=.5,L,O,G,j,ne;function Y(te){return G(te[0]*rt,te[1]*rt)}function Z(te){return te=G.invert(te[0],te[1]),te&&[te[0]*ha,te[1]*ha]}Y.stream=function(te){return j&&ne===te?j:j=Hx(jx(D)(T(L(B(ne=te)))))},Y.preclip=function(te){return arguments.length?(T=te,x=void 0,de()):T},Y.postclip=function(te){return arguments.length?(B=te,I=N=R=M=null,de()):B},Y.clipAngle=function(te){return arguments.length?(T=+te?bx(x=te*rt):(x=null,M5),de()):x*ha},Y.clipExtent=function(te){return arguments.length?(B=te==null?(I=N=R=M=null,U5):Ix(I=+te[0][0],N=+te[0][1],R=+te[1][0],M=+te[1][1]),de()):I==null?null:[[I,N],[R,M]]},Y.scale=function(te){return arguments.length?(t=+te,re()):t},Y.translate=function(te){return arguments.length?(a=+te[0],r=+te[1],re()):[a,r]},Y.center=function(te){return arguments.length?(s=te[0]%360*rt,o=te[1]%360*rt,re()):[s*ha,o*ha]},Y.rotate=function(te){return arguments.length?(d=te[0]%360*rt,c=te[1]%360*rt,g=te.length>2?te[2]%360*rt:0,re()):[d*ha,c*ha,g*ha]},Y.angle=function(te){return arguments.length?(m=te%360*rt,re()):m*ha},Y.reflectX=function(te){return arguments.length?(_=te?-1:1,re()):_<0},Y.reflectY=function(te){return arguments.length?(w=te?-1:1,re()):w<0},Y.precision=function(te){return arguments.length?(L=z5(O,F=te*te),de()):fr(F)},Y.fitExtent=function(te,$){return DD(Y,te,$)},Y.fitSize=function(te,$){return Ox(Y,te,$)},Y.fitWidth=function(te,$){return Ux(Y,te,$)},Y.fitHeight=function(te,$){return Gx(Y,te,$)};function re(){var te=W5(t,0,0,_,w,m).apply(null,e(s,o)),$=W5(t,a-te[0],r-te[1],_,w,m);return D=uD(d,c,g),O=dc(e,$),G=dc(D,O),L=z5(O,F),de()}function de(){return j=ne=null,Y}return function(){return e=n.apply(this,arguments),Y.invert=e.invert&&Z,re()}}function Xx(n){return function(e,t){var a=fr(e*e+t*t),r=n(a),s=Ke(r),o=ct(r);return[Zn(e*s,a*o),vr(a&&t*s/a)]}}function bh(n,e){return[n,nx(sx((vn+e)/2))]}bh.invert=function(n,e){return[n,2*yh(ax(e))-vn]};function fD(n,e){var t=ct(e),a=1+ct(n)*t;return[t*Ke(n)/a,Ke(e)/a]}fD.invert=Xx(function(n){return 2*yh(n)});function Kx(){return Qx(fD).scale(250).clipAngle(142)}function fc(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}function Zx(n){if(Array.isArray(n))return n}function Jx(n){if(Array.isArray(n))return fc(n)}function ei(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function eb(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tb(n,e,t){return e=Gl(e),db(n,mD()?Reflect.construct(e,[],Gl(n).constructor):e.apply(n,t))}function vD(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ab(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(n,e){return n.get(ei(n,e))}function Mr(n,e,t){vD(n,e),e.set(n,t)}function Cr(n,e,t){return n.set(ei(n,e),t),t}function nb(n,e){vD(n,e),e.add(n)}function rb(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,_D(a.key),a)}}function sb(n,e,t){return rb(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function As(n,e,t){return(e=_D(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Gl(n){return Gl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gl(n)}function ob(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&vc(n,e)}function mD(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mD=function(){return!!n})()}function ib(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function lb(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var a,r,s,o,d=[],c=!0,g=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(a=s.call(t)).done)&&(d.push(a.value),d.length!==e);c=!0);}catch(D){g=!0,r=D}finally{try{if(!c&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(g)throw r}}return d}}function Ab(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ub(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function db(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eb(n)}function vc(n,e){return vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},vc(n,e)}function ll(n,e){return Zx(n)||lb(n,e)||wD(n,e)||Ab()}function yD(n){return Jx(n)||ib(n)||wD(n)||ub()}function cb(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function _D(n){var e=cb(n,"string");return typeof e=="symbol"?e:e+""}function wD(n,e){if(n){if(typeof n=="string")return fc(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fc(n,e):void 0}}var SD=function(e){e instanceof Array?e.forEach(SD):(e.map&&e.map.dispose(),e.dispose())},xD=function(e){e.geometry&&e.geometry.dispose(),e.material&&SD(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(xD)},H5=function(e){if(e&&e.children)for(;e.children.length;){var t=e.children[0];e.remove(t),xD(t)}};function bD(n,e,t){var a=(90-n)*Math.PI/180,r=(90-e)*Math.PI/180;return{x:t*Math.sin(a)*Math.cos(r),y:t*Math.cos(a),z:t*Math.sin(a)*Math.sin(r)}}function hb(n){var e=n.x,t=n.y,a=n.z,r=Math.sqrt(e*e+t*t+a*a),s=Math.acos(t/r),o=Math.atan2(a,e);return{lat:90-s*180/Math.PI,lng:90-o*180/Math.PI-(o<-Math.PI/2?360:0),r}}function f1(n){return n*Math.PI/180}var TD=function(e){return 1-(bh(0,(.5-e)*Math.PI)[1]/Math.PI+1)/2},Pu=function(e){return Math.max(0,Math.min(1,TD(e)))},j5=function(e){return .5-bh.invert(0,(2*(1-e)-1)*Math.PI)[1]/Math.PI},pb=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=t1().domain([1,0]).range([t,a]).clamp(!0),s=t1().domain([Pu(t),Pu(a)]).range([1,0]).clamp(!0),o=function(m){return s(Pu(r(m)))},d=e.array,c=0,g=d.length;c<g;c+=2)d[c+1]=o(d[c+1]);e.needsUpdate=!0},$5=function(e,t,a,r){var s=Math.pow(2,e),o=Math.max(0,Math.min(s-1,Math.floor((a+180)*s/360))),d=(90-r)/180;t&&(d=Math.max(0,Math.min(1,TD(d))));var c=Math.floor(d*s);return[o,c]},mc=function(e,t){for(var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,d=[],c=Math.pow(2,e),g=360/c,D=180/c,m=s===void 0?c-1:s,_=o===void 0?c-1:o,w=a,x=Math.min(c-1,m);w<=x;w++)for(var T=r,I=Math.min(c-1,_);T<=I;T++){var N=T,R=D;if(t){N=T===0?T:j5(T/c)*c;var M=T+1===c?T+1:j5((T+1)/c)*c;R=(M-N)*180/c}var B=-180+(w+.5)*g,F=90-(N*180/c+R/2),L=R;d.push({x:w,y:T,lng:B,lat:F,latLen:L})}return d},gb=6,Db=7,fb=3,vb=90,R0=new WeakMap,Gr=new WeakMap,Bu=new WeakMap,y2=new WeakMap,zn=new WeakMap,Vl=new WeakMap,Vs=new WeakMap,v1=new WeakMap,_2=new WeakSet,mb=function(n){function e(t){var a,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.tileUrl,o=r.minLevel,d=o===void 0?0:o,c=r.maxLevel,g=c===void 0?17:c,D=r.mercatorProjection,m=D===void 0?!0:D;return ab(this,e),a=tb(this,e),nb(a,_2),Mr(a,R0,void 0),Mr(a,Gr,void 0),Mr(a,Bu,void 0),Mr(a,y2,void 0),Mr(a,zn,{}),Mr(a,Vl,void 0),Mr(a,Vs,void 0),Mr(a,v1,void 0),As(a,"minLevel",void 0),As(a,"maxLevel",void 0),As(a,"thresholds",yD(new Array(30)).map(function(_,w){return 8/Math.pow(2,w)})),As(a,"curvatureResolution",5),As(a,"tileMargin",0),As(a,"clearTiles",function(){Object.values(vt(zn,a)).forEach(function(_){_.forEach(function(w){w.obj&&(a.remove(w.obj),H5(w.obj),delete w.obj)})}),Cr(zn,a,{})}),Cr(R0,a,t),a.tileUrl=s,Cr(Gr,a,m),a.minLevel=d,a.maxLevel=g,a.level=0,a.add(Cr(v1,a,new Da(new j1(vt(R0,a)*.99,180,90),new lr({color:0})))),vt(v1,a).visible=!1,vt(v1,a).material.polygonOffset=!0,vt(v1,a).material.polygonOffsetUnits=3,vt(v1,a).material.polygonOffsetFactor=1,a}return ob(e,n),sb(e,[{key:"tileUrl",get:function(){return vt(Bu,this)},set:function(a){Cr(Bu,this,a),this.updatePov(vt(Vs,this))}},{key:"level",get:function(){return vt(y2,this)},set:function(a){var r=this;vt(zn,this)[a]||ei(_2,this,yb).call(this,a);var s=vt(y2,this);if(Cr(y2,this,a),!(a===s||s===void 0)){if(vt(v1,this).visible=a>0,vt(zn,this)[a].forEach(function(d){return d.obj&&(d.obj.material.depthWrite=!0)}),s<a&&vt(zn,this)[s].forEach(function(d){return d.obj&&(d.obj.material.depthWrite=!1)}),s>a)for(var o=a+1;o<=s;o++)vt(zn,this)[o]&&vt(zn,this)[o].forEach(function(d){d.obj&&(r.remove(d.obj),H5(d.obj),delete d.obj)});ei(_2,this,Q5).call(this)}}},{key:"updatePov",value:function(a){var r=this;if(!(!a||!(a instanceof sh))){Cr(Vs,this,a);var s;if(Cr(Vl,this,function(D){if(!D.hullPnts){var m=360/Math.pow(2,r.level),_=D.lng,w=D.lat,x=D.latLen,T=_-m/2,I=_+m/2,N=w-x/2,R=w+x/2;D.hullPnts=[[w,_],[N,T],[R,T],[N,I],[R,I]].map(function(M){var B=ll(M,2),F=B[0],L=B[1];return bD(F,L,vt(R0,r))}).map(function(M){var B=M.x,F=M.y,L=M.z;return new Re(B,F,L)})}return s||(s=new Xg,a.updateMatrix(),a.updateMatrixWorld(),s.setFromProjectionMatrix(new la().multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse))),D.hullPnts.some(function(M){return s.containsPoint(M.clone().applyMatrix4(r.matrixWorld))})}),this.tileUrl){var o=a.position.clone(),d=o.distanceTo(this.getWorldPosition(new Re)),c=(d-vt(R0,this))/vt(R0,this),g=this.thresholds.findIndex(function(D){return D&&D<=c});this.level=Math.min(this.maxLevel,Math.max(this.minLevel,g<0?this.thresholds.length:g)),ei(_2,this,Q5).call(this)}}}}])}(Y0);function yb(n){var e=this;if(n>Db){vt(zn,this)[n]=[];return}var t=vt(zn,this)[n]=mc(n,vt(Gr,this));t.forEach(function(a){return a.centroid=bD(a.lat,a.lng,vt(R0,e))}),t.octree=K8().x(function(a){return a.centroid.x}).y(function(a){return a.centroid.y}).z(function(a){return a.centroid.z}).addAll(t)}function Q5(){var n=this;if(!(!this.tileUrl||this.level===void 0||!vt(zn,this).hasOwnProperty(this.level))&&!(!vt(Vl,this)&&this.level>gb)){var e=vt(zn,this)[this.level];if(vt(Vs,this)){var t=this.worldToLocal(vt(Vs,this).position.clone());if(e.octree){var a,r=this.worldToLocal(vt(Vs,this).position.clone()),s=(r.length()-vt(R0,this))*fb;e=(a=e.octree).findAllWithinRadius.apply(a,yD(r).concat([s]))}else{var o=hb(t),d=(o.r/vt(R0,this)-1)*vb,c=d/Math.cos(f1(o.lat)),g=[o.lng-c,o.lng+c],D=[o.lat+d,o.lat-d],m=$5(this.level,vt(Gr,this),g[0],D[0]),_=ll(m,2),w=_[0],x=_[1],T=$5(this.level,vt(Gr,this),g[1],D[1]),I=ll(T,2),N=I[0],R=I[1];!e.record&&(e.record={});var M=e.record;if(!M.hasOwnProperty("".concat(Math.round((w+N)/2),"_").concat(Math.round((x+R)/2))))e=mc(this.level,vt(Gr,this),w,x,N,R).map(function(G){var j="".concat(G.x,"_").concat(G.y);return M.hasOwnProperty(j)?M[j]:(M[j]=G,e.push(G),G)});else{for(var B=[],F=w;F<=N;F++)for(var L=x;L<=R;L++){var O="".concat(F,"_").concat(L);M.hasOwnProperty(O)||(M[O]=mc(this.level,vt(Gr,this),F,L,F,L)[0],e.push(M[O])),B.push(M[O])}e=B}}}e.filter(function(G){return!G.obj}).filter(vt(Vl,this)||function(){return!0}).forEach(function(G){var j=G.x,ne=G.y,Y=G.lng,Z=G.lat,re=G.latLen,de=360/Math.pow(2,n.level);if(!G.obj){var te=de*(1-n.tileMargin),$=re*(1-n.tileMargin),X=f1(Y),ue=f1(-Z),pe=new Da(new j1(vt(R0,n),Math.ceil(te/n.curvatureResolution),Math.ceil($/n.curvatureResolution),f1(90-te/2)+X,f1(te),f1(90-$/2)+ue,f1($)),new Sr);if(vt(Gr,n)){var ge=[Z+re/2,Z-re/2].map(function(Xe){return .5-Xe/180}),Ee=ll(ge,2),Ce=Ee[0],Le=Ee[1];pb(pe.geometry.attributes.uv,Ce,Le)}G.obj=pe}G.loading||(G.loading=!0,new Kg().load(n.tileUrl(j,ne,n.level),function(Xe){var it=G.obj;it&&(Xe.colorSpace=ut,it.material.map=Xe,it.material.color=null,it.material.needsUpdate=!0,n.add(it)),G.loading=!1}))})}}function _b(n,e,t=2){const a=e&&e.length,r=a?e[0]*t:n.length;let s=ID(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let d,c,g;if(a&&(s=Tb(n,e,s,t)),n.length>80*t){d=1/0,c=1/0;let D=-1/0,m=-1/0;for(let _=t;_<r;_+=t){const w=n[_],x=n[_+1];w<d&&(d=w),x<c&&(c=x),w>D&&(D=w),x>m&&(m=x)}g=Math.max(D-d,m-c),g=g!==0?32767/g:0}return mi(s,o,t,d,c,g,0),o}function ID(n,e,t,a,r){let s;if(r===qb(n,e,t,a)>0)for(let o=e;o<t;o+=a)s=Y5(o/a|0,n[o],n[o+1],s);else for(let o=t-a;o>=e;o-=a)s=Y5(o/a|0,n[o],n[o+1],s);return s&&Ks(s,s.next)&&(_i(s),s=s.next),s}function W1(n,e){if(!n)return n;e||(e=n);let t=n,a;do if(a=!1,!t.steiner&&(Ks(t,t.next)||Aa(t.prev,t,t.next)===0)){if(_i(t),t=e=t.prev,t===t.next)break;a=!0}else t=t.next;while(a||t!==e);return e}function mi(n,e,t,a,r,s,o){if(!n)return;!o&&s&&Rb(n,a,r,s);let d=n;for(;n.prev!==n.next;){const c=n.prev,g=n.next;if(s?Sb(n,a,r,s):wb(n)){e.push(c.i,n.i,g.i),_i(n),n=g.next,d=g.next;continue}if(n=g,n===d){o?o===1?(n=xb(W1(n),e),mi(n,e,t,a,r,s,2)):o===2&&bb(n,e,t,a,r,s):mi(W1(n),e,t,a,r,s,1);break}}}function wb(n){const e=n.prev,t=n,a=n.next;if(Aa(e,t,a)>=0)return!1;const r=e.x,s=t.x,o=a.x,d=e.y,c=t.y,g=a.y,D=Math.min(r,s,o),m=Math.min(d,c,g),_=Math.max(r,s,o),w=Math.max(d,c,g);let x=a.next;for(;x!==e;){if(x.x>=D&&x.x<=_&&x.y>=m&&x.y<=w&&Wo(r,d,s,c,o,g,x.x,x.y)&&Aa(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function Sb(n,e,t,a){const r=n.prev,s=n,o=n.next;if(Aa(r,s,o)>=0)return!1;const d=r.x,c=s.x,g=o.x,D=r.y,m=s.y,_=o.y,w=Math.min(d,c,g),x=Math.min(D,m,_),T=Math.max(d,c,g),I=Math.max(D,m,_),N=yc(w,x,e,t,a),R=yc(T,I,e,t,a);let M=n.prevZ,B=n.nextZ;for(;M&&M.z>=N&&B&&B.z<=R;){if(M.x>=w&&M.x<=T&&M.y>=x&&M.y<=I&&M!==r&&M!==o&&Wo(d,D,c,m,g,_,M.x,M.y)&&Aa(M.prev,M,M.next)>=0||(M=M.prevZ,B.x>=w&&B.x<=T&&B.y>=x&&B.y<=I&&B!==r&&B!==o&&Wo(d,D,c,m,g,_,B.x,B.y)&&Aa(B.prev,B,B.next)>=0))return!1;B=B.nextZ}for(;M&&M.z>=N;){if(M.x>=w&&M.x<=T&&M.y>=x&&M.y<=I&&M!==r&&M!==o&&Wo(d,D,c,m,g,_,M.x,M.y)&&Aa(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;B&&B.z<=R;){if(B.x>=w&&B.x<=T&&B.y>=x&&B.y<=I&&B!==r&&B!==o&&Wo(d,D,c,m,g,_,B.x,B.y)&&Aa(B.prev,B,B.next)>=0)return!1;B=B.nextZ}return!0}function xb(n,e){let t=n;do{const a=t.prev,r=t.next.next;!Ks(a,r)&&kD(a,t,t.next,r)&&yi(a,r)&&yi(r,a)&&(e.push(a.i,t.i,r.i),_i(t),_i(t.next),t=n=r),t=t.next}while(t!==n);return W1(t)}function bb(n,e,t,a,r,s){let o=n;do{let d=o.next.next;for(;d!==o.prev;){if(o.i!==d.i&&Pb(o,d)){let c=ND(o,d);o=W1(o,o.next),c=W1(c,c.next),mi(o,e,t,a,r,s,0),mi(c,e,t,a,r,s,0);return}d=d.next}o=o.next}while(o!==n)}function Tb(n,e,t,a){const r=[];for(let s=0,o=e.length;s<o;s++){const d=e[s]*a,c=s<o-1?e[s+1]*a:n.length,g=ID(n,d,c,a,!1);g===g.next&&(g.steiner=!0),r.push(Cb(g))}r.sort(Ib);for(let s=0;s<r.length;s++)t=Eb(r[s],t);return t}function Ib(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const a=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=a-r}return t}function Eb(n,e){const t=kb(n,e);if(!t)return e;const a=ND(t,n);return W1(a,a.next),W1(t,t.next)}function kb(n,e){let t=e;const a=n.x,r=n.y;let s=-1/0,o;if(Ks(n,t))return t;do{if(Ks(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const m=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(m<=a&&m>s&&(s=m,o=t.x<t.next.x?t:t.next,m===a))return o}t=t.next}while(t!==e);if(!o)return null;const d=o,c=o.x,g=o.y;let D=1/0;t=o;do{if(a>=t.x&&t.x>=c&&a!==t.x&&ED(r<g?a:s,r,c,g,r<g?s:a,r,t.x,t.y)){const m=Math.abs(r-t.y)/(a-t.x);yi(t,n)&&(m<D||m===D&&(t.x>o.x||t.x===o.x&&Nb(o,t)))&&(o=t,D=m)}t=t.next}while(t!==d);return o}function Nb(n,e){return Aa(n.prev,n,e.prev)<0&&Aa(e.next,n,n.next)<0}function Rb(n,e,t,a){let r=n;do r.z===0&&(r.z=yc(r.x,r.y,e,t,a)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,Mb(r)}function Mb(n){let e,t=1;do{let a=n,r;n=null;let s=null;for(e=0;a;){e++;let o=a,d=0;for(let g=0;g<t&&(d++,o=o.nextZ,!!o);g++);let c=t;for(;d>0||c>0&&o;)d!==0&&(c===0||!o||a.z<=o.z)?(r=a,a=a.nextZ,d--):(r=o,o=o.nextZ,c--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;a=o}s.nextZ=null,t*=2}while(e>1);return n}function yc(n,e,t,a,r){return n=(n-t)*r|0,e=(e-a)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Cb(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function ED(n,e,t,a,r,s,o,d){return(r-o)*(e-d)>=(n-o)*(s-d)&&(n-o)*(a-d)>=(t-o)*(e-d)&&(t-o)*(s-d)>=(r-o)*(a-d)}function Wo(n,e,t,a,r,s,o,d){return!(n===o&&e===d)&&ED(n,e,t,a,r,s,o,d)}function Pb(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Bb(n,e)&&(yi(n,e)&&yi(e,n)&&Lb(n,e)&&(Aa(n.prev,n,e.prev)||Aa(n,e.prev,e))||Ks(n,e)&&Aa(n.prev,n,n.next)>0&&Aa(e.prev,e,e.next)>0)}function Aa(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Ks(n,e){return n.x===e.x&&n.y===e.y}function kD(n,e,t,a){const r=S2(Aa(n,e,t)),s=S2(Aa(n,e,a)),o=S2(Aa(t,a,n)),d=S2(Aa(t,a,e));return!!(r!==s&&o!==d||r===0&&w2(n,t,e)||s===0&&w2(n,a,e)||o===0&&w2(t,n,a)||d===0&&w2(t,e,a))}function w2(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function S2(n){return n>0?1:n<0?-1:0}function Bb(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&kD(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function yi(n,e){return Aa(n.prev,n,n.next)<0?Aa(n,e,n.next)>=0&&Aa(n,n.prev,e)>=0:Aa(n,e,n.prev)<0||Aa(n,n.next,e)<0}function Lb(n,e){let t=n,a=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(a=!a),t=t.next;while(t!==n);return a}function ND(n,e){const t=_c(n.i,n.x,n.y),a=_c(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,a.next=t,t.prev=a,s.next=a,a.prev=s,a}function Y5(n,e,t,a){const r=_c(n,e,t);return a?(r.next=a.next,r.prev=a,a.next.prev=r,a.next=r):(r.prev=r,r.next=r),r}function _i(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function _c(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function qb(n,e,t,a){let r=0;for(let s=e,o=t-a;s<t;s+=a)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}function zl(n){const e=[],t=[],a=n[0][0].length;let r=0,s=0;for(const o of n){for(const d of o)for(let c=0;c<a;c++)e.push(d[c]);s&&(r+=s,t.push(r)),s=o.length}return{vertices:e,holes:t,dimensions:a}}function wc(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}function Fb(n){if(Array.isArray(n))return n}function Ob(n){if(Array.isArray(n))return wc(n)}function Ub(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Gb(n,e,t){return e=Wl(e),Xb(n,RD()?Reflect.construct(e,[],Wl(n).constructor):e.apply(n,t))}function Vb(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zb(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function Wb(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Th(n))||e){t&&(n=t);var a=0,r=function(){};return{s:r,n:function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,d=!1;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return o=c.done,c},e:function(c){d=!0,s=c},f:function(){try{o||t.return==null||t.return()}finally{if(d)throw s}}}}function Wl(n){return Wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wl(n)}function Hb(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Sc(n,e)}function RD(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RD=function(){return!!n})()}function jb(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $b(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var a,r,s,o,d=[],c=!0,g=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;c=!1}else for(;!(c=(a=s.call(t)).done)&&(d.push(a.value),d.length!==e);c=!0);}catch(D){g=!0,r=D}finally{try{if(!c&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(g)throw r}}return d}}function Qb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xb(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ub(n)}function Sc(n,e){return Sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},Sc(n,e)}function _o(n,e){return Fb(n)||$b(n,e)||Th(n,e)||Qb()}function Kb(n){return Ob(n)||jb(n)||Th(n)||Yb()}function Th(n,e){if(n){if(typeof n=="string")return wc(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?wc(n,e):void 0}}var X5=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,a=[],r=null;return e.forEach(function(s){if(r){var o=a1(s,r)*180/Math.PI;if(o>t)for(var d=wh(r,s),c=r.length>2||s.length>2?Xw(r[2]||0,s[2]||0):null,g=c?function(_){return[].concat(Kb(d(_)),[c(_)])}:d,D=1/Math.ceil(o/t),m=D;m<1;)a.push(g(m)),m+=D}a.push(r=s)}),a},xc=typeof window<"u"&&window.THREE?window.THREE:{BufferGeometry:a0,Float32BufferAttribute:e1},Zb=new xc.BufferGeometry().setAttribute?"setAttribute":"addAttribute",MD=function(n){function e(t){var a,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;Vb(this,e),a=Gb(this,e),a.type="GeoJsonGeometry",a.parameters={geoJson:t,radius:r,resolution:s};var o=({Point:D,MultiPoint:m,LineString:_,MultiLineString:w,Polygon:x,MultiPolygon:T}[t.type]||function(){return[]})(t.coordinates,r),d=[],c=[],g=0;o.forEach(function(I){var N=d.length;wo({indices:d,vertices:c},I),a.addGroup(N,d.length-N,g++)}),d.length&&a.setIndex(d),c.length&&a[Zb]("position",new xc.Float32BufferAttribute(c,3));function D(I,N){var R=Lu(I[1],I[0],N+(I[2]||0)),M=[];return[{vertices:R,indices:M}]}function m(I,N){var R={vertices:[],indices:[]};return I.map(function(M){return D(M,N)}).forEach(function(M){var B=_o(M,1),F=B[0];wo(R,F)}),[R]}function _(I,N){for(var R=X5(I,s).map(function(G){var j=_o(G,3),ne=j[0],Y=j[1],Z=j[2],re=Z===void 0?0:Z;return Lu(Y,ne,N+re)}),M=zl([R]),B=M.vertices,F=Math.round(B.length/3),L=[],O=1;O<F;O++)L.push(O-1,O);return[{vertices:B,indices:L}]}function w(I,N){var R={vertices:[],indices:[]};return I.map(function(M){return _(M,N)}).forEach(function(M){var B=_o(M,1),F=B[0];wo(R,F)}),[R]}function x(I,N){for(var R=I.map(function(te){return X5(te,s).map(function($){var X=_o($,3),ue=X[0],pe=X[1],ge=X[2],Ee=ge===void 0?0:ge;return Lu(pe,ue,N+Ee)})}),M=zl(R),B=M.vertices,F=M.holes,L=F[0]||1/0,O=B.slice(0,L*3),G=B.slice(L*3),j=new Set(F),ne=Math.round(B.length/3),Y=[],Z=[],re=1;re<ne;re++)j.has(re)||(re<L?Y.push(re-1,re):Z.push(re-1-L,re-L));var de=[{indices:Y,vertices:O}];return F.length&&de.push({indices:Z,vertices:G}),de}function T(I,N){var R={vertices:[],indices:[]},M={vertices:[],indices:[]};I.map(function(F){return x(F,N)}).forEach(function(F){var L=_o(F,2),O=L[0],G=L[1];wo(R,O),G&&wo(M,G)});var B=[R];return M.vertices.length&&B.push(M),B}return a}return Hb(e,n),zb(e)}(xc.BufferGeometry);function wo(n,e){var t=Math.round(n.vertices.length/3);K5(n.vertices,e.vertices),K5(n.indices,e.indices.map(function(a){return a+t}))}function K5(n,e){var t=Wb(e),a;try{for(t.s();!(a=t.n()).done;){var r=a.value;n.push(r)}}catch(s){t.e(s)}finally{t.f()}}function Lu(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=(90-n)*Math.PI/180,r=(90-e)*Math.PI/180;return[t*Math.sin(a)*Math.cos(r),t*Math.cos(a),t*Math.sin(a)*Math.sin(r)]}function Jb(n,e,t=!0){if(!e||!e.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!n.hasAttribute("position")||!n.hasAttribute("normal")||!n.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function a(o){if(o.normalized||o.isInterleavedBufferAttribute){const d=new Float32Array(o.count*o.itemSize);for(let c=0,g=0;c<o.count;c++)d[g++]=o.getX(c),d[g++]=o.getY(c),o.itemSize>2&&(d[g++]=o.getZ(c));return d}return o.array instanceof Float32Array?o.array:new Float32Array(o.array)}const r=n.index?n.toNonIndexed():n,s=e.generateTangents(a(r.attributes.position),a(r.attributes.normal),a(r.attributes.uv));if(t)for(let o=3;o<s.length;o+=4)s[o]*=-1;return r.setAttribute("tangent",new D0(s,4)),n!==r&&n.copy(r),n}function eT(n,e=!1){const t=n[0].index!==null,a=new Set(Object.keys(n[0].attributes)),r=new Set(Object.keys(n[0].morphAttributes)),s={},o={},d=n[0].morphTargetsRelative,c=new a0;let g=0;for(let D=0;D<n.length;++D){const m=n[D];let _=0;if(t!==(m.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+D+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const w in m.attributes){if(!a.has(w))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+D+'. All geometries must have compatible attributes; make sure "'+w+'" attribute exists among all geometries, or in none of them.'),null;s[w]===void 0&&(s[w]=[]),s[w].push(m.attributes[w]),_++}if(_!==a.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+D+". Make sure all geometries have the same number of attributes."),null;if(d!==m.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+D+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const w in m.morphAttributes){if(!r.has(w))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+D+".  .morphAttributes must be consistent throughout all geometries."),null;o[w]===void 0&&(o[w]=[]),o[w].push(m.morphAttributes[w])}if(e){let w;if(t)w=m.index.count;else if(m.attributes.position!==void 0)w=m.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+D+". The geometry must have either an index or a position attribute"),null;c.addGroup(g,w,D),g+=w}}if(t){let D=0;const m=[];for(let _=0;_<n.length;++_){const w=n[_].index;for(let x=0;x<w.count;++x)m.push(w.getX(x)+D);D+=n[_].attributes.position.count}c.setIndex(m)}for(const D in s){const m=bc(s[D]);if(!m)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+D+" attribute."),null;c.setAttribute(D,m)}for(const D in o){const m=o[D][0].length;if(m===0)break;c.morphAttributes=c.morphAttributes||{},c.morphAttributes[D]=[];for(let _=0;_<m;++_){const w=[];for(let T=0;T<o[D].length;++T)w.push(o[D][T][_]);const x=bc(w);if(!x)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+D+" morphAttribute."),null;c.morphAttributes[D].push(x)}}return c}function bc(n){let e,t,a,r=-1,s=0;for(let g=0;g<n.length;++g){const D=n[g];if(e===void 0&&(e=D.array.constructor),e!==D.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(t===void 0&&(t=D.itemSize),t!==D.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(a===void 0&&(a=D.normalized),a!==D.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(r===-1&&(r=D.gpuType),r!==D.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;s+=D.count*t}const o=new e(s),d=new D0(o,t,a);let c=0;for(let g=0;g<n.length;++g){const D=n[g];if(D.isInterleavedBufferAttribute){const m=c/t;for(let _=0,w=D.count;_<w;_++)for(let x=0;x<t;x++){const T=D.getComponent(_,x);d.setComponent(_+m,x,T)}}else o.set(D.array,c);c+=D.count*t}return r!==void 0&&(d.gpuType=r),d}function tT(n){return n.isInstancedInterleavedBufferAttribute||n.isInterleavedBufferAttribute?Hl(n):n.isInstancedBufferAttribute?new $r().copy(n):new D0().copy(n)}function aT(n){let e,t=0,a=0;for(let g=0,D=n.length;g<D;++g){const m=n[g];if(e===void 0&&(e=m.array.constructor),e!==m.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;t+=m.array.length,a+=m.itemSize}const r=new Zg(new e(t),a);let s=0;const o=[],d=["getX","getY","getZ","getW"],c=["setX","setY","setZ","setW"];for(let g=0,D=n.length;g<D;g++){const m=n[g],_=m.itemSize,w=m.count,x=new Hr(r,_,s,m.normalized);o.push(x),s+=_;for(let T=0;T<w;T++)for(let I=0;I<_;I++)x[c[I]](T,m[d[I]](T))}return o}function Hl(n){const e=n.data.array.constructor,t=n.count,a=n.itemSize,r=n.normalized,s=new e(t*a);let o;n.isInstancedInterleavedBufferAttribute?o=new $r(s,a,r,n.meshPerAttribute):o=new D0(s,a,r);for(let d=0;d<t;d++)o.setX(d,n.getX(d)),a>=2&&o.setY(d,n.getY(d)),a>=3&&o.setZ(d,n.getZ(d)),a>=4&&o.setW(d,n.getW(d));return o}function nT(n){const e=n.attributes,t=n.morphTargets,a=new Map;for(const r in e){const s=e[r];s.isInterleavedBufferAttribute&&(a.has(s)||a.set(s,Hl(s)),e[r]=a.get(s))}for(const r in t){const s=t[r];s.isInterleavedBufferAttribute&&(a.has(s)||a.set(s,Hl(s)),t[r]=a.get(s))}}function rT(n){let e=0;for(const a in n.attributes){const r=n.getAttribute(a);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}const t=n.getIndex();return e+=t?t.count*t.itemSize*t.array.BYTES_PER_ELEMENT:0,e}function sT(n,e=1e-4){e=Math.max(e,Number.EPSILON);const t={},a=n.getIndex(),r=n.getAttribute("position"),s=a?a.count:r.count;let o=0;const d=Object.keys(n.attributes),c={},g={},D=[],m=["getX","getY","getZ","getW"],_=["setX","setY","setZ","setW"];for(let R=0,M=d.length;R<M;R++){const B=d[R],F=n.attributes[B];c[B]=new F.constructor(new F.array.constructor(F.count*F.itemSize),F.itemSize,F.normalized);const L=n.morphAttributes[B];L&&(g[B]||(g[B]=[]),L.forEach((O,G)=>{const j=new O.array.constructor(O.count*O.itemSize);g[B][G]=new O.constructor(j,O.itemSize,O.normalized)}))}const w=e*.5,x=Math.log10(1/e),T=Math.pow(10,x),I=w*T;for(let R=0;R<s;R++){const M=a?a.getX(R):R;let B="";for(let F=0,L=d.length;F<L;F++){const O=d[F],G=n.getAttribute(O),j=G.itemSize;for(let ne=0;ne<j;ne++)B+=`${~~(G[m[ne]](M)*T+I)},`}if(B in t)D.push(t[B]);else{for(let F=0,L=d.length;F<L;F++){const O=d[F],G=n.getAttribute(O),j=n.morphAttributes[O],ne=G.itemSize,Y=c[O],Z=g[O];for(let re=0;re<ne;re++){const de=m[re],te=_[re];if(Y[te](o,G[de](M)),j)for(let $=0,X=j.length;$<X;$++)Z[$][te](o,j[$][de](M))}}t[B]=o,D.push(o),o++}}const N=n.clone();for(const R in n.attributes){const M=c[R];if(N.setAttribute(R,new M.constructor(M.array.slice(0,o*M.itemSize),M.itemSize,M.normalized)),R in g)for(let B=0;B<g[R].length;B++){const F=g[R][B];N.morphAttributes[R][B]=new F.constructor(F.array.slice(0,o*F.itemSize),F.itemSize,F.normalized)}}return N.setIndex(D),N}function oT(n,e){if(e===__)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Z3||e===w_){let t=n.getIndex();if(t===null){const o=[],d=n.getAttribute("position");if(d!==void 0){for(let c=0;c<d.count;c++)o.push(c);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const a=t.count-2,r=[];if(e===Z3)for(let o=1;o<=a;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<a;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==a&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}function iT(n){const e=new Re,t=new Re,a=new Re,r=new Re,s=new Re,o=new Re,d=new Re,c=new Re,g=new Re;function D(pe,ge,Ee,Ce,Le,Xe,it,St){e.fromBufferAttribute(ge,Le),t.fromBufferAttribute(ge,Xe),a.fromBufferAttribute(ge,it);const Yt=pe.morphTargetInfluences;if(Ee&&Yt){d.set(0,0,0),c.set(0,0,0),g.set(0,0,0);for(let $a=0,It=Ee.length;$a<It;$a++){const Nt=Yt[$a],ra=Ee[$a];Nt!==0&&(r.fromBufferAttribute(ra,Le),s.fromBufferAttribute(ra,Xe),o.fromBufferAttribute(ra,it),Ce?(d.addScaledVector(r,Nt),c.addScaledVector(s,Nt),g.addScaledVector(o,Nt)):(d.addScaledVector(r.sub(e),Nt),c.addScaledVector(s.sub(t),Nt),g.addScaledVector(o.sub(a),Nt)))}e.add(d),t.add(c),a.add(g)}pe.isSkinnedMesh&&(pe.applyBoneTransform(Le,e),pe.applyBoneTransform(Xe,t),pe.applyBoneTransform(it,a)),St[Le*3+0]=e.x,St[Le*3+1]=e.y,St[Le*3+2]=e.z,St[Xe*3+0]=t.x,St[Xe*3+1]=t.y,St[Xe*3+2]=t.z,St[it*3+0]=a.x,St[it*3+1]=a.y,St[it*3+2]=a.z}const m=n.geometry,_=n.material;let w,x,T;const I=m.index,N=m.attributes.position,R=m.morphAttributes.position,M=m.morphTargetsRelative,B=m.attributes.normal,F=m.morphAttributes.position,L=m.groups,O=m.drawRange;let G,j,ne,Y,Z,re,de;const te=new Float32Array(N.count*N.itemSize),$=new Float32Array(B.count*B.itemSize);if(I!==null)if(Array.isArray(_))for(G=0,ne=L.length;G<ne;G++)for(Z=L[G],re=Math.max(Z.start,O.start),de=Math.min(Z.start+Z.count,O.start+O.count),j=re,Y=de;j<Y;j+=3)w=I.getX(j),x=I.getX(j+1),T=I.getX(j+2),D(n,N,R,M,w,x,T,te),D(n,B,F,M,w,x,T,$);else for(re=Math.max(0,O.start),de=Math.min(I.count,O.start+O.count),G=re,ne=de;G<ne;G+=3)w=I.getX(G),x=I.getX(G+1),T=I.getX(G+2),D(n,N,R,M,w,x,T,te),D(n,B,F,M,w,x,T,$);else if(Array.isArray(_))for(G=0,ne=L.length;G<ne;G++)for(Z=L[G],re=Math.max(Z.start,O.start),de=Math.min(Z.start+Z.count,O.start+O.count),j=re,Y=de;j<Y;j+=3)w=j,x=j+1,T=j+2,D(n,N,R,M,w,x,T,te),D(n,B,F,M,w,x,T,$);else for(re=Math.max(0,O.start),de=Math.min(N.count,O.start+O.count),G=re,ne=de;G<ne;G+=3)w=G,x=G+1,T=G+2,D(n,N,R,M,w,x,T,te),D(n,B,F,M,w,x,T,$);const X=new e1(te,3),ue=new e1($,3);return{positionAttribute:N,normalAttribute:B,morphedPositionAttribute:X,morphedNormalAttribute:ue}}function lT(n){if(n.groups.length===0)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),n;let e=n.groups;if(e=e.sort((o,d)=>o.materialIndex!==d.materialIndex?o.materialIndex-d.materialIndex:o.start-d.start),n.getIndex()===null){const o=n.getAttribute("position"),d=[];for(let c=0;c<o.count;c+=3)d.push(c,c+1,c+2);n.setIndex(d)}const t=n.getIndex(),a=[];for(let o=0;o<e.length;o++){const d=e[o],c=d.start,g=c+d.count;for(let D=c;D<g;D++)a.push(t.getX(D))}n.dispose(),n.setIndex(a);let r=0;for(let o=0;o<e.length;o++){const d=e[o];d.start=r,r+=d.count}let s=e[0];n.groups=[s];for(let o=1;o<e.length;o++){const d=e[o];s.materialIndex===d.materialIndex?s.count+=d.count:(s=d,n.groups.push(s))}return n}function AT(n,e=Math.PI/3){const t=Math.cos(e),a=(1+1e-10)*100,r=[new Re,new Re,new Re],s=new Re,o=new Re,d=new Re,c=new Re;function g(T){const I=~~(T.x*a),N=~~(T.y*a),R=~~(T.z*a);return`${I},${N},${R}`}const D=n.index?n.toNonIndexed():n,m=D.attributes.position,_={};for(let T=0,I=m.count/3;T<I;T++){const N=3*T,R=r[0].fromBufferAttribute(m,N+0),M=r[1].fromBufferAttribute(m,N+1),B=r[2].fromBufferAttribute(m,N+2);s.subVectors(B,M),o.subVectors(R,M);const F=new Re().crossVectors(s,o).normalize();for(let L=0;L<3;L++){const O=r[L],G=g(O);G in _||(_[G]=[]),_[G].push(F)}}const w=new Float32Array(m.count*3),x=new D0(w,3,!1);for(let T=0,I=m.count/3;T<I;T++){const N=3*T,R=r[0].fromBufferAttribute(m,N+0),M=r[1].fromBufferAttribute(m,N+1),B=r[2].fromBufferAttribute(m,N+2);s.subVectors(B,M),o.subVectors(R,M),d.crossVectors(s,o).normalize();for(let F=0;F<3;F++){const L=r[F],O=g(L),G=_[O];c.set(0,0,0);for(let j=0,ne=G.length;j<ne;j++){const Y=G[j];d.dot(Y)>t&&c.add(Y)}c.normalize(),x.setXYZ(N+F,c.x,c.y,c.z)}}return D.setAttribute("normal",x),D}const Ih=Object.freeze(Object.defineProperty({__proto__:null,computeMikkTSpaceTangents:Jb,computeMorphedAttributes:iT,deepCloneAttribute:tT,deinterleaveAttribute:Hl,deinterleaveGeometry:nT,estimateBytesUsed:rT,interleaveAttributes:aT,mergeAttributes:bc,mergeGeometries:eT,mergeGroups:lT,mergeVertices:sT,toCreasedNormals:AT,toTrianglesDrawMode:oT},Symbol.toStringTag,{value:"Module"}));var xe=function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}};function jl(n){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(n)}var uT=/^\s+/,dT=/\s+$/;function Ve(n,e){if(n=n||"",e=e||{},n instanceof Ve)return n;if(!(this instanceof Ve))return new Ve(n,e);var t=cT(n);this._originalInput=n,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}Ve.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,a,r,s,o,d;return t=e.r/255,a=e.g/255,r=e.b/255,t<=.03928?s=t/12.92:s=Math.pow((t+.055)/1.055,2.4),a<=.03928?o=a/12.92:o=Math.pow((a+.055)/1.055,2.4),r<=.03928?d=r/12.92:d=Math.pow((r+.055)/1.055,2.4),.2126*s+.7152*o+.0722*d},setAlpha:function(e){return this._a=CD(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=J5(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=J5(this._r,this._g,this._b),t=Math.round(e.h*360),a=Math.round(e.s*100),r=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+a+"%, "+r+"%)":"hsva("+t+", "+a+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=Z5(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Z5(this._r,this._g,this._b),t=Math.round(e.h*360),a=Math.round(e.s*100),r=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+a+"%, "+r+"%)":"hsla("+t+", "+a+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return e6(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return DT(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(sa(this._r,255)*100)+"%",g:Math.round(sa(this._g,255)*100)+"%",b:Math.round(sa(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(sa(this._r,255)*100)+"%, "+Math.round(sa(this._g,255)*100)+"%, "+Math.round(sa(this._b,255)*100)+"%)":"rgba("+Math.round(sa(this._r,255)*100)+"%, "+Math.round(sa(this._g,255)*100)+"%, "+Math.round(sa(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ET[e6(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+t6(this._r,this._g,this._b,this._a),a=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var s=Ve(e);a="#"+t6(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+a+")"},toString:function(e){var t=!!e;e=e||this._format;var a=!1,r=this._a<1&&this._a>=0,s=!t&&r&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(a=this.toRgbString()),e==="prgb"&&(a=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(a=this.toHexString()),e==="hex3"&&(a=this.toHexString(!0)),e==="hex4"&&(a=this.toHex8String(!0)),e==="hex8"&&(a=this.toHex8String()),e==="name"&&(a=this.toName()),e==="hsl"&&(a=this.toHslString()),e==="hsv"&&(a=this.toHsvString()),a||this.toHexString())},clone:function(){return Ve(this.toString())},_applyModification:function(e,t){var a=e.apply(null,[this].concat([].slice.call(t)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(yT,arguments)},brighten:function(){return this._applyModification(_T,arguments)},darken:function(){return this._applyModification(wT,arguments)},desaturate:function(){return this._applyModification(fT,arguments)},saturate:function(){return this._applyModification(vT,arguments)},greyscale:function(){return this._applyModification(mT,arguments)},spin:function(){return this._applyModification(ST,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(TT,arguments)},complement:function(){return this._applyCombination(xT,arguments)},monochromatic:function(){return this._applyCombination(IT,arguments)},splitcomplement:function(){return this._applyCombination(bT,arguments)},triad:function(){return this._applyCombination(a6,[3])},tetrad:function(){return this._applyCombination(a6,[4])}};Ve.fromRatio=function(n,e){if(jl(n)=="object"){var t={};for(var a in n)n.hasOwnProperty(a)&&(a==="a"?t[a]=n[a]:t[a]=Ho(n[a]));n=t}return Ve(n,e)};function cT(n){var e={r:0,g:0,b:0},t=1,a=null,r=null,s=null,o=!1,d=!1;return typeof n=="string"&&(n=MT(n)),jl(n)=="object"&&(rr(n.r)&&rr(n.g)&&rr(n.b)?(e=hT(n.r,n.g,n.b),o=!0,d=String(n.r).substr(-1)==="%"?"prgb":"rgb"):rr(n.h)&&rr(n.s)&&rr(n.v)?(a=Ho(n.s),r=Ho(n.v),e=gT(n.h,a,r),o=!0,d="hsv"):rr(n.h)&&rr(n.s)&&rr(n.l)&&(a=Ho(n.s),s=Ho(n.l),e=pT(n.h,a,s),o=!0,d="hsl"),n.hasOwnProperty("a")&&(t=n.a)),t=CD(t),{ok:o,format:n.format||d,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function hT(n,e,t){return{r:sa(n,255)*255,g:sa(e,255)*255,b:sa(t,255)*255}}function Z5(n,e,t){n=sa(n,255),e=sa(e,255),t=sa(t,255);var a=Math.max(n,e,t),r=Math.min(n,e,t),s,o,d=(a+r)/2;if(a==r)s=o=0;else{var c=a-r;switch(o=d>.5?c/(2-a-r):c/(a+r),a){case n:s=(e-t)/c+(e<t?6:0);break;case e:s=(t-n)/c+2;break;case t:s=(n-e)/c+4;break}s/=6}return{h:s,s:o,l:d}}function pT(n,e,t){var a,r,s;n=sa(n,360),e=sa(e,100),t=sa(t,100);function o(g,D,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?g+(D-g)*6*m:m<1/2?D:m<2/3?g+(D-g)*(2/3-m)*6:g}if(e===0)a=r=s=t;else{var d=t<.5?t*(1+e):t+e-t*e,c=2*t-d;a=o(c,d,n+1/3),r=o(c,d,n),s=o(c,d,n-1/3)}return{r:a*255,g:r*255,b:s*255}}function J5(n,e,t){n=sa(n,255),e=sa(e,255),t=sa(t,255);var a=Math.max(n,e,t),r=Math.min(n,e,t),s,o,d=a,c=a-r;if(o=a===0?0:c/a,a==r)s=0;else{switch(a){case n:s=(e-t)/c+(e<t?6:0);break;case e:s=(t-n)/c+2;break;case t:s=(n-e)/c+4;break}s/=6}return{h:s,s:o,v:d}}function gT(n,e,t){n=sa(n,360)*6,e=sa(e,100),t=sa(t,100);var a=Math.floor(n),r=n-a,s=t*(1-e),o=t*(1-r*e),d=t*(1-(1-r)*e),c=a%6,g=[t,o,s,s,d,t][c],D=[d,t,t,o,s,s][c],m=[s,s,d,t,t,o][c];return{r:g*255,g:D*255,b:m*255}}function e6(n,e,t,a){var r=[p0(Math.round(n).toString(16)),p0(Math.round(e).toString(16)),p0(Math.round(t).toString(16))];return a&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function DT(n,e,t,a,r){var s=[p0(Math.round(n).toString(16)),p0(Math.round(e).toString(16)),p0(Math.round(t).toString(16)),p0(PD(a))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function t6(n,e,t,a){var r=[p0(PD(a)),p0(Math.round(n).toString(16)),p0(Math.round(e).toString(16)),p0(Math.round(t).toString(16))];return r.join("")}Ve.equals=function(n,e){return!n||!e?!1:Ve(n).toRgbString()==Ve(e).toRgbString()};Ve.random=function(){return Ve.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function fT(n,e){e=e===0?0:e||10;var t=Ve(n).toHsl();return t.s-=e/100,t.s=mA(t.s),Ve(t)}function vT(n,e){e=e===0?0:e||10;var t=Ve(n).toHsl();return t.s+=e/100,t.s=mA(t.s),Ve(t)}function mT(n){return Ve(n).desaturate(100)}function yT(n,e){e=e===0?0:e||10;var t=Ve(n).toHsl();return t.l+=e/100,t.l=mA(t.l),Ve(t)}function _T(n,e){e=e===0?0:e||10;var t=Ve(n).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),Ve(t)}function wT(n,e){e=e===0?0:e||10;var t=Ve(n).toHsl();return t.l-=e/100,t.l=mA(t.l),Ve(t)}function ST(n,e){var t=Ve(n).toHsl(),a=(t.h+e)%360;return t.h=a<0?360+a:a,Ve(t)}function xT(n){var e=Ve(n).toHsl();return e.h=(e.h+180)%360,Ve(e)}function a6(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=Ve(n).toHsl(),a=[Ve(n)],r=360/e,s=1;s<e;s++)a.push(Ve({h:(t.h+s*r)%360,s:t.s,l:t.l}));return a}function bT(n){var e=Ve(n).toHsl(),t=e.h;return[Ve(n),Ve({h:(t+72)%360,s:e.s,l:e.l}),Ve({h:(t+216)%360,s:e.s,l:e.l})]}function TT(n,e,t){e=e||6,t=t||30;var a=Ve(n).toHsl(),r=360/t,s=[Ve(n)];for(a.h=(a.h-(r*e>>1)+720)%360;--e;)a.h=(a.h+r)%360,s.push(Ve(a));return s}function IT(n,e){e=e||6;for(var t=Ve(n).toHsv(),a=t.h,r=t.s,s=t.v,o=[],d=1/e;e--;)o.push(Ve({h:a,s:r,v:s})),s=(s+d)%1;return o}Ve.mix=function(n,e,t){t=t===0?0:t||50;var a=Ve(n).toRgb(),r=Ve(e).toRgb(),s=t/100,o={r:(r.r-a.r)*s+a.r,g:(r.g-a.g)*s+a.g,b:(r.b-a.b)*s+a.b,a:(r.a-a.a)*s+a.a};return Ve(o)};Ve.readability=function(n,e){var t=Ve(n),a=Ve(e);return(Math.max(t.getLuminance(),a.getLuminance())+.05)/(Math.min(t.getLuminance(),a.getLuminance())+.05)};Ve.isReadable=function(n,e,t){var a=Ve.readability(n,e),r,s;switch(s=!1,r=CT(t),r.level+r.size){case"AAsmall":case"AAAlarge":s=a>=4.5;break;case"AAlarge":s=a>=3;break;case"AAAsmall":s=a>=7;break}return s};Ve.mostReadable=function(n,e,t){var a=null,r=0,s,o,d,c;t=t||{},o=t.includeFallbackColors,d=t.level,c=t.size;for(var g=0;g<e.length;g++)s=Ve.readability(n,e[g]),s>r&&(r=s,a=Ve(e[g]));return Ve.isReadable(n,a,{level:d,size:c})||!o?a:(t.includeFallbackColors=!1,Ve.mostReadable(n,["#fff","#000"],t))};var Tc=Ve.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ET=Ve.hexNames=kT(Tc);function kT(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function CD(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function sa(n,e){NT(n)&&(n="100%");var t=RT(n);return n=Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function mA(n){return Math.min(1,Math.max(0,n))}function kn(n){return parseInt(n,16)}function NT(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function RT(n){return typeof n=="string"&&n.indexOf("%")!=-1}function p0(n){return n.length==1?"0"+n:""+n}function Ho(n){return n<=1&&(n=n*100+"%"),n}function PD(n){return Math.round(parseFloat(n)*255).toString(16)}function n6(n){return kn(n)/255}var l0=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+n+")",a="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+a),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+a),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+a),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function rr(n){return!!l0.CSS_UNIT.exec(n)}function MT(n){n=n.replace(uT,"").replace(dT,"").toLowerCase();var e=!1;if(Tc[n])n=Tc[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=l0.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=l0.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=l0.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=l0.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=l0.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=l0.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=l0.hex8.exec(n))?{r:kn(t[1]),g:kn(t[2]),b:kn(t[3]),a:n6(t[4]),format:e?"name":"hex8"}:(t=l0.hex6.exec(n))?{r:kn(t[1]),g:kn(t[2]),b:kn(t[3]),format:e?"name":"hex"}:(t=l0.hex4.exec(n))?{r:kn(t[1]+""+t[1]),g:kn(t[2]+""+t[2]),b:kn(t[3]+""+t[3]),a:n6(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=l0.hex3.exec(n))?{r:kn(t[1]+""+t[1]),g:kn(t[2]+""+t[2]),b:kn(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function CT(n){var e,t;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),t=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}function Ic(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}function PT(n){if(Array.isArray(n))return n}function BT(n){if(Array.isArray(n))return Ic(n)}function BD(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function LT(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qT(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xa(n,e){return n.get(BD(n,e))}function us(n,e,t){LT(n,e),e.set(n,t)}function x2(n,e,t){return n.set(BD(n,e),t),t}function FT(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,$T(a.key),a)}}function OT(n,e,t){return e&&FT(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function UT(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function GT(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var a,r,s,o,d=[],c=!0,g=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(a=s.call(t)).done)&&(d.push(a.value),d.length!==e);c=!0);}catch(D){g=!0,r=D}finally{try{if(!c&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(g)throw r}}return d}}function VT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WT(n,e){return PT(n)||GT(n,e)||LD(n,e)||VT()}function HT(n){return BT(n)||UT(n)||LD(n)||zT()}function jT(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function $T(n){var e=jT(n,"string");return typeof e=="symbol"?e:e+""}function LD(n,e){if(n){if(typeof n=="string")return Ic(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ic(n,e):void 0}}var ds=new WeakMap,So=new WeakMap,cs=new WeakMap,qu=new WeakMap,Fu=new WeakMap,Ou=new WeakMap,QT=function(){function n(){qT(this,n),us(this,ds,new Map),us(this,So,new Map),us(this,cs,function(e){return e}),us(this,qu,function(){return{}}),us(this,Fu,function(){}),us(this,Ou,function(){})}return OT(n,[{key:"getObj",value:function(t){return Xa(ds,this).get(Xa(cs,this).call(this,t))}},{key:"getData",value:function(t){return Xa(So,this).get(t)}},{key:"entries",value:function(){return HT(Xa(So,this).entries()).map(function(t){var a=WT(t,2),r=a[0],s=a[1];return[s,r]})}},{key:"id",value:function(t){return x2(cs,this,xe(t)),this}},{key:"onCreateObj",value:function(t){return x2(qu,this,t),this}},{key:"onUpdateObj",value:function(t){return x2(Fu,this,t),this}},{key:"onRemoveObj",value:function(t){return x2(Ou,this,t),this}},{key:"digest",value:function(t){var a=this;t.filter(function(s){return!Xa(ds,a).has(Xa(cs,a).call(a,s))}).forEach(function(s){var o=Xa(qu,a).call(a,s);Xa(ds,a).set(Xa(cs,a).call(a,s),o),Xa(So,a).set(o,s)});var r=new Map(t.map(function(s){return[Xa(cs,a).call(a,s),s]}));return Xa(ds,this).forEach(function(s,o){r.has(o)?Xa(Fu,a).call(a,s,r.get(o)):(Xa(Ou,a).call(a,s,o),Xa(ds,a).delete(o),Xa(So,a).delete(s))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])}(),Al={exports:{}},YT=Al.exports,r6;function XT(){return r6||(r6=1,function(n,e){(function(t,a){n.exports=a()})(YT,function(){return function(t){function a(s){if(r[s])return r[s].exports;var o=r[s]={exports:{},id:s,loaded:!1};return t[s].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}var r={};return a.m=t,a.c=r,a.p="",a(0)}([function(t,a,r){var s=r(1),o=function(){function d(c,g,D){c===void 0&&(c=NaN),g===void 0&&(g=NaN),D===void 0&&(D=!1),this._minFPS=g,this._maxFPS=c,this._timeScale=1,this._currentTick=0,this._currentTime=0,this._tickDeltaTime=0,this._isRunning=!1,this._maxInterval=isNaN(this._minFPS)?NaN:1e3/this._minFPS,this._minInterval=isNaN(this._maxFPS)?NaN:1e3/this._maxFPS,this._onResume=new s.default,this._onPause=new s.default,this._onTick=new s.default,this._onTickOncePerFrame=new s.default,D||this.resume()}return d.prototype.updateOnce=function(c){c(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},d.prototype.resume=function(){this._isRunning||(this._isRunning=!0,this._lastTimeUpdated=this.getTimer(),this._onResume.dispatch(),this.animateOnce())},d.prototype.pause=function(){this._isRunning&&(this._isRunning=!1,this._onPause.dispatch(),window.cancelAnimationFrame(this._animationFrameHandle))},d.prototype.dispose=function(){this.pause(),this._onResume.removeAll(),this._onPause.removeAll(),this._onTick.removeAll()},Object.defineProperty(d.prototype,"currentTick",{get:function(){return this._currentTick},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"currentTimeSeconds",{get:function(){return this._currentTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"tickDeltaTimeSeconds",{get:function(){return this._tickDeltaTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"timeScale",{get:function(){return this._timeScale},set:function(c){this._timeScale!==c&&(this._timeScale=c)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onResume",{get:function(){return this._onResume},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onPause",{get:function(){return this._onPause},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onTick",{get:function(){return this._onTick},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onTickOncePerFrame",{get:function(){return this._onTickOncePerFrame},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isRunning",{get:function(){return this._isRunning},enumerable:!0,configurable:!0}),d.prototype.animateOnce=function(){var c=this;this._animationFrameHandle=window.requestAnimationFrame(function(){return c.onFrame()})},d.prototype.onFrame=function(){if(this._now=this.getTimer(),this._frameDeltaTime=this._now-this._lastTimeUpdated,isNaN(this._minInterval)||this._frameDeltaTime>=this._minInterval)if(isNaN(this._maxInterval))this.update(this._frameDeltaTime*this._timeScale,!0),this._lastTimeUpdated=this._now;else for(this._interval=Math.min(this._frameDeltaTime,this._maxInterval);this._now>=this._lastTimeUpdated+this._interval;)this.update(this._interval*this._timeScale,this._now<=this._lastTimeUpdated+2*this._maxInterval),this._lastTimeUpdated+=this._interval;this._isRunning&&this.animateOnce()},d.prototype.update=function(c,g){g===void 0&&(g=!0),this._currentTick++,this._currentTime+=c,this._tickDeltaTime=c,this._onTick.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick),g&&this._onTickOncePerFrame.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},d.prototype.getTimer=function(){return Date.now()},d}();Object.defineProperty(a,"__esModule",{value:!0}),a.default=o},function(t,a,r){(function(s,o){t.exports=o()})(this,function(){return function(s){function o(c){if(d[c])return d[c].exports;var g=d[c]={exports:{},id:c,loaded:!1};return s[c].call(g.exports,g,g.exports,o),g.loaded=!0,g.exports}var d={};return o.m=s,o.c=d,o.p="",o(0)}([function(s,o){var d=function(){function c(){this.functions=[]}return c.prototype.add=function(g){return this.functions.indexOf(g)===-1&&(this.functions.push(g),!0)},c.prototype.remove=function(g){var D=this.functions.indexOf(g);return D>-1&&(this.functions.splice(D,1),!0)},c.prototype.removeAll=function(){return this.functions.length>0&&(this.functions.length=0,!0)},c.prototype.dispatch=function(){for(var g=[],D=0;D<arguments.length;D++)g[D]=arguments[D];var m=this.functions.concat();m.forEach(function(_){_.apply(void 0,g)})},Object.defineProperty(c.prototype,"numItems",{get:function(){return this.functions.length},enumerable:!0,configurable:!0}),c}();Object.defineProperty(o,"__esModule",{value:!0}),o.default=d}])})}])})}(Al)),Al.exports}var KT=XT();const Zs=m_(KT),hr=11102230246251565e-32,Ka=134217729,ZT=(3+8*hr)*hr;function Uu(n,e,t,a,r){let s,o,d,c,g=e[0],D=a[0],m=0,_=0;D>g==D>-g?(s=g,g=e[++m]):(s=D,D=a[++_]);let w=0;if(m<n&&_<t)for(D>g==D>-g?(o=g+s,d=s-(o-g),g=e[++m]):(o=D+s,d=s-(o-D),D=a[++_]),s=o,d!==0&&(r[w++]=d);m<n&&_<t;)D>g==D>-g?(o=s+g,c=o-s,d=s-(o-c)+(g-c),g=e[++m]):(o=s+D,c=o-s,d=s-(o-c)+(D-c),D=a[++_]),s=o,d!==0&&(r[w++]=d);for(;m<n;)o=s+g,c=o-s,d=s-(o-c)+(g-c),g=e[++m],s=o,d!==0&&(r[w++]=d);for(;_<t;)o=s+D,c=o-s,d=s-(o-c)+(D-c),D=a[++_],s=o,d!==0&&(r[w++]=d);return(s!==0||w===0)&&(r[w++]=s),w}function JT(n,e){let t=e[0];for(let a=1;a<n;a++)t+=e[a];return t}function Gi(n){return new Float64Array(n)}const eI=(3+16*hr)*hr,tI=(2+12*hr)*hr,aI=(9+64*hr)*hr*hr,hs=Gi(4),s6=Gi(8),o6=Gi(12),i6=Gi(16),on=Gi(4);function nI(n,e,t,a,r,s,o){let d,c,g,D,m,_,w,x,T,I,N,R,M,B,F,L,O,G;const j=n-r,ne=t-r,Y=e-s,Z=a-s;B=j*Z,_=Ka*j,w=_-(_-j),x=j-w,_=Ka*Z,T=_-(_-Z),I=Z-T,F=x*I-(B-w*T-x*T-w*I),L=Y*ne,_=Ka*Y,w=_-(_-Y),x=Y-w,_=Ka*ne,T=_-(_-ne),I=ne-T,O=x*I-(L-w*T-x*T-w*I),N=F-O,m=F-N,hs[0]=F-(N+m)+(m-O),R=B+N,m=R-B,M=B-(R-m)+(N-m),N=M-L,m=M-N,hs[1]=M-(N+m)+(m-L),G=R+N,m=G-R,hs[2]=R-(G-m)+(N-m),hs[3]=G;let re=JT(4,hs),de=tI*o;if(re>=de||-re>=de||(m=n-j,d=n-(j+m)+(m-r),m=t-ne,g=t-(ne+m)+(m-r),m=e-Y,c=e-(Y+m)+(m-s),m=a-Z,D=a-(Z+m)+(m-s),d===0&&c===0&&g===0&&D===0)||(de=aI*o+ZT*Math.abs(re),re+=j*D+Z*d-(Y*g+ne*c),re>=de||-re>=de))return re;B=d*Z,_=Ka*d,w=_-(_-d),x=d-w,_=Ka*Z,T=_-(_-Z),I=Z-T,F=x*I-(B-w*T-x*T-w*I),L=c*ne,_=Ka*c,w=_-(_-c),x=c-w,_=Ka*ne,T=_-(_-ne),I=ne-T,O=x*I-(L-w*T-x*T-w*I),N=F-O,m=F-N,on[0]=F-(N+m)+(m-O),R=B+N,m=R-B,M=B-(R-m)+(N-m),N=M-L,m=M-N,on[1]=M-(N+m)+(m-L),G=R+N,m=G-R,on[2]=R-(G-m)+(N-m),on[3]=G;const te=Uu(4,hs,4,on,s6);B=j*D,_=Ka*j,w=_-(_-j),x=j-w,_=Ka*D,T=_-(_-D),I=D-T,F=x*I-(B-w*T-x*T-w*I),L=Y*g,_=Ka*Y,w=_-(_-Y),x=Y-w,_=Ka*g,T=_-(_-g),I=g-T,O=x*I-(L-w*T-x*T-w*I),N=F-O,m=F-N,on[0]=F-(N+m)+(m-O),R=B+N,m=R-B,M=B-(R-m)+(N-m),N=M-L,m=M-N,on[1]=M-(N+m)+(m-L),G=R+N,m=G-R,on[2]=R-(G-m)+(N-m),on[3]=G;const $=Uu(te,s6,4,on,o6);B=d*D,_=Ka*d,w=_-(_-d),x=d-w,_=Ka*D,T=_-(_-D),I=D-T,F=x*I-(B-w*T-x*T-w*I),L=c*g,_=Ka*c,w=_-(_-c),x=c-w,_=Ka*g,T=_-(_-g),I=g-T,O=x*I-(L-w*T-x*T-w*I),N=F-O,m=F-N,on[0]=F-(N+m)+(m-O),R=B+N,m=R-B,M=B-(R-m)+(N-m),N=M-L,m=M-N,on[1]=M-(N+m)+(m-L),G=R+N,m=G-R,on[2]=R-(G-m)+(N-m),on[3]=G;const X=Uu($,o6,4,on,i6);return i6[X-1]}function jo(n,e,t,a,r,s){const o=(e-s)*(t-r),d=(n-r)*(a-s),c=o-d,g=Math.abs(o+d);return Math.abs(c)>=eI*g?c:-nI(n,e,t,a,r,s,g)}const l6=Math.pow(2,-52),b2=new Uint32Array(512);class wi{static from(e,t=lI,a=AI){const r=e.length,s=new Float64Array(r*2);for(let o=0;o<r;o++){const d=e[o];s[2*o]=t(d),s[2*o+1]=a(d)}return new wi(s)}constructor(e){const t=e.length>>1;if(t>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const a=Math.max(2*t-5,0);this._triangles=new Uint32Array(a*3),this._halfedges=new Int32Array(a*3),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:a,_hullTri:r,_hullHash:s}=this,o=e.length>>1;let d=1/0,c=1/0,g=-1/0,D=-1/0;for(let j=0;j<o;j++){const ne=e[2*j],Y=e[2*j+1];ne<d&&(d=ne),Y<c&&(c=Y),ne>g&&(g=ne),Y>D&&(D=Y),this._ids[j]=j}const m=(d+g)/2,_=(c+D)/2;let w,x,T;for(let j=0,ne=1/0;j<o;j++){const Y=Gu(m,_,e[2*j],e[2*j+1]);Y<ne&&(w=j,ne=Y)}const I=e[2*w],N=e[2*w+1];for(let j=0,ne=1/0;j<o;j++){if(j===w)continue;const Y=Gu(I,N,e[2*j],e[2*j+1]);Y<ne&&Y>0&&(x=j,ne=Y)}let R=e[2*x],M=e[2*x+1],B=1/0;for(let j=0;j<o;j++){if(j===w||j===x)continue;const ne=oI(I,N,R,M,e[2*j],e[2*j+1]);ne<B&&(T=j,B=ne)}let F=e[2*T],L=e[2*T+1];if(B===1/0){for(let Y=0;Y<o;Y++)this._dists[Y]=e[2*Y]-e[0]||e[2*Y+1]-e[1];Ms(this._ids,this._dists,0,o-1);const j=new Uint32Array(o);let ne=0;for(let Y=0,Z=-1/0;Y<o;Y++){const re=this._ids[Y],de=this._dists[re];de>Z&&(j[ne++]=re,Z=de)}this.hull=j.subarray(0,ne),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(jo(I,N,R,M,F,L)<0){const j=x,ne=R,Y=M;x=T,R=F,M=L,T=j,F=ne,L=Y}const O=iI(I,N,R,M,F,L);this._cx=O.x,this._cy=O.y;for(let j=0;j<o;j++)this._dists[j]=Gu(e[2*j],e[2*j+1],O.x,O.y);Ms(this._ids,this._dists,0,o-1),this._hullStart=w;let G=3;a[w]=t[T]=x,a[x]=t[w]=T,a[T]=t[x]=w,r[w]=0,r[x]=1,r[T]=2,s.fill(-1),s[this._hashKey(I,N)]=w,s[this._hashKey(R,M)]=x,s[this._hashKey(F,L)]=T,this.trianglesLen=0,this._addTriangle(w,x,T,-1,-1,-1);for(let j=0,ne,Y;j<this._ids.length;j++){const Z=this._ids[j],re=e[2*Z],de=e[2*Z+1];if(j>0&&Math.abs(re-ne)<=l6&&Math.abs(de-Y)<=l6||(ne=re,Y=de,Z===w||Z===x||Z===T))continue;let te=0;for(let ge=0,Ee=this._hashKey(re,de);ge<this._hashSize&&(te=s[(Ee+ge)%this._hashSize],!(te!==-1&&te!==a[te]));ge++);te=t[te];let $=te,X;for(;X=a[$],jo(re,de,e[2*$],e[2*$+1],e[2*X],e[2*X+1])>=0;)if($=X,$===te){$=-1;break}if($===-1)continue;let ue=this._addTriangle($,Z,a[$],-1,-1,r[$]);r[Z]=this._legalize(ue+2),r[$]=ue,G++;let pe=a[$];for(;X=a[pe],jo(re,de,e[2*pe],e[2*pe+1],e[2*X],e[2*X+1])<0;)ue=this._addTriangle(pe,Z,X,r[Z],-1,r[pe]),r[Z]=this._legalize(ue+2),a[pe]=pe,G--,pe=X;if($===te)for(;X=t[$],jo(re,de,e[2*X],e[2*X+1],e[2*$],e[2*$+1])<0;)ue=this._addTriangle(X,Z,$,-1,r[$],r[X]),this._legalize(ue+2),r[X]=ue,a[$]=$,G--,$=X;this._hullStart=t[Z]=$,a[$]=t[pe]=Z,a[Z]=pe,s[this._hashKey(re,de)]=Z,s[this._hashKey(e[2*$],e[2*$+1])]=$}this.hull=new Uint32Array(G);for(let j=0,ne=this._hullStart;j<G;j++)this.hull[j]=ne,ne=a[ne];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(rI(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:a,coords:r}=this;let s=0,o=0;for(;;){const d=a[e],c=e-e%3;if(o=c+(e+2)%3,d===-1){if(s===0)break;e=b2[--s];continue}const g=d-d%3,D=c+(e+1)%3,m=g+(d+2)%3,_=t[o],w=t[e],x=t[D],T=t[m];if(sI(r[2*_],r[2*_+1],r[2*w],r[2*w+1],r[2*x],r[2*x+1],r[2*T],r[2*T+1])){t[e]=T,t[d]=_;const N=a[m];if(N===-1){let M=this._hullStart;do{if(this._hullTri[M]===m){this._hullTri[M]=e;break}M=this._hullPrev[M]}while(M!==this._hullStart)}this._link(e,N),this._link(d,a[o]),this._link(o,m);const R=g+(d+1)%3;s<b2.length&&(b2[s++]=R)}else{if(s===0)break;e=b2[--s]}}return o}_link(e,t){this._halfedges[e]=t,t!==-1&&(this._halfedges[t]=e)}_addTriangle(e,t,a,r,s,o){const d=this.trianglesLen;return this._triangles[d]=e,this._triangles[d+1]=t,this._triangles[d+2]=a,this._link(d,r),this._link(d+1,s),this._link(d+2,o),this.trianglesLen+=3,d}}function rI(n,e){const t=n/(Math.abs(n)+Math.abs(e));return(e>0?3-t:1+t)/4}function Gu(n,e,t,a){const r=n-t,s=e-a;return r*r+s*s}function sI(n,e,t,a,r,s,o,d){const c=n-o,g=e-d,D=t-o,m=a-d,_=r-o,w=s-d,x=c*c+g*g,T=D*D+m*m,I=_*_+w*w;return c*(m*I-T*w)-g*(D*I-T*_)+x*(D*w-m*_)<0}function oI(n,e,t,a,r,s){const o=t-n,d=a-e,c=r-n,g=s-e,D=o*o+d*d,m=c*c+g*g,_=.5/(o*g-d*c),w=(g*D-d*m)*_,x=(o*m-c*D)*_;return w*w+x*x}function iI(n,e,t,a,r,s){const o=t-n,d=a-e,c=r-n,g=s-e,D=o*o+d*d,m=c*c+g*g,_=.5/(o*g-d*c),w=n+(g*D-d*m)*_,x=e+(o*m-c*D)*_;return{x:w,y:x}}function Ms(n,e,t,a){if(a-t<=20)for(let r=t+1;r<=a;r++){const s=n[r],o=e[s];let d=r-1;for(;d>=t&&e[n[d]]>o;)n[d+1]=n[d--];n[d+1]=s}else{const r=t+a>>1;let s=t+1,o=a;xo(n,r,s),e[n[t]]>e[n[a]]&&xo(n,t,a),e[n[s]]>e[n[a]]&&xo(n,s,a),e[n[t]]>e[n[s]]&&xo(n,t,s);const d=n[s],c=e[d];for(;;){do s++;while(e[n[s]]<c);do o--;while(e[n[o]]>c);if(o<s)break;xo(n,s,o)}n[t+1]=n[o],n[o]=d,a-s+1>=o-t?(Ms(n,e,s,a),Ms(n,e,t,o-1)):(Ms(n,e,t,o-1),Ms(n,e,s,a))}}function xo(n,e,t){const a=n[e];n[e]=n[t],n[t]=a}function lI(n){return n[0]}function AI(n){return n[1]}function uI(n,e){var t,a,r=0,s,o,d,c,g,D,m,_=n[0],w=n[1],x=e.length;for(t=0;t<x;t++){a=0;var T=e[t],I=T.length-1;if(D=T[0],D[0]!==T[I][0]&&D[1]!==T[I][1])throw new Error("First and last coordinates in a ring must be the same");for(o=D[0]-_,d=D[1]-w,a;a<I;a++){if(m=T[a+1],c=m[0]-_,g=m[1]-w,d===0&&g===0){if(c<=0&&o>=0||o<=0&&c>=0)return 0}else if(g>=0&&d<=0||g<=0&&d>=0){if(s=jo(o,c,d,g,0,0),s===0)return 0;(s>0&&g>0&&d<=0||s<0&&g<=0&&d>0)&&r++}D=m,d=g,o=c}}return r%2!==0}function dI(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return[...n.geometry.coordinates];if(n.type==="Point")return[...n.coordinates]}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return[...n];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function cI(n){return n.type==="Feature"?n.geometry:n}function hI(n,e,t={}){if(!n)throw new Error("point is required");if(!e)throw new Error("polygon is required");const a=dI(n),r=cI(e),s=r.type,o=e.bbox;let d=r.coordinates;if(o&&pI(a,o)===!1)return!1;s==="Polygon"&&(d=[d]);let c=!1;for(var g=0;g<d.length;++g){const D=uI(a,d[g]);if(D===0)return!t.ignoreBoundary;D&&(c=!0)}return c}function pI(n,e){return e[0]<=n[0]&&e[1]<=n[1]&&e[2]>=n[0]&&e[3]>=n[1]}var gI=hI;const A6=1e-6;class M1{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,a){e=+e,t=+t,a=+a;const r=e+a,s=t;if(a<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${s}`:(Math.abs(this._x1-r)>A6||Math.abs(this._y1-s)>A6)&&(this._+="L"+r+","+s),a&&(this._+=`A${a},${a},0,1,1,${e-a},${t}A${a},${a},0,1,1,${this._x1=r},${this._y1=s}`)}rect(e,t,a,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+a}v${+r}h${-a}Z`}value(){return this._||null}}class Ec{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class DI{constructor(e,[t,a,r,s]=[0,0,960,500]){if(!((r=+r)>=(t=+t))||!((s=+s)>=(a=+a)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=r,this.xmin=t,this.ymax=s,this.ymin=a,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:a},vectors:r}=this;let s,o;const d=this.circumcenters=this._circumcenters.subarray(0,a.length/3*2);for(let T=0,I=0,N=a.length,R,M;T<N;T+=3,I+=2){const B=a[T]*2,F=a[T+1]*2,L=a[T+2]*2,O=e[B],G=e[B+1],j=e[F],ne=e[F+1],Y=e[L],Z=e[L+1],re=j-O,de=ne-G,te=Y-O,$=Z-G,X=(re*$-de*te)*2;if(Math.abs(X)<1e-9){if(s===void 0){s=o=0;for(const pe of t)s+=e[pe*2],o+=e[pe*2+1];s/=t.length,o/=t.length}const ue=1e9*Math.sign((s-O)*$-(o-G)*te);R=(O+Y)/2-ue*$,M=(G+Z)/2+ue*te}else{const ue=1/X,pe=re*re+de*de,ge=te*te+$*$;R=O+($*pe-de*ge)*ue,M=G+(re*ge-te*pe)*ue}d[I]=R,d[I+1]=M}let c=t[t.length-1],g,D=c*4,m,_=e[2*c],w,x=e[2*c+1];r.fill(0);for(let T=0;T<t.length;++T)c=t[T],g=D,m=_,w=x,D=c*4,_=e[2*c],x=e[2*c+1],r[g+2]=r[D]=w-x,r[g+3]=r[D+1]=_-m}render(e){const t=e==null?e=new M1:void 0,{delaunay:{halfedges:a,inedges:r,hull:s},circumcenters:o,vectors:d}=this;if(s.length<=1)return null;for(let D=0,m=a.length;D<m;++D){const _=a[D];if(_<D)continue;const w=Math.floor(D/3)*2,x=Math.floor(_/3)*2,T=o[w],I=o[w+1],N=o[x],R=o[x+1];this._renderSegment(T,I,N,R,e)}let c,g=s[s.length-1];for(let D=0;D<s.length;++D){c=g,g=s[D];const m=Math.floor(r[g]/3)*2,_=o[m],w=o[m+1],x=c*4,T=this._project(_,w,d[x+2],d[x+3]);T&&this._renderSegment(_,w,T[0],T[1],e)}return t&&t.value()}renderBounds(e){const t=e==null?e=new M1:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const a=t==null?t=new M1:void 0,r=this._clip(e);if(r===null||!r.length)return;t.moveTo(r[0],r[1]);let s=r.length;for(;r[0]===r[s-2]&&r[1]===r[s-1]&&s>1;)s-=2;for(let o=2;o<s;o+=2)(r[o]!==r[o-2]||r[o+1]!==r[o-1])&&t.lineTo(r[o],r[o+1]);return t.closePath(),a&&a.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,a=e.length/2;t<a;++t){const r=this.cellPolygon(t);r&&(r.index=t,yield r)}}cellPolygon(e){const t=new Ec;return this.renderCell(e,t),t.value()}_renderSegment(e,t,a,r,s){let o;const d=this._regioncode(e,t),c=this._regioncode(a,r);d===0&&c===0?(s.moveTo(e,t),s.lineTo(a,r)):(o=this._clipSegment(e,t,a,r,d,c))&&(s.moveTo(o[0],o[1]),s.lineTo(o[2],o[3]))}contains(e,t,a){return t=+t,t!==t||(a=+a,a!==a)?!1:this.delaunay._step(e,t,a)===e}*neighbors(e){const t=this._clip(e);if(t)for(const a of this.delaunay.neighbors(e)){const r=this._clip(a);if(r){e:for(let s=0,o=t.length;s<o;s+=2)for(let d=0,c=r.length;d<c;d+=2)if(t[s]===r[d]&&t[s+1]===r[d+1]&&t[(s+2)%o]===r[(d+c-2)%c]&&t[(s+3)%o]===r[(d+c-1)%c]){yield a;break e}}}}_cell(e){const{circumcenters:t,delaunay:{inedges:a,halfedges:r,triangles:s}}=this,o=a[e];if(o===-1)return null;const d=[];let c=o;do{const g=Math.floor(c/3);if(d.push(t[g*2],t[g*2+1]),c=c%3===2?c-2:c+1,s[c]!==e)break;c=r[c]}while(c!==o&&c!==-1);return d}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(t===null)return null;const{vectors:a}=this,r=e*4;return this._simplify(a[r]||a[r+1]?this._clipInfinite(e,t,a[r],a[r+1],a[r+2],a[r+3]):this._clipFinite(e,t))}_clipFinite(e,t){const a=t.length;let r=null,s,o,d=t[a-2],c=t[a-1],g,D=this._regioncode(d,c),m,_=0;for(let w=0;w<a;w+=2)if(s=d,o=c,d=t[w],c=t[w+1],g=D,D=this._regioncode(d,c),g===0&&D===0)m=_,_=0,r?r.push(d,c):r=[d,c];else{let x,T,I,N,R;if(g===0){if((x=this._clipSegment(s,o,d,c,g,D))===null)continue;[T,I,N,R]=x}else{if((x=this._clipSegment(d,c,s,o,D,g))===null)continue;[N,R,T,I]=x,m=_,_=this._edgecode(T,I),m&&_&&this._edge(e,m,_,r,r.length),r?r.push(T,I):r=[T,I]}m=_,_=this._edgecode(N,R),m&&_&&this._edge(e,m,_,r,r.length),r?r.push(N,R):r=[N,R]}if(r)m=_,_=this._edgecode(r[0],r[1]),m&&_&&this._edge(e,m,_,r,r.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(e,t,a,r,s,o){const d=s<o;for(d&&([e,t,a,r,s,o]=[a,r,e,t,o,s]);;){if(s===0&&o===0)return d?[a,r,e,t]:[e,t,a,r];if(s&o)return null;let c,g,D=s||o;D&8?(c=e+(a-e)*(this.ymax-t)/(r-t),g=this.ymax):D&4?(c=e+(a-e)*(this.ymin-t)/(r-t),g=this.ymin):D&2?(g=t+(r-t)*(this.xmax-e)/(a-e),c=this.xmax):(g=t+(r-t)*(this.xmin-e)/(a-e),c=this.xmin),s?(e=c,t=g,s=this._regioncode(e,t)):(a=c,r=g,o=this._regioncode(a,r))}}_clipInfinite(e,t,a,r,s,o){let d=Array.from(t),c;if((c=this._project(d[0],d[1],a,r))&&d.unshift(c[0],c[1]),(c=this._project(d[d.length-2],d[d.length-1],s,o))&&d.push(c[0],c[1]),d=this._clipFinite(e,d))for(let g=0,D=d.length,m,_=this._edgecode(d[D-2],d[D-1]);g<D;g+=2)m=_,_=this._edgecode(d[g],d[g+1]),m&&_&&(g=this._edge(e,m,_,d,g),D=d.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(d=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return d}_edge(e,t,a,r,s){for(;t!==a;){let o,d;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,d=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,d=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,d=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,d=this.ymin;break}(r[s]!==o||r[s+1]!==d)&&this.contains(e,o,d)&&(r.splice(s,0,o,d),s+=2)}return s}_project(e,t,a,r){let s=1/0,o,d,c;if(r<0){if(t<=this.ymin)return null;(o=(this.ymin-t)/r)<s&&(c=this.ymin,d=e+(s=o)*a)}else if(r>0){if(t>=this.ymax)return null;(o=(this.ymax-t)/r)<s&&(c=this.ymax,d=e+(s=o)*a)}if(a>0){if(e>=this.xmax)return null;(o=(this.xmax-e)/a)<s&&(d=this.xmax,c=t+(s=o)*r)}else if(a<0){if(e<=this.xmin)return null;(o=(this.xmin-e)/a)<s&&(d=this.xmin,c=t+(s=o)*r)}return[d,c]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const a=(t+2)%e.length,r=(t+4)%e.length;(e[t]===e[a]&&e[a]===e[r]||e[t+1]===e[a+1]&&e[a+1]===e[r+1])&&(e.splice(a,2),t-=2)}e.length||(e=null)}return e}}const fI=2*Math.PI,ps=Math.pow;function vI(n){return n[0]}function mI(n){return n[1]}function yI(n){const{triangles:e,coords:t}=n;for(let a=0;a<e.length;a+=3){const r=2*e[a],s=2*e[a+1],o=2*e[a+2];if((t[o]-t[r])*(t[s+1]-t[r+1])-(t[s]-t[r])*(t[o+1]-t[r+1])>1e-10)return!1}return!0}function _I(n,e,t){return[n+Math.sin(n+e)*t,e+Math.cos(n-e)*t]}class Eh{static from(e,t=vI,a=mI,r){return new Eh("length"in e?wI(e,t,a,r):Float64Array.from(SI(e,t,a,r)))}constructor(e){this._delaunator=new wi(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&yI(e)){this.collinear=Int32Array.from({length:t.length/2},(_,w)=>w).sort((_,w)=>t[2*_]-t[2*w]||t[2*_+1]-t[2*w+1]);const c=this.collinear[0],g=this.collinear[this.collinear.length-1],D=[t[2*c],t[2*c+1],t[2*g],t[2*g+1]],m=1e-8*Math.hypot(D[3]-D[1],D[2]-D[0]);for(let _=0,w=t.length/2;_<w;++_){const x=_I(t[2*_],t[2*_+1],m);t[2*_]=x[0],t[2*_+1]=x[1]}this._delaunator=new wi(t)}else delete this.collinear;const a=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),d=this._hullIndex.fill(-1);for(let c=0,g=a.length;c<g;++c){const D=s[c%3===2?c-2:c+1];(a[c]===-1||o[D]===-1)&&(o[D]=c)}for(let c=0,g=r.length;c<g;++c)d[r[c]]=c;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,r.length===2&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new DI(this,e)}*neighbors(e){const{inedges:t,hull:a,_hullIndex:r,halfedges:s,triangles:o,collinear:d}=this;if(d){const m=d.indexOf(e);m>0&&(yield d[m-1]),m<d.length-1&&(yield d[m+1]);return}const c=t[e];if(c===-1)return;let g=c,D=-1;do{if(yield D=o[g],g=g%3===2?g-2:g+1,o[g]!==e)return;if(g=s[g],g===-1){const m=a[(r[e]+1)%a.length];m!==D&&(yield m);return}}while(g!==c)}find(e,t,a=0){if(e=+e,e!==e||(t=+t,t!==t))return-1;const r=a;let s;for(;(s=this._step(a,e,t))>=0&&s!==a&&s!==r;)a=s;return s}_step(e,t,a){const{inedges:r,hull:s,_hullIndex:o,halfedges:d,triangles:c,points:g}=this;if(r[e]===-1||!g.length)return(e+1)%(g.length>>1);let D=e,m=ps(t-g[e*2],2)+ps(a-g[e*2+1],2);const _=r[e];let w=_;do{let x=c[w];const T=ps(t-g[x*2],2)+ps(a-g[x*2+1],2);if(T<m&&(m=T,D=x),w=w%3===2?w-2:w+1,c[w]!==e)break;if(w=d[w],w===-1){if(w=s[(o[e]+1)%s.length],w!==x&&ps(t-g[w*2],2)+ps(a-g[w*2+1],2)<m)return w;break}}while(w!==_);return D}render(e){const t=e==null?e=new M1:void 0,{points:a,halfedges:r,triangles:s}=this;for(let o=0,d=r.length;o<d;++o){const c=r[o];if(c<o)continue;const g=s[o]*2,D=s[c]*2;e.moveTo(a[g],a[g+1]),e.lineTo(a[D],a[D+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){t===void 0&&(!e||typeof e.moveTo!="function")&&(t=e,e=null),t=t==null?2:+t;const a=e==null?e=new M1:void 0,{points:r}=this;for(let s=0,o=r.length;s<o;s+=2){const d=r[s],c=r[s+1];e.moveTo(d+t,c),e.arc(d,c,t,0,fI)}return a&&a.value()}renderHull(e){const t=e==null?e=new M1:void 0,{hull:a,points:r}=this,s=a[0]*2,o=a.length;e.moveTo(r[s],r[s+1]);for(let d=1;d<o;++d){const c=2*a[d];e.lineTo(r[c],r[c+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new Ec;return this.renderHull(e),e.value()}renderTriangle(e,t){const a=t==null?t=new M1:void 0,{points:r,triangles:s}=this,o=s[e*=3]*2,d=s[e+1]*2,c=s[e+2]*2;return t.moveTo(r[o],r[o+1]),t.lineTo(r[d],r[d+1]),t.lineTo(r[c],r[c+1]),t.closePath(),a&&a.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,a=e.length/3;t<a;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new Ec;return this.renderTriangle(e,t),t.value()}}function wI(n,e,t,a){const r=n.length,s=new Float64Array(r*2);for(let o=0;o<r;++o){const d=n[o];s[o*2]=e.call(a,d,o,n),s[o*2+1]=t.call(a,d,o,n)}return s}function*SI(n,e,t,a){let r=0;for(const s of n)yield e.call(a,s,r,n),yield t.call(a,s,r,n),++r}const kh=Math.PI,u6=kh/2,d6=180/kh,c6=kh/180,xI=Math.atan2,h6=Math.cos,bI=Math.max,TI=Math.min,p6=Math.sin,II=Math.sign||function(n){return n>0?1:n<0?-1:0},qD=Math.sqrt;function EI(n){return n>1?u6:n<-1?-u6:Math.asin(n)}function FD(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function Rn(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function $l(n,e){return[n[0]+e[0],n[1]+e[1],n[2]+e[2]]}function Ql(n){var e=qD(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);return[n[0]/e,n[1]/e,n[2]/e]}function Nh(n){return[xI(n[1],n[0])*d6,EI(bI(-1,TI(1,n[2])))*d6]}function B0(n){const e=n[0]*c6,t=n[1]*c6,a=h6(t);return[a*h6(e),a*p6(e),p6(t)]}function Rh(n){return n=n.map(e=>B0(e)),FD(n[0],Rn(n[2],n[1]))}function kI(n){const e=RI(n),t=CI(e),a=MI(t,n),r=BI(t,n.length),s=NI(r,n),o=PI(t,n),{polygons:d,centers:c}=LI(o,t,n),g=qI(d),D=OI(t,n),m=FI(a,t);return{delaunay:e,edges:a,triangles:t,centers:c,neighbors:r,polygons:d,mesh:g,hull:D,urquhart:m,find:s}}function NI(n,e){function t(a,r){let s=a[0]-r[0],o=a[1]-r[1],d=a[2]-r[2];return s*s+o*o+d*d}return function(r,s,o){o===void 0&&(o=0);let d,c,g=o;const D=B0([r,s]);do d=o,o=null,c=t(D,B0(e[d])),n[d].forEach(m=>{let _=t(D,B0(e[m]));if(_<c){c=_,o=m,g=m;return}});while(o!==null);return g}}function RI(n){if(n.length<2)return{};let e=0;for(;isNaN(n[e][0]+n[e][1])&&e++<n.length;);const t=vx(n[e]),a=Kx().translate([0,0]).scale(1).rotate(t.invert([180,0]));n=n.map(a);const r=[];let s=1;for(let m=0,_=n.length;m<_;m++){let w=n[m][0]**2+n[m][1]**2;!isFinite(w)||w>1e32?r.push(m):w>s&&(s=w)}const o=1e6*qD(s);r.forEach(m=>n[m]=[o,0]),n.push([0,o]),n.push([-o,0]),n.push([0,-o]);const d=Eh.from(n);d.projection=a;const{triangles:c,halfedges:g,inedges:D}=d;for(let m=0,_=g.length;m<_;m++)if(g[m]<0){const w=m%3==2?m-2:m+1,x=m%3==0?m+2:m-1,T=g[w],I=g[x];g[T]=I,g[I]=T,g[w]=g[x]=-1,c[m]=c[w]=c[x]=e,D[c[T]]=T%3==0?T+2:T-1,D[c[I]]=I%3==0?I+2:I-1,m+=2-m%3}else c[m]>n.length-3-1&&(c[m]=e);return d}function MI(n,e){const t=new Set;return e.length===2?[[0,1]]:(n.forEach(a=>{if(a[0]!==a[1]&&!(Rh(a.map(r=>e[r]))<0))for(let r=0,s;r<3;r++)s=(r+1)%3,t.add(bl([a[r],a[s]]).join("-"))}),Array.from(t,a=>a.split("-").map(Number)))}function CI(n){const{triangles:e}=n;if(!e)return[];const t=[];for(let a=0,r=e.length/3;a<r;a++){const s=e[3*a],o=e[3*a+1],d=e[3*a+2];s!==o&&o!==d&&t.push([s,d,o])}return t}function PI(n,e){return n.map(t=>{const a=t.map(s=>e[s]).map(B0),r=$l($l(Rn(a[1],a[0]),Rn(a[2],a[1])),Rn(a[0],a[2]));return Nh(Ql(r))})}function BI(n,e){const t=[];return n.forEach(a=>{for(let r=0;r<3;r++){const s=a[r],o=a[(r+1)%3];t[s]=t[s]||[],t[s].push(o)}}),n.length===0&&(e===2?(t[0]=[1],t[1]=[0]):e===1&&(t[0]=[])),t}function LI(n,e,t){const a=[],r=n.slice();if(e.length===0){if(t.length<2)return{polygons:a,centers:r};if(t.length===2){const d=B0(t[0]),c=B0(t[1]),g=Ql($l(d,c)),D=Ql(Rn(d,c)),m=Rn(g,D),_=[g,Rn(g,m),Rn(Rn(g,m),m),Rn(Rn(Rn(g,m),m),m)].map(Nh).map(o);return a.push(_),a.push(_.slice().reverse()),{polygons:a,centers:r}}}e.forEach((d,c)=>{for(let g=0;g<3;g++){const D=d[g],m=d[(g+1)%3],_=d[(g+2)%3];a[D]=a[D]||[],a[D].push([m,_,c,[D,m,_]])}});const s=a.map(d=>{const c=[d[0][2]];let g=d[0][1];for(let D=1;D<d.length;D++)for(let m=0;m<d.length;m++)if(d[m][0]==g){g=d[m][1],c.push(d[m][2]);break}if(c.length>2)return c;if(c.length==2){const D=g6(t[d[0][3][0]],t[d[0][3][1]],r[c[0]]),m=g6(t[d[0][3][2]],t[d[0][3][0]],r[c[0]]),_=o(D),w=o(m);return[c[0],w,c[1],_]}});function o(d){let c=-1;return r.slice(e.length,1/0).forEach((g,D)=>{g[0]===d[0]&&g[1]===d[1]&&(c=D+e.length)}),c<0&&(c=r.length,r.push(d)),c}return{polygons:s,centers:r}}function g6(n,e,t){n=B0(n),e=B0(e),t=B0(t);const a=II(FD(Rn(e,n),t));return Nh(Ql($l(n,e)).map(r=>a*r))}function qI(n){const e=[];return n.forEach(t=>{if(!t)return;let a=t[t.length-1];for(let r of t)r>a&&e.push([a,r]),a=r}),e}function FI(n,e){return function(t){const a=new Map,r=new Map;return n.forEach((s,o)=>{const d=s.join("-");a.set(d,t[o]),r.set(d,!0)}),e.forEach(s=>{let o=0,d=-1;for(let c=0;c<3;c++){let g=bl([s[c],s[(c+1)%3]]).join("-");a.get(g)>o&&(o=a.get(g),d=g)}r.set(d,!1)}),n.map(s=>r.get(s.join("-")))}}function OI(n,e){const t=new Set,a=[];n.map(d=>{if(!(Rh(d.map(c=>e[c>e.length?0:c]))>1e-12))for(let c=0;c<3;c++){let g=[d[c],d[(c+1)%3]],D=`${g[0]}-${g[1]}`;t.has(D)?t.delete(D):t.add(`${g[1]}-${g[0]}`)}});const r=new Map;let s;if(t.forEach(d=>{d=d.split("-").map(Number),r.set(d[0],d[1]),s=d[0]}),s===void 0)return a;let o=s;do{a.push(o);let d=r.get(o);r.set(o,-1),o=d}while(o>-1&&o!==s);return a}function UI(n){const e=function(t){if(e.delaunay=null,e._data=t,typeof e._data=="object"&&e._data.type==="FeatureCollection"&&(e._data=e._data.features),typeof e._data=="object"){const a=e._data.map(r=>[e._vx(r),e._vy(r),r]).filter(r=>isFinite(r[0]+r[1]));e.points=a.map(r=>[r[0],r[1]]),e.valid=a.map(r=>r[2]),e.delaunay=kI(e.points)}return e};return e._vx=function(t){if(typeof t=="object"&&"type"in t)return T5(t)[0];if(0 in t)return t[0]},e._vy=function(t){if(typeof t=="object"&&"type"in t)return T5(t)[1];if(1 in t)return t[1]},e.x=function(t){return t?(e._vx=t,e):e._vx},e.y=function(t){return t?(e._vy=t,e):e._vy},e.polygons=function(t){if(t!==void 0&&e(t),!e.delaunay)return!1;const a={type:"FeatureCollection",features:[]};return e.valid.length===0||(e.delaunay.polygons.forEach((r,s)=>a.features.push({type:"Feature",geometry:r?{type:"Polygon",coordinates:[[...r,r[0]].map(o=>e.delaunay.centers[o])]}:null,properties:{site:e.valid[s],sitecoordinates:e.points[s],neighbours:e.delaunay.neighbors[s]}})),e.valid.length===1&&a.features.push({type:"Feature",geometry:{type:"Sphere"},properties:{site:e.valid[0],sitecoordinates:e.points[0],neighbours:[]}})),a},e.triangles=function(t){return t!==void 0&&e(t),e.delaunay?{type:"FeatureCollection",features:e.delaunay.triangles.map((a,r)=>(a=a.map(s=>e.points[s]),a.center=e.delaunay.centers[r],a)).filter(a=>Rh(a)>0).map(a=>({type:"Feature",properties:{circumcenter:a.center},geometry:{type:"Polygon",coordinates:[[...a,a[0]]]}}))}:!1},e.links=function(t){if(t!==void 0&&e(t),!e.delaunay)return!1;const a=e.delaunay.edges.map(s=>a1(e.points[s[0]],e.points[s[1]])),r=e.delaunay.urquhart(a);return{type:"FeatureCollection",features:e.delaunay.edges.map((s,o)=>({type:"Feature",properties:{source:e.valid[s[0]],target:e.valid[s[1]],length:a[o],urquhart:!!r[o]},geometry:{type:"LineString",coordinates:[e.points[s[0]],e.points[s[1]]]}}))}},e.mesh=function(t){return t!==void 0&&e(t),e.delaunay?{type:"MultiLineString",coordinates:e.delaunay.edges.map(a=>[e.points[a[0]],e.points[a[1]]])}:!1},e.cellMesh=function(t){if(t!==void 0&&e(t),!e.delaunay)return!1;const{centers:a,polygons:r}=e.delaunay,s=[];for(const o of r)if(o)for(let d=o.length,c=o[d-1],g=o[0],D=0;D<d;c=g,g=o[++D])g>c&&s.push([a[c],a[g]]);return{type:"MultiLineString",coordinates:s}},e._found=void 0,e.find=function(t,a,r){if(e._found=e.delaunay.find(t,a,e._found),!r||a1([t,a],e.points[e._found])<r)return e._found},e.hull=function(t){t!==void 0&&e(t);const a=e.delaunay.hull,r=e.points;return a.length===0?null:{type:"Polygon",coordinates:[[...a.map(s=>r[s]),r[a[0]]]]}},n?e(n):e}function kc(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}function GI(n){if(Array.isArray(n))return n}function VI(n){if(Array.isArray(n))return kc(n)}function zI(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function WI(n,e,t){return e=Yl(e),ZI(n,OD()?Reflect.construct(e,[],Yl(n).constructor):e.apply(n,t))}function HI(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jI(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function Yl(n){return Yl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yl(n)}function $I(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Nc(n,e)}function OD(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!n})()}function QI(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function YI(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var a,r,s,o,d=[],c=!0,g=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(a=s.call(t)).done)&&(d.push(a.value),d.length!==e);c=!0);}catch(D){g=!0,r=D}finally{try{if(!c&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(g)throw r}}return d}}function XI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZI(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zI(n)}function Nc(n,e){return Nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},Nc(n,e)}function M0(n,e){return GI(n)||YI(n,e)||UD(n,e)||XI()}function Vu(n){return VI(n)||QI(n)||UD(n)||KI()}function UD(n,e){if(n){if(typeof n=="string")return kc(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?kc(n,e):void 0}}function JI(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.resolution,a=t===void 0?1/0:t,r=eE(n,a),s=fi(r),o=tE(n,a),d=[].concat(Vu(s),Vu(o)),c={type:"Polygon",coordinates:n},g=oD(c),D=M0(g,2),m=M0(D[0],2),_=m[0],w=m[1],x=M0(D[1],2),T=x[0],I=x[1],N=_>T||I>=89||w<=-89,R=[];if(N){var M=UI(d).triangles(),B=new Map(d.map(function(X,ue){var pe=M0(X,2),ge=pe[0],Ee=pe[1];return["".concat(ge,"-").concat(Ee),ue]}));M.features.forEach(function(X){var ue,pe=X.geometry.coordinates[0].slice(0,3).reverse(),ge=[];if(pe.forEach(function(Ce){var Le=M0(Ce,2),Xe=Le[0],it=Le[1],St="".concat(Xe,"-").concat(it);B.has(St)&&ge.push(B.get(St))}),ge.length===3){if(ge.some(function(Ce){return Ce<s.length})){var Ee=X.properties.circumcenter;if(!Rc(Ee,c,N))return}(ue=R).push.apply(ue,ge)}})}else if(o.length)for(var j=wi.from(d),ne=function(ue){var pe,ge=[2,1,0].map(function(Le){return j.triangles[ue+Le]}),Ee=ge.map(function(Le){return d[Le]});if(ge.some(function(Le){return Le<s.length})){var Ce=[0,1].map(function(Le){return ex(Ee,function(Xe){return Xe[Le]})});if(!Rc(Ce,c,N))return 1}(pe=R).push.apply(pe,Vu(ge))},Y=0,Z=j.triangles.length;Y<Z;Y+=3)ne(Y);else{var F=zl(r),L=F.vertices,O=F.holes,G=O===void 0?[]:O;R=_b(L,G,2)}var re=t1(bl(d,function(X){return X[0]}),[0,1]),de=t1(bl(d,function(X){return X[1]}),[0,1]),te=d.map(function(X){var ue=M0(X,2),pe=ue[0],ge=ue[1];return[re(pe),de(ge)]}),$={points:d,indices:R,uvs:te};return{contour:r,triangles:$}}function eE(n,e){return n.map(function(t){var a=[],r;return t.forEach(function(s){if(r){var o=a1(s,r)*180/Math.PI;if(o>e)for(var d=wh(r,s),c=1/Math.ceil(o/e),g=c;g<1;)a.push(d(g)),g+=c}a.push(r=s)}),a})}function tE(n,e){var t={type:"Polygon",coordinates:n},a=oD(t),r=M0(a,2),s=M0(r[0],2),o=s[0],d=s[1],c=M0(r[1],2),g=c[0],D=c[1];if(Math.min(Math.abs(g-o),Math.abs(D-d))<e)return[];var m=o>g||D>=89||d<=-89;return aE(e,{minLng:o,maxLng:g,minLat:d,maxLat:D}).filter(function(_){return Rc(_,t,m)})}function aE(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minLng,a=e.maxLng,r=e.minLat,s=e.maxLat,o=Math.round(Math.pow(360/n,2)/Math.PI),d=(1+Math.sqrt(5))/2,c=function(N){return N/d*360%360-180},g=function(N){return Math.acos(2*N/o-1)/Math.PI*180-90},D=function(N){return o*(Math.cos((N+90)*Math.PI/180)+1)/2},m=[s!==void 0?Math.ceil(D(s)):0,r!==void 0?Math.floor(D(r)):o-1],_=t===void 0&&a===void 0?function(){return!0}:t===void 0?function(I){return I<=a}:a===void 0?function(I){return I>=t}:a>=t?function(I){return I>=t&&I<=a}:function(I){return I>=t||I<=a},w=[],x=m[0];x<=m[1];x++){var T=c(x);_(T)&&w.push([T,g(x)])}return w}function Rc(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t?Bx(e,n):gI(n,e)}var ul=window.THREE?window.THREE:{BufferGeometry:a0,Float32BufferAttribute:e1},D6=new ul.BufferGeometry().setAttribute?"setAttribute":"addAttribute",Mh=function(n){function e(t,a,r,s,o,d,c){var g;HI(this,e),g=WI(this,e),g.type="ConicPolygonGeometry",g.parameters={polygonGeoJson:t,bottomHeight:a,topHeight:r,closedBottom:s,closedTop:o,includeSides:d,curvatureResolution:c},a=a||0,r=r||1,s=s!==void 0?s:!0,o=o!==void 0?o:!0,d=d!==void 0?d:!0,c=c||5;var D=JI(t,{resolution:c}),m=D.contour,_=D.triangles,w=fi(_.uvs),x=[],T=[],I=[],N=0,R=function(O){var G=Math.round(x.length/3),j=I.length;x=x.concat(O.vertices),T=T.concat(O.uvs),I=I.concat(G?O.indices.map(function(ne){return ne+G}):O.indices),g.addGroup(j,I.length-j,N++)};d&&R(B()),s&&R(F(a,!1)),o&&R(F(r,!0)),g.setIndex(I),g[D6]("position",new ul.Float32BufferAttribute(x,3)),g[D6]("uv",new ul.Float32BufferAttribute(T,2)),g.computeVertexNormals();function M(L,O){var G=typeof O=="function"?O:function(){return O},j=L.map(function(ne){return ne.map(function(Y){var Z=M0(Y,2),re=Z[0],de=Z[1];return nE(de,re,G(re,de))})});return zl(j)}function B(){for(var L=M(m,a),O=L.vertices,G=L.holes,j=M(m,r),ne=j.vertices,Y=fi([ne,O]),Z=Math.round(ne.length/3),re=new Set(G),de=0,te=[],$=0;$<Z;$++){var X=$+1;if(X===Z)X=de;else if(re.has(X)){var ue=X;X=de,de=ue}te.push($,$+Z,X+Z),te.push(X+Z,X,$)}for(var pe=[],ge=1;ge>=0;ge--)for(var Ee=0;Ee<Z;Ee+=1)pe.push(Ee/(Z-1),ge);return{indices:te,vertices:Y,uvs:pe}}function F(L){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{indices:O?_.indices:_.indices.slice().reverse(),vertices:M([_.points],L).vertices,uvs:w}}return g}return $I(e,n),jI(e)}(ul.BufferGeometry);function nE(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=(90-n)*Math.PI/180,r=(90-e)*Math.PI/180;return[t*Math.sin(a)*Math.cos(r),t*Math.cos(a),t*Math.sin(a)*Math.sin(r)]}function Mc(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}function rE(n){if(Array.isArray(n))return n}function sE(n){if(Array.isArray(n))return Mc(n)}function oE(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function iE(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var a,r,s,o,d=[],c=!0,g=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(a=s.call(t)).done)&&(d.push(a.value),d.length!==e);c=!0);}catch(D){g=!0,r=D}finally{try{if(!c&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(g)throw r}}return d}}function lE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uE(n,e){if(n==null)return{};var t,a,r=dE(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(a=0;a<s.length;a++)t=s[a],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function dE(n,e){if(n==null)return{};var t={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.includes(a))continue;t[a]=n[a]}return t}function cE(n,e){return rE(n)||iE(n,e)||GD(n,e)||lE()}function hE(n){return sE(n)||oE(n)||GD(n)||AE()}function pE(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function gE(n){var e=pE(n,"string");return typeof e=="symbol"?e:e+""}function GD(n,e){if(n){if(typeof n=="string")return Mc(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Mc(n,e):void 0}}var DE=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(d){return{keyAccessor:d,isProp:!(d instanceof Function)}}),s=n.reduce(function(d,c){var g=d,D=c;return r.forEach(function(m,_){var w=m.keyAccessor,x=m.isProp,T;if(x){var I=D,N=I[w],R=uE(I,[w].map(gE));T=N,D=R}else T=w(D,_);_+1<r.length?(g.hasOwnProperty(T)||(g[T]={}),g=g[T]):t?(g.hasOwnProperty(T)||(g[T]=[]),g[T].push(D)):g[T]=D}),d},{});t instanceof Function&&function d(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;g===r.length?Object.keys(c).forEach(function(D){return c[D]=t(c[D])}):Object.values(c).forEach(function(D){return d(D,g+1)})}(s);var o=s;return a&&(o=[],function d(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];g.length===r.length?o.push({keys:g,vals:c}):Object.entries(c).forEach(function(D){var m=cE(D,2),_=m[0],w=m[1];return d(w,[].concat(hE(g),[_]))})}(s),e instanceof Array&&e.length===0&&o.length===1&&(o[0].keys=[])),o},yt=function(n){n=n||{};var e=typeof n<"u"?n:{},t={},a;for(a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);var r="";function s(he){return e.locateFile?e.locateFile(he,r):r+he}var o;typeof document<"u"&&document.currentScript&&(r=document.currentScript.src),r.indexOf("blob:")!==0?r=r.substr(0,r.lastIndexOf("/")+1):r="",o=function(_e,Pe,Se){var l=new XMLHttpRequest;l.open("GET",_e,!0),l.responseType="arraybuffer",l.onload=function(){if(l.status==200||l.status==0&&l.response){Pe(l.response);return}var xt=ZA(_e);if(xt){Pe(xt.buffer);return}Se()},l.onerror=Se,l.send(null)};var d=e.print||console.log.bind(console),c=e.printErr||console.warn.bind(console);for(a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);t=null,e.arguments&&e.arguments;var g=0,D=function(he){g=he},m=function(){return g},_=8;function w(he,_e,Pe,Se){switch(Pe=Pe||"i8",Pe.charAt(Pe.length-1)==="*"&&(Pe="i32"),Pe){case"i1":Z[he>>0]=_e;break;case"i8":Z[he>>0]=_e;break;case"i16":de[he>>1]=_e;break;case"i32":te[he>>2]=_e;break;case"i64":KA=[_e>>>0,(J1=_e,+Z0(J1)>=1?J1>0?(A1(+br(J1/4294967296),4294967295)|0)>>>0:~~+J0((J1-+(~~J1>>>0))/4294967296)>>>0:0)],te[he>>2]=KA[0],te[he+4>>2]=KA[1];break;case"float":$[he>>2]=_e;break;case"double":X[he>>3]=_e;break;default:es("invalid type for setValue: "+Pe)}}function x(he,_e,Pe){switch(_e=_e||"i8",_e.charAt(_e.length-1)==="*"&&(_e="i32"),_e){case"i1":return Z[he>>0];case"i8":return Z[he>>0];case"i16":return de[he>>1];case"i32":return te[he>>2];case"i64":return te[he>>2];case"float":return $[he>>2];case"double":return X[he>>3];default:es("invalid type for getValue: "+_e)}return null}var T=!1;function I(he,_e){he||es("Assertion failed: "+_e)}function N(he){var _e=e["_"+he];return I(_e,"Cannot call unknown function "+he+", make sure it is exported"),_e}function R(he,_e,Pe,Se,l){var C={string:function(gt){var Fn=0;if(gt!=null&&gt!==0){var r2=(gt.length<<2)+1;Fn=a3(r2),G(gt,Fn,r2)}return Fn},array:function(gt){var Fn=a3(gt.length);return j(gt,Fn),Fn}};function xt(gt){return _e==="string"?L(gt):_e==="boolean"?!!gt:gt}var Pt=N(he),Na=[],pt=0;if(Se)for(var bt=0;bt<Se.length;bt++){var Tr=C[Pe[bt]];Tr?(pt===0&&(pt=bm()),Na[bt]=Tr(Se[bt])):Na[bt]=Se[bt]}var Et=Pt.apply(null,Na);return Et=xt(Et),pt!==0&&xm(pt),Et}function M(he,_e,Pe,Se){Pe=Pe||[];var l=Pe.every(function(xt){return xt==="number"}),C=_e!=="string";return C&&l&&!Se?N(he):function(){return R(he,_e,Pe,arguments)}}var B=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function F(he,_e,Pe){for(var Se=_e+Pe,l=_e;he[l]&&!(l>=Se);)++l;if(l-_e>16&&he.subarray&&B)return B.decode(he.subarray(_e,l));for(var C="";_e<l;){var xt=he[_e++];if(!(xt&128)){C+=String.fromCharCode(xt);continue}var Pt=he[_e++]&63;if((xt&224)==192){C+=String.fromCharCode((xt&31)<<6|Pt);continue}var Na=he[_e++]&63;if((xt&240)==224?xt=(xt&15)<<12|Pt<<6|Na:xt=(xt&7)<<18|Pt<<12|Na<<6|he[_e++]&63,xt<65536)C+=String.fromCharCode(xt);else{var pt=xt-65536;C+=String.fromCharCode(55296|pt>>10,56320|pt&1023)}}return C}function L(he,_e){return he?F(re,he,_e):""}function O(he,_e,Pe,Se){if(!(Se>0))return 0;for(var l=Pe,C=Pe+Se-1,xt=0;xt<he.length;++xt){var Pt=he.charCodeAt(xt);if(Pt>=55296&&Pt<=57343){var Na=he.charCodeAt(++xt);Pt=65536+((Pt&1023)<<10)|Na&1023}if(Pt<=127){if(Pe>=C)break;_e[Pe++]=Pt}else if(Pt<=2047){if(Pe+1>=C)break;_e[Pe++]=192|Pt>>6,_e[Pe++]=128|Pt&63}else if(Pt<=65535){if(Pe+2>=C)break;_e[Pe++]=224|Pt>>12,_e[Pe++]=128|Pt>>6&63,_e[Pe++]=128|Pt&63}else{if(Pe+3>=C)break;_e[Pe++]=240|Pt>>18,_e[Pe++]=128|Pt>>12&63,_e[Pe++]=128|Pt>>6&63,_e[Pe++]=128|Pt&63}}return _e[Pe]=0,Pe-l}function G(he,_e,Pe){return O(he,re,_e,Pe)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function j(he,_e){Z.set(he,_e)}function ne(he,_e){return he%_e>0&&(he+=_e-he%_e),he}var Y,Z,re,de,te,$,X;function ue(he){Y=he,e.HEAP8=Z=new Int8Array(he),e.HEAP16=de=new Int16Array(he),e.HEAP32=te=new Int32Array(he),e.HEAPU8=re=new Uint8Array(he),e.HEAPU16=new Uint16Array(he),e.HEAPU32=new Uint32Array(he),e.HEAPF32=$=new Float32Array(he),e.HEAPF64=X=new Float64Array(he)}var pe=5271520,ge=28608,Ee=e.TOTAL_MEMORY||33554432;e.buffer?Y=e.buffer:Y=new ArrayBuffer(Ee),Ee=Y.byteLength,ue(Y),te[ge>>2]=pe;function Ce(he){for(;he.length>0;){var _e=he.shift();if(typeof _e=="function"){_e();continue}var Pe=_e.func;typeof Pe=="number"?_e.arg===void 0?e.dynCall_v(Pe):e.dynCall_vi(Pe,_e.arg):Pe(_e.arg===void 0?null:_e.arg)}}var Le=[],Xe=[],it=[],St=[];function Yt(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)ra(e.preRun.shift());Ce(Le)}function $a(){Ce(Xe)}function It(){Ce(it)}function Nt(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)n0(e.postRun.shift());Ce(St)}function ra(he){Le.unshift(he)}function n0(he){St.unshift(he)}var Z0=Math.abs,J0=Math.ceil,br=Math.floor,A1=Math.min,u1=0,co=null;function um(he){u1++,e.monitorRunDependencies&&e.monitorRunDependencies(u1)}function dm(he){if(u1--,e.monitorRunDependencies&&e.monitorRunDependencies(u1),u1==0&&co){var _e=co;co=null,_e()}}e.preloadedImages={},e.preloadedAudios={};var er=null,XA="data:application/octet-stream;base64,";function e3(he){return String.prototype.startsWith?he.startsWith(XA):he.indexOf(XA)===0}var J1,KA;er="data:application/octet-stream;base64,AAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAQAAAADAAAABgAAAAUAAAACAAAAAAAAAAIAAAADAAAAAQAAAAQAAAAGAAAAAAAAAAUAAAADAAAABgAAAAQAAAAFAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAAAQAAAAUAAAACAAAAAAAAAAEAAAADAAAABgAAAAQAAAAGAAAAAAAAAAUAAAACAAAAAQAAAAQAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAYAAAAAAAAABQAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAYAAAAAAAAAAwAAAAIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAABAAAAAAAAAABAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAgAAAAQAAAADAAAACAAAAAEAAAAHAAAABgAAAAkAAAAAAAAAAwAAAAIAAAACAAAABgAAAAoAAAALAAAAAAAAAAEAAAAFAAAAAwAAAA0AAAABAAAABwAAAAQAAAAMAAAAAAAAAAQAAAB/AAAADwAAAAgAAAADAAAAAAAAAAwAAAAFAAAAAgAAABIAAAAKAAAACAAAAAAAAAAQAAAABgAAAA4AAAALAAAAEQAAAAEAAAAJAAAAAgAAAAcAAAAVAAAACQAAABMAAAADAAAADQAAAAEAAAAIAAAABQAAABYAAAAQAAAABAAAAAAAAAAPAAAACQAAABMAAAAOAAAAFAAAAAEAAAAHAAAABgAAAAoAAAALAAAAGAAAABcAAAAFAAAAAgAAABIAAAALAAAAEQAAABcAAAAZAAAAAgAAAAYAAAAKAAAADAAAABwAAAANAAAAGgAAAAQAAAAPAAAAAwAAAA0AAAAaAAAAFQAAAB0AAAADAAAADAAAAAcAAAAOAAAAfwAAABEAAAAbAAAACQAAABQAAAAGAAAADwAAABYAAAAcAAAAHwAAAAQAAAAIAAAADAAAABAAAAASAAAAIQAAAB4AAAAIAAAABQAAABYAAAARAAAACwAAAA4AAAAGAAAAIwAAABkAAAAbAAAAEgAAABgAAAAeAAAAIAAAAAUAAAAKAAAAEAAAABMAAAAiAAAAFAAAACQAAAAHAAAAFQAAAAkAAAAUAAAADgAAABMAAAAJAAAAKAAAABsAAAAkAAAAFQAAACYAAAATAAAAIgAAAA0AAAAdAAAABwAAABYAAAAQAAAAKQAAACEAAAAPAAAACAAAAB8AAAAXAAAAGAAAAAsAAAAKAAAAJwAAACUAAAAZAAAAGAAAAH8AAAAgAAAAJQAAAAoAAAAXAAAAEgAAABkAAAAXAAAAEQAAAAsAAAAtAAAAJwAAACMAAAAaAAAAKgAAAB0AAAArAAAADAAAABwAAAANAAAAGwAAACgAAAAjAAAALgAAAA4AAAAUAAAAEQAAABwAAAAfAAAAKgAAACwAAAAMAAAADwAAABoAAAAdAAAAKwAAACYAAAAvAAAADQAAABoAAAAVAAAAHgAAACAAAAAwAAAAMgAAABAAAAASAAAAIQAAAB8AAAApAAAALAAAADUAAAAPAAAAFgAAABwAAAAgAAAAHgAAABgAAAASAAAANAAAADIAAAAlAAAAIQAAAB4AAAAxAAAAMAAAABYAAAAQAAAAKQAAACIAAAATAAAAJgAAABUAAAA2AAAAJAAAADMAAAAjAAAALgAAAC0AAAA4AAAAEQAAABsAAAAZAAAAJAAAABQAAAAiAAAAEwAAADcAAAAoAAAANgAAACUAAAAnAAAANAAAADkAAAAYAAAAFwAAACAAAAAmAAAAfwAAACIAAAAzAAAAHQAAAC8AAAAVAAAAJwAAACUAAAAZAAAAFwAAADsAAAA5AAAALQAAACgAAAAbAAAAJAAAABQAAAA8AAAALgAAADcAAAApAAAAMQAAADUAAAA9AAAAFgAAACEAAAAfAAAAKgAAADoAAAArAAAAPgAAABwAAAAsAAAAGgAAACsAAAA+AAAALwAAAEAAAAAaAAAAKgAAAB0AAAAsAAAANQAAADoAAABBAAAAHAAAAB8AAAAqAAAALQAAACcAAAAjAAAAGQAAAD8AAAA7AAAAOAAAAC4AAAA8AAAAOAAAAEQAAAAbAAAAKAAAACMAAAAvAAAAJgAAACsAAAAdAAAARQAAADMAAABAAAAAMAAAADEAAAAeAAAAIQAAAEMAAABCAAAAMgAAADEAAAB/AAAAPQAAAEIAAAAhAAAAMAAAACkAAAAyAAAAMAAAACAAAAAeAAAARgAAAEMAAAA0AAAAMwAAAEUAAAA2AAAARwAAACYAAAAvAAAAIgAAADQAAAA5AAAARgAAAEoAAAAgAAAAJQAAADIAAAA1AAAAPQAAAEEAAABLAAAAHwAAACkAAAAsAAAANgAAAEcAAAA3AAAASQAAACIAAAAzAAAAJAAAADcAAAAoAAAANgAAACQAAABIAAAAPAAAAEkAAAA4AAAARAAAAD8AAABNAAAAIwAAAC4AAAAtAAAAOQAAADsAAABKAAAATgAAACUAAAAnAAAANAAAADoAAAB/AAAAPgAAAEwAAAAsAAAAQQAAACoAAAA7AAAAPwAAAE4AAABPAAAAJwAAAC0AAAA5AAAAPAAAAEgAAABEAAAAUAAAACgAAAA3AAAALgAAAD0AAAA1AAAAMQAAACkAAABRAAAASwAAAEIAAAA+AAAAKwAAADoAAAAqAAAAUgAAAEAAAABMAAAAPwAAAH8AAAA4AAAALQAAAE8AAAA7AAAATQAAAEAAAAAvAAAAPgAAACsAAABUAAAARQAAAFIAAABBAAAAOgAAADUAAAAsAAAAVgAAAEwAAABLAAAAQgAAAEMAAABRAAAAVQAAADEAAAAwAAAAPQAAAEMAAABCAAAAMgAAADAAAABXAAAAVQAAAEYAAABEAAAAOAAAADwAAAAuAAAAWgAAAE0AAABQAAAARQAAADMAAABAAAAALwAAAFkAAABHAAAAVAAAAEYAAABDAAAANAAAADIAAABTAAAAVwAAAEoAAABHAAAAWQAAAEkAAABbAAAAMwAAAEUAAAA2AAAASAAAAH8AAABJAAAANwAAAFAAAAA8AAAAWAAAAEkAAABbAAAASAAAAFgAAAA2AAAARwAAADcAAABKAAAATgAAAFMAAABcAAAANAAAADkAAABGAAAASwAAAEEAAAA9AAAANQAAAF4AAABWAAAAUQAAAEwAAABWAAAAUgAAAGAAAAA6AAAAQQAAAD4AAABNAAAAPwAAAEQAAAA4AAAAXQAAAE8AAABaAAAATgAAAEoAAAA7AAAAOQAAAF8AAABcAAAATwAAAE8AAABOAAAAPwAAADsAAABdAAAAXwAAAE0AAABQAAAARAAAAEgAAAA8AAAAYwAAAFoAAABYAAAAUQAAAFUAAABeAAAAZQAAAD0AAABCAAAASwAAAFIAAABgAAAAVAAAAGIAAAA+AAAATAAAAEAAAABTAAAAfwAAAEoAAABGAAAAZAAAAFcAAABcAAAAVAAAAEUAAABSAAAAQAAAAGEAAABZAAAAYgAAAFUAAABXAAAAZQAAAGYAAABCAAAAQwAAAFEAAABWAAAATAAAAEsAAABBAAAAaAAAAGAAAABeAAAAVwAAAFMAAABmAAAAZAAAAEMAAABGAAAAVQAAAFgAAABIAAAAWwAAAEkAAABjAAAAUAAAAGkAAABZAAAAYQAAAFsAAABnAAAARQAAAFQAAABHAAAAWgAAAE0AAABQAAAARAAAAGoAAABdAAAAYwAAAFsAAABJAAAAWQAAAEcAAABpAAAAWAAAAGcAAABcAAAAUwAAAE4AAABKAAAAbAAAAGQAAABfAAAAXQAAAE8AAABaAAAATQAAAG0AAABfAAAAagAAAF4AAABWAAAAUQAAAEsAAABrAAAAaAAAAGUAAABfAAAAXAAAAE8AAABOAAAAbQAAAGwAAABdAAAAYAAAAGgAAABiAAAAbgAAAEwAAABWAAAAUgAAAGEAAAB/AAAAYgAAAFQAAABnAAAAWQAAAG8AAABiAAAAbgAAAGEAAABvAAAAUgAAAGAAAABUAAAAYwAAAFAAAABpAAAAWAAAAGoAAABaAAAAcQAAAGQAAABmAAAAUwAAAFcAAABsAAAAcgAAAFwAAABlAAAAZgAAAGsAAABwAAAAUQAAAFUAAABeAAAAZgAAAGUAAABXAAAAVQAAAHIAAABwAAAAZAAAAGcAAABbAAAAYQAAAFkAAAB0AAAAaQAAAG8AAABoAAAAawAAAG4AAABzAAAAVgAAAF4AAABgAAAAaQAAAFgAAABnAAAAWwAAAHEAAABjAAAAdAAAAGoAAABdAAAAYwAAAFoAAAB1AAAAbQAAAHEAAABrAAAAfwAAAGUAAABeAAAAcwAAAGgAAABwAAAAbAAAAGQAAABfAAAAXAAAAHYAAAByAAAAbQAAAG0AAABsAAAAXQAAAF8AAAB1AAAAdgAAAGoAAABuAAAAYgAAAGgAAABgAAAAdwAAAG8AAABzAAAAbwAAAGEAAABuAAAAYgAAAHQAAABnAAAAdwAAAHAAAABrAAAAZgAAAGUAAAB4AAAAcwAAAHIAAABxAAAAYwAAAHQAAABpAAAAdQAAAGoAAAB5AAAAcgAAAHAAAABkAAAAZgAAAHYAAAB4AAAAbAAAAHMAAABuAAAAawAAAGgAAAB4AAAAdwAAAHAAAAB0AAAAZwAAAHcAAABvAAAAcQAAAGkAAAB5AAAAdQAAAH8AAABtAAAAdgAAAHEAAAB5AAAAagAAAHYAAAB4AAAAbAAAAHIAAAB1AAAAeQAAAG0AAAB3AAAAbwAAAHMAAABuAAAAeQAAAHQAAAB4AAAAeAAAAHMAAAByAAAAcAAAAHkAAAB3AAAAdgAAAHkAAAB0AAAAeAAAAHcAAAB1AAAAcQAAAHYAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAAAABQAAAAEAAAAAAAAA/////wEAAAAAAAAAAwAAAAQAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAUAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAUAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAUAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAASAAAAAAAAABgAAAAAAAAAIQAAAAAAAAAeAAAAAAAAACAAAAADAAAAMQAAAAEAAAAwAAAAAwAAADIAAAADAAAACAAAAAAAAAAFAAAABQAAAAoAAAAFAAAAFgAAAAAAAAAQAAAAAAAAABIAAAAAAAAAKQAAAAEAAAAhAAAAAAAAAB4AAAAAAAAABAAAAAAAAAAAAAAABQAAAAIAAAAFAAAADwAAAAEAAAAIAAAAAAAAAAUAAAAFAAAAHwAAAAEAAAAWAAAAAAAAABAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAA4AAAAAAAAACgAAAAAAAAALAAAAAAAAABEAAAADAAAAGAAAAAEAAAAXAAAAAwAAABkAAAADAAAAAAAAAAAAAAABAAAABQAAAAkAAAAFAAAABQAAAAAAAAACAAAAAAAAAAYAAAAAAAAAEgAAAAEAAAAKAAAAAAAAAAsAAAAAAAAABAAAAAEAAAADAAAABQAAAAcAAAAFAAAACAAAAAEAAAAAAAAAAAAAAAEAAAAFAAAAEAAAAAEAAAAFAAAAAAAAAAIAAAAAAAAABwAAAAAAAAAVAAAAAAAAACYAAAAAAAAACQAAAAAAAAATAAAAAAAAACIAAAADAAAADgAAAAEAAAAUAAAAAwAAACQAAAADAAAAAwAAAAAAAAANAAAABQAAAB0AAAAFAAAAAQAAAAAAAAAHAAAAAAAAABUAAAAAAAAABgAAAAEAAAAJAAAAAAAAABMAAAAAAAAABAAAAAIAAAAMAAAABQAAABoAAAAFAAAAAAAAAAEAAAADAAAAAAAAAA0AAAAFAAAAAgAAAAEAAAABAAAAAAAAAAcAAAAAAAAAGgAAAAAAAAAqAAAAAAAAADoAAAAAAAAAHQAAAAAAAAArAAAAAAAAAD4AAAADAAAAJgAAAAEAAAAvAAAAAwAAAEAAAAADAAAADAAAAAAAAAAcAAAABQAAACwAAAAFAAAADQAAAAAAAAAaAAAAAAAAACoAAAAAAAAAFQAAAAEAAAAdAAAAAAAAACsAAAAAAAAABAAAAAMAAAAPAAAABQAAAB8AAAAFAAAAAwAAAAEAAAAMAAAAAAAAABwAAAAFAAAABwAAAAEAAAANAAAAAAAAABoAAAAAAAAAHwAAAAAAAAApAAAAAAAAADEAAAAAAAAALAAAAAAAAAA1AAAAAAAAAD0AAAADAAAAOgAAAAEAAABBAAAAAwAAAEsAAAADAAAADwAAAAAAAAAWAAAABQAAACEAAAAFAAAAHAAAAAAAAAAfAAAAAAAAACkAAAAAAAAAKgAAAAEAAAAsAAAAAAAAADUAAAAAAAAABAAAAAQAAAAIAAAABQAAABAAAAAFAAAADAAAAAEAAAAPAAAAAAAAABYAAAAFAAAAGgAAAAEAAAAcAAAAAAAAAB8AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADEAAAADAAAAIAAAAAAAAAAeAAAAAwAAACEAAAADAAAAGAAAAAMAAAASAAAAAwAAABAAAAADAAAARgAAAAAAAABDAAAAAAAAAEIAAAADAAAANAAAAAMAAAAyAAAAAAAAADAAAAAAAAAAJQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAUwAAAAAAAABXAAAAAwAAAFUAAAADAAAASgAAAAMAAABGAAAAAAAAAEMAAAAAAAAAOQAAAAEAAAA0AAAAAwAAADIAAAAAAAAAGQAAAAAAAAAXAAAAAAAAABgAAAADAAAAEQAAAAAAAAALAAAAAwAAAAoAAAADAAAADgAAAAMAAAAGAAAAAwAAAAIAAAADAAAALQAAAAAAAAAnAAAAAAAAACUAAAADAAAAIwAAAAMAAAAZAAAAAAAAABcAAAAAAAAAGwAAAAMAAAARAAAAAAAAAAsAAAADAAAAPwAAAAAAAAA7AAAAAwAAADkAAAADAAAAOAAAAAMAAAAtAAAAAAAAACcAAAAAAAAALgAAAAMAAAAjAAAAAwAAABkAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAA4AAAADAAAAIgAAAAAAAAATAAAAAwAAAAkAAAADAAAAJgAAAAMAAAAVAAAAAwAAAAcAAAADAAAANwAAAAAAAAAoAAAAAAAAABsAAAADAAAANgAAAAMAAAAkAAAAAAAAABQAAAAAAAAAMwAAAAMAAAAiAAAAAAAAABMAAAADAAAASAAAAAAAAAA8AAAAAwAAAC4AAAADAAAASQAAAAMAAAA3AAAAAAAAACgAAAAAAAAARwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAQAAAAAAAAAAvAAAAAAAAACYAAAADAAAAPgAAAAAAAAArAAAAAwAAAB0AAAADAAAAOgAAAAMAAAAqAAAAAwAAABoAAAADAAAAVAAAAAAAAABFAAAAAAAAADMAAAADAAAAUgAAAAMAAABAAAAAAAAAAC8AAAAAAAAATAAAAAMAAAA+AAAAAAAAACsAAAADAAAAYQAAAAAAAABZAAAAAwAAAEcAAAADAAAAYgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAYAAAAAMAAABSAAAAAwAAAEAAAAAAAAAASwAAAAAAAABBAAAAAAAAADoAAAADAAAAPQAAAAAAAAA1AAAAAwAAACwAAAADAAAAMQAAAAMAAAApAAAAAwAAAB8AAAADAAAAXgAAAAAAAABWAAAAAAAAAEwAAAADAAAAUQAAAAMAAABLAAAAAAAAAEEAAAAAAAAAQgAAAAMAAAA9AAAAAAAAADUAAAADAAAAawAAAAAAAABoAAAAAwAAAGAAAAADAAAAZQAAAAMAAABeAAAAAAAAAFYAAAAAAAAAVQAAAAMAAABRAAAAAwAAAEsAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAD8AAAADAAAASgAAAAAAAABOAAAAAwAAAE8AAAADAAAAUwAAAAMAAABcAAAAAwAAAF8AAAADAAAAJQAAAAAAAAAnAAAAAwAAAC0AAAADAAAANAAAAAAAAAA5AAAAAAAAADsAAAAAAAAARgAAAAMAAABKAAAAAAAAAE4AAAADAAAAGAAAAAAAAAAXAAAAAwAAABkAAAADAAAAIAAAAAMAAAAlAAAAAAAAACcAAAADAAAAMgAAAAMAAAA0AAAAAAAAADkAAAAAAAAALgAAAAAAAAA8AAAAAAAAAEgAAAADAAAAOAAAAAAAAABEAAAAAwAAAFAAAAADAAAAPwAAAAMAAABNAAAAAwAAAFoAAAADAAAAGwAAAAAAAAAoAAAAAwAAADcAAAADAAAAIwAAAAAAAAAuAAAAAAAAADwAAAAAAAAALQAAAAMAAAA4AAAAAAAAAEQAAAADAAAADgAAAAAAAAAUAAAAAwAAACQAAAADAAAAEQAAAAMAAAAbAAAAAAAAACgAAAADAAAAGQAAAAMAAAAjAAAAAAAAAC4AAAAAAAAARwAAAAAAAABZAAAAAAAAAGEAAAADAAAASQAAAAAAAABbAAAAAwAAAGcAAAADAAAASAAAAAMAAABYAAAAAwAAAGkAAAADAAAAMwAAAAAAAABFAAAAAwAAAFQAAAADAAAANgAAAAAAAABHAAAAAAAAAFkAAAAAAAAANwAAAAMAAABJAAAAAAAAAFsAAAADAAAAJgAAAAAAAAAvAAAAAwAAAEAAAAADAAAAIgAAAAMAAAAzAAAAAAAAAEUAAAADAAAAJAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAYAAAAAAAAABoAAAAAAAAAGsAAAADAAAAYgAAAAAAAABuAAAAAwAAAHMAAAADAAAAYQAAAAMAAABvAAAAAwAAAHcAAAADAAAATAAAAAAAAABWAAAAAwAAAF4AAAADAAAAUgAAAAAAAABgAAAAAAAAAGgAAAAAAAAAVAAAAAMAAABiAAAAAAAAAG4AAAADAAAAOgAAAAAAAABBAAAAAwAAAEsAAAADAAAAPgAAAAMAAABMAAAAAAAAAFYAAAADAAAAQAAAAAMAAABSAAAAAAAAAGAAAAAAAAAAVQAAAAAAAABXAAAAAAAAAFMAAAADAAAAZQAAAAAAAABmAAAAAwAAAGQAAAADAAAAawAAAAMAAABwAAAAAwAAAHIAAAADAAAAQgAAAAAAAABDAAAAAwAAAEYAAAADAAAAUQAAAAAAAABVAAAAAAAAAFcAAAAAAAAAXgAAAAMAAABlAAAAAAAAAGYAAAADAAAAMQAAAAAAAAAwAAAAAwAAADIAAAADAAAAPQAAAAMAAABCAAAAAAAAAEMAAAADAAAASwAAAAMAAABRAAAAAAAAAFUAAAAAAAAAXwAAAAAAAABcAAAAAAAAAFMAAAAAAAAATwAAAAAAAABOAAAAAAAAAEoAAAADAAAAPwAAAAEAAAA7AAAAAwAAADkAAAADAAAAbQAAAAAAAABsAAAAAAAAAGQAAAAFAAAAXQAAAAEAAABfAAAAAAAAAFwAAAAAAAAATQAAAAEAAABPAAAAAAAAAE4AAAAAAAAAdQAAAAQAAAB2AAAABQAAAHIAAAAFAAAAagAAAAEAAABtAAAAAAAAAGwAAAAAAAAAWgAAAAEAAABdAAAAAQAAAF8AAAAAAAAAWgAAAAAAAABNAAAAAAAAAD8AAAAAAAAAUAAAAAAAAABEAAAAAAAAADgAAAADAAAASAAAAAEAAAA8AAAAAwAAAC4AAAADAAAAagAAAAAAAABdAAAAAAAAAE8AAAAFAAAAYwAAAAEAAABaAAAAAAAAAE0AAAAAAAAAWAAAAAEAAABQAAAAAAAAAEQAAAAAAAAAdQAAAAMAAABtAAAABQAAAF8AAAAFAAAAcQAAAAEAAABqAAAAAAAAAF0AAAAAAAAAaQAAAAEAAABjAAAAAQAAAFoAAAAAAAAAaQAAAAAAAABYAAAAAAAAAEgAAAAAAAAAZwAAAAAAAABbAAAAAAAAAEkAAAADAAAAYQAAAAEAAABZAAAAAwAAAEcAAAADAAAAcQAAAAAAAABjAAAAAAAAAFAAAAAFAAAAdAAAAAEAAABpAAAAAAAAAFgAAAAAAAAAbwAAAAEAAABnAAAAAAAAAFsAAAAAAAAAdQAAAAIAAABqAAAABQAAAFoAAAAFAAAAeQAAAAEAAABxAAAAAAAAAGMAAAAAAAAAdwAAAAEAAAB0AAAAAQAAAGkAAAAAAAAAdwAAAAAAAABvAAAAAAAAAGEAAAAAAAAAcwAAAAAAAABuAAAAAAAAAGIAAAADAAAAawAAAAEAAABoAAAAAwAAAGAAAAADAAAAeQAAAAAAAAB0AAAAAAAAAGcAAAAFAAAAeAAAAAEAAAB3AAAAAAAAAG8AAAAAAAAAcAAAAAEAAABzAAAAAAAAAG4AAAAAAAAAdQAAAAEAAABxAAAABQAAAGkAAAAFAAAAdgAAAAEAAAB5AAAAAAAAAHQAAAAAAAAAcgAAAAEAAAB4AAAAAQAAAHcAAAAAAAAAcgAAAAAAAABwAAAAAAAAAGsAAAAAAAAAZAAAAAAAAABmAAAAAAAAAGUAAAADAAAAUwAAAAEAAABXAAAAAwAAAFUAAAADAAAAdgAAAAAAAAB4AAAAAAAAAHMAAAAFAAAAbAAAAAEAAAByAAAAAAAAAHAAAAAAAAAAXAAAAAEAAABkAAAAAAAAAGYAAAAAAAAAdQAAAAAAAAB5AAAABQAAAHcAAAAFAAAAbQAAAAEAAAB2AAAAAAAAAHgAAAAAAAAAXwAAAAEAAABsAAAAAQAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAgAAAAUAAAABAAAABAAAAAAAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAH6iBfbytuk/Gq6akm/58z/Xrm0Liez0P5doSdOpSwRAWs602ULg8D/dT7Rcbo/1v1N1RQHFNOM/g9Snx7HW3L8HWsP8Q3jfP6VwOLosutk/9rjk1YQcxj+gnmKMsNn6P/HDeuPFY+M/YHwDjqKhB0Ci19/fCVrbP4UxKkDWOP6/pvljWa09tL9wi7wrQXjnv/Z6yLImkM2/3yTlOzY14D+m+WNZrT20PzwKVQnrQwNA9nrIsiaQzT/g40rFrRQFwPa45NWEHMa/kbslHEZq97/xw3rjxWPjv4cLC2SMBci/otff3wla27+rKF5oIAv0P1N1RQHFNOO/iDJPGyWHBUAHWsP8Q3jfvwQf/by16gXAfqIF9vK26b8XrO0Vh0r+v9eubQuJ7PS/BxLrA0ZZ479azrTZQuDwv1MK1EuItPw/yscgV9Z6FkAwHBR2WjQMQJNRzXsQ5vY/GlUHVJYKF0DONuFv2lMNQNCGZ28QJfk/0WUwoIL36D8ggDOMQuATQNqMOeAy/wZAWFYOYM+M2z/LWC4uH3oSQDE+LyTsMgRAkJzhRGWFGEDd4soovCQQQKqk0DJMEP8/rGmNdwOLBUAW2X/9xCbjP4hu3dcqJhNAzuYItRvdB0CgzW3zJW/sPxotm/Y2TxRAQAk9XmdDDEC1Kx9MKgT3P1M+NctcghZAFVqcLlb0C0Bgzd3sB2b2P77mZDPUWhZAFROHJpUGCEDAfma5CxXtPz1DWq/zYxRAmhYY5824F0DOuQKWSbAOQNCMqrvu3fs/L6DR22K2wT9nAAxPBU8RQGiN6mW43AFAZhu25b633D8c1YgmzowSQNM25BRKWARArGS08/lNxD+LFssHwmMRQLC5aNcxBgJABL9HT0WRF0CjCmJmOGEOQHsuaVzMP/s/TWJCaGGwBUCeu1PAPLzjP9nqN9DZOBNAKE4JcydbCkCGtbd1qjPzP8dgm9U8jhVAtPeKTkVwDkCeCLss5l37P401XMPLmBdAFd29VMVQDUBg0yA55h75Pz6odcYLCRdApBM4rBrkAkDyAVWgQxbRP4XDMnK20hFAymLlF7EmzD8GUgo9XBHlP3lbK7T9COc/k+OhPthhy7+YGEpnrOvCPzBFhLs15u4/epbqB6H4uz9IuuLF5svev6lzLKY31es/CaQ0envF5z8ZY0xlUADXv7zaz7HYEuI/CfbK1sn16T8uAQfWwxLWPzKn/YuFN94/5KdbC1AFu793fyCSnlfvPzK2y4doAMY/NRg5t1/X6b/shq4QJaHDP5yNIAKPOeI/vpn7BSE30r/X4YQrO6nrv78Ziv/Thto/DqJ1Y6+y5z9l51NaxFrlv8QlA65HOLS/86dxiEc96z+Hj0+LFjneP6LzBZ8LTc2/DaJ1Y6+y579l51NaxFrlP8QlA65HOLQ/8qdxiEc967+Jj0+LFjnev6LzBZ8LTc0/1qdbC1AFuz93fyCSnlfvvzK2y4doAMa/NRg5t1/X6T/vhq4QJaHDv5yNIAKPOeK/wJn7BSE30j/W4YQrO6nrP78Ziv/Thtq/CaQ0envF578XY0xlUADXP7zaz7HYEuK/CvbK1sn16b8rAQfWwxLWvzKn/YuFN96/zWLlF7EmzL8GUgo9XBHlv3lbK7T9COe/kOOhPthhyz+cGEpnrOvCvzBFhLs15u6/c5bqB6H4u79IuuLF5sveP6lzLKY31eu/AQAAAP////8HAAAA/////zEAAAD/////VwEAAP////9hCQAA/////6dBAAD/////kcsBAP/////3kAwA/////8H2VwAAAAAAAAAAAAAAAAACAAAA/////w4AAAD/////YgAAAP////+uAgAA/////8ISAAD/////ToMAAP////8ilwMA/////+4hGQD/////gu2vAAAAAAAAAAAAAAAAAAAAAAACAAAA//////////8BAAAAAwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////AgAAAP//////////AQAAAAAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD/////////////////////AQAAAP///////////////wIAAAD///////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP///////////////////////////////wIAAAD///////////////8BAAAA/////////////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAABAAAA//////////8CAAAA//////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAAAQAAAP//////////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAACAAAAAAAAAAIAAAABAAAAAQAAAAIAAAACAAAAAAAAAAUAAAAFAAAAAAAAAAIAAAACAAAAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAEAAAACAAAAAgAAAAIAAAAAAAAABQAAAAYAAAAAAAAAAgAAAAIAAAADAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAAAAAACAAAAAQAAAAMAAAACAAAAAgAAAAAAAAAFAAAABwAAAAAAAAACAAAAAgAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAIAAAABAAAABAAAAAIAAAACAAAAAAAAAAUAAAAIAAAAAAAAAAIAAAACAAAAAwAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAIAAAAAAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAABQAAAAkAAAAAAAAAAgAAAAIAAAADAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAIAAAAAAAAAAwAAAA4AAAACAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAgAAAAMAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAgAAAAAAAAADAAAACgAAAAIAAAAAAAAAAgAAAAMAAAABAAAAAAAAAAIAAAACAAAAAwAAAAcAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAACAAAAAAAAAAMAAAALAAAAAgAAAAAAAAACAAAAAwAAAAIAAAAAAAAAAgAAAAIAAAADAAAACAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAIAAAAAAAAAAwAAAAwAAAACAAAAAAAAAAIAAAADAAAAAwAAAAAAAAACAAAAAgAAAAMAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAACAAAAAgAAAAAAAAADAAAADQAAAAIAAAAAAAAAAgAAAAMAAAAEAAAAAAAAAAIAAAACAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAACAAAAAAAAAAMAAAAGAAAAAgAAAAAAAAACAAAAAwAAAA8AAAAAAAAAAgAAAAIAAAADAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAIAAAAAAAAAAwAAAAcAAAACAAAAAAAAAAIAAAADAAAAEAAAAAAAAAACAAAAAgAAAAMAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAgAAAAAAAAADAAAACAAAAAIAAAAAAAAAAgAAAAMAAAARAAAAAAAAAAIAAAACAAAAAwAAAA0AAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAACAAAAAAAAAAMAAAAJAAAAAgAAAAAAAAACAAAAAwAAABIAAAAAAAAAAgAAAAIAAAADAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAgAAAAIAAAAAAAAAAwAAAAUAAAACAAAAAAAAAAIAAAADAAAAEwAAAAAAAAACAAAAAgAAAAMAAAAPAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAAAAAAAAAAIAAAABAAAAEwAAAAIAAAACAAAAAAAAAAUAAAAKAAAAAAAAAAIAAAACAAAAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAIAAAAAAAAAAgAAAAEAAAAPAAAAAgAAAAIAAAAAAAAABQAAAAsAAAAAAAAAAgAAAAIAAAADAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAgAAAAAAAAACAAAAAQAAABAAAAACAAAAAgAAAAAAAAAFAAAADAAAAAAAAAACAAAAAgAAAAMAAAASAAAAAAAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAIAAAABAAAAEQAAAAIAAAACAAAAAAAAAAUAAAANAAAAAAAAAAIAAAACAAAAAwAAABMAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAIAAAAAAAAAAgAAAAEAAAASAAAAAgAAAAIAAAAAAAAABQAAAA4AAAAAAAAAAgAAAAIAAAADAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAAAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAEAAAAAAAAAAAEAAAAAAQAAAAAAAAAAAQAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAA6B6FaUp9QQTPXMuL4myJBraiDfBwx9UBYJseitzTIQOL5if9jqZtAnXX+Z+ycb0C3pucbhRBCQG8wJBYqpRRAlWbDCzCY5z/eFWBUEve6P/+qo4Q50Y4/D9YM3iCcYT8fcA2QJSA0P4ADxu0qAAc/BNcGolVJ2j5d9FACqwquPh9z7MthtI9CSUSYJke/YUJQ/64OyjU0Qpi0+HCmFQdCm3GfIVdh2kHsJ11kAyauQYC3UDFJOoFBSJsFV1OwU0FK5fcxX4AmQWhy/zZIt/lACqaCPsBjzUDbdUNIScugQMYQlVJ4MXNANiuq8GTvRUDxTXnulxEZQFZ8QX5kpuw/qmG/JwYFlEAluh3Q6DB+QKn4vyNq0GZAKOXekas+UUB8xabXXhI6QG63C2pLtSNAdDBtyNfLDUDyOcu67ID2P0rCMvRXAeE/Ki2TSVyzyT9Dk+8Sz2uzP5J+w5ARWp0/NQAoOiMuhj9YnP+RyMJwPxgW7TvQVFk/KgsLYF0kQz9g5dAC6IwzQcgHPVvDex1B1XjppodHBkHJq3OMM9fwQNvcmJ7wddlAInGPpQs/w0BRobq5EBmtQJZ2ai7n+ZVAtv2G5E+bgECG+gIfKBlpQK5f8jdI91JAL39sL/WpPEB8rGxhDqklQK6yUf43XhBAxL9y/tK8+D86XyZpgrHiPwAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAP////8AAAAAAAAAAAAAAAABAAAAAAAAAAAAAAD/////AAAAAAAAAAABAAAAAQAAAAAAAAAAAAAA/////wAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8FAAAABQAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAABQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQAAAAAAAQABAAABAQAAAAAAAQAAAAEAAAABAAEAAAAAAAAAAAAAAAAAAAAAquJYWJZl+D9jaeZNtj/zPwwdI9KqaeO/qGefXwdHdz+q4lhYlmX4P+OrlPMN3PI/DB0j0qpp47+7SQLV4VIEQKriWFiWZfg/r2kma3tz8T82eQmLqNIGwMRIWXMqSvo/fcCszPux9j+jara6ozTwP6hnn18HR3c/MSoKLequ8r+SabgA2nj0P7jBLbDOHO8/1Ym/ICfH4T+6lxjvlFXHv73m373LRPU/0vXyDVxo7T+ToKRHJXMAQF/33578aPE/pAyy64tD9T8+U/hCvyruPwxv8Y7YYwLAuXYr8NAiCEB4+LDK0Sn0P1Qeuy4j+eo/OMx50n7K7L+TrGB/nyf8v5ehC2fbYPM/aXMKexiT6z8mFRIMjg/zP7yUVwGGBNw/E6opHERf8z/z0wR2g9DqPw4pBpcOhvu/NbA29uWAA8DMaTExyXzyP02biiQ+Ruk/S8jz2/FKBEB1pzZnpbb9P7pQU4wLfPI//7ZcQXeG6D9CqEQvAYoIwDB2VB6sSgRAVyv8H5We8T+EHWF8XNPmPzB2wT8Nrrg/SEi+cX+w4L8of+GtdSDxP1sjk5AdouU/6ZjOVru13r8K0obqI6bxvwVbdNXyhfA/w5GG024n5z+rwmtMzP8BwLw9pSX49QXABe/2uQxP8D+b6wCzCvXkP7uGT87fK+Q/pz/JWw4coj+qoBf2J0nwP/yE3PUo0+I/vFJeHcaC+D96luSIqvntP/bf8sHUYu8/gZNN41mL4z9bhOqVOF4FwO6lmAh1hQhAbCVxbdhk7z+1C8NdDcfiPwG36x/0OQBAx0WJ76c2+D9nlSHXANfuP2HlfZ3gqOE/EwnVlVPg9r96+oHzEH//v5bXzdT1Auw/DM3GwLsA4D9p/8uoKcr+v+U9x5DQVAPAehjSdghb7D9sc1IetODgP8MVwwB1pu6/azPk6OGe978W8t/TUc3rP+0QMvYfP+A/RsG/QpSE8D+l3uwScxzgPwQaifgujuw/k1Vti1I43z8MAwLnSh0GQH5nYnwwZgJAiGUzWC5s6j8WyyI/BbLgPw4iUapGeQJAB3W+imnp/j9BLWR4ssrpP2t+gG5Pstk/cpBsfm6DCMCOpU9dOZsFQEv8nFypHeo/ehJ6i+6S2D9jqlGEmarLv7STC5TRiOa/bC+x8WZD6D9H3yUkWpDZP8gZvmCMuQLAreY19/eRBsCoPOc8UzzpP6KI/QV+y9g/t/MoboyWzT+Hv5q3Zu3Mvy2xROCT4uY/9gQitMMg1T9abAqhWMDkv1oLTavoUfG/PMUJP9CD5j+fHRX3t6fSPz7W2gk6bvs/WRnuHwqN9D8YFturGCTmP1EZczv0b9I/5t4exabB5D/1ESLh5fTEP9X2z6SYweQ/6lv3I2zT0D9zkRGNUNMAQKoSvc4EIfs/Xggt8wQI5T+mJHHg/w/SP4lhT/9t8vQ/DrZ/DbwH7D+XlhbYZrjkP34LIpFt6c4/lwfp8fLX9L+j96CTTf76v3WdNhEv9uM/d8c3o4lV0D/vFdCHVcsFwAHeDq0F1QhApbYqcZiN5D9KoilqByXLPwX0/diA0vq/0fo0GxnxAMBbaTkvlCzjP/RrFrWXrMs/UYTrky7jA0DB9f4FiZYAQEGAk/3QzeE/r/TeqE8t0D/OqjlsnPbvvz8RKU8JOfW/smSEbK/O4T8MzuyPm3DDP/rFtctq9gZAfb1EVEaSA0Dts5dVInnhP18SFMc79MM/7y34cw6LAMDFrRJsZO0DwC2KLvLSYuA/hx5wcUHewz+49SnK/4ruPyeS0PX9a+E/ZxaaLvvZ3z8WPu5T2QS8Pygo4RIvMqa/BJ0Kqsd0279cKW4ay8jdP3b05bmZ364/10/qtdxk2r+Bcz6CDMvpv54qOw+Amdw/qLV71pW7sT/YKc80nIPUP8OfIaBJ77G/LyTuD1un2z+diYu8efWzP1wU7ACkfwjAZroyPL1yBkAmv3lKJJbbPysKSE4W+p0/dIgqY79TA8ATLTOQ3tsGwJ2zweD/Xdg/XO/jXeFUaL8VW2qLFKfov1cA9Aa6XfK/tIa7YGgI2T+f3hu/sxqPv2nXdPpf3Pc/jkw8Jbda8j+tT/z8tGPVP1yBHpJd35k/KYvYOy1s8j/yz+kCQjPrP9+agH7x59g/PZfJ9aBhpr/rDKzvYBb+PwtkiaGCt/c/vb1mVr+f1T/JIHwHc8Govw7aeF6+9vG/Xv7kD6fp979isYioQYHVP7AIQZuSFrG/3z1AdUTnAUDN3XY9O7f9P0AdQ9ljYNQ/dJANJPTOrb8kLECUiiPlP4yF7UgmStA/9xGmXxCG1T9qZzix4W2zv2SGJRJVrPe/Fh9a2M/B/b8IexzFCoPSP9y1QFD2bLe/Q86cWLJe/b+mOOfYm78BwOTjkPAGE9E/8aPCUKu/ub9pPZyLCiUGwBA7Mev/BQlALOmrlRi+0j+AMJ/dKULBv7iLtL6a6QRAEMDV/yajAUDa62dE3crJP1P70RgBUbq/38hVnR6esT/s1tG10Z/Ov/zLwalHPss/dTS9NKTXx78nMcRzCIEHQAabxDsAmQRA0tyLK3gSyT+Aui7nOhDGv5Gs58z3WgHATN3forJuBMCAui7nOhDGP9Lciyt4Esm/WAJyHQ4c7z8UP5HFIs3iP3U0vTSk18c//MvBqUc+y7+cvv8HLg/Kvy1I/mHsI+K/U/vRGAFRuj/a62dE3crJv8p+WV8KlQjAuQ/nOP43B0CAMJ/dKULBPyzpq5UYvtK/ZoU+VoLh4L9etLlRUfvtv/GjwlCrv7k/5OOQ8AYT0b9DfT9FhufXPwUX8hJp+4u/3LVAUPZstz8IexzFCoPSv9+L609E5fQ/q9Fz7X2J7T9qZzix4W2zP/cRpl8QhtW/vtNilqGX+j8MOy7QJoL0P3SQDST0zq0/QB1D2WNg1L8IIjSvGNkDwGB8Jou2GAfAsAhBm5IWsT9isYioQYHVvyS9D3zb6uy/gnwRa7uM9L/JIHwHc8GoP729Zla/n9W/CsAHJZwmAEDEW6OYT1r6Pz2XyfWgYaY/35qAfvHn2L83Tdy4lS30vxf2/gZ0jPq/XIEekl3fmb+tT/z8tGPVvybPr2zJ1/+/K7mJ0ypVAsCf3hu/sxqPPwCGu2BoCNm/5oITrpZn+r+UDUyDP+n/v1zv413hVGg/nbPB4P9d2L9MlmkxNvgCQMtZlKE85v8/KwpIThb6nb8mv3lKJJbbv8+SZsTvOOc/pQCIIOYw0j+diYu8efWzvy8k7g9bp9u/kxYDa+pKtD9XlYvA8HnVv6i1e9aVu7G/nio7D4CZ3L/WR6rNh5EGwCkgQweBkghAdvTluZnfrr9cKW4ay8jdvxbjhr1f1QVAR5C0MzivAkAWPu5T2QS8v2cWmi772d+/cKj4lzLJCEBx2QJfYrMFQIcecHFB3sO/LYou8tJi4L+jr7lhO38BwIcI0Nb7xgTAXxIUxzv0w7/ts5dVInnhv0T+l8DZLfE/MP3FoFvS5D8MzuyPm3DDv7JkhGyvzuG/tzhzRIRc0b9Ovv3/0z7mv6/03qhPLdC/m4CT/dDN4b9dwjU5VCQBQBBJX1ntCv0/9GsWtZesy79baTkvlCzjv1mjYgEz++S/oW6KnOQW8b9KoilqByXLv6W2KnGYjeS/SmaKz3Vx9z+BZB5yxGHwP3fHN6OJVdC/dZ02ES/2478PuaBjLrXaP4/JU81pPaO/fgsikW3pzr+XlhbYZrjkv4tSn7YDbP0/f2LnFKlF9z+mJHHg/w/Sv14ILfMECOW/mfg4qYhR/b+OP+RQDCACwOpb9yNs09C/1fbPpJjB5L9pN2WOVZ3wv3hHy9nxIve/URlzO/Rv0r8YFturGCTmv1d1/KKR8QPA8gsy9qzSB8CfHRX3t6fSvzzFCT/Qg+a/EYStnrzV9r/2QJqI7Lb9v/YEIrTDINW/LbFE4JPi5r/7kQEs5fEDQHunnf4GeQBAooj9BX7L2L+oPOc8Uzzpv+ydYY2SSAfAL4HK6CRTB0BH3yUkWpDZv2wvsfFmQ+i/Ik0Yzruh6T8fM3LoGoDUP3oSeovukti/S/ycXKkd6r9rEv+7UWcHQCRIQe/GfwNAa36Abk+y2b9BLWR4ssrpv9KT87qa0bM/FTyktw823L8WyyI/BbLgv4hlM1gubOq/DizMp9Ki6r8b5ckdjVrzv5NVbYtSON+/BBqJ+C6O7L/dUBFqgyXYv00Wh18r7+q/7RAy9h8/4L8W8t/TUc3rv4RM5DKx3wDAfvWIj94aBcBsc1IetODgv3oY0nYIW+y/oGcTFF54AUDkJqS/FKX6PwzNxsC7AOC/ltfN1PUC7L+5Wrz/zHnzP6688w2rNOc/YeV9neCo4b9nlSHXANfuvw9RsxKjY/s/1V8GteXE8j+1C8NdDcfiv2wlcW3YZO+/IOywaA7Q8b9bFP+4Tg36v4GTTeNZi+O/9t/ywdRi77+tRc3yFR7eP2bkcHXJkLO//ITc9SjT4r+qoBf2J0nwv2YHKoswwfm/iQcLspCjAcCb6wCzCvXkvwXv9rkMT/C/YkuwYAMXBMApCNUai9kIwMORhtNuJ+e/BVt01fKF8L+ZqWEfvIjsP6h693QZYNk/WyOTkB2i5b8of+GtdSDxvwpaaulDSwVADMQAX+lOAECEHWF8XNPmv1cr/B+VnvG/XyFG6opcCMD/mtR32/UEQP+2XEF3hui/ulBTjAt88r/imfCfRP+yP9zbvtc8XeO/TZuKJD5G6b/MaTExyXzyvxiTQeElXOO/rbJRQVGN9L/z0wR2g9DqvxOqKRxEX/O/FDGCEei99j9x8zV4VYTmP2lzCnsYk+u/l6ELZ9tg878pRXacaDT/v3k6GZRqoQXAVB67LiP56r94+LDK0Sn0vwO6pZ9b7wFAvK0nKVcc9j8+U/hCvyruv6QMsuuLQ/W/FPhKFYv46j8MyxaDTOW/v9L18g1caO2/vebfvctE9b/7GD8ZrF3xv3gx1AR9bQDAuMEtsM4c77+SabgA2nj0v5xKFIwxsATArKNSBaKsB0Cjara6ozTwv33ArMz7sfa/dF2U0FcWCcDxL357DJX/P69pJmt7c/G/quJYWJZl+L/YntVJlnrSP4sRLzXM+fe/46uU8w3c8r+q4lhYlmX4v85lu5+QRwRAsI0H/WU8479jaeZNtj/zv6riWFiWZfi/sI0H/WU847/OZbufkEcEQHAoPUBrnss/9exKzDtFtT88wM8kax+gP9OqeKeAYog/MW0ItiZvcj+ph+smvt5bP2lCaV5dEUU/StaUmQDaLz+kK9y22BMYP0O3whZuMwI/IIbgZGWE6z7UkjYaEM3UPuezxwa9cr8+LybxRMnFpz6E1N8DbPiRPsYjySMvK3s+//////8fAAj//////zMQCP////9/MiAI/////28yMAj/////YzJACP///z9iMlAI////N2IyYAj///8zYjJwCP//vzNiMoAI//+rM2IykAj/f6szYjKgCP8PqzNiMrAI/wOrM2IywAi/A6szYjLQCJ8DqzNiMuAImQOrM2Iy8Aj//////z8PCP//////Kx8I/////38pLwj/////Pyk/CP////85KU8I////PzgpXwj///8POClvCP///w44KX8I//8fDjgpjwj//w8OOCmfCP9/DQ44Ka8I/w8NDjgpvwj/DQ0OOCnPCP8MDQ44Kd8IxwwNDjgp7wjEDA0OOCn/CAcAAAAHAAAAAQAAAAIAAAAEAAAAAwAAAAAAAAAAAAAABwAAAAMAAAABAAAAAgAAAAUAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAGAAAAAgAAAAMAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAwAAAAEAAAAFAAAABAAAAAAAAAAAAAAABwAAAAUAAAADAAAABAAAAAEAAAAAAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAABgtRFT7Ifk/GC1EVPsh+b8YLURU+yEJQBgtRFT7IQnAYWxnb3MuYwBoM05laWdoYm9yUm90YXRpb25zAGNvb3JkaWprLmMAX3VwQXA3Q2hlY2tlZABfdXBBcDdyQ2hlY2tlZABkaXJlY3RlZEVkZ2UuYwBkaXJlY3RlZEVkZ2VUb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpclt0bXBGaWprLmZhY2VdW2ZpamsuZmFjZV0gPT0gS0kAZmFjZWlqay5jAF9mYWNlSWprUGVudFRvQ2VsbEJvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9DZWxsQm91bmRhcnkAaDNJbmRleC5jAGNvbXBhY3RDZWxscwBsYXRMbmdUb0NlbGwAY2VsbFRvQ2hpbGRQb3MAdmFsaWRhdGVDaGlsZFBvcwBsYXRMbmcuYwBjZWxsQXJlYVJhZHMyAHBvbHlnb24tPm5leHQgPT0gTlVMTABsaW5rZWRHZW8uYwBhZGROZXdMaW5rZWRQb2x5Z29uAG5leHQgIT0gTlVMTABsb29wICE9IE5VTEwAYWRkTmV3TGlua2VkTG9vcABwb2x5Z29uLT5maXJzdCA9PSBOVUxMAGFkZExpbmtlZExvb3AAY29vcmQgIT0gTlVMTABhZGRMaW5rZWRDb29yZABsb29wLT5maXJzdCA9PSBOVUxMAGlubmVyTG9vcHMgIT0gTlVMTABub3JtYWxpemVNdWx0aVBvbHlnb24AYmJveGVzICE9IE5VTEwAY2FuZGlkYXRlcyAhPSBOVUxMAGZpbmRQb2x5Z29uRm9ySG9sZQBjYW5kaWRhdGVCQm94ZXMgIT0gTlVMTAByZXZEaXIgIT0gSU5WQUxJRF9ESUdJVABsb2NhbGlqLmMAY2VsbFRvTG9jYWxJamsAYmFzZUNlbGwgIT0gb3JpZ2luQmFzZUNlbGwAIShvcmlnaW5PblBlbnQgJiYgaW5kZXhPblBlbnQpAGJhc2VDZWxsID09IG9yaWdpbkJhc2VDZWxsAGJhc2VDZWxsICE9IElOVkFMSURfQkFTRV9DRUxMAGxvY2FsSWprVG9DZWxsACFfaXNCYXNlQ2VsbFBlbnRhZ29uKGJhc2VDZWxsKQBiYXNlQ2VsbFJvdGF0aW9ucyA+PSAwAGdyaWRQYXRoQ2VsbHMAcG9seWZpbGwuYwBpdGVyU3RlcFBvbHlnb25Db21wYWN0ADAAdmVydGV4LmMAY2VsbFRvVmVydGV4AGdyYXBoLT5idWNrZXRzICE9IE5VTEwAdmVydGV4R3JhcGguYwBpbml0VmVydGV4R3JhcGgAbm9kZSAhPSBOVUxMAGFkZFZlcnRleE5vZGU=";var cm=28624;function hm(he,_e,Pe,Se){es("Assertion failed: "+L(he)+", at: "+[_e?L(_e):"unknown filename",Pe,Se?L(Se):"unknown function"])}function t3(){return Z.length}function pm(he,_e,Pe){re.set(re.subarray(_e,_e+Pe),he)}function gm(he){return e.___errno_location&&(te[e.___errno_location()>>2]=he),he}function Dm(he){es("OOM")}function fm(he){try{var _e=new ArrayBuffer(he);return _e.byteLength!=he?void 0:(new Int8Array(_e).set(Z),Sm(_e),ue(_e),1)}catch{}}function vm(he){var _e=t3(),Pe=16777216,Se=2147483648-Pe;if(he>Se)return!1;for(var l=16777216,C=Math.max(_e,l);C<he;)C<=536870912?C=ne(2*C,Pe):C=Math.min(ne((3*C+2147483648)/4,Pe),Se);var xt=fm(C);return!!xt}var mm=typeof atob=="function"?atob:function(he){var _e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Pe="",Se,l,C,xt,Pt,Na,pt,bt=0;he=he.replace(/[^A-Za-z0-9\+\/\=]/g,"");do xt=_e.indexOf(he.charAt(bt++)),Pt=_e.indexOf(he.charAt(bt++)),Na=_e.indexOf(he.charAt(bt++)),pt=_e.indexOf(he.charAt(bt++)),Se=xt<<2|Pt>>4,l=(Pt&15)<<4|Na>>2,C=(Na&3)<<6|pt,Pe=Pe+String.fromCharCode(Se),Na!==64&&(Pe=Pe+String.fromCharCode(l)),pt!==64&&(Pe=Pe+String.fromCharCode(C));while(bt<he.length);return Pe};function ym(he){try{for(var _e=mm(he),Pe=new Uint8Array(_e.length),Se=0;Se<_e.length;++Se)Pe[Se]=_e.charCodeAt(Se);return Pe}catch{throw new Error("Converting base64 string to bytes failed.")}}function ZA(he){if(e3(he))return ym(he.slice(XA.length))}var _m={Math,Int8Array,Int32Array,Uint8Array,Float32Array,Float64Array},wm={b:D,c:m,d:hm,e:gm,f:t3,g:pm,h:vm,i:Dm,o:cm,p:ge},Te=function(he,_e,Pe){"almost asm";var Se=new he.Int8Array(Pe),l=new he.Int32Array(Pe);new he.Uint8Array(Pe),new he.Float32Array(Pe);var C=new he.Float64Array(Pe),xt=_e.o|0,Pt=_e.p|0,Na=he.Math.floor,pt=he.Math.abs,bt=he.Math.sqrt,Tr=he.Math.pow,Et=he.Math.cos,gt=he.Math.sin,Fn=he.Math.tan,r2=he.Math.acos,Tm=he.Math.asin,tu=he.Math.atan,On=he.Math.atan2,ts=he.Math.ceil,w0=he.Math.imul,au=he.Math.min,Im=he.Math.max,tr=he.Math.clz32,at=_e.b,U=_e.c,Ye=_e.d,o3=_e.e,Em=_e.f,km=_e.g,Nm=_e.h,Rm=_e.i,P=28640;function Mm(i){return Se=new Int8Array(i),l=new Int32Array(i),C=new Float64Array(i),Pe=i,!0}function Cm(i){i=i|0;var A=0;return A=P,P=P+i|0,P=P+15&-16,A|0}function Pm(){return P|0}function Bm(i){i=i|0,P=i}function Lm(i,A){i=i|0,P=i}function qm(i,A){i=i|0,A=A|0;var u=0,h=0,p=0;return(i|0)<0?(A=2,A|0):(i|0)>13780509?(A=Su(15,A)|0,A|0):(u=((i|0)<0)<<31>>31,p=Ya(i|0,u|0,3,0)|0,h=U()|0,u=We(i|0,u|0,1,0)|0,u=Ya(p|0,h|0,u|0,U()|0)|0,u=We(u|0,U()|0,1,0)|0,i=U()|0,l[A>>2]=u,l[A+4>>2]=i,A=0,A|0)}function i3(i,A,u,h){return i=i|0,A=A|0,u=u|0,h=h|0,l3(i,A,u,h,0)|0}function l3(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0,y=0,S=0,b=0;if(S=P,P=P+16|0,v=S,!(A3(i,A,u,h,p)|0))return h=0,P=S,h|0;do if((u|0)>=0){if((u|0)>13780509){if(f=Su(15,v)|0,f|0)break;y=v,v=l[y>>2]|0,y=l[y+4>>2]|0}else f=((u|0)<0)<<31>>31,b=Ya(u|0,f|0,3,0)|0,y=U()|0,f=We(u|0,f|0,1,0)|0,f=Ya(b|0,y|0,f|0,U()|0)|0,f=We(f|0,U()|0,1,0)|0,y=U()|0,l[v>>2]=f,l[v+4>>2]=y,v=f;if(D1(h|0,0,v<<3|0)|0,p|0){D1(p|0,0,v<<2|0)|0,f=ar(i,A,u,h,p,v,y,0)|0;break}f=Vn(v,4)|0,f?(b=ar(i,A,u,h,f,v,y,0)|0,je(f),f=b):f=13}else f=2;while(!1);return b=f,P=S,b|0}function A3(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0;if(K=P,P=P+16|0,z=K,W=K+8|0,H=z,l[H>>2]=i,l[H+4>>2]=A,(u|0)<0)return W=2,P=K,W|0;if(f=h,l[f>>2]=i,l[f+4>>2]=A,f=(p|0)!=0,f&&(l[p>>2]=0),Vt(i,A)|0)return W=9,P=K,W|0;l[W>>2]=0;e:do if((u|0)>=1)if(f)for(k=1,b=0,q=0,H=1,f=i;;){if(!(b|q)){if(f=Ra(f,A,4,W,z)|0,f|0)break e;if(A=z,f=l[A>>2]|0,A=l[A+4>>2]|0,Vt(f,A)|0){f=9;break e}}if(f=Ra(f,A,l[26800+(q<<2)>>2]|0,W,z)|0,f|0)break e;if(A=z,f=l[A>>2]|0,A=l[A+4>>2]|0,i=h+(k<<3)|0,l[i>>2]=f,l[i+4>>2]=A,l[p+(k<<2)>>2]=H,i=b+1|0,v=(i|0)==(H|0),y=q+1|0,S=(y|0)==6,Vt(f,A)|0){f=9;break e}if(H=H+(S&v&1)|0,(H|0)>(u|0)){f=0;break}else k=k+1|0,b=v?0:i,q=v?S?0:y:q}else for(k=1,b=0,q=0,H=1,f=i;;){if(!(b|q)){if(f=Ra(f,A,4,W,z)|0,f|0)break e;if(A=z,f=l[A>>2]|0,A=l[A+4>>2]|0,Vt(f,A)|0){f=9;break e}}if(f=Ra(f,A,l[26800+(q<<2)>>2]|0,W,z)|0,f|0)break e;if(A=z,f=l[A>>2]|0,A=l[A+4>>2]|0,i=h+(k<<3)|0,l[i>>2]=f,l[i+4>>2]=A,i=b+1|0,v=(i|0)==(H|0),y=q+1|0,S=(y|0)==6,Vt(f,A)|0){f=9;break e}if(H=H+(S&v&1)|0,(H|0)>(u|0)){f=0;break}else k=k+1|0,b=v?0:i,q=v?S?0:y:q}else f=0;while(!1);return W=f,P=K,W|0}function ar(i,A,u,h,p,f,v,y){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0,f=f|0,v=v|0,y=y|0;var S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0;if(K=P,P=P+16|0,z=K+8|0,W=K,S=is(i|0,A|0,f|0,v|0)|0,k=U()|0,q=h+(S<<3)|0,se=q,ce=l[se>>2]|0,se=l[se+4>>2]|0,b=(ce|0)==(i|0)&(se|0)==(A|0),!((ce|0)==0&(se|0)==0|b))do S=We(S|0,k|0,1,0)|0,S=os(S|0,U()|0,f|0,v|0)|0,k=U()|0,q=h+(S<<3)|0,ce=q,se=l[ce>>2]|0,ce=l[ce+4>>2]|0,b=(se|0)==(i|0)&(ce|0)==(A|0);while(!((se|0)==0&(ce|0)==0|b));if(S=p+(S<<2)|0,b&&(l[S>>2]|0)<=(y|0)||(ce=q,l[ce>>2]=i,l[ce+4>>2]=A,l[S>>2]=y,(y|0)>=(u|0)))return ce=0,P=K,ce|0;switch(b=y+1|0,l[z>>2]=0,S=Ra(i,A,2,z,W)|0,S|0){case 9:{H=9;break}case 0:{S=W,S=ar(l[S>>2]|0,l[S+4>>2]|0,u,h,p,f,v,b)|0,S||(H=9);break}}e:do if((H|0)==9){switch(l[z>>2]=0,S=Ra(i,A,3,z,W)|0,S|0){case 9:break;case 0:{if(S=W,S=ar(l[S>>2]|0,l[S+4>>2]|0,u,h,p,f,v,b)|0,S|0)break e;break}default:break e}switch(l[z>>2]=0,S=Ra(i,A,1,z,W)|0,S|0){case 9:break;case 0:{if(S=W,S=ar(l[S>>2]|0,l[S+4>>2]|0,u,h,p,f,v,b)|0,S|0)break e;break}default:break e}switch(l[z>>2]=0,S=Ra(i,A,5,z,W)|0,S|0){case 9:break;case 0:{if(S=W,S=ar(l[S>>2]|0,l[S+4>>2]|0,u,h,p,f,v,b)|0,S|0)break e;break}default:break e}switch(l[z>>2]=0,S=Ra(i,A,4,z,W)|0,S|0){case 9:break;case 0:{if(S=W,S=ar(l[S>>2]|0,l[S+4>>2]|0,u,h,p,f,v,b)|0,S|0)break e;break}default:break e}switch(l[z>>2]=0,S=Ra(i,A,6,z,W)|0,S|0){case 9:break;case 0:{if(S=W,S=ar(l[S>>2]|0,l[S+4>>2]|0,u,h,p,f,v,b)|0,S|0)break e;break}default:break e}return ce=0,P=K,ce|0}while(!1);return ce=S,P=K,ce|0}function Ra(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0;if(u>>>0>6)return p=1,p|0;if(q=(l[h>>2]|0)%6|0,l[h>>2]=q,(q|0)>0){f=0;do u=h1(u)|0,f=f+1|0;while((f|0)<(l[h>>2]|0))}if(q=we(i|0,A|0,45)|0,U()|0,k=q&127,k>>>0>121)return p=5,p|0;S=hn(i,A)|0,f=we(i|0,A|0,52)|0,U()|0,f=f&15;e:do if(!f)b=8;else{for(;;){if(v=(15-f|0)*3|0,y=we(i|0,A|0,v|0)|0,U()|0,y=y&7,(y|0)==7){A=5;break}if(W=(Un(f)|0)==0,f=f+-1|0,H=ke(7,0,v|0)|0,A=A&~(U()|0),z=ke(l[(W?432:16)+(y*28|0)+(u<<2)>>2]|0,0,v|0)|0,v=U()|0,u=l[(W?640:224)+(y*28|0)+(u<<2)>>2]|0,i=z|i&~H,A=v|A,!u){u=0;break e}if(!f){b=8;break e}}return A|0}while(!1);(b|0)==8&&(W=l[848+(k*28|0)+(u<<2)>>2]|0,z=ke(W|0,0,45)|0,i=z|i,A=U()|0|A&-1040385,u=l[4272+(k*28|0)+(u<<2)>>2]|0,(W&127|0)==127&&(W=ke(l[848+(k*28|0)+20>>2]|0,0,45)|0,A=U()|0|A&-1040385,u=l[4272+(k*28|0)+20>>2]|0,i=p1(W|i,A)|0,A=U()|0,l[h>>2]=(l[h>>2]|0)+1)),y=we(i|0,A|0,45)|0,U()|0,y=y&127;e:do if(Zt(y)|0){t:do if((hn(i,A)|0)==1){if((k|0)!=(y|0))if(c3(y,l[7696+(k*28|0)>>2]|0)|0){i=fu(i,A)|0,v=1,A=U()|0;break}else Ye(27795,26864,436,26872);switch(S|0){case 3:{i=p1(i,A)|0,A=U()|0,l[h>>2]=(l[h>>2]|0)+1,v=0;break t}case 5:{i=fu(i,A)|0,A=U()|0,l[h>>2]=(l[h>>2]|0)+5,v=0;break t}case 0:return W=9,W|0;default:return W=1,W|0}}else v=0;while(!1);if((u|0)>0){f=0;do i=Du(i,A)|0,A=U()|0,f=f+1|0;while((f|0)!=(u|0))}if((k|0)!=(y|0)){if(!(ru(y)|0)){if((v|0)!=0|(hn(i,A)|0)!=5)break;l[h>>2]=(l[h>>2]|0)+1;break}switch(q&127){case 8:case 118:break e}(hn(i,A)|0)!=3&&(l[h>>2]=(l[h>>2]|0)+1)}}else if((u|0)>0){f=0;do i=p1(i,A)|0,A=U()|0,f=f+1|0;while((f|0)!=(u|0))}while(!1);return l[h>>2]=((l[h>>2]|0)+u|0)%6|0,W=p,l[W>>2]=i,l[W+4>>2]=A,W=0,W|0}function nu(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0;for(y=P,P=P+16|0,f=y,v=y+8|0,p=(Vt(i,A)|0)==0,p=p?1:2;;){if(l[v>>2]=0,b=(Ra(i,A,p,v,f)|0)==0,S=f,b&((l[S>>2]|0)==(u|0)?(l[S+4>>2]|0)==(h|0):0)){i=4;break}if(p=p+1|0,p>>>0>=7){p=7,i=4;break}}return(i|0)==4?(P=y,p|0):0}function Fm(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0;if(W=P,P=P+16|0,H=W,z=W+8|0,q=H,l[q>>2]=i,l[q+4>>2]=A,!u)return z=h,l[z>>2]=i,l[z+4>>2]=A,z=0,P=W,z|0;l[z>>2]=0;e:do if(Vt(i,A)|0)i=9;else{if(f=(u|0)>0,f){p=0,q=i;do{if(i=Ra(q,A,4,z,H)|0,i|0)break e;if(A=H,q=l[A>>2]|0,A=l[A+4>>2]|0,p=p+1|0,Vt(q,A)|0){i=9;break e}}while((p|0)<(u|0));if(k=h,l[k>>2]=q,l[k+4>>2]=A,k=u+-1|0,f){b=0,i=1;do{if(p=26800+(b<<2)|0,(b|0)==5)for(v=l[p>>2]|0,f=0,p=i;;){if(i=H,i=Ra(l[i>>2]|0,l[i+4>>2]|0,v,z,H)|0,i|0)break e;if((f|0)!=(k|0))if(S=H,y=l[S>>2]|0,S=l[S+4>>2]|0,i=h+(p<<3)|0,l[i>>2]=y,l[i+4>>2]=S,!(Vt(y,S)|0))i=p+1|0;else{i=9;break e}else i=p;if(f=f+1|0,(f|0)>=(u|0))break;p=i}else for(v=H,S=l[p>>2]|0,y=0,p=i,f=l[v>>2]|0,v=l[v+4>>2]|0;;){if(i=Ra(f,v,S,z,H)|0,i|0)break e;if(v=H,f=l[v>>2]|0,v=l[v+4>>2]|0,i=h+(p<<3)|0,l[i>>2]=f,l[i+4>>2]=v,i=p+1|0,Vt(f,v)|0){i=9;break e}if(y=y+1|0,(y|0)>=(u|0))break;p=i}b=b+1|0}while(b>>>0<6);i=H,v=q,p=l[i>>2]|0,f=A,i=l[i+4>>2]|0}else v=q,p=q,f=A,i=A}else v=h,l[v>>2]=i,l[v+4>>2]=A,v=i,p=i,f=A,i=A;i=(v|0)==(p|0)&(f|0)==(i|0)?0:9}while(!1);return z=i,P=W,z|0}function Om(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0;if(y=P,P=P+48|0,p=y+16|0,f=y+8|0,v=y,u=vo(u)|0,u|0)return v=u,P=y,v|0;if(b=i,S=l[b+4>>2]|0,u=f,l[u>>2]=l[b>>2],l[u+4>>2]=S,q3(f,p),u=D3(p,A,v)|0,!u){if(A=l[f>>2]|0,f=l[i+8>>2]|0,(f|0)>0){p=l[i+12>>2]|0,u=0;do A=(l[p+(u<<3)>>2]|0)+A|0,u=u+1|0;while((u|0)<(f|0))}u=v,p=l[u>>2]|0,u=l[u+4>>2]|0,f=((A|0)<0)<<31>>31,(u|0)<(f|0)|(u|0)==(f|0)&p>>>0<A>>>0?(u=v,l[u>>2]=A,l[u+4>>2]=f,u=f):A=p,S=We(A|0,u|0,12,0)|0,b=U()|0,u=v,l[u>>2]=S,l[u+4>>2]=b,u=h,l[u>>2]=S,l[u+4>>2]=b,u=0}return b=u,P=y,b|0}function u3(i,A,u,h,p,f,v){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0,f=f|0,v=v|0;var y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0,oe=0,J=0,Ie=0,Fe=0,Be=0,Ze=0,nt=0,Dt=0,$e=0,Oe=0,be=0,ht=0,qt=0,lt=0,Ft=0,sn=0,K3=0;if(qt=P,P=P+64|0,$e=qt+48|0,Oe=qt+32|0,be=qt+24|0,Ie=qt+8|0,Fe=qt,S=l[i>>2]|0,(S|0)<=0)return ht=0,P=qt,ht|0;for(Be=i+4|0,Ze=$e+8|0,nt=Oe+8|0,Dt=Ie+8|0,y=0,oe=0;;){b=l[Be>>2]|0,Ae=b+(oe<<4)|0,l[$e>>2]=l[Ae>>2],l[$e+4>>2]=l[Ae+4>>2],l[$e+8>>2]=l[Ae+8>>2],l[$e+12>>2]=l[Ae+12>>2],(oe|0)==(S+-1|0)?(l[Oe>>2]=l[b>>2],l[Oe+4>>2]=l[b+4>>2],l[Oe+8>>2]=l[b+8>>2],l[Oe+12>>2]=l[b+12>>2]):(Ae=b+(oe+1<<4)|0,l[Oe>>2]=l[Ae>>2],l[Oe+4>>2]=l[Ae+4>>2],l[Oe+8>>2]=l[Ae+8>>2],l[Oe+12>>2]=l[Ae+12>>2]),S=Km($e,Oe,h,be)|0;e:do if(S)b=0,y=S;else if(S=be,b=l[S>>2]|0,S=l[S+4>>2]|0,(S|0)>0|(S|0)==0&b>>>0>0){ce=0,Ae=0;t:for(;;){if(Ft=1/(+(b>>>0)+4294967296*+(S|0)),K3=+C[$e>>3],S=La(b|0,S|0,ce|0,Ae|0)|0,sn=+(S>>>0)+4294967296*+(U()|0),lt=+(ce>>>0)+4294967296*+(Ae|0),C[Ie>>3]=Ft*(K3*sn)+Ft*(+C[Oe>>3]*lt),C[Dt>>3]=Ft*(+C[Ze>>3]*sn)+Ft*(+C[nt>>3]*lt),S=vu(Ie,h,Fe)|0,S|0){y=S;break}se=Fe,K=l[se>>2]|0,se=l[se+4>>2]|0,H=is(K|0,se|0,A|0,u|0)|0,k=U()|0,S=v+(H<<3)|0,q=S,b=l[q>>2]|0,q=l[q+4>>2]|0;a:do if((b|0)==0&(q|0)==0)J=S,ht=16;else for(z=0,W=0;;){if((z|0)>(u|0)|(z|0)==(u|0)&W>>>0>A>>>0){y=1;break t}if((b|0)==(K|0)&(q|0)==(se|0))break a;if(S=We(H|0,k|0,1,0)|0,H=os(S|0,U()|0,A|0,u|0)|0,k=U()|0,W=We(W|0,z|0,1,0)|0,z=U()|0,S=v+(H<<3)|0,q=S,b=l[q>>2]|0,q=l[q+4>>2]|0,(b|0)==0&(q|0)==0){J=S,ht=16;break}}while(!1);if((ht|0)==16&&(ht=0,!((K|0)==0&(se|0)==0))&&(W=J,l[W>>2]=K,l[W+4>>2]=se,W=f+(l[p>>2]<<3)|0,l[W>>2]=K,l[W+4>>2]=se,W=p,W=We(l[W>>2]|0,l[W+4>>2]|0,1,0)|0,K=U()|0,se=p,l[se>>2]=W,l[se+4>>2]=K),ce=We(ce|0,Ae|0,1,0)|0,Ae=U()|0,S=be,b=l[S>>2]|0,S=l[S+4>>2]|0,!((S|0)>(Ae|0)|(S|0)==(Ae|0)&b>>>0>ce>>>0)){b=1;break e}}b=0}else b=1;while(!1);if(oe=oe+1|0,!b){ht=21;break}if(S=l[i>>2]|0,(oe|0)>=(S|0)){y=0,ht=21;break}}return(ht|0)==21?(P=qt,y|0):0}function Um(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0,oe=0,J=0,Ie=0,Fe=0,Be=0,Ze=0,nt=0,Dt=0,$e=0,Oe=0,be=0,ht=0,qt=0,lt=0,Ft=0,sn=0;if(sn=P,P=P+112|0,ht=sn+80|0,S=sn+72|0,qt=sn,lt=sn+56|0,p=vo(u)|0,p|0)return Ft=p,P=sn,Ft|0;if(b=i+8|0,Ft=S0((l[b>>2]<<5)+32|0)|0,!Ft)return Ft=13,P=sn,Ft|0;if(Tu(i,Ft),p=vo(u)|0,!p){if(Oe=i,be=l[Oe+4>>2]|0,p=S,l[p>>2]=l[Oe>>2],l[p+4>>2]=be,q3(S,ht),p=D3(ht,A,qt)|0,p)Oe=0,be=0;else{if(p=l[S>>2]|0,f=l[b>>2]|0,(f|0)>0){v=l[i+12>>2]|0,u=0;do p=(l[v+(u<<3)>>2]|0)+p|0,u=u+1|0;while((u|0)!=(f|0));u=p}else u=p;p=qt,f=l[p>>2]|0,p=l[p+4>>2]|0,v=((u|0)<0)<<31>>31,(p|0)<(v|0)|(p|0)==(v|0)&f>>>0<u>>>0?(p=qt,l[p>>2]=u,l[p+4>>2]=v,p=v):u=f,Oe=We(u|0,p|0,12,0)|0,be=U()|0,p=qt,l[p>>2]=Oe,l[p+4>>2]=be,p=0}if(!p){if(u=Vn(Oe,8)|0,!u)return je(Ft),Ft=13,P=sn,Ft|0;if(y=Vn(Oe,8)|0,!y)return je(Ft),je(u),Ft=13,P=sn,Ft|0;Dt=ht,l[Dt>>2]=0,l[Dt+4>>2]=0,Dt=i,$e=l[Dt+4>>2]|0,p=S,l[p>>2]=l[Dt>>2],l[p+4>>2]=$e,p=u3(S,Oe,be,A,ht,u,y)|0;e:do if(p)je(u),je(y),je(Ft);else{t:do if((l[b>>2]|0)>0){for(v=i+12|0,f=0;p=u3((l[v>>2]|0)+(f<<3)|0,Oe,be,A,ht,u,y)|0,f=f+1|0,!(p|0);)if((f|0)>=(l[b>>2]|0))break t;je(u),je(y),je(Ft);break e}while(!1);(be|0)>0|(be|0)==0&Oe>>>0>0&&D1(y|0,0,Oe<<3|0)|0,$e=ht,Dt=l[$e+4>>2]|0;t:do if((Dt|0)>0|(Dt|0)==0&(l[$e>>2]|0)>>>0>0){Be=u,Ze=y,nt=u,Dt=y,$e=u,p=u,J=u,Ie=y,Fe=y,u=y;a:for(;;){for(se=0,ce=0,Ae=0,oe=0,f=0,v=0;;){y=qt,S=y+56|0;do l[y>>2]=0,y=y+4|0;while((y|0)<(S|0));if(A=Be+(se<<3)|0,b=l[A>>2]|0,A=l[A+4>>2]|0,A3(b,A,1,qt,0)|0){y=qt,S=y+56|0;do l[y>>2]=0,y=y+4|0;while((y|0)<(S|0));y=Vn(7,4)|0,y|0&&(ar(b,A,1,qt,y,7,0,0)|0,je(y))}for(K=0;;){W=qt+(K<<3)|0,z=l[W>>2]|0,W=l[W+4>>2]|0;n:do if((z|0)==0&(W|0)==0)y=f,S=v;else{if(k=is(z|0,W|0,Oe|0,be|0)|0,b=U()|0,y=h+(k<<3)|0,A=y,S=l[A>>2]|0,A=l[A+4>>2]|0,!((S|0)==0&(A|0)==0)){q=0,H=0;do{if((q|0)>(be|0)|(q|0)==(be|0)&H>>>0>Oe>>>0)break a;if((S|0)==(z|0)&(A|0)==(W|0)){y=f,S=v;break n}y=We(k|0,b|0,1,0)|0,k=os(y|0,U()|0,Oe|0,be|0)|0,b=U()|0,H=We(H|0,q|0,1,0)|0,q=U()|0,y=h+(k<<3)|0,A=y,S=l[A>>2]|0,A=l[A+4>>2]|0}while(!((S|0)==0&(A|0)==0))}if((z|0)==0&(W|0)==0){y=f,S=v;break}g1(z,W,lt)|0,Iu(i,Ft,lt)|0&&(H=We(f|0,v|0,1,0)|0,v=U()|0,q=y,l[q>>2]=z,l[q+4>>2]=W,f=Ze+(f<<3)|0,l[f>>2]=z,l[f+4>>2]=W,f=H),y=f,S=v}while(!1);if(K=K+1|0,K>>>0>=7)break;f=y,v=S}if(se=We(se|0,ce|0,1,0)|0,ce=U()|0,Ae=We(Ae|0,oe|0,1,0)|0,oe=U()|0,v=ht,f=l[v>>2]|0,v=l[v+4>>2]|0,(oe|0)<(v|0)|(oe|0)==(v|0)&Ae>>>0<f>>>0)f=y,v=S;else break}if((v|0)>0|(v|0)==0&f>>>0>0){f=0,v=0;do oe=Be+(f<<3)|0,l[oe>>2]=0,l[oe+4>>2]=0,f=We(f|0,v|0,1,0)|0,v=U()|0,oe=ht,Ae=l[oe+4>>2]|0;while((v|0)<(Ae|0)|((v|0)==(Ae|0)?f>>>0<(l[oe>>2]|0)>>>0:0))}if(oe=ht,l[oe>>2]=y,l[oe+4>>2]=S,(S|0)>0|(S|0)==0&y>>>0>0)K=u,se=Fe,ce=$e,Ae=Ie,oe=Ze,u=J,Fe=p,Ie=nt,J=K,p=se,$e=Dt,Dt=ce,nt=Ae,Ze=Be,Be=oe;else break t}je(nt),je(Dt),je(Ft),p=1;break e}else p=y;while(!1);je(Ft),je(u),je(p),p=0}while(!1);return Ft=p,P=sn,Ft|0}}return je(Ft),Ft=p,P=sn,Ft|0}function Gm(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0;if(k=P,P=P+176|0,S=k,(A|0)<1)return V3(u,0,0),b=0,P=k,b|0;for(y=i,y=we(l[y>>2]|0,l[y+4>>2]|0,52)|0,U()|0,V3(u,(A|0)>6?A:6,y&15),y=0;h=i+(y<<3)|0,h=rs(l[h>>2]|0,l[h+4>>2]|0,S)|0,!(h|0);){if(h=l[S>>2]|0,(h|0)>0){v=0;do f=S+8+(v<<4)|0,v=v+1|0,h=S+8+(((v|0)%(h|0)|0)<<4)|0,p=g_(u,h,f)|0,p?H3(u,p)|0:p_(u,f,h)|0,h=l[S>>2]|0;while((v|0)<(h|0))}if(y=y+1|0,(y|0)>=(A|0)){h=0,b=13;break}}return(b|0)==13?(P=k,h|0):(z3(u),b=h,P=k,b|0)}function Vm(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0;if(f=P,P=P+32|0,h=f,p=f+16|0,i=Gm(i,A,p)|0,i|0)return u=i,P=f,u|0;if(l[u>>2]=0,l[u+4>>2]=0,l[u+8>>2]=0,i=W3(p)|0,i|0)do{A=zy(u)|0;do Wy(A,i)|0,v=i+16|0,l[h>>2]=l[v>>2],l[h+4>>2]=l[v+4>>2],l[h+8>>2]=l[v+8>>2],l[h+12>>2]=l[v+12>>2],H3(p,i)|0,i=D_(p,h)|0;while((i|0)!=0);i=W3(p)|0}while((i|0)!=0);return z3(p),i=Hy(u)|0,i?(C3(u),v=i,P=f,v|0):(v=0,P=f,v|0)}function Zt(i){return i=i|0,i>>>0>121?(i=0,i|0):(i=l[7696+(i*28|0)+16>>2]|0,i|0)}function ru(i){return i=i|0,(i|0)==4|(i|0)==117|0}function d3(i){return i=i|0,l[11120+((l[i>>2]|0)*216|0)+((l[i+4>>2]|0)*72|0)+((l[i+8>>2]|0)*24|0)+(l[i+12>>2]<<3)>>2]|0}function zm(i){return i=i|0,l[11120+((l[i>>2]|0)*216|0)+((l[i+4>>2]|0)*72|0)+((l[i+8>>2]|0)*24|0)+(l[i+12>>2]<<3)+4>>2]|0}function Wm(i,A){i=i|0,A=A|0,i=7696+(i*28|0)|0,l[A>>2]=l[i>>2],l[A+4>>2]=l[i+4>>2],l[A+8>>2]=l[i+8>>2],l[A+12>>2]=l[i+12>>2]}function Hm(i,A){i=i|0,A=A|0;var u=0,h=0;if(A>>>0>20)return A=-1,A|0;do if((l[11120+(A*216|0)>>2]|0)!=(i|0))if((l[11120+(A*216|0)+8>>2]|0)!=(i|0))if((l[11120+(A*216|0)+16>>2]|0)!=(i|0))if((l[11120+(A*216|0)+24>>2]|0)!=(i|0))if((l[11120+(A*216|0)+32>>2]|0)!=(i|0))if((l[11120+(A*216|0)+40>>2]|0)!=(i|0))if((l[11120+(A*216|0)+48>>2]|0)!=(i|0))if((l[11120+(A*216|0)+56>>2]|0)!=(i|0))if((l[11120+(A*216|0)+64>>2]|0)!=(i|0))if((l[11120+(A*216|0)+72>>2]|0)!=(i|0))if((l[11120+(A*216|0)+80>>2]|0)!=(i|0))if((l[11120+(A*216|0)+88>>2]|0)!=(i|0))if((l[11120+(A*216|0)+96>>2]|0)!=(i|0))if((l[11120+(A*216|0)+104>>2]|0)!=(i|0))if((l[11120+(A*216|0)+112>>2]|0)!=(i|0))if((l[11120+(A*216|0)+120>>2]|0)!=(i|0))if((l[11120+(A*216|0)+128>>2]|0)!=(i|0))if((l[11120+(A*216|0)+136>>2]|0)==(i|0))i=2,u=1,h=2;else{if((l[11120+(A*216|0)+144>>2]|0)==(i|0)){i=0,u=2,h=0;break}if((l[11120+(A*216|0)+152>>2]|0)==(i|0)){i=0,u=2,h=1;break}if((l[11120+(A*216|0)+160>>2]|0)==(i|0)){i=0,u=2,h=2;break}if((l[11120+(A*216|0)+168>>2]|0)==(i|0)){i=1,u=2,h=0;break}if((l[11120+(A*216|0)+176>>2]|0)==(i|0)){i=1,u=2,h=1;break}if((l[11120+(A*216|0)+184>>2]|0)==(i|0)){i=1,u=2,h=2;break}if((l[11120+(A*216|0)+192>>2]|0)==(i|0)){i=2,u=2,h=0;break}if((l[11120+(A*216|0)+200>>2]|0)==(i|0)){i=2,u=2,h=1;break}if((l[11120+(A*216|0)+208>>2]|0)==(i|0)){i=2,u=2,h=2;break}else i=-1;return i|0}else i=2,u=1,h=1;else i=2,u=1,h=0;else i=1,u=1,h=2;else i=1,u=1,h=1;else i=1,u=1,h=0;else i=0,u=1,h=2;else i=0,u=1,h=1;else i=0,u=1,h=0;else i=2,u=0,h=2;else i=2,u=0,h=1;else i=2,u=0,h=0;else i=1,u=0,h=2;else i=1,u=0,h=1;else i=1,u=0,h=0;else i=0,u=0,h=2;else i=0,u=0,h=1;else i=0,u=0,h=0;while(!1);return A=l[11120+(A*216|0)+(u*72|0)+(i*24|0)+(h<<3)+4>>2]|0,A|0}function c3(i,A){return i=i|0,A=A|0,(l[7696+(i*28|0)+20>>2]|0)==(A|0)?(A=1,A|0):(A=(l[7696+(i*28|0)+24>>2]|0)==(A|0),A|0)}function su(i,A){return i=i|0,A=A|0,l[848+(i*28|0)+(A<<2)>>2]|0}function ou(i,A){return i=i|0,A=A|0,(l[848+(i*28|0)>>2]|0)==(A|0)?(A=0,A|0):(l[848+(i*28|0)+4>>2]|0)==(A|0)?(A=1,A|0):(l[848+(i*28|0)+8>>2]|0)==(A|0)?(A=2,A|0):(l[848+(i*28|0)+12>>2]|0)==(A|0)?(A=3,A|0):(l[848+(i*28|0)+16>>2]|0)==(A|0)?(A=4,A|0):(l[848+(i*28|0)+20>>2]|0)==(A|0)?(A=5,A|0):((l[848+(i*28|0)+24>>2]|0)==(A|0)?6:7)|0}function jm(){return 122}function $m(i){i=i|0;var A=0,u=0,h=0;A=0;do ke(A|0,0,45)|0,h=U()|0|134225919,u=i+(A<<3)|0,l[u>>2]=-1,l[u+4>>2]=h,A=A+1|0;while((A|0)!=122);return 0}function Qm(i){i=i|0;var A=0,u=0,h=0;return h=+C[i+16>>3],u=+C[i+24>>3],A=h-u,+(h<u?A+6.283185307179586:A)}function h3(i){return i=i|0,+C[i+16>>3]<+C[i+24>>3]|0}function Ym(i){return i=i|0,+(+C[i>>3]-+C[i+8>>3])}function iu(i,A){i=i|0,A=A|0;var u=0,h=0,p=0;return u=+C[A>>3],!(u>=+C[i+8>>3])||!(u<=+C[i>>3])?(A=0,A|0):(h=+C[i+16>>3],u=+C[i+24>>3],p=+C[A+8>>3],A=p>=u,i=p<=h&1,h<u?A&&(i=1):A||(i=0),A=(i|0)!=0,A|0)}function lu(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0;return+C[i>>3]<+C[A+8>>3]||+C[i+8>>3]>+C[A>>3]?(h=0,h|0):(f=+C[i+16>>3],u=i+24|0,k=+C[u>>3],v=f<k,h=A+16|0,b=+C[h>>3],p=A+24|0,S=+C[p>>3],y=b<S,A=k-b<S-f,i=v?y|A?1:2:0,A=y?v?1:A?2:1:0,f=+In(f,i),f<+In(+C[p>>3],A)||(k=+In(+C[u>>3],i),k>+In(+C[h>>3],A))?(y=0,y|0):(y=1,y|0))}function Xm(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0;f=+C[i+16>>3],S=+C[i+24>>3],i=f<S,y=+C[A+16>>3],v=+C[A+24>>3],p=y<v,A=S-y<v-f,l[u>>2]=i?p|A?1:2:0,l[h>>2]=p?i?1:A?2:1:0}function p3(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0;return+C[i>>3]<+C[A>>3]||+C[i+8>>3]>+C[A+8>>3]?(h=0,h|0):(h=i+16|0,S=+C[h>>3],f=+C[i+24>>3],v=S<f,u=A+16|0,k=+C[u>>3],p=A+24|0,b=+C[p>>3],y=k<b,A=f-k<b-S,i=v?y|A?1:2:0,A=y?v?1:A?2:1:0,f=+In(f,i),f<=+In(+C[p>>3],A)?(k=+In(+C[h>>3],i),y=k>=+In(+C[u>>3],A),y|0):(y=0,y|0))}function g3(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0,y=0;p=P,P=P+176|0,h=p,l[h>>2]=4,y=+C[A>>3],C[h+8>>3]=y,f=+C[A+16>>3],C[h+16>>3]=f,C[h+24>>3]=y,y=+C[A+24>>3],C[h+32>>3]=y,v=+C[A+8>>3],C[h+40>>3]=v,C[h+48>>3]=y,C[h+56>>3]=v,C[h+64>>3]=f,A=h+72|0,u=A+96|0;do l[A>>2]=0,A=A+4|0;while((A|0)<(u|0));ls(i|0,h|0,168)|0,P=p}function D3(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0;W=P,P=P+288|0,k=W+264|0,q=W+96|0,b=W,y=b,S=y+96|0;do l[y>>2]=0,y=y+4|0;while((y|0)<(S|0));return A=yu(A,b)|0,A|0?(z=A,P=W,z|0):(S=b,b=l[S>>2]|0,S=l[S+4>>2]|0,g1(b,S,k)|0,rs(b,S,q)|0,v=+Do(k,q+8|0),C[k>>3]=+C[i>>3],S=k+8|0,C[S>>3]=+C[i+16>>3],C[q>>3]=+C[i+8>>3],b=q+8|0,C[b>>3]=+C[i+24>>3],p=+Do(k,q),se=+C[S>>3]-+C[b>>3],f=+pt(+se),K=+C[k>>3]-+C[q>>3],h=+pt(+K),!(se==0|K==0)&&(se=+Y3(+f,+h),se=+ts(+(p*p/+d2(+(se/+d2(+f,+h)),3)/(v*(v*2.59807621135)*.8))),C[xt>>3]=se,H=~~se>>>0,z=+pt(se)>=1?se>0?~~+au(+Na(se/4294967296),4294967295)>>>0:~~+ts((se-+(~~se>>>0))/4294967296)>>>0:0,(l[xt+4>>2]&2146435072|0)!=2146435072)?(q=(H|0)==0&(z|0)==0,A=u,l[A>>2]=q?1:H,l[A+4>>2]=q?0:z,A=0):A=1,z=A,P=W,z|0)}function Km(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0,k=0;b=P,P=P+288|0,v=b+264|0,y=b+96|0,S=b,p=S,f=p+96|0;do l[p>>2]=0,p=p+4|0;while((p|0)<(f|0));return u=yu(u,S)|0,u|0?(h=u,P=b,h|0):(u=S,p=l[u>>2]|0,u=l[u+4>>2]|0,g1(p,u,v)|0,rs(p,u,y)|0,k=+Do(v,y+8|0),k=+ts(+(+Do(i,A)/(k*2))),C[xt>>3]=k,u=~~k>>>0,p=+pt(k)>=1?k>0?~~+au(+Na(k/4294967296),4294967295)>>>0:~~+ts((k-+(~~k>>>0))/4294967296)>>>0:0,(l[xt+4>>2]&2146435072|0)==2146435072?(h=1,P=b,h|0):(S=(u|0)==0&(p|0)==0,l[h>>2]=S?1:u,l[h+4>>2]=S?0:p,h=0,P=b,h|0))}function Zm(i,A){i=i|0,A=+A;var u=0,h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0;f=i+16|0,v=+C[f>>3],u=i+24|0,p=+C[u>>3],h=v-p,h=v<p?h+6.283185307179586:h,b=+C[i>>3],y=i+8|0,S=+C[y>>3],k=b-S,h=(h*A-h)*.5,A=(k*A-k)*.5,b=b+A,C[i>>3]=b>1.5707963267948966?1.5707963267948966:b,A=S-A,C[y>>3]=A<-1.5707963267948966?-1.5707963267948966:A,A=v+h,A=A>3.141592653589793?A+-6.283185307179586:A,C[f>>3]=A<-3.141592653589793?A+6.283185307179586:A,A=p-h,A=A>3.141592653589793?A+-6.283185307179586:A,C[u>>3]=A<-3.141592653589793?A+6.283185307179586:A}function Jm(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0,l[i>>2]=A,l[i+4>>2]=u,l[i+8>>2]=h}function ey(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0;q=A+8|0,l[q>>2]=0,S=+C[i>>3],v=+pt(+S),b=+C[i+8>>3],y=+pt(+b)*1.1547005383792515,v=v+y*.5,u=~~v,i=~~y,v=v-+(u|0),y=y-+(i|0);do if(v<.5)if(v<.3333333333333333)if(l[A>>2]=u,y<(v+1)*.5){l[A+4>>2]=i;break}else{i=i+1|0,l[A+4>>2]=i;break}else if(H=1-v,i=(!(y<H)&1)+i|0,l[A+4>>2]=i,H<=y&y<v*2){u=u+1|0,l[A>>2]=u;break}else{l[A>>2]=u;break}else{if(!(v<.6666666666666666))if(u=u+1|0,l[A>>2]=u,y<v*.5){l[A+4>>2]=i;break}else{i=i+1|0,l[A+4>>2]=i;break}if(y<1-v){if(l[A+4>>2]=i,v*2+-1<y){l[A>>2]=u;break}}else i=i+1|0,l[A+4>>2]=i;u=u+1|0,l[A>>2]=u}while(!1);do if(S<0)if(i&1){k=(i+1|0)/2|0,k=La(u|0,((u|0)<0)<<31>>31|0,k|0,((k|0)<0)<<31>>31|0)|0,u=~~(+(u|0)-((+(k>>>0)+4294967296*+(U()|0))*2+1)),l[A>>2]=u;break}else{k=(i|0)/2|0,k=La(u|0,((u|0)<0)<<31>>31|0,k|0,((k|0)<0)<<31>>31|0)|0,u=~~(+(u|0)-(+(k>>>0)+4294967296*+(U()|0))*2),l[A>>2]=u;break}while(!1);k=A+4|0,b<0&&(u=u-((i<<1|1|0)/2|0)|0,l[A>>2]=u,i=0-i|0,l[k>>2]=i),h=i-u|0,(u|0)<0?(p=0-u|0,l[k>>2]=h,l[q>>2]=p,l[A>>2]=0,i=h,u=0):p=0,(i|0)<0&&(u=u-i|0,l[A>>2]=u,p=p-i|0,l[q>>2]=p,l[k>>2]=0,i=0),f=u-p|0,h=i-p|0,(p|0)<0&&(l[A>>2]=f,l[k>>2]=h,l[q>>2]=0,i=h,u=f,p=0),h=(i|0)<(u|0)?i:u,h=(p|0)<(h|0)?p:h,!((h|0)<=0)&&(l[A>>2]=u-h,l[k>>2]=i-h,l[q>>2]=p-h)}function Qa(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0;A=l[i>>2]|0,v=i+4|0,u=l[v>>2]|0,(A|0)<0&&(u=u-A|0,l[v>>2]=u,f=i+8|0,l[f>>2]=(l[f>>2]|0)-A,l[i>>2]=0,A=0),(u|0)<0?(A=A-u|0,l[i>>2]=A,f=i+8|0,p=(l[f>>2]|0)-u|0,l[f>>2]=p,l[v>>2]=0,u=0):(p=i+8|0,f=p,p=l[p>>2]|0),(p|0)<0&&(A=A-p|0,l[i>>2]=A,u=u-p|0,l[v>>2]=u,l[f>>2]=0,p=0),h=(u|0)<(A|0)?u:A,h=(p|0)<(h|0)?p:h,!((h|0)<=0)&&(l[i>>2]=A-h,l[v>>2]=u-h,l[f>>2]=p-h)}function d1(i,A){i=i|0,A=A|0;var u=0,h=0;h=l[i+8>>2]|0,u=+((l[i+4>>2]|0)-h|0),C[A>>3]=+((l[i>>2]|0)-h|0)-u*.5,C[A+8>>3]=u*.8660254037844386}function rn(i,A,u){i=i|0,A=A|0,u=u|0,l[u>>2]=(l[A>>2]|0)+(l[i>>2]|0),l[u+4>>2]=(l[A+4>>2]|0)+(l[i+4>>2]|0),l[u+8>>2]=(l[A+8>>2]|0)+(l[i+8>>2]|0)}function Au(i,A,u){i=i|0,A=A|0,u=u|0,l[u>>2]=(l[i>>2]|0)-(l[A>>2]|0),l[u+4>>2]=(l[i+4>>2]|0)-(l[A+4>>2]|0),l[u+8>>2]=(l[i+8>>2]|0)-(l[A+8>>2]|0)}function f3(i,A){i=i|0,A=A|0;var u=0,h=0;u=w0(l[i>>2]|0,A)|0,l[i>>2]=u,u=i+4|0,h=w0(l[u>>2]|0,A)|0,l[u>>2]=h,i=i+8|0,A=w0(l[i>>2]|0,A)|0,l[i>>2]=A}function s2(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0;v=l[i>>2]|0,y=(v|0)<0,h=(l[i+4>>2]|0)-(y?v:0)|0,f=(h|0)<0,p=(f?0-h|0:0)+((l[i+8>>2]|0)-(y?v:0))|0,u=(p|0)<0,i=u?0:p,A=(f?0:h)-(u?p:0)|0,p=(y?0:v)-(f?h:0)-(u?p:0)|0,u=(A|0)<(p|0)?A:p,u=(i|0)<(u|0)?i:u,h=(u|0)>0,i=i-(h?u:0)|0,A=A-(h?u:0)|0;e:do switch(p-(h?u:0)|0){case 0:switch(A|0){case 0:return y=(i|0)==0?0:(i|0)==1?1:7,y|0;case 1:return y=(i|0)==0?2:(i|0)==1?3:7,y|0;default:break e}case 1:switch(A|0){case 0:return y=(i|0)==0?4:(i|0)==1?5:7,y|0;case 1:{if(!i)i=6;else break e;return i|0}default:break e}}while(!1);return y=7,y|0}function ty(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0,S=0,b=0;if(S=i+8|0,v=l[S>>2]|0,y=(l[i>>2]|0)-v|0,b=i+4|0,v=(l[b>>2]|0)-v|0,y>>>0>715827881|v>>>0>715827881){if(h=(y|0)>0,p=2147483647-y|0,f=-2147483648-y|0,(h?(p|0)<(y|0):(f|0)>(y|0))||(u=y<<1,h?(2147483647-u|0)<(y|0):(-2147483648-u|0)>(y|0))||((v|0)>0?(2147483647-v|0)<(v|0):(-2147483648-v|0)>(v|0))||(A=y*3|0,u=v<<1,(h?(p|0)<(u|0):(f|0)>(u|0))||((y|0)>-1?(A|-2147483648|0)>=(v|0):(A^-2147483648|0)<(v|0))))return b=1,b|0}else u=v<<1,A=y*3|0;return h=kr(+(A-v|0)*.14285714285714285)|0,l[i>>2]=h,p=kr(+(u+y|0)*.14285714285714285)|0,l[b>>2]=p,l[S>>2]=0,u=(p|0)<(h|0),A=u?h:p,u=u?p:h,(u|0)<0&&(((u|0)==-2147483648||((A|0)>0?(2147483647-A|0)<(u|0):(-2147483648-A|0)>(u|0)))&&Ye(27795,26892,354,26903),((A|0)>-1?(A|-2147483648|0)>=(u|0):(A^-2147483648|0)<(u|0))&&Ye(27795,26892,354,26903)),A=p-h|0,(h|0)<0?(u=0-h|0,l[b>>2]=A,l[S>>2]=u,l[i>>2]=0,h=0):(A=p,u=0),(A|0)<0&&(h=h-A|0,l[i>>2]=h,u=u-A|0,l[S>>2]=u,l[b>>2]=0,A=0),f=h-u|0,p=A-u|0,(u|0)<0?(l[i>>2]=f,l[b>>2]=p,l[S>>2]=0,A=p,p=f,u=0):p=h,h=(A|0)<(p|0)?A:p,h=(u|0)<(h|0)?u:h,(h|0)<=0?(b=0,b|0):(l[i>>2]=p-h,l[b>>2]=A-h,l[S>>2]=u-h,b=0,b|0)}function ay(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0,S=0;if(v=i+8|0,p=l[v>>2]|0,f=(l[i>>2]|0)-p|0,y=i+4|0,p=(l[y>>2]|0)-p|0,f>>>0>715827881|p>>>0>715827881){if(u=(f|0)>0,(u?(2147483647-f|0)<(f|0):(-2147483648-f|0)>(f|0))||(A=f<<1,h=(p|0)>0,h?(2147483647-p|0)<(p|0):(-2147483648-p|0)>(p|0)))return y=1,y|0;if(S=p<<1,(h?(2147483647-S|0)<(p|0):(-2147483648-S|0)>(p|0))||(u?(2147483647-A|0)<(p|0):(-2147483648-A|0)>(p|0))||(u=p*3|0,(p|0)>-1?(u|-2147483648|0)>=(f|0):(u^-2147483648|0)<(f|0)))return S=1,S|0}else u=p*3|0,A=f<<1;return h=kr(+(A+p|0)*.14285714285714285)|0,l[i>>2]=h,p=kr(+(u-f|0)*.14285714285714285)|0,l[y>>2]=p,l[v>>2]=0,u=(p|0)<(h|0),A=u?h:p,u=u?p:h,(u|0)<0&&(((u|0)==-2147483648||((A|0)>0?(2147483647-A|0)<(u|0):(-2147483648-A|0)>(u|0)))&&Ye(27795,26892,402,26917),((A|0)>-1?(A|-2147483648|0)>=(u|0):(A^-2147483648|0)<(u|0))&&Ye(27795,26892,402,26917)),A=p-h|0,(h|0)<0?(u=0-h|0,l[y>>2]=A,l[v>>2]=u,l[i>>2]=0,h=0):(A=p,u=0),(A|0)<0&&(h=h-A|0,l[i>>2]=h,u=u-A|0,l[v>>2]=u,l[y>>2]=0,A=0),f=h-u|0,p=A-u|0,(u|0)<0?(l[i>>2]=f,l[y>>2]=p,l[v>>2]=0,A=p,p=f,u=0):p=h,h=(A|0)<(p|0)?A:p,h=(u|0)<(h|0)?u:h,(h|0)<=0?(S=0,S|0):(l[i>>2]=p-h,l[y>>2]=A-h,l[v>>2]=u-h,S=0,S|0)}function ny(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0;v=i+8|0,u=l[v>>2]|0,A=(l[i>>2]|0)-u|0,y=i+4|0,u=(l[y>>2]|0)-u|0,h=kr(+((A*3|0)-u|0)*.14285714285714285)|0,l[i>>2]=h,A=kr(+((u<<1)+A|0)*.14285714285714285)|0,l[y>>2]=A,l[v>>2]=0,u=A-h|0,(h|0)<0?(f=0-h|0,l[y>>2]=u,l[v>>2]=f,l[i>>2]=0,A=u,h=0,u=f):u=0,(A|0)<0&&(h=h-A|0,l[i>>2]=h,u=u-A|0,l[v>>2]=u,l[y>>2]=0,A=0),f=h-u|0,p=A-u|0,(u|0)<0?(l[i>>2]=f,l[y>>2]=p,l[v>>2]=0,A=p,p=f,u=0):p=h,h=(A|0)<(p|0)?A:p,h=(u|0)<(h|0)?u:h,!((h|0)<=0)&&(l[i>>2]=p-h,l[y>>2]=A-h,l[v>>2]=u-h)}function v3(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0;v=i+8|0,u=l[v>>2]|0,A=(l[i>>2]|0)-u|0,y=i+4|0,u=(l[y>>2]|0)-u|0,h=kr(+((A<<1)+u|0)*.14285714285714285)|0,l[i>>2]=h,A=kr(+((u*3|0)-A|0)*.14285714285714285)|0,l[y>>2]=A,l[v>>2]=0,u=A-h|0,(h|0)<0?(f=0-h|0,l[y>>2]=u,l[v>>2]=f,l[i>>2]=0,A=u,h=0,u=f):u=0,(A|0)<0&&(h=h-A|0,l[i>>2]=h,u=u-A|0,l[v>>2]=u,l[y>>2]=0,A=0),f=h-u|0,p=A-u|0,(u|0)<0?(l[i>>2]=f,l[y>>2]=p,l[v>>2]=0,A=p,p=f,u=0):p=h,h=(A|0)<(p|0)?A:p,h=(u|0)<(h|0)?u:h,!((h|0)<=0)&&(l[i>>2]=p-h,l[y>>2]=A-h,l[v>>2]=u-h)}function o2(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0;A=l[i>>2]|0,v=i+4|0,u=l[v>>2]|0,y=i+8|0,h=l[y>>2]|0,p=u+(A*3|0)|0,l[i>>2]=p,u=h+(u*3|0)|0,l[v>>2]=u,A=(h*3|0)+A|0,l[y>>2]=A,h=u-p|0,(p|0)<0?(A=A-p|0,l[v>>2]=h,l[y>>2]=A,l[i>>2]=0,u=h,h=0):h=p,(u|0)<0&&(h=h-u|0,l[i>>2]=h,A=A-u|0,l[y>>2]=A,l[v>>2]=0,u=0),f=h-A|0,p=u-A|0,(A|0)<0?(l[i>>2]=f,l[v>>2]=p,l[y>>2]=0,h=f,A=0):p=u,u=(p|0)<(h|0)?p:h,u=(A|0)<(u|0)?A:u,!((u|0)<=0)&&(l[i>>2]=h-u,l[v>>2]=p-u,l[y>>2]=A-u)}function c1(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0;p=l[i>>2]|0,v=i+4|0,A=l[v>>2]|0,y=i+8|0,u=l[y>>2]|0,h=(A*3|0)+p|0,p=u+(p*3|0)|0,l[i>>2]=p,l[v>>2]=h,A=(u*3|0)+A|0,l[y>>2]=A,u=h-p|0,(p|0)<0?(A=A-p|0,l[v>>2]=u,l[y>>2]=A,l[i>>2]=0,p=0):u=h,(u|0)<0&&(p=p-u|0,l[i>>2]=p,A=A-u|0,l[y>>2]=A,l[v>>2]=0,u=0),f=p-A|0,h=u-A|0,(A|0)<0?(l[i>>2]=f,l[v>>2]=h,l[y>>2]=0,p=f,A=0):h=u,u=(h|0)<(p|0)?h:p,u=(A|0)<(u|0)?A:u,!((u|0)<=0)&&(l[i>>2]=p-u,l[v>>2]=h-u,l[y>>2]=A-u)}function m3(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0,y=0;(A+-1|0)>>>0>=6||(p=(l[15440+(A*12|0)>>2]|0)+(l[i>>2]|0)|0,l[i>>2]=p,y=i+4|0,h=(l[15440+(A*12|0)+4>>2]|0)+(l[y>>2]|0)|0,l[y>>2]=h,v=i+8|0,A=(l[15440+(A*12|0)+8>>2]|0)+(l[v>>2]|0)|0,l[v>>2]=A,u=h-p|0,(p|0)<0?(A=A-p|0,l[y>>2]=u,l[v>>2]=A,l[i>>2]=0,h=0):(u=h,h=p),(u|0)<0&&(h=h-u|0,l[i>>2]=h,A=A-u|0,l[v>>2]=A,l[y>>2]=0,u=0),f=h-A|0,p=u-A|0,(A|0)<0?(l[i>>2]=f,l[y>>2]=p,l[v>>2]=0,h=f,A=0):p=u,u=(p|0)<(h|0)?p:h,u=(A|0)<(u|0)?A:u,!((u|0)<=0)&&(l[i>>2]=h-u,l[y>>2]=p-u,l[v>>2]=A-u))}function y3(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0;p=l[i>>2]|0,v=i+4|0,A=l[v>>2]|0,y=i+8|0,u=l[y>>2]|0,h=A+p|0,p=u+p|0,l[i>>2]=p,l[v>>2]=h,A=u+A|0,l[y>>2]=A,u=h-p|0,(p|0)<0?(A=A-p|0,l[v>>2]=u,l[y>>2]=A,l[i>>2]=0,h=0):(u=h,h=p),(u|0)<0&&(h=h-u|0,l[i>>2]=h,A=A-u|0,l[y>>2]=A,l[v>>2]=0,u=0),f=h-A|0,p=u-A|0,(A|0)<0?(l[i>>2]=f,l[v>>2]=p,l[y>>2]=0,h=f,A=0):p=u,u=(p|0)<(h|0)?p:h,u=(A|0)<(u|0)?A:u,!((u|0)<=0)&&(l[i>>2]=h-u,l[v>>2]=p-u,l[y>>2]=A-u)}function i2(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0;A=l[i>>2]|0,v=i+4|0,h=l[v>>2]|0,y=i+8|0,u=l[y>>2]|0,p=h+A|0,l[i>>2]=p,h=u+h|0,l[v>>2]=h,A=u+A|0,l[y>>2]=A,u=h-p|0,(p|0)<0?(A=A-p|0,l[v>>2]=u,l[y>>2]=A,l[i>>2]=0,h=0):(u=h,h=p),(u|0)<0&&(h=h-u|0,l[i>>2]=h,A=A-u|0,l[y>>2]=A,l[v>>2]=0,u=0),f=h-A|0,p=u-A|0,(A|0)<0?(l[i>>2]=f,l[v>>2]=p,l[y>>2]=0,h=f,A=0):p=u,u=(p|0)<(h|0)?p:h,u=(A|0)<(u|0)?A:u,!((u|0)<=0)&&(l[i>>2]=h-u,l[v>>2]=p-u,l[y>>2]=A-u)}function h1(i){switch(i=i|0,i|0){case 1:{i=5;break}case 5:{i=4;break}case 4:{i=6;break}case 6:{i=2;break}case 2:{i=3;break}case 3:{i=1;break}}return i|0}function Ir(i){switch(i=i|0,i|0){case 1:{i=3;break}case 3:{i=2;break}case 2:{i=6;break}case 6:{i=4;break}case 4:{i=5;break}case 5:{i=1;break}}return i|0}function _3(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0;A=l[i>>2]|0,v=i+4|0,u=l[v>>2]|0,y=i+8|0,h=l[y>>2]|0,p=u+(A<<1)|0,l[i>>2]=p,u=h+(u<<1)|0,l[v>>2]=u,A=(h<<1)+A|0,l[y>>2]=A,h=u-p|0,(p|0)<0?(A=A-p|0,l[v>>2]=h,l[y>>2]=A,l[i>>2]=0,u=h,h=0):h=p,(u|0)<0&&(h=h-u|0,l[i>>2]=h,A=A-u|0,l[y>>2]=A,l[v>>2]=0,u=0),f=h-A|0,p=u-A|0,(A|0)<0?(l[i>>2]=f,l[v>>2]=p,l[y>>2]=0,h=f,A=0):p=u,u=(p|0)<(h|0)?p:h,u=(A|0)<(u|0)?A:u,!((u|0)<=0)&&(l[i>>2]=h-u,l[v>>2]=p-u,l[y>>2]=A-u)}function w3(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0;p=l[i>>2]|0,v=i+4|0,A=l[v>>2]|0,y=i+8|0,u=l[y>>2]|0,h=(A<<1)+p|0,p=u+(p<<1)|0,l[i>>2]=p,l[v>>2]=h,A=(u<<1)+A|0,l[y>>2]=A,u=h-p|0,(p|0)<0?(A=A-p|0,l[v>>2]=u,l[y>>2]=A,l[i>>2]=0,p=0):u=h,(u|0)<0&&(p=p-u|0,l[i>>2]=p,A=A-u|0,l[y>>2]=A,l[v>>2]=0,u=0),f=p-A|0,h=u-A|0,(A|0)<0?(l[i>>2]=f,l[v>>2]=h,l[y>>2]=0,p=f,A=0):h=u,u=(h|0)<(p|0)?h:p,u=(A|0)<(u|0)?A:u,!((u|0)<=0)&&(l[i>>2]=p-u,l[v>>2]=h-u,l[y>>2]=A-u)}function uu(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0,y=0;return v=(l[i>>2]|0)-(l[A>>2]|0)|0,y=(v|0)<0,h=(l[i+4>>2]|0)-(l[A+4>>2]|0)-(y?v:0)|0,f=(h|0)<0,p=(y?0-v|0:0)+(l[i+8>>2]|0)-(l[A+8>>2]|0)+(f?0-h|0:0)|0,i=(p|0)<0,A=i?0:p,u=(f?0:h)-(i?p:0)|0,p=(y?0:v)-(f?h:0)-(i?p:0)|0,i=(u|0)<(p|0)?u:p,i=(A|0)<(i|0)?A:i,h=(i|0)>0,A=A-(h?i:0)|0,u=u-(h?i:0)|0,i=p-(h?i:0)|0,i=(i|0)>-1?i:0-i|0,u=(u|0)>-1?u:0-u|0,A=(A|0)>-1?A:0-A|0,A=(u|0)>(A|0)?u:A,((i|0)>(A|0)?i:A)|0}function ry(i,A){i=i|0,A=A|0;var u=0;u=l[i+8>>2]|0,l[A>>2]=(l[i>>2]|0)-u,l[A+4>>2]=(l[i+4>>2]|0)-u}function sy(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0,y=0;return h=l[i>>2]|0,l[A>>2]=h,p=l[i+4>>2]|0,v=A+4|0,l[v>>2]=p,y=A+8|0,l[y>>2]=0,u=(p|0)<(h|0),i=u?h:p,u=u?p:h,(u|0)<0&&((u|0)==-2147483648||((i|0)>0?(2147483647-i|0)<(u|0):(-2147483648-i|0)>(u|0))||((i|0)>-1?(i|-2147483648|0)>=(u|0):(i^-2147483648|0)<(u|0)))?(A=1,A|0):(i=p-h|0,(h|0)<0?(u=0-h|0,l[v>>2]=i,l[y>>2]=u,l[A>>2]=0,h=0):(i=p,u=0),(i|0)<0&&(h=h-i|0,l[A>>2]=h,u=u-i|0,l[y>>2]=u,l[v>>2]=0,i=0),f=h-u|0,p=i-u|0,(u|0)<0?(l[A>>2]=f,l[v>>2]=p,l[y>>2]=0,i=p,p=f,u=0):p=h,h=(i|0)<(p|0)?i:p,h=(u|0)<(h|0)?u:h,(h|0)<=0?(A=0,A|0):(l[A>>2]=p-h,l[v>>2]=i-h,l[y>>2]=u-h,A=0,A|0))}function S3(i){i=i|0;var A=0,u=0,h=0,p=0;A=i+8|0,p=l[A>>2]|0,u=p-(l[i>>2]|0)|0,l[i>>2]=u,h=i+4|0,i=(l[h>>2]|0)-p|0,l[h>>2]=i,l[A>>2]=0-(i+u)}function oy(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0;u=l[i>>2]|0,A=0-u|0,l[i>>2]=A,v=i+8|0,l[v>>2]=0,y=i+4|0,h=l[y>>2]|0,p=h+u|0,(u|0)>0?(l[y>>2]=p,l[v>>2]=u,l[i>>2]=0,A=0,h=p):u=0,(h|0)<0?(f=A-h|0,l[i>>2]=f,u=u-h|0,l[v>>2]=u,l[y>>2]=0,p=f-u|0,A=0-u|0,(u|0)<0?(l[i>>2]=p,l[y>>2]=A,l[v>>2]=0,h=A,u=0):(h=0,p=f)):p=A,A=(h|0)<(p|0)?h:p,A=(u|0)<(A|0)?u:A,!((A|0)<=0)&&(l[i>>2]=p-A,l[y>>2]=h-A,l[v>>2]=u-A)}function iy(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0,y=0,S=0,b=0,k=0,q=0;if(q=P,P=P+64|0,k=q,y=q+56|0,!(!0&(A&2013265920|0)==134217728&(!0&(h&2013265920|0)==134217728)))return p=5,P=q,p|0;if((i|0)==(u|0)&(A|0)==(h|0))return l[p>>2]=0,p=0,P=q,p|0;if(v=we(i|0,A|0,52)|0,U()|0,v=v&15,b=we(u|0,h|0,52)|0,U()|0,(v|0)!=(b&15|0))return p=12,P=q,p|0;if(f=v+-1|0,v>>>0>1){gu(i,A,f,k)|0,gu(u,h,f,y)|0,b=k,S=l[b>>2]|0,b=l[b+4>>2]|0;e:do if((S|0)==(l[y>>2]|0)&&(b|0)==(l[y+4>>2]|0)){v=(v^15)*3|0,f=we(i|0,A|0,v|0)|0,U()|0,f=f&7,v=we(u|0,h|0,v|0)|0,U()|0,v=v&7;do if((f|0)==0|(v|0)==0)l[p>>2]=1,f=0;else if((f|0)==7)f=5;else{if((f|0)==1|(v|0)==1&&Vt(S,b)|0){f=5;break}if((l[15536+(f<<2)>>2]|0)!=(v|0)&&(l[15568+(f<<2)>>2]|0)!=(v|0))break e;l[p>>2]=1,f=0}while(!1);return p=f,P=q,p|0}while(!1)}f=k,v=f+56|0;do l[f>>2]=0,f=f+4|0;while((f|0)<(v|0));return i3(i,A,1,k)|0,A=k,!((l[A>>2]|0)==(u|0)&&(l[A+4>>2]|0)==(h|0))&&(A=k+8|0,!((l[A>>2]|0)==(u|0)&&(l[A+4>>2]|0)==(h|0)))&&(A=k+16|0,!((l[A>>2]|0)==(u|0)&&(l[A+4>>2]|0)==(h|0)))&&(A=k+24|0,!((l[A>>2]|0)==(u|0)&&(l[A+4>>2]|0)==(h|0)))&&(A=k+32|0,!((l[A>>2]|0)==(u|0)&&(l[A+4>>2]|0)==(h|0)))&&(A=k+40|0,!((l[A>>2]|0)==(u|0)&&(l[A+4>>2]|0)==(h|0)))?(f=k+48|0,f=((l[f>>2]|0)==(u|0)?(l[f+4>>2]|0)==(h|0):0)&1):f=1,l[p>>2]=f,p=0,P=q,p|0}function ly(i,A,u,h,p){return i=i|0,A=A|0,u=u|0,h=h|0,p=p|0,u=nu(i,A,u,h)|0,(u|0)==7?(p=11,p|0):(h=ke(u|0,0,56)|0,A=A&-2130706433|(U()|0)|268435456,l[p>>2]=i|h,l[p+4>>2]=A,p=0,p|0)}function Ay(i,A,u){return i=i|0,A=A|0,u=u|0,!0&(A&2013265920|0)==268435456?(l[u>>2]=i,l[u+4>>2]=A&-2130706433|134217728,u=0,u|0):(u=6,u|0)}function uy(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0;return p=P,P=P+16|0,h=p,l[h>>2]=0,!0&(A&2013265920|0)==268435456?(f=we(i|0,A|0,56)|0,U()|0,h=Ra(i,A&-2130706433|134217728,f&7,h,u)|0,P=p,h|0):(h=6,P=p,h|0)}function dy(i,A){i=i|0,A=A|0;var u=0;switch(u=we(i|0,A|0,56)|0,U()|0,u&7){case 0:case 7:return u=0,u|0}return u=A&-2130706433|134217728,!(!0&(A&2013265920|0)==268435456)||!0&(A&117440512|0)==16777216&(Vt(i,u)|0)!=0?(u=0,u|0):(u=hu(i,u)|0,u|0)}function cy(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0;return p=P,P=P+16|0,h=p,!0&(A&2013265920|0)==268435456?(f=A&-2130706433|134217728,v=u,l[v>>2]=i,l[v+4>>2]=f,l[h>>2]=0,A=we(i|0,A|0,56)|0,U()|0,h=Ra(i,f,A&7,h,u+8|0)|0,P=p,h|0):(h=6,P=p,h|0)}function hy(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0;return p=(Vt(i,A)|0)==0,A=A&-2130706433,h=u,l[h>>2]=p?i:0,l[h+4>>2]=p?A|285212672:0,h=u+8|0,l[h>>2]=i,l[h+4>>2]=A|301989888,h=u+16|0,l[h>>2]=i,l[h+4>>2]=A|318767104,h=u+24|0,l[h>>2]=i,l[h+4>>2]=A|335544320,h=u+32|0,l[h>>2]=i,l[h+4>>2]=A|352321536,u=u+40|0,l[u>>2]=i,l[u+4>>2]=A|369098752,0}function l2(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0;return v=P,P=P+16|0,p=v,f=A&-2130706433|134217728,!0&(A&2013265920|0)==268435456?(h=we(i|0,A|0,56)|0,U()|0,h=u_(i,f,h&7)|0,(h|0)==-1?(l[u>>2]=0,f=6,P=v,f|0):(ns(i,f,p)|0&&Ye(27795,26932,282,26947),A=we(i|0,A|0,52)|0,U()|0,A=A&15,Vt(i,f)|0?du(p,A,h,2,u):cu(p,A,h,2,u),f=0,P=v,f|0)):(f=6,P=v,f|0)}function py(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0;h=P,P=P+16|0,p=h,gy(i,A,u,p),ey(p,u+4|0),P=h}function gy(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0;if(y=P,P=P+16|0,S=y,Dy(i,u,S),f=+r2(+(1-+C[S>>3]*.5)),f<1e-16){l[h>>2]=0,l[h+4>>2]=0,l[h+8>>2]=0,l[h+12>>2]=0,P=y;return}if(S=l[u>>2]|0,p=+C[15920+(S*24|0)>>3],p=+go(p-+go(+Cy(15600+(S<<4)|0,i))),Un(A)|0?v=+go(p+-.3334731722518321):v=p,p=+Fn(+f)*2.618033988749896,(A|0)>0){i=0;do p=p*2.6457513110645907,i=i+1|0;while((i|0)!=(A|0))}f=+Et(+v)*p,C[h>>3]=f,v=+gt(+v)*p,C[h+8>>3]=v,P=y}function Dy(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0;if(f=P,P=P+32|0,p=f,A_(i,p),l[A>>2]=0,C[u>>3]=5,h=+wa(16400,p),h<+C[u>>3]&&(l[A>>2]=0,C[u>>3]=h),h=+wa(16424,p),h<+C[u>>3]&&(l[A>>2]=1,C[u>>3]=h),h=+wa(16448,p),h<+C[u>>3]&&(l[A>>2]=2,C[u>>3]=h),h=+wa(16472,p),h<+C[u>>3]&&(l[A>>2]=3,C[u>>3]=h),h=+wa(16496,p),h<+C[u>>3]&&(l[A>>2]=4,C[u>>3]=h),h=+wa(16520,p),h<+C[u>>3]&&(l[A>>2]=5,C[u>>3]=h),h=+wa(16544,p),h<+C[u>>3]&&(l[A>>2]=6,C[u>>3]=h),h=+wa(16568,p),h<+C[u>>3]&&(l[A>>2]=7,C[u>>3]=h),h=+wa(16592,p),h<+C[u>>3]&&(l[A>>2]=8,C[u>>3]=h),h=+wa(16616,p),h<+C[u>>3]&&(l[A>>2]=9,C[u>>3]=h),h=+wa(16640,p),h<+C[u>>3]&&(l[A>>2]=10,C[u>>3]=h),h=+wa(16664,p),h<+C[u>>3]&&(l[A>>2]=11,C[u>>3]=h),h=+wa(16688,p),h<+C[u>>3]&&(l[A>>2]=12,C[u>>3]=h),h=+wa(16712,p),h<+C[u>>3]&&(l[A>>2]=13,C[u>>3]=h),h=+wa(16736,p),h<+C[u>>3]&&(l[A>>2]=14,C[u>>3]=h),h=+wa(16760,p),h<+C[u>>3]&&(l[A>>2]=15,C[u>>3]=h),h=+wa(16784,p),h<+C[u>>3]&&(l[A>>2]=16,C[u>>3]=h),h=+wa(16808,p),h<+C[u>>3]&&(l[A>>2]=17,C[u>>3]=h),h=+wa(16832,p),h<+C[u>>3]&&(l[A>>2]=18,C[u>>3]=h),h=+wa(16856,p),!(h<+C[u>>3])){P=f;return}l[A>>2]=19,C[u>>3]=h,P=f}function ho(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0,y=0;if(f=+l_(i),f<1e-16){A=15600+(A<<4)|0,l[p>>2]=l[A>>2],l[p+4>>2]=l[A+4>>2],l[p+8>>2]=l[A+8>>2],l[p+12>>2]=l[A+12>>2];return}if(v=+On(+ +C[i+8>>3],+ +C[i>>3]),(u|0)>0){i=0;do f=f*.37796447300922725,i=i+1|0;while((i|0)!=(u|0))}y=f*.3333333333333333,h?(u=(Un(u)|0)==0,f=+tu(+((u?y:y*.37796447300922725)*.381966011250105))):(f=+tu(+(f*.381966011250105)),Un(u)|0&&(v=+go(v+.3334731722518321))),Py(15600+(A<<4)|0,+go(+C[15920+(A*24|0)>>3]-v),f,p)}function fy(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0;h=P,P=P+16|0,p=h,d1(i+4|0,p),ho(p,l[i>>2]|0,A,0,u),P=h}function du(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0,oe=0,J=0,Ie=0,Fe=0,Be=0,Ze=0,nt=0,Dt=0,$e=0,Oe=0,be=0,ht=0,qt=0,lt=0;if(ht=P,P=P+272|0,f=ht+256|0,Ae=ht+240|0,$e=ht,Oe=ht+224|0,be=ht+208|0,oe=ht+176|0,J=ht+160|0,Ie=ht+192|0,Fe=ht+144|0,Be=ht+128|0,Ze=ht+112|0,nt=ht+96|0,Dt=ht+80|0,l[f>>2]=A,l[Ae>>2]=l[i>>2],l[Ae+4>>2]=l[i+4>>2],l[Ae+8>>2]=l[i+8>>2],l[Ae+12>>2]=l[i+12>>2],x3(Ae,f,$e),l[p>>2]=0,Ae=h+u+((h|0)==5&1)|0,(Ae|0)<=(u|0)){P=ht;return}S=l[f>>2]|0,b=Oe+4|0,k=oe+4|0,q=u+5|0,H=16880+(S<<2)|0,z=16960+(S<<2)|0,W=Be+8|0,K=Ze+8|0,se=nt+8|0,ce=be+4|0,y=u;e:for(;;){v=$e+(((y|0)%5|0)<<4)|0,l[be>>2]=l[v>>2],l[be+4>>2]=l[v+4>>2],l[be+8>>2]=l[v+8>>2],l[be+12>>2]=l[v+12>>2];do;while((as(be,S,0,1)|0)==2);if((y|0)>(u|0)&(Un(A)|0)!=0){if(l[oe>>2]=l[be>>2],l[oe+4>>2]=l[be+4>>2],l[oe+8>>2]=l[be+8>>2],l[oe+12>>2]=l[be+12>>2],d1(b,J),h=l[oe>>2]|0,f=l[17040+(h*80|0)+(l[Oe>>2]<<2)>>2]|0,l[oe>>2]=l[18640+(h*80|0)+(f*20|0)>>2],v=l[18640+(h*80|0)+(f*20|0)+16>>2]|0,(v|0)>0){i=0;do y3(k),i=i+1|0;while((i|0)<(v|0))}switch(v=18640+(h*80|0)+(f*20|0)+4|0,l[Ie>>2]=l[v>>2],l[Ie+4>>2]=l[v+4>>2],l[Ie+8>>2]=l[v+8>>2],f3(Ie,(l[H>>2]|0)*3|0),rn(k,Ie,k),Qa(k),d1(k,Fe),qt=+(l[z>>2]|0),C[Be>>3]=qt*3,C[W>>3]=0,lt=qt*-1.5,C[Ze>>3]=lt,C[K>>3]=qt*2.598076211353316,C[nt>>3]=lt,C[se>>3]=qt*-2.598076211353316,l[17040+((l[oe>>2]|0)*80|0)+(l[be>>2]<<2)>>2]|0){case 1:{i=Ze,h=Be;break}case 3:{i=nt,h=Ze;break}case 2:{i=Be,h=nt;break}default:{i=12;break e}}U3(J,Fe,h,i,Dt),ho(Dt,l[oe>>2]|0,S,1,p+8+(l[p>>2]<<4)|0),l[p>>2]=(l[p>>2]|0)+1}if((y|0)<(q|0)&&(d1(ce,oe),ho(oe,l[be>>2]|0,S,1,p+8+(l[p>>2]<<4)|0),l[p>>2]=(l[p>>2]|0)+1),l[Oe>>2]=l[be>>2],l[Oe+4>>2]=l[be+4>>2],l[Oe+8>>2]=l[be+8>>2],l[Oe+12>>2]=l[be+12>>2],y=y+1|0,(y|0)>=(Ae|0)){i=3;break}}if((i|0)==3){P=ht;return}else(i|0)==12&&Ye(26970,27017,572,27027)}function x3(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0,S=0;S=P,P=P+128|0,h=S+64|0,p=S,f=h,v=20240,y=f+60|0;do l[f>>2]=l[v>>2],f=f+4|0,v=v+4|0;while((f|0)<(y|0));f=p,v=20304,y=f+60|0;do l[f>>2]=l[v>>2],f=f+4|0,v=v+4|0;while((f|0)<(y|0));y=(Un(l[A>>2]|0)|0)==0,h=y?h:p,p=i+4|0,_3(p),w3(p),Un(l[A>>2]|0)|0&&(c1(p),l[A>>2]=(l[A>>2]|0)+1),l[u>>2]=l[i>>2],A=u+4|0,rn(p,h,A),Qa(A),l[u+16>>2]=l[i>>2],A=u+20|0,rn(p,h+12|0,A),Qa(A),l[u+32>>2]=l[i>>2],A=u+36|0,rn(p,h+24|0,A),Qa(A),l[u+48>>2]=l[i>>2],A=u+52|0,rn(p,h+36|0,A),Qa(A),l[u+64>>2]=l[i>>2],u=u+68|0,rn(p,h+48|0,u),Qa(u),P=S}function as(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0;if(W=P,P=P+32|0,H=W+12|0,y=W,z=i+4|0,q=l[16960+(A<<2)>>2]|0,k=(h|0)!=0,q=k?q*3|0:q,p=l[z>>2]|0,b=i+8|0,v=l[b>>2]|0,k){if(f=i+12|0,h=l[f>>2]|0,p=v+p+h|0,(p|0)==(q|0))return z=1,P=W,z|0;S=f}else S=i+12|0,h=l[S>>2]|0,p=v+p+h|0;if((p|0)<=(q|0))return z=0,P=W,z|0;do if((h|0)>0){if(h=l[i>>2]|0,(v|0)>0){f=18640+(h*80|0)+60|0,h=i;break}h=18640+(h*80|0)+40|0,u?(Jm(H,q,0,0),Au(z,H,y),i2(y),rn(y,H,z),f=h,h=i):(f=h,h=i)}else f=18640+((l[i>>2]|0)*80|0)+20|0,h=i;while(!1);if(l[h>>2]=l[f>>2],p=f+16|0,(l[p>>2]|0)>0){h=0;do y3(z),h=h+1|0;while((h|0)<(l[p>>2]|0))}return i=f+4|0,l[H>>2]=l[i>>2],l[H+4>>2]=l[i+4>>2],l[H+8>>2]=l[i+8>>2],A=l[16880+(A<<2)>>2]|0,f3(H,k?A*3|0:A),rn(z,H,z),Qa(z),k?h=((l[b>>2]|0)+(l[z>>2]|0)+(l[S>>2]|0)|0)==(q|0)?1:2:h=2,z=h,P=W,z|0}function vy(i,A){i=i|0,A=A|0;var u=0;do u=as(i,A,0,1)|0;while((u|0)==2);return u|0}function cu(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0,oe=0,J=0,Ie=0,Fe=0,Be=0,Ze=0,nt=0,Dt=0,$e=0;if(nt=P,P=P+240|0,f=nt+224|0,Ie=nt+208|0,Fe=nt,Be=nt+192|0,Ze=nt+176|0,se=nt+160|0,ce=nt+144|0,Ae=nt+128|0,oe=nt+112|0,J=nt+96|0,l[f>>2]=A,l[Ie>>2]=l[i>>2],l[Ie+4>>2]=l[i+4>>2],l[Ie+8>>2]=l[i+8>>2],l[Ie+12>>2]=l[i+12>>2],b3(Ie,f,Fe),l[p>>2]=0,K=h+u+((h|0)==6&1)|0,(K|0)<=(u|0)){P=nt;return}S=l[f>>2]|0,b=u+6|0,k=16960+(S<<2)|0,q=ce+8|0,H=Ae+8|0,z=oe+8|0,W=Be+4|0,v=0,y=u,h=-1;e:for(;;){if(f=(y|0)%6|0,i=Fe+(f<<4)|0,l[Be>>2]=l[i>>2],l[Be+4>>2]=l[i+4>>2],l[Be+8>>2]=l[i+8>>2],l[Be+12>>2]=l[i+12>>2],i=v,v=as(Be,S,0,1)|0,(y|0)>(u|0)&(Un(A)|0)!=0&&(i|0)!=1&&(l[Be>>2]|0)!=(h|0)){switch(d1(Fe+(((f+5|0)%6|0)<<4)+4|0,Ze),d1(Fe+(f<<4)+4|0,se),Dt=+(l[k>>2]|0),C[ce>>3]=Dt*3,C[q>>3]=0,$e=Dt*-1.5,C[Ae>>3]=$e,C[H>>3]=Dt*2.598076211353316,C[oe>>3]=$e,C[z>>3]=Dt*-2.598076211353316,f=l[Ie>>2]|0,l[17040+(f*80|0)+(((h|0)==(f|0)?l[Be>>2]|0:h)<<2)>>2]|0){case 1:{i=Ae,h=ce;break}case 3:{i=oe,h=Ae;break}case 2:{i=ce,h=oe;break}default:{i=8;break e}}U3(Ze,se,h,i,J),!(G3(Ze,J)|0)&&!(G3(se,J)|0)&&(ho(J,l[Ie>>2]|0,S,1,p+8+(l[p>>2]<<4)|0),l[p>>2]=(l[p>>2]|0)+1)}if((y|0)<(b|0)&&(d1(W,Ze),ho(Ze,l[Be>>2]|0,S,1,p+8+(l[p>>2]<<4)|0),l[p>>2]=(l[p>>2]|0)+1),y=y+1|0,(y|0)>=(K|0)){i=3;break}else h=l[Be>>2]|0}if((i|0)==3){P=nt;return}else(i|0)==8&&Ye(27054,27017,737,27099)}function b3(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0,S=0;S=P,P=P+160|0,h=S+80|0,p=S,f=h,v=20368,y=f+72|0;do l[f>>2]=l[v>>2],f=f+4|0,v=v+4|0;while((f|0)<(y|0));f=p,v=20448,y=f+72|0;do l[f>>2]=l[v>>2],f=f+4|0,v=v+4|0;while((f|0)<(y|0));y=(Un(l[A>>2]|0)|0)==0,h=y?h:p,p=i+4|0,_3(p),w3(p),Un(l[A>>2]|0)|0&&(c1(p),l[A>>2]=(l[A>>2]|0)+1),l[u>>2]=l[i>>2],A=u+4|0,rn(p,h,A),Qa(A),l[u+16>>2]=l[i>>2],A=u+20|0,rn(p,h+12|0,A),Qa(A),l[u+32>>2]=l[i>>2],A=u+36|0,rn(p,h+24|0,A),Qa(A),l[u+48>>2]=l[i>>2],A=u+52|0,rn(p,h+36|0,A),Qa(A),l[u+64>>2]=l[i>>2],A=u+68|0,rn(p,h+48|0,A),Qa(A),l[u+80>>2]=l[i>>2],u=u+84|0,rn(p,h+60|0,u),Qa(u),P=S}function my(i,A){return i=i|0,A=A|0,A=we(i|0,A|0,52)|0,U()|0,A&15|0}function T3(i,A){return i=i|0,A=A|0,A=we(i|0,A|0,45)|0,U()|0,A&127|0}function hu(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0;return!(!0&(A&-16777216|0)==134217728)||(h=we(i|0,A|0,52)|0,U()|0,h=h&15,u=we(i|0,A|0,45)|0,U()|0,u=u&127,u>>>0>121)?(i=0,i|0):(v=(h^15)*3|0,p=we(i|0,A|0,v|0)|0,v=ke(p|0,U()|0,v|0)|0,p=U()|0,f=La(-1227133514,-1171,v|0,p|0)|0,!((v&613566756&f|0)==0&(p&4681&(U()|0)|0)==0)||(v=(h*3|0)+19|0,f=ke(~i|0,~A|0,v|0)|0,v=we(f|0,U()|0,v|0)|0,!((h|0)==15|(v|0)==0&(U()|0)==0))?(v=0,v|0):!(Se[20528+u>>0]|0)||(A=A&8191,(i|0)==0&(A|0)==0)?(v=1,v|0):(v=Q3(i|0,A|0)|0,U()|0,((63-v|0)%3|0|0)!=0|0))}function pu(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0;if(p=ke(A|0,0,52)|0,f=U()|0,u=ke(u|0,0,45)|0,u=f|(U()|0)|134225919,(A|0)<1){f=-1,h=u,A=i,l[A>>2]=f,i=i+4|0,l[i>>2]=h;return}for(f=1,p=-1;v=(15-f|0)*3|0,y=ke(7,0,v|0)|0,u=u&~(U()|0),v=ke(h|0,0,v|0)|0,p=p&~y|v,u=u|(U()|0),(f|0)!=(A|0);)f=f+1|0;y=i,v=y,l[v>>2]=p,y=y+4|0,l[y>>2]=u}function gu(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0;if(f=we(i|0,A|0,52)|0,U()|0,f=f&15,u>>>0>15)return h=4,h|0;if((f|0)<(u|0))return h=12,h|0;if((f|0)==(u|0))return l[h>>2]=i,l[h+4>>2]=A,h=0,h|0;if(p=ke(u|0,0,52)|0,p=p|i,i=U()|0|A&-15728641,(f|0)>(u|0))do A=ke(7,0,(14-u|0)*3|0)|0,u=u+1|0,p=A|p,i=U()|0|i;while((u|0)<(f|0));return l[h>>2]=p,l[h+4>>2]=i,h=0,h|0}function po(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0;if(f=we(i|0,A|0,52)|0,U()|0,f=f&15,!((u|0)<16&(f|0)<=(u|0)))return h=4,h|0;p=u-f|0,u=we(i|0,A|0,45)|0,U()|0;e:do if(!(Zt(u&127)|0))u=Er(7,0,p,((p|0)<0)<<31>>31)|0,p=U()|0;else{t:do if(f|0){for(u=1;v=ke(7,0,(15-u|0)*3|0)|0,!!((v&i|0)==0&((U()|0)&A|0)==0);)if(u>>>0<f>>>0)u=u+1|0;else break t;u=Er(7,0,p,((p|0)<0)<<31>>31)|0,p=U()|0;break e}while(!1);u=Er(7,0,p,((p|0)<0)<<31>>31)|0,u=Ya(u|0,U()|0,5,0)|0,u=We(u|0,U()|0,-5,-1)|0,u=Nr(u|0,U()|0,6,0)|0,u=We(u|0,U()|0,1,0)|0,p=U()|0}while(!1);return v=h,l[v>>2]=u,l[v+4>>2]=p,v=0,v|0}function Vt(i,A){i=i|0,A=A|0;var u=0,h=0,p=0;if(p=we(i|0,A|0,45)|0,U()|0,!(Zt(p&127)|0))return p=0,p|0;p=we(i|0,A|0,52)|0,U()|0,p=p&15;e:do if(!p)u=0;else for(h=1;;){if(u=we(i|0,A|0,(15-h|0)*3|0)|0,U()|0,u=u&7,u|0)break e;if(h>>>0<p>>>0)h=h+1|0;else{u=0;break}}while(!1);return p=(u|0)==0&1,p|0}function yy(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0;if(v=P,P=P+16|0,f=v,_u(f,i,A,u),A=f,i=l[A>>2]|0,A=l[A+4>>2]|0,(i|0)==0&(A|0)==0)return P=v,0;p=0,u=0;do y=h+(p<<3)|0,l[y>>2]=i,l[y+4>>2]=A,p=We(p|0,u|0,1,0)|0,u=U()|0,wu(f),y=f,i=l[y>>2]|0,A=l[y+4>>2]|0;while(!((i|0)==0&(A|0)==0));return P=v,0}function I3(i,A,u,h){return i=i|0,A=A|0,u=u|0,h=h|0,(h|0)<(u|0)?(u=A,h=i,at(u|0),h|0):(u=ke(-1,-1,((h-u|0)*3|0)+3|0)|0,h=ke(~u|0,~(U()|0)|0,(15-h|0)*3|0)|0,u=~(U()|0)&A,h=~h&i,at(u|0),h|0)}function E3(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0;return p=we(i|0,A|0,52)|0,U()|0,p=p&15,(u|0)<16&(p|0)<=(u|0)?((p|0)<(u|0)&&(p=ke(-1,-1,((u+-1-p|0)*3|0)+3|0)|0,p=ke(~p|0,~(U()|0)|0,(15-u|0)*3|0)|0,A=~(U()|0)&A,i=~p&i),p=ke(u|0,0,52)|0,u=A&-15728641|(U()|0),l[h>>2]=i|p,l[h+4>>2]=u,h=0,h|0):(h=4,h|0)}function _y(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0,oe=0,J=0,Ie=0,Fe=0,Be=0,Ze=0,nt=0,Dt=0,$e=0,Oe=0,be=0;if((u|0)==0&(h|0)==0)return be=0,be|0;if(p=i,f=l[p>>2]|0,p=l[p+4>>2]|0,!0&(p&15728640|0)==0){if(!((h|0)>0|(h|0)==0&u>>>0>0)||(be=A,l[be>>2]=f,l[be+4>>2]=p,(u|0)==1&(h|0)==0))return be=0,be|0;p=1,f=0;do $e=i+(p<<3)|0,Oe=l[$e+4>>2]|0,be=A+(p<<3)|0,l[be>>2]=l[$e>>2],l[be+4>>2]=Oe,p=We(p|0,f|0,1,0)|0,f=U()|0;while((f|0)<(h|0)|(f|0)==(h|0)&p>>>0<u>>>0);return p=0,p|0}if(Dt=u<<3,Oe=S0(Dt)|0,!Oe)return be=13,be|0;if(ls(Oe|0,i|0,Dt|0)|0,$e=Vn(u,8)|0,!$e)return je(Oe),be=13,be|0;e:for(;;){p=Oe,b=l[p>>2]|0,p=l[p+4>>2]|0,Ze=we(b|0,p|0,52)|0,U()|0,Ze=Ze&15,nt=Ze+-1|0,Be=(Ze|0)!=0,Fe=(h|0)>0|(h|0)==0&u>>>0>0;t:do if(Be&Fe){if(Ae=ke(nt|0,0,52)|0,oe=U()|0,nt>>>0>15){if(!((b|0)==0&(p|0)==0)){be=16;break e}for(f=0,i=0;;){if(f=We(f|0,i|0,1,0)|0,i=U()|0,!((i|0)<(h|0)|(i|0)==(h|0)&f>>>0<u>>>0))break t;if(v=Oe+(f<<3)|0,Ie=l[v>>2]|0,v=l[v+4>>2]|0,!((Ie|0)==0&(v|0)==0)){p=v,be=16;break e}}}for(y=b,i=p,f=0,v=0;;){if(!((y|0)==0&(i|0)==0)){if(!(!0&(i&117440512|0)==0)){be=21;break e}if(k=we(y|0,i|0,52)|0,U()|0,k=k&15,(k|0)<(nt|0)){p=12,be=27;break e}if((k|0)!=(nt|0)&&(y=y|Ae,i=i&-15728641|oe,k>>>0>=Ze>>>0)){S=nt;do Ie=ke(7,0,(14-S|0)*3|0)|0,S=S+1|0,y=Ie|y,i=U()|0|i;while(S>>>0<k>>>0)}if(H=is(y|0,i|0,u|0,h|0)|0,z=U()|0,S=$e+(H<<3)|0,k=S,q=l[k>>2]|0,k=l[k+4>>2]|0,!((q|0)==0&(k|0)==0)){se=0,ce=0;do{if((se|0)>(h|0)|(se|0)==(h|0)&ce>>>0>u>>>0){be=31;break e}if((q|0)==(y|0)&(k&-117440513|0)==(i|0)){W=we(q|0,k|0,56)|0,U()|0,W=W&7,K=W+1|0,Ie=we(q|0,k|0,45)|0,U()|0;a:do if(!(Zt(Ie&127)|0))k=7;else{if(q=we(q|0,k|0,52)|0,U()|0,q=q&15,!q){k=6;break}for(k=1;;){if(Ie=ke(7,0,(15-k|0)*3|0)|0,!((Ie&y|0)==0&((U()|0)&i|0)==0)){k=7;break a}if(k>>>0<q>>>0)k=k+1|0;else{k=6;break}}}while(!1);if((W+2|0)>>>0>k>>>0){be=41;break e}Ie=ke(K|0,0,56)|0,i=U()|0|i&-117440513,J=S,l[J>>2]=0,l[J+4>>2]=0,y=Ie|y}else H=We(H|0,z|0,1,0)|0,H=os(H|0,U()|0,u|0,h|0)|0,z=U()|0;ce=We(ce|0,se|0,1,0)|0,se=U()|0,S=$e+(H<<3)|0,k=S,q=l[k>>2]|0,k=l[k+4>>2]|0}while(!((q|0)==0&(k|0)==0))}Ie=S,l[Ie>>2]=y,l[Ie+4>>2]=i}if(f=We(f|0,v|0,1,0)|0,v=U()|0,!((v|0)<(h|0)|(v|0)==(h|0)&f>>>0<u>>>0))break t;i=Oe+(f<<3)|0,y=l[i>>2]|0,i=l[i+4>>2]|0}}while(!1);if(Ie=We(u|0,h|0,5,0)|0,J=U()|0,J>>>0<0|(J|0)==0&Ie>>>0<11){be=85;break}if(Ie=Nr(u|0,h|0,6,0)|0,U()|0,Ie=Vn(Ie,8)|0,!Ie){be=48;break}do if(Fe){for(K=0,i=0,W=0,se=0;;){if(k=$e+(K<<3)|0,v=k,f=l[v>>2]|0,v=l[v+4>>2]|0,(f|0)==0&(v|0)==0)J=W;else{q=we(f|0,v|0,56)|0,U()|0,q=q&7,y=q+1|0,H=v&-117440513,J=we(f|0,v|0,45)|0,U()|0;t:do if(Zt(J&127)|0){if(z=we(f|0,v|0,52)|0,U()|0,z=z&15,z|0)for(S=1;;){if(J=ke(7,0,(15-S|0)*3|0)|0,!((f&J|0)==0&(H&(U()|0)|0)==0))break t;if(S>>>0<z>>>0)S=S+1|0;else break}v=ke(y|0,0,56)|0,f=v|f,v=U()|0|H,y=k,l[y>>2]=f,l[y+4>>2]=v,y=q+2|0}while(!1);(y|0)==7?(J=Ie+(i<<3)|0,l[J>>2]=f,l[J+4>>2]=v&-117440513,i=We(i|0,W|0,1,0)|0,J=U()|0):J=W}if(K=We(K|0,se|0,1,0)|0,se=U()|0,(se|0)<(h|0)|(se|0)==(h|0)&K>>>0<u>>>0)W=J;else break}if(Fe){if(ce=nt>>>0>15,Ae=ke(nt|0,0,52)|0,oe=U()|0,!Be){for(f=0,S=0,y=0,v=0;(b|0)==0&(p|0)==0||(nt=A+(f<<3)|0,l[nt>>2]=b,l[nt+4>>2]=p,f=We(f|0,S|0,1,0)|0,S=U()|0),y=We(y|0,v|0,1,0)|0,v=U()|0,!!((v|0)<(h|0)|(v|0)==(h|0)&y>>>0<u>>>0);)p=Oe+(y<<3)|0,b=l[p>>2]|0,p=l[p+4>>2]|0;p=J;break}for(f=0,S=0,v=0,y=0;;){do if(!((b|0)==0&(p|0)==0)){if(z=we(b|0,p|0,52)|0,U()|0,z=z&15,ce|(z|0)<(nt|0)){be=80;break e}if((z|0)!=(nt|0)){if(k=b|Ae,q=p&-15728641|oe,z>>>0>=Ze>>>0){H=nt;do Be=ke(7,0,(14-H|0)*3|0)|0,H=H+1|0,k=Be|k,q=U()|0|q;while(H>>>0<z>>>0)}}else k=b,q=p;W=is(k|0,q|0,u|0,h|0)|0,H=0,z=0,se=U()|0;do{if((H|0)>(h|0)|(H|0)==(h|0)&z>>>0>u>>>0){be=81;break e}if(Be=$e+(W<<3)|0,K=l[Be+4>>2]|0,(K&-117440513|0)==(q|0)&&(l[Be>>2]|0)==(k|0)){be=65;break}Be=We(W|0,se|0,1,0)|0,W=os(Be|0,U()|0,u|0,h|0)|0,se=U()|0,z=We(z|0,H|0,1,0)|0,H=U()|0,Be=$e+(W<<3)|0}while(!((l[Be>>2]|0)==(k|0)&&(l[Be+4>>2]|0)==(q|0)));if((be|0)==65&&(be=0,!0&(K&117440512|0)==100663296))break;Be=A+(f<<3)|0,l[Be>>2]=b,l[Be+4>>2]=p,f=We(f|0,S|0,1,0)|0,S=U()|0}while(!1);if(v=We(v|0,y|0,1,0)|0,y=U()|0,!((y|0)<(h|0)|(y|0)==(h|0)&v>>>0<u>>>0))break;p=Oe+(v<<3)|0,b=l[p>>2]|0,p=l[p+4>>2]|0}p=J}else f=0,p=J}else f=0,i=0,p=0;while(!1);if(D1($e|0,0,Dt|0)|0,ls(Oe|0,Ie|0,i<<3|0)|0,je(Ie),(i|0)==0&(p|0)==0){be=89;break}else A=A+(f<<3)|0,h=p,u=i}if((be|0)==16)!0&(p&117440512|0)==0?(p=4,be=27):be=21;else if((be|0)==31)Ye(27795,27122,529,27132);else{if((be|0)==41)return je(Oe),je($e),be=10,be|0;if((be|0)==48)return je(Oe),je($e),be=13,be|0;(be|0)==80?Ye(27795,27122,620,27132):(be|0)==81?Ye(27795,27122,632,27132):(be|0)==85&&(ls(A|0,Oe|0,u<<3|0)|0,be=89)}return(be|0)==21?(je(Oe),je($e),be=5,be|0):(be|0)==27?(je(Oe),je($e),be=p,be|0):(be|0)==89?(je(Oe),je($e),be=0,be|0):0}function wy(i,A,u,h,p,f,v){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0,f=f|0,v=v|0;var y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0;if(K=P,P=P+16|0,W=K,!((u|0)>0|(u|0)==0&A>>>0>0))return W=0,P=K,W|0;if((v|0)>=16)return W=12,P=K,W|0;H=0,z=0,q=0,y=0;e:for(;;){if(b=i+(H<<3)|0,S=l[b>>2]|0,b=l[b+4>>2]|0,k=we(S|0,b|0,52)|0,U()|0,(k&15|0)>(v|0)){y=12,S=11;break}if(_u(W,S,b,v),k=W,b=l[k>>2]|0,k=l[k+4>>2]|0,(b|0)==0&(k|0)==0)S=q;else{S=q;do{if(!((y|0)<(f|0)|(y|0)==(f|0)&S>>>0<p>>>0)){S=10;break e}q=h+(S<<3)|0,l[q>>2]=b,l[q+4>>2]=k,S=We(S|0,y|0,1,0)|0,y=U()|0,wu(W),q=W,b=l[q>>2]|0,k=l[q+4>>2]|0}while(!((b|0)==0&(k|0)==0))}if(H=We(H|0,z|0,1,0)|0,z=U()|0,(z|0)<(u|0)|(z|0)==(u|0)&H>>>0<A>>>0)q=S;else{y=0,S=11;break}}return(S|0)==10?(W=14,P=K,W|0):(S|0)==11?(P=K,y|0):0}function Sy(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0;H=P,P=P+16|0,q=H;e:do if((u|0)>0|(u|0)==0&A>>>0>0){for(b=0,v=0,f=0,k=0;;){if(S=i+(b<<3)|0,y=l[S>>2]|0,S=l[S+4>>2]|0,!((y|0)==0&(S|0)==0)&&(S=(po(y,S,h,q)|0)==0,y=q,v=We(l[y>>2]|0,l[y+4>>2]|0,v|0,f|0)|0,f=U()|0,!S)){f=12;break}if(b=We(b|0,k|0,1,0)|0,k=U()|0,!((k|0)<(u|0)|(k|0)==(u|0)&b>>>0<A>>>0))break e}return P=H,f|0}else v=0,f=0;while(!1);return l[p>>2]=v,l[p+4>>2]=f,p=0,P=H,p|0}function xy(i,A){return i=i|0,A=A|0,A=we(i|0,A|0,52)|0,U()|0,A&1|0}function hn(i,A){i=i|0,A=A|0;var u=0,h=0,p=0;if(p=we(i|0,A|0,52)|0,U()|0,p=p&15,!p)return p=0,p|0;for(h=1;;){if(u=we(i|0,A|0,(15-h|0)*3|0)|0,U()|0,u=u&7,u|0){h=5;break}if(h>>>0<p>>>0)h=h+1|0;else{u=0,h=5;break}}return(h|0)==5?u|0:0}function Du(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0,y=0,S=0;if(S=we(i|0,A|0,52)|0,U()|0,S=S&15,!S)return y=A,S=i,at(y|0),S|0;for(y=1,u=0;;){f=(15-y|0)*3|0,h=ke(7,0,f|0)|0,p=U()|0,v=we(i|0,A|0,f|0)|0,U()|0,f=ke(h1(v&7)|0,0,f|0)|0,v=U()|0,i=f|i&~h,A=v|A&~p;e:do if(!u)if((f&h|0)==0&(v&p|0)==0)u=0;else if(h=we(i|0,A|0,52)|0,U()|0,h=h&15,!h)u=1;else{u=1;t:for(;;){switch(v=we(i|0,A|0,(15-u|0)*3|0)|0,U()|0,v&7){case 1:break t;case 0:break;default:{u=1;break e}}if(u>>>0<h>>>0)u=u+1|0;else{u=1;break e}}for(u=1;;)if(v=(15-u|0)*3|0,p=we(i|0,A|0,v|0)|0,U()|0,f=ke(7,0,v|0)|0,A=A&~(U()|0),v=ke(h1(p&7)|0,0,v|0)|0,i=i&~f|v,A=A|(U()|0),u>>>0<h>>>0)u=u+1|0;else{u=1;break}}while(!1);if(y>>>0<S>>>0)y=y+1|0;else break}return at(A|0),i|0}function p1(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0;if(h=we(i|0,A|0,52)|0,U()|0,h=h&15,!h)return u=A,h=i,at(u|0),h|0;for(u=1;f=(15-u|0)*3|0,v=we(i|0,A|0,f|0)|0,U()|0,p=ke(7,0,f|0)|0,A=A&~(U()|0),f=ke(h1(v&7)|0,0,f|0)|0,i=f|i&~p,A=U()|0|A,u>>>0<h>>>0;)u=u+1|0;return at(A|0),i|0}function by(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0,y=0,S=0;if(S=we(i|0,A|0,52)|0,U()|0,S=S&15,!S)return y=A,S=i,at(y|0),S|0;for(y=1,u=0;;){f=(15-y|0)*3|0,h=ke(7,0,f|0)|0,p=U()|0,v=we(i|0,A|0,f|0)|0,U()|0,f=ke(Ir(v&7)|0,0,f|0)|0,v=U()|0,i=f|i&~h,A=v|A&~p;e:do if(!u)if((f&h|0)==0&(v&p|0)==0)u=0;else if(h=we(i|0,A|0,52)|0,U()|0,h=h&15,!h)u=1;else{u=1;t:for(;;){switch(v=we(i|0,A|0,(15-u|0)*3|0)|0,U()|0,v&7){case 1:break t;case 0:break;default:{u=1;break e}}if(u>>>0<h>>>0)u=u+1|0;else{u=1;break e}}for(u=1;;)if(p=(15-u|0)*3|0,f=ke(7,0,p|0)|0,v=A&~(U()|0),A=we(i|0,A|0,p|0)|0,U()|0,A=ke(Ir(A&7)|0,0,p|0)|0,i=i&~f|A,A=v|(U()|0),u>>>0<h>>>0)u=u+1|0;else{u=1;break}}while(!1);if(y>>>0<S>>>0)y=y+1|0;else break}return at(A|0),i|0}function fu(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0;if(h=we(i|0,A|0,52)|0,U()|0,h=h&15,!h)return u=A,h=i,at(u|0),h|0;for(u=1;v=(15-u|0)*3|0,f=ke(7,0,v|0)|0,p=A&~(U()|0),A=we(i|0,A|0,v|0)|0,U()|0,A=ke(Ir(A&7)|0,0,v|0)|0,i=A|i&~f,A=U()|0|p,u>>>0<h>>>0;)u=u+1|0;return at(A|0),i|0}function Ty(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0;if(S=P,P=P+64|0,y=S+40|0,h=S+24|0,p=S+12|0,f=S,ke(A|0,0,52)|0,u=U()|0|134225919,!A)return(l[i+4>>2]|0)>2||(l[i+8>>2]|0)>2||(l[i+12>>2]|0)>2?(v=0,y=0,at(v|0),P=S,y|0):(ke(d3(i)|0,0,45)|0,v=U()|0|u,y=-1,at(v|0),P=S,y|0);if(l[y>>2]=l[i>>2],l[y+4>>2]=l[i+4>>2],l[y+8>>2]=l[i+8>>2],l[y+12>>2]=l[i+12>>2],v=y+4|0,(A|0)>0)for(i=-1;l[h>>2]=l[v>>2],l[h+4>>2]=l[v+4>>2],l[h+8>>2]=l[v+8>>2],A&1?(ny(v),l[p>>2]=l[v>>2],l[p+4>>2]=l[v+4>>2],l[p+8>>2]=l[v+8>>2],o2(p)):(v3(v),l[p>>2]=l[v>>2],l[p+4>>2]=l[v+4>>2],l[p+8>>2]=l[v+8>>2],c1(p)),Au(h,p,f),Qa(f),k=(15-A|0)*3|0,b=ke(7,0,k|0)|0,u=u&~(U()|0),k=ke(s2(f)|0,0,k|0)|0,i=k|i&~b,u=U()|0|u,(A|0)>1;)A=A+-1|0;else i=-1;e:do if((l[v>>2]|0)<=2&&(l[y+8>>2]|0)<=2&&(l[y+12>>2]|0)<=2){if(h=d3(y)|0,A=ke(h|0,0,45)|0,A=A|i,i=U()|0|u&-1040385,f=zm(y)|0,!(Zt(h)|0)){if((f|0)<=0)break;for(p=0;;){if(h=we(A|0,i|0,52)|0,U()|0,h=h&15,h)for(u=1;k=(15-u|0)*3|0,y=we(A|0,i|0,k|0)|0,U()|0,b=ke(7,0,k|0)|0,i=i&~(U()|0),k=ke(h1(y&7)|0,0,k|0)|0,A=A&~b|k,i=i|(U()|0),u>>>0<h>>>0;)u=u+1|0;if(p=p+1|0,(p|0)==(f|0))break e}}p=we(A|0,i|0,52)|0,U()|0,p=p&15;t:do if(p){u=1;a:for(;;){switch(k=we(A|0,i|0,(15-u|0)*3|0)|0,U()|0,k&7){case 1:break a;case 0:break;default:break t}if(u>>>0<p>>>0)u=u+1|0;else break t}if(c3(h,l[y>>2]|0)|0)for(u=1;y=(15-u|0)*3|0,b=ke(7,0,y|0)|0,k=i&~(U()|0),i=we(A|0,i|0,y|0)|0,U()|0,i=ke(Ir(i&7)|0,0,y|0)|0,A=A&~b|i,i=k|(U()|0),u>>>0<p>>>0;)u=u+1|0;else for(u=1;k=(15-u|0)*3|0,y=we(A|0,i|0,k|0)|0,U()|0,b=ke(7,0,k|0)|0,i=i&~(U()|0),k=ke(h1(y&7)|0,0,k|0)|0,A=A&~b|k,i=i|(U()|0),u>>>0<p>>>0;)u=u+1|0}while(!1);if((f|0)>0){u=0;do A=Du(A,i)|0,i=U()|0,u=u+1|0;while((u|0)!=(f|0))}}else A=0,i=0;while(!1);return b=i,k=A,at(b|0),P=S,k|0}function Un(i){return i=i|0,(i|0)%2|0|0}function vu(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0;return p=P,P=P+16|0,h=p,A>>>0>15?(h=4,P=p,h|0):(l[i+4>>2]&2146435072|0)==2146435072||(l[i+8+4>>2]&2146435072|0)==2146435072?(h=3,P=p,h|0):(py(i,A,h),A=Ty(h,A)|0,h=U()|0,l[u>>2]=A,l[u+4>>2]=h,(A|0)==0&(h|0)==0&&Ye(27795,27122,959,27145),h=0,P=p,h|0)}function mu(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0;if(p=u+4|0,f=we(i|0,A|0,52)|0,U()|0,f=f&15,v=we(i|0,A|0,45)|0,U()|0,h=(f|0)==0,Zt(v&127)|0){if(h)return v=1,v|0;h=1}else{if(h)return v=0,v|0;(l[p>>2]|0)==0&&(l[u+8>>2]|0)==0?h=(l[u+12>>2]|0)!=0&1:h=1}for(u=1;u&1?o2(p):c1(p),v=we(i|0,A|0,(15-u|0)*3|0)|0,U()|0,m3(p,v&7),u>>>0<f>>>0;)u=u+1|0;return h|0}function ns(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0;if(k=P,P=P+16|0,S=k,b=we(i|0,A|0,45)|0,U()|0,b=b&127,b>>>0>121)return l[u>>2]=0,l[u+4>>2]=0,l[u+8>>2]=0,l[u+12>>2]=0,b=5,P=k,b|0;e:do if((Zt(b)|0)!=0&&(f=we(i|0,A|0,52)|0,U()|0,f=f&15,(f|0)!=0)){h=1;t:for(;;){switch(y=we(i|0,A|0,(15-h|0)*3|0)|0,U()|0,y&7){case 5:break t;case 0:break;default:{h=A;break e}}if(h>>>0<f>>>0)h=h+1|0;else{h=A;break e}}for(p=1,h=A;A=(15-p|0)*3|0,v=ke(7,0,A|0)|0,y=h&~(U()|0),h=we(i|0,h|0,A|0)|0,U()|0,h=ke(Ir(h&7)|0,0,A|0)|0,i=i&~v|h,h=y|(U()|0),p>>>0<f>>>0;)p=p+1|0}else h=A;while(!1);if(y=7696+(b*28|0)|0,l[u>>2]=l[y>>2],l[u+4>>2]=l[y+4>>2],l[u+8>>2]=l[y+8>>2],l[u+12>>2]=l[y+12>>2],!(mu(i,h,u)|0))return b=0,P=k,b|0;if(v=u+4|0,l[S>>2]=l[v>>2],l[S+4>>2]=l[v+4>>2],l[S+8>>2]=l[v+8>>2],f=we(i|0,h|0,52)|0,U()|0,y=f&15,f&1?(c1(v),f=y+1|0):f=y,!(Zt(b)|0))h=0;else{e:do if(!y)h=0;else for(A=1;;){if(p=we(i|0,h|0,(15-A|0)*3|0)|0,U()|0,p=p&7,p|0){h=p;break e}if(A>>>0<y>>>0)A=A+1|0;else{h=0;break}}while(!1);h=(h|0)==4&1}if(!(as(u,f,h,0)|0))(f|0)!=(y|0)&&(l[v>>2]=l[S>>2],l[v+4>>2]=l[S+4>>2],l[v+8>>2]=l[S+8>>2]);else{if(Zt(b)|0)do;while((as(u,f,0,0)|0)!=0);(f|0)!=(y|0)&&v3(v)}return b=0,P=k,b|0}function g1(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0;return f=P,P=P+16|0,h=f,p=ns(i,A,h)|0,p|0?(P=f,p|0):(p=we(i|0,A|0,52)|0,U()|0,fy(h,p&15,u),p=0,P=f,p|0)}function rs(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0;if(v=P,P=P+16|0,f=v,h=ns(i,A,f)|0,h|0)return f=h,P=v,f|0;h=we(i|0,A|0,45)|0,U()|0,h=(Zt(h&127)|0)==0,p=we(i|0,A|0,52)|0,U()|0,p=p&15;e:do if(!h){if(p|0)for(h=1;;){if(y=ke(7,0,(15-h|0)*3|0)|0,!((y&i|0)==0&((U()|0)&A|0)==0))break e;if(h>>>0<p>>>0)h=h+1|0;else break}return du(f,p,0,5,u),y=0,P=v,y|0}while(!1);return cu(f,p,0,6,u),y=0,P=v,y|0}function Iy(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0;if(p=we(i|0,A|0,45)|0,U()|0,!(Zt(p&127)|0))return p=2,l[u>>2]=p,0;if(p=we(i|0,A|0,52)|0,U()|0,p=p&15,!p)return p=5,l[u>>2]=p,0;for(h=1;;){if(f=ke(7,0,(15-h|0)*3|0)|0,!((f&i|0)==0&((U()|0)&A|0)==0)){h=2,i=6;break}if(h>>>0<p>>>0)h=h+1|0;else{h=5,i=6;break}}return(i|0)==6&&(l[u>>2]=h),0}function k3(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0;q=P,P=P+128|0,b=q+112|0,f=q+96|0,k=q,p=we(i|0,A|0,52)|0,U()|0,y=p&15,l[b>>2]=y,v=we(i|0,A|0,45)|0,U()|0,v=v&127;e:do if(Zt(v)|0){if(y|0)for(h=1;;){if(S=ke(7,0,(15-h|0)*3|0)|0,!((S&i|0)==0&((U()|0)&A|0)==0)){p=0;break e}if(h>>>0<y>>>0)h=h+1|0;else break}if(p&1)p=1;else return S=ke(y+1|0,0,52)|0,k=U()|0|A&-15728641,b=ke(7,0,(14-y|0)*3|0)|0,k=k3((S|i)&~b,k&~(U()|0),u)|0,P=q,k|0}else p=0;while(!1);if(h=ns(i,A,f)|0,!h){p?(x3(f,b,k),S=5):(b3(f,b,k),S=6);e:do if(Zt(v)|0)if(!y)i=5;else for(h=1;;){if(v=ke(7,0,(15-h|0)*3|0)|0,!((v&i|0)==0&((U()|0)&A|0)==0)){i=2;break e}if(h>>>0<y>>>0)h=h+1|0;else{i=5;break}}else i=2;while(!1);D1(u|0,-1,i<<2|0)|0;e:do if(p)for(f=0;;){if(v=k+(f<<4)|0,vy(v,l[b>>2]|0)|0,v=l[v>>2]|0,y=l[u>>2]|0,(y|0)==-1|(y|0)==(v|0))h=u;else{p=0;do{if(p=p+1|0,p>>>0>=i>>>0){h=1;break e}h=u+(p<<2)|0,y=l[h>>2]|0}while(!((y|0)==-1|(y|0)==(v|0)))}if(l[h>>2]=v,f=f+1|0,f>>>0>=S>>>0){h=0;break}}else for(f=0;;){if(v=k+(f<<4)|0,as(v,l[b>>2]|0,0,1)|0,v=l[v>>2]|0,y=l[u>>2]|0,(y|0)==-1|(y|0)==(v|0))h=u;else{p=0;do{if(p=p+1|0,p>>>0>=i>>>0){h=1;break e}h=u+(p<<2)|0,y=l[h>>2]|0}while(!((y|0)==-1|(y|0)==(v|0)))}if(l[h>>2]=v,f=f+1|0,f>>>0>=S>>>0){h=0;break}}while(!1)}return k=h,P=q,k|0}function Ey(){return 12}function yu(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0,y=0,S=0;if(i>>>0>15)return y=4,y|0;if(ke(i|0,0,52)|0,y=U()|0|134225919,!i){u=0,h=0;do Zt(h)|0&&(ke(h|0,0,45)|0,v=y|(U()|0),i=A+(u<<3)|0,l[i>>2]=-1,l[i+4>>2]=v,u=u+1|0),h=h+1|0;while((h|0)!=122);return u=0,u|0}u=0,v=0;do{if(Zt(v)|0){for(ke(v|0,0,45)|0,h=1,p=-1,f=y|(U()|0);S=ke(7,0,(15-h|0)*3|0)|0,p=p&~S,f=f&~(U()|0),(h|0)!=(i|0);)h=h+1|0;S=A+(u<<3)|0,l[S>>2]=p,l[S+4>>2]=f,u=u+1|0}v=v+1|0}while((v|0)!=122);return u=0,u|0}function ky(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0;if(Ae=P,P=P+16|0,se=Ae,ce=we(i|0,A|0,52)|0,U()|0,ce=ce&15,u>>>0>15)return ce=4,P=Ae,ce|0;if((ce|0)<(u|0))return ce=12,P=Ae,ce|0;if((ce|0)!=(u|0))if(f=ke(u|0,0,52)|0,f=f|i,y=U()|0|A&-15728641,(ce|0)>(u|0)){S=u;do K=ke(7,0,(14-S|0)*3|0)|0,S=S+1|0,f=K|f,y=U()|0|y;while((S|0)<(ce|0));K=f}else K=f;else K=i,y=A;W=we(K|0,y|0,45)|0,U()|0;e:do if(Zt(W&127)|0){if(S=we(K|0,y|0,52)|0,U()|0,S=S&15,S|0)for(f=1;;){if(W=ke(7,0,(15-f|0)*3|0)|0,!((W&K|0)==0&((U()|0)&y|0)==0)){b=33;break e}if(f>>>0<S>>>0)f=f+1|0;else break}if(W=h,l[W>>2]=0,l[W+4>>2]=0,(ce|0)>(u|0)){for(W=A&-15728641,z=ce;;){if(H=z,z=z+-1|0,z>>>0>15|(ce|0)<(z|0)){b=19;break}if((ce|0)!=(z|0))if(f=ke(z|0,0,52)|0,f=f|i,S=U()|0|W,(ce|0)<(H|0))q=f;else{b=z;do q=ke(7,0,(14-b|0)*3|0)|0,b=b+1|0,f=q|f,S=U()|0|S;while((b|0)<(ce|0));q=f}else q=i,S=A;if(k=we(q|0,S|0,45)|0,U()|0,!(Zt(k&127)|0))f=0;else{k=we(q|0,S|0,52)|0,U()|0,k=k&15;t:do if(!k)f=0;else for(b=1;;){if(f=we(q|0,S|0,(15-b|0)*3|0)|0,U()|0,f=f&7,f|0)break t;if(b>>>0<k>>>0)b=b+1|0;else{f=0;break}}while(!1);f=(f|0)==0&1}if(S=we(i|0,A|0,(15-H|0)*3|0)|0,U()|0,S=S&7,(S|0)==7){p=5,b=42;break}if(f=(f|0)!=0,(S|0)==1&f){p=5,b=42;break}if(q=S+(((S|0)!=0&f)<<31>>31)|0,q|0&&(b=ce-H|0,b=Er(7,0,b,((b|0)<0)<<31>>31)|0,k=U()|0,f?(f=Ya(b|0,k|0,5,0)|0,f=We(f|0,U()|0,-5,-1)|0,f=Nr(f|0,U()|0,6,0)|0,f=We(f|0,U()|0,1,0)|0,S=U()|0):(f=b,S=k),H=q+-1|0,H=Ya(b|0,k|0,H|0,((H|0)<0)<<31>>31|0)|0,H=We(f|0,S|0,H|0,U()|0)|0,q=U()|0,k=h,k=We(H|0,q|0,l[k>>2]|0,l[k+4>>2]|0)|0,q=U()|0,H=h,l[H>>2]=k,l[H+4>>2]=q),(z|0)<=(u|0)){b=37;break}}if((b|0)==19)Ye(27795,27122,1276,27158);else if((b|0)==37){v=h,p=l[v+4>>2]|0,v=l[v>>2]|0;break}else if((b|0)==42)return P=Ae,p|0}else p=0,v=0}else b=33;while(!1);e:do if((b|0)==33)if(W=h,l[W>>2]=0,l[W+4>>2]=0,(ce|0)>(u|0)){for(f=ce;;){if(p=we(i|0,A|0,(15-f|0)*3|0)|0,U()|0,p=p&7,(p|0)==7){p=5;break}if(v=ce-f|0,v=Er(7,0,v,((v|0)<0)<<31>>31)|0,p=Ya(v|0,U()|0,p|0,0)|0,v=U()|0,W=h,v=We(l[W>>2]|0,l[W+4>>2]|0,p|0,v|0)|0,p=U()|0,W=h,l[W>>2]=v,l[W+4>>2]=p,f=f+-1|0,(f|0)<=(u|0))break e}return P=Ae,p|0}else p=0,v=0;while(!1);return po(K,y,ce,se)|0&&Ye(27795,27122,1236,27173),ce=se,se=l[ce+4>>2]|0,((p|0)>-1|(p|0)==-1&v>>>0>4294967295)&((se|0)>(p|0)|((se|0)==(p|0)?(l[ce>>2]|0)>>>0>v>>>0:0))?(ce=0,P=Ae,ce|0):(Ye(27795,27122,1316,27158),0)}function Ny(i,A,u,h,p,f){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0,f=f|0;var v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0;if(q=P,P=P+16|0,v=q,p>>>0>15)return f=4,P=q,f|0;if(y=we(u|0,h|0,52)|0,U()|0,y=y&15,(y|0)>(p|0))return f=12,P=q,f|0;if(po(u,h,p,v)|0&&Ye(27795,27122,1236,27173),k=v,b=l[k+4>>2]|0,!(((A|0)>-1|(A|0)==-1&i>>>0>4294967295)&((b|0)>(A|0)|((b|0)==(A|0)?(l[k>>2]|0)>>>0>i>>>0:0))))return f=2,P=q,f|0;k=p-y|0,p=ke(p|0,0,52)|0,S=U()|0|h&-15728641,b=f,l[b>>2]=p|u,l[b+4>>2]=S,b=we(u|0,h|0,45)|0,U()|0;e:do if(Zt(b&127)|0){if(y|0)for(v=1;;){if(b=ke(7,0,(15-v|0)*3|0)|0,!((b&u|0)==0&((U()|0)&h|0)==0))break e;if(v>>>0<y>>>0)v=v+1|0;else break}if((k|0)<1)return f=0,P=q,f|0;for(b=y^15,h=-1,S=1,v=1;;){y=k-S|0,y=Er(7,0,y,((y|0)<0)<<31>>31)|0,u=U()|0;do if(v)if(v=Ya(y|0,u|0,5,0)|0,v=We(v|0,U()|0,-5,-1)|0,v=Nr(v|0,U()|0,6,0)|0,p=U()|0,(A|0)>(p|0)|(A|0)==(p|0)&i>>>0>v>>>0){A=We(i|0,A|0,-1,-1)|0,A=La(A|0,U()|0,v|0,p|0)|0,v=U()|0,H=f,W=l[H>>2]|0,H=l[H+4>>2]|0,K=(b+h|0)*3|0,z=ke(7,0,K|0)|0,H=H&~(U()|0),h=Nr(A|0,v|0,y|0,u|0)|0,i=U()|0,p=We(h|0,i|0,2,0)|0,K=ke(p|0,U()|0,K|0)|0,H=U()|0|H,p=f,l[p>>2]=K|W&~z,l[p+4>>2]=H,i=Ya(h|0,i|0,y|0,u|0)|0,i=La(A|0,v|0,i|0,U()|0)|0,v=0,A=U()|0;break}else{K=f,z=l[K>>2]|0,K=l[K+4>>2]|0,W=ke(7,0,(b+h|0)*3|0)|0,K=K&~(U()|0),v=f,l[v>>2]=z&~W,l[v+4>>2]=K,v=1;break}else z=f,p=l[z>>2]|0,z=l[z+4>>2]|0,h=(b+h|0)*3|0,H=ke(7,0,h|0)|0,z=z&~(U()|0),K=Nr(i|0,A|0,y|0,u|0)|0,v=U()|0,h=ke(K|0,v|0,h|0)|0,z=U()|0|z,W=f,l[W>>2]=h|p&~H,l[W+4>>2]=z,v=Ya(K|0,v|0,y|0,u|0)|0,i=La(i|0,A|0,v|0,U()|0)|0,v=0,A=U()|0;while(!1);if((k|0)>(S|0))h=~S,S=S+1|0;else{A=0;break}}return P=q,A|0}while(!1);if((k|0)<1)return K=0,P=q,K|0;for(p=y^15,v=1;;)if(W=k-v|0,W=Er(7,0,W,((W|0)<0)<<31>>31)|0,K=U()|0,S=f,u=l[S>>2]|0,S=l[S+4>>2]|0,y=(p-v|0)*3|0,h=ke(7,0,y|0)|0,S=S&~(U()|0),H=Nr(i|0,A|0,W|0,K|0)|0,z=U()|0,y=ke(H|0,z|0,y|0)|0,S=U()|0|S,b=f,l[b>>2]=y|u&~h,l[b+4>>2]=S,K=Ya(H|0,z|0,W|0,K|0)|0,i=La(i|0,A|0,K|0,U()|0)|0,A=U()|0,(k|0)<=(v|0)){A=0;break}else v=v+1|0;return P=q,A|0}function _u(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0;p=we(A|0,u|0,52)|0,U()|0,p=p&15,(A|0)==0&(u|0)==0|((h|0)>15|(p|0)>(h|0))?(f=-1,A=-1,u=0,p=0):(A=I3(A,u,p+1|0,h)|0,v=(U()|0)&-15728641,u=ke(h|0,0,52)|0,u=A|u,v=v|(U()|0),A=(Vt(u,v)|0)==0,f=p,A=A?-1:h,p=v),v=i,l[v>>2]=u,l[v+4>>2]=p,l[i+8>>2]=f,l[i+12>>2]=A}function N3(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0;if(p=we(i|0,A|0,52)|0,U()|0,p=p&15,f=h+8|0,l[f>>2]=p,(i|0)==0&(A|0)==0|((u|0)>15|(p|0)>(u|0))){u=h,l[u>>2]=0,l[u+4>>2]=0,l[f>>2]=-1,l[h+12>>2]=-1;return}if(i=I3(i,A,p+1|0,u)|0,f=(U()|0)&-15728641,p=ke(u|0,0,52)|0,p=i|p,f=f|(U()|0),i=h,l[i>>2]=p,l[i+4>>2]=f,i=h+12|0,Vt(p,f)|0){l[i>>2]=u;return}else{l[i>>2]=-1;return}}function wu(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0,S=0,b=0;if(u=i,A=l[u>>2]|0,u=l[u+4>>2]|0,!((A|0)==0&(u|0)==0)&&(h=we(A|0,u|0,52)|0,U()|0,h=h&15,y=ke(1,0,(h^15)*3|0)|0,A=We(y|0,U()|0,A|0,u|0)|0,u=U()|0,y=i,l[y>>2]=A,l[y+4>>2]=u,y=i+8|0,v=l[y>>2]|0,!((h|0)<(v|0)))){for(S=i+12|0,f=h;;){if((f|0)==(v|0)){h=5;break}if(b=(f|0)==(l[S>>2]|0),p=(15-f|0)*3|0,h=we(A|0,u|0,p|0)|0,U()|0,h=h&7,b&((h|0)==1&!0)){h=7;break}if(!((h|0)==7&!0)){h=10;break}if(b=ke(1,0,p|0)|0,A=We(A|0,u|0,b|0,U()|0)|0,u=U()|0,b=i,l[b>>2]=A,l[b+4>>2]=u,(f|0)>(v|0))f=f+-1|0;else{h=10;break}}if((h|0)==5){b=i,l[b>>2]=0,l[b+4>>2]=0,l[y>>2]=-1,l[S>>2]=-1;return}else if((h|0)==7){v=ke(1,0,p|0)|0,v=We(A|0,u|0,v|0,U()|0)|0,y=U()|0,b=i,l[b>>2]=v,l[b+4>>2]=y,l[S>>2]=f+-1;return}else if((h|0)==10)return}}function go(i){i=+i;var A=0;return A=i<0?i+6.283185307179586:i,+(i>=6.283185307179586?A+-6.283185307179586:A)}function ss(i,A){return i=i|0,A=A|0,+pt(+(+C[i>>3]-+C[A>>3]))<17453292519943298e-27?(A=+pt(+(+C[i+8>>3]-+C[A+8>>3]))<17453292519943298e-27,A|0):(A=0,A|0)}function In(i,A){switch(i=+i,A=A|0,A|0){case 1:{i=i<0?i+6.283185307179586:i;break}case 2:{i=i>0?i+-6.283185307179586:i;break}}return+i}function Ry(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0;return p=+C[A>>3],h=+C[i>>3],f=+gt(+((p-h)*.5)),u=+gt(+((+C[A+8>>3]-+C[i+8>>3])*.5)),u=f*f+u*(+Et(+p)*+Et(+h)*u),+(+On(+ +bt(+u),+ +bt(+(1-u)))*2)}function Do(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0;return p=+C[A>>3],h=+C[i>>3],f=+gt(+((p-h)*.5)),u=+gt(+((+C[A+8>>3]-+C[i+8>>3])*.5)),u=f*f+u*(+Et(+p)*+Et(+h)*u),+(+On(+ +bt(+u),+ +bt(+(1-u)))*2*6371.007180918475)}function My(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0;return p=+C[A>>3],h=+C[i>>3],f=+gt(+((p-h)*.5)),u=+gt(+((+C[A+8>>3]-+C[i+8>>3])*.5)),u=f*f+u*(+Et(+p)*+Et(+h)*u),+(+On(+ +bt(+u),+ +bt(+(1-u)))*2*6371.007180918475*1e3)}function Cy(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0;return f=+C[A>>3],h=+Et(+f),p=+C[A+8>>3]-+C[i+8>>3],v=h*+gt(+p),u=+C[i>>3],+ +On(+v,+(+gt(+f)*+Et(+u)-+Et(+p)*(h*+gt(+u))))}function Py(i,A,u,h){i=i|0,A=+A,u=+u,h=h|0;var p=0,f=0,v=0,y=0;if(u<1e-16){l[h>>2]=l[i>>2],l[h+4>>2]=l[i+4>>2],l[h+8>>2]=l[i+8>>2],l[h+12>>2]=l[i+12>>2];return}f=A<0?A+6.283185307179586:A,f=A>=6.283185307179586?f+-6.283185307179586:f;do if(f<1e-16)A=+C[i>>3]+u,C[h>>3]=A,p=h;else{if(p=+pt(+(f+-3.141592653589793))<1e-16,A=+C[i>>3],p){A=A-u,C[h>>3]=A,p=h;break}if(v=+Et(+u),u=+gt(+u),A=v*+gt(+A)+ +Et(+f)*(u*+Et(+A)),A=A>1?1:A,A=+Tm(+(A<-1?-1:A)),C[h>>3]=A,+pt(+(A+-1.5707963267948966))<1e-16){C[h>>3]=1.5707963267948966,C[h+8>>3]=0;return}if(+pt(+(A+1.5707963267948966))<1e-16){C[h>>3]=-1.5707963267948966,C[h+8>>3]=0;return}if(y=1/+Et(+A),f=u*+gt(+f)*y,u=+C[i>>3],A=y*((v-+gt(+A)*+gt(+u))/+Et(+u)),v=f>1?1:f,A=A>1?1:A,A=+C[i+8>>3]+ +On(+(v<-1?-1:v),+(A<-1?-1:A)),A>3.141592653589793)do A=A+-6.283185307179586;while(A>3.141592653589793);if(A<-3.141592653589793)do A=A+6.283185307179586;while(A<-3.141592653589793);C[h+8>>3]=A;return}while(!1);if(+pt(+(A+-1.5707963267948966))<1e-16){C[p>>3]=1.5707963267948966,C[h+8>>3]=0;return}if(+pt(+(A+1.5707963267948966))<1e-16){C[p>>3]=-1.5707963267948966,C[h+8>>3]=0;return}if(A=+C[i+8>>3],A>3.141592653589793)do A=A+-6.283185307179586;while(A>3.141592653589793);if(A<-3.141592653589793)do A=A+6.283185307179586;while(A<-3.141592653589793);C[h+8>>3]=A}function R3(i,A){return i=i|0,A=A|0,i>>>0>15?(A=4,A|0):(C[A>>3]=+C[20656+(i<<3)>>3],A=0,A|0)}function By(i,A){return i=i|0,A=A|0,i>>>0>15?(A=4,A|0):(C[A>>3]=+C[20784+(i<<3)>>3],A=0,A|0)}function Ly(i,A){return i=i|0,A=A|0,i>>>0>15?(A=4,A|0):(C[A>>3]=+C[20912+(i<<3)>>3],A=0,A|0)}function qy(i,A){return i=i|0,A=A|0,i>>>0>15?(A=4,A|0):(C[A>>3]=+C[21040+(i<<3)>>3],A=0,A|0)}function Su(i,A){i=i|0,A=A|0;var u=0;return i>>>0>15?(A=4,A|0):(u=Er(7,0,i,((i|0)<0)<<31>>31)|0,u=Ya(u|0,U()|0,120,0)|0,i=U()|0,l[A>>2]=u|2,l[A+4>>2]=i,A=0,A|0)}function M3(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0;return H=+C[A>>3],k=+C[i>>3],S=+gt(+((H-k)*.5)),f=+C[A+8>>3],b=+C[i+8>>3],v=+gt(+((f-b)*.5)),y=+Et(+k),q=+Et(+H),v=S*S+v*(q*y*v),v=+On(+ +bt(+v),+ +bt(+(1-v)))*2,S=+C[u>>3],H=+gt(+((S-H)*.5)),h=+C[u+8>>3],f=+gt(+((h-f)*.5)),p=+Et(+S),f=H*H+f*(q*p*f),f=+On(+ +bt(+f),+ +bt(+(1-f)))*2,S=+gt(+((k-S)*.5)),h=+gt(+((b-h)*.5)),h=S*S+h*(y*p*h),h=+On(+ +bt(+h),+ +bt(+(1-h)))*2,p=(v+f+h)*.5,+(+tu(+ +bt(+(+Fn(+(p*.5))*+Fn(+((p-v)*.5))*+Fn(+((p-f)*.5))*+Fn(+((p-h)*.5)))))*4)}function xu(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0;if(y=P,P=P+192|0,f=y+168|0,v=y,p=g1(i,A,f)|0,p|0)return u=p,P=y,u|0;if(rs(i,A,v)|0&&Ye(27795,27190,415,27199),A=l[v>>2]|0,(A|0)>0){if(h=+M3(v+8|0,v+8+(((A|0)!=1&1)<<4)|0,f)+0,(A|0)!=1){i=1;do p=i,i=i+1|0,h=h+ +M3(v+8+(p<<4)|0,v+8+(((i|0)%(A|0)|0)<<4)|0,f);while((i|0)<(A|0))}}else h=0;return C[u>>3]=h,u=0,P=y,u|0}function Fy(i,A,u){return i=i|0,A=A|0,u=u|0,i=xu(i,A,u)|0,i|0||(C[u>>3]=+C[u>>3]*6371.007180918475*6371.007180918475),i|0}function Oy(i,A,u){return i=i|0,A=A|0,u=u|0,i=xu(i,A,u)|0,i|0||(C[u>>3]=+C[u>>3]*6371.007180918475*6371.007180918475*1e3*1e3),i|0}function Uy(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0;if(y=P,P=P+176|0,v=y,i=l2(i,A,v)|0,i|0)return v=i,P=y,v|0;if(C[u>>3]=0,i=l[v>>2]|0,(i|0)<=1)return v=0,P=y,v|0;A=i+-1|0,i=0,h=+C[v+8>>3],p=+C[v+16>>3],f=0;do i=i+1|0,b=h,h=+C[v+8+(i<<4)>>3],k=+gt(+((h-b)*.5)),S=p,p=+C[v+8+(i<<4)+8>>3],S=+gt(+((p-S)*.5)),S=k*k+S*(+Et(+h)*+Et(+b)*S),f=f+ +On(+ +bt(+S),+ +bt(+(1-S)))*2;while((i|0)<(A|0));return C[u>>3]=f,v=0,P=y,v|0}function Gy(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0;if(y=P,P=P+176|0,v=y,i=l2(i,A,v)|0,i|0)return v=i,f=+C[u>>3],f=f*6371.007180918475,C[u>>3]=f,P=y,v|0;if(C[u>>3]=0,i=l[v>>2]|0,(i|0)<=1)return v=0,f=0,f=f*6371.007180918475,C[u>>3]=f,P=y,v|0;A=i+-1|0,i=0,h=+C[v+8>>3],p=+C[v+16>>3],f=0;do i=i+1|0,b=h,h=+C[v+8+(i<<4)>>3],k=+gt(+((h-b)*.5)),S=p,p=+C[v+8+(i<<4)+8>>3],S=+gt(+((p-S)*.5)),S=k*k+S*(+Et(+b)*+Et(+h)*S),f=f+ +On(+ +bt(+S),+ +bt(+(1-S)))*2;while((i|0)!=(A|0));return C[u>>3]=f,v=0,k=f,k=k*6371.007180918475,C[u>>3]=k,P=y,v|0}function Vy(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0;if(y=P,P=P+176|0,v=y,i=l2(i,A,v)|0,i|0)return v=i,f=+C[u>>3],f=f*6371.007180918475,f=f*1e3,C[u>>3]=f,P=y,v|0;if(C[u>>3]=0,i=l[v>>2]|0,(i|0)<=1)return v=0,f=0,f=f*6371.007180918475,f=f*1e3,C[u>>3]=f,P=y,v|0;A=i+-1|0,i=0,h=+C[v+8>>3],p=+C[v+16>>3],f=0;do i=i+1|0,b=h,h=+C[v+8+(i<<4)>>3],k=+gt(+((h-b)*.5)),S=p,p=+C[v+8+(i<<4)+8>>3],S=+gt(+((p-S)*.5)),S=k*k+S*(+Et(+b)*+Et(+h)*S),f=f+ +On(+ +bt(+S),+ +bt(+(1-S)))*2;while((i|0)!=(A|0));return C[u>>3]=f,v=0,k=f,k=k*6371.007180918475,k=k*1e3,C[u>>3]=k,P=y,v|0}function zy(i){i=i|0;var A=0,u=0,h=0;return A=Vn(1,12)|0,A||Ye(27280,27235,49,27293),u=i+4|0,h=l[u>>2]|0,h|0?(h=h+8|0,l[h>>2]=A,l[u>>2]=A,A|0):(l[i>>2]|0&&Ye(27310,27235,61,27333),h=i,l[h>>2]=A,l[u>>2]=A,A|0)}function Wy(i,A){i=i|0,A=A|0;var u=0,h=0;return h=S0(24)|0,h||Ye(27347,27235,78,27361),l[h>>2]=l[A>>2],l[h+4>>2]=l[A+4>>2],l[h+8>>2]=l[A+8>>2],l[h+12>>2]=l[A+12>>2],l[h+16>>2]=0,A=i+4|0,u=l[A>>2]|0,u|0?(l[u+16>>2]=h,l[A>>2]=h,h|0):(l[i>>2]|0&&Ye(27376,27235,82,27361),l[i>>2]=h,l[A>>2]=h,h|0)}function C3(i){i=i|0;var A=0,u=0,h=0,p=0;if(i)for(h=1;;){if(A=l[i>>2]|0,A|0)do{if(u=l[A>>2]|0,u|0)do p=u,u=l[u+16>>2]|0,je(p);while((u|0)!=0);p=A,A=l[A+8>>2]|0,je(p)}while((A|0)!=0);if(A=i,i=l[i+8>>2]|0,h||je(A),i)h=0;else break}}function Hy(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0,oe=0,J=0,Ie=0,Fe=0,Be=0,Ze=0,nt=0,Dt=0,$e=0,Oe=0,be=0,ht=0,qt=0,lt=0;if(p=i+8|0,l[p>>2]|0)return lt=1,lt|0;if(h=l[i>>2]|0,!h)return lt=0,lt|0;A=h,u=0;do u=u+1|0,A=l[A+8>>2]|0;while((A|0)!=0);if(u>>>0<2)return lt=0,lt|0;ht=S0(u<<2)|0,ht||Ye(27396,27235,317,27415),be=S0(u<<5)|0,be||Ye(27437,27235,321,27415),l[i>>2]=0,Fe=i+4|0,l[Fe>>2]=0,l[p>>2]=0,u=0,Oe=0,Ie=0,q=0;e:for(;;){if(k=l[h>>2]|0,k){f=0,v=k;do{if(S=+C[v+8>>3],A=v,v=l[v+16>>2]|0,b=(v|0)==0,p=b?k:v,y=+C[p+8>>3],+pt(+(S-y))>3.141592653589793){lt=14;break}f=f+(y-S)*(+C[A>>3]+ +C[p>>3])}while(!b);if((lt|0)==14){lt=0,f=0,A=k;do J=+C[A+8>>3],$e=A+16|0,Dt=l[$e>>2]|0,Dt=(Dt|0)==0?k:Dt,oe=+C[Dt+8>>3],f=f+(+C[A>>3]+ +C[Dt>>3])*((oe<0?oe+6.283185307179586:oe)-(J<0?J+6.283185307179586:J)),A=l[((A|0)==0?h:$e)>>2]|0;while((A|0)!=0)}f>0?(l[ht+(Oe<<2)>>2]=h,Oe=Oe+1|0,p=Ie,A=q):lt=19}else lt=19;if((lt|0)==19){lt=0;do if(u){if(A=u+8|0,l[A>>2]|0){lt=21;break e}if(u=Vn(1,12)|0,!u){lt=23;break e}l[A>>2]=u,p=u+4|0,v=u,A=q}else if(q){p=Fe,v=q+8|0,A=h,u=i;break}else if(l[i>>2]|0){lt=27;break e}else{p=Fe,v=i,A=h,u=i;break}while(!1);if(l[v>>2]=h,l[p>>2]=h,v=be+(Ie<<5)|0,b=l[h>>2]|0,b){for(k=be+(Ie<<5)+8|0,C[k>>3]=17976931348623157e292,q=be+(Ie<<5)+24|0,C[q>>3]=17976931348623157e292,C[v>>3]=-17976931348623157e292,H=be+(Ie<<5)+16|0,C[H>>3]=-17976931348623157e292,ce=17976931348623157e292,Ae=-17976931348623157e292,p=0,z=b,S=17976931348623157e292,K=17976931348623157e292,se=-17976931348623157e292,y=-17976931348623157e292;f=+C[z>>3],J=+C[z+8>>3],z=l[z+16>>2]|0,W=(z|0)==0,oe=+C[(W?b:z)+8>>3],f<S&&(C[k>>3]=f,S=f),J<K&&(C[q>>3]=J,K=J),f>se?C[v>>3]=f:f=se,J>y&&(C[H>>3]=J,y=J),ce=J>0&J<ce?J:ce,Ae=J<0&J>Ae?J:Ae,p=p|+pt(+(J-oe))>3.141592653589793,!W;)se=f;p&&(C[H>>3]=Ae,C[q>>3]=ce)}else l[v>>2]=0,l[v+4>>2]=0,l[v+8>>2]=0,l[v+12>>2]=0,l[v+16>>2]=0,l[v+20>>2]=0,l[v+24>>2]=0,l[v+28>>2]=0;p=Ie+1|0}if($e=h+8|0,h=l[$e>>2]|0,l[$e>>2]=0,h)Ie=p,q=A;else{lt=45;break}}if((lt|0)==21)Ye(27213,27235,35,27247);else if((lt|0)==23)Ye(27267,27235,37,27247);else if((lt|0)==27)Ye(27310,27235,61,27333);else if((lt|0)==45){e:do if((Oe|0)>0){for($e=(p|0)==0,nt=p<<2,Dt=(i|0)==0,Ze=0,A=0;;){if(Be=l[ht+(Ze<<2)>>2]|0,$e)lt=73;else{if(Ie=S0(nt)|0,!Ie){lt=50;break}if(Fe=S0(nt)|0,!Fe){lt=52;break}t:do if(Dt)u=0;else{for(p=0,u=0,v=i;h=be+(p<<5)|0,P3(l[v>>2]|0,h,l[Be>>2]|0)|0?(l[Ie+(u<<2)>>2]=v,l[Fe+(u<<2)>>2]=h,W=u+1|0):W=u,v=l[v+8>>2]|0,v;)p=p+1|0,u=W;if((W|0)>0)if(h=l[Ie>>2]|0,(W|0)==1)u=h;else for(H=0,z=-1,u=h,q=h;;){for(b=l[q>>2]|0,h=0,v=0;p=l[l[Ie+(v<<2)>>2]>>2]|0,(p|0)==(b|0)?k=h:k=h+((P3(p,l[Fe+(v<<2)>>2]|0,l[b>>2]|0)|0)&1)|0,v=v+1|0,(v|0)!=(W|0);)h=k;if(p=(k|0)>(z|0),u=p?q:u,h=H+1|0,(h|0)==(W|0))break t;H=h,z=p?k:z,q=l[Ie+(h<<2)>>2]|0}else u=0}while(!1);if(je(Ie),je(Fe),u){if(p=u+4|0,h=l[p>>2]|0,h)u=h+8|0;else if(l[u>>2]|0){lt=70;break}l[u>>2]=Be,l[p>>2]=Be}else lt=73}if((lt|0)==73){if(lt=0,A=l[Be>>2]|0,A|0)do Fe=A,A=l[A+16>>2]|0,je(Fe);while((A|0)!=0);je(Be),A=1}if(Ze=Ze+1|0,(Ze|0)>=(Oe|0)){qt=A;break e}}(lt|0)==50?Ye(27452,27235,249,27471):(lt|0)==52?Ye(27490,27235,252,27471):(lt|0)==70&&Ye(27310,27235,61,27333)}else qt=0;while(!1);return je(ht),je(be),lt=qt,lt|0}return 0}function P3(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0;if(!(iu(A,u)|0)||(A=h3(A)|0,h=+C[u>>3],p=+C[u+8>>3],p=A&p<0?p+6.283185307179586:p,i=l[i>>2]|0,!i))return i=0,i|0;if(A){A=0,b=p,u=i;e:for(;;){for(;v=+C[u>>3],p=+C[u+8>>3],u=u+16|0,k=l[u>>2]|0,k=(k|0)==0?i:k,f=+C[k>>3],y=+C[k+8>>3],v>f?(S=v,v=y):(S=f,f=v,v=p,p=y),h=h==f|h==S?h+2220446049250313e-31:h,!!(h<f|h>S);)if(u=l[u>>2]|0,!u){u=22;break e}if(y=v<0?v+6.283185307179586:v,v=p<0?p+6.283185307179586:p,b=y==b|v==b?b+-2220446049250313e-31:b,S=y+(v-y)*((h-f)/(S-f)),(S<0?S+6.283185307179586:S)>b&&(A=A^1),u=l[u>>2]|0,!u){u=22;break}}if((u|0)==22)return A|0}else{A=0,b=p,u=i;e:for(;;){for(;v=+C[u>>3],p=+C[u+8>>3],u=u+16|0,k=l[u>>2]|0,k=(k|0)==0?i:k,f=+C[k>>3],y=+C[k+8>>3],v>f?(S=v,v=y):(S=f,f=v,v=p,p=y),h=h==f|h==S?h+2220446049250313e-31:h,!!(h<f|h>S);)if(u=l[u>>2]|0,!u){u=22;break e}if(b=v==b|p==b?b+-2220446049250313e-31:b,v+(p-v)*((h-f)/(S-f))>b&&(A=A^1),u=l[u>>2]|0,!u){u=22;break}}if((u|0)==22)return A|0}return 0}function nr(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0;if(Ae=P,P=P+32|0,ce=Ae+16|0,se=Ae,f=we(i|0,A|0,52)|0,U()|0,f=f&15,z=we(u|0,h|0,52)|0,U()|0,(f|0)!=(z&15|0))return ce=12,P=Ae,ce|0;if(b=we(i|0,A|0,45)|0,U()|0,b=b&127,k=we(u|0,h|0,45)|0,U()|0,k=k&127,b>>>0>121|k>>>0>121)return ce=5,P=Ae,ce|0;if(z=(b|0)!=(k|0),z){if(y=ou(b,k)|0,(y|0)==7)return ce=1,P=Ae,ce|0;S=ou(k,b)|0,(S|0)==7?Ye(27514,27538,161,27548):(W=y,v=S)}else W=0,v=0;q=Zt(b)|0,H=Zt(k)|0,l[ce>>2]=0,l[ce+4>>2]=0,l[ce+8>>2]=0,l[ce+12>>2]=0;do if(W){if(k=l[4272+(b*28|0)+(W<<2)>>2]|0,y=(k|0)>0,H)if(y){b=0,S=u,y=h;do S=by(S,y)|0,y=U()|0,v=Ir(v)|0,(v|0)==1&&(v=Ir(1)|0),b=b+1|0;while((b|0)!=(k|0));k=v,b=S,S=y}else k=v,b=u,S=h;else if(y){b=0,S=u,y=h;do S=fu(S,y)|0,y=U()|0,v=Ir(v)|0,b=b+1|0;while((b|0)!=(k|0));k=v,b=S,S=y}else k=v,b=u,S=h;if(mu(b,S,ce)|0,z||Ye(27563,27538,191,27548),y=(q|0)!=0,v=(H|0)!=0,y&v&&Ye(27590,27538,192,27548),y){if(v=hn(i,A)|0,(v|0)==7){f=5;break}if(Se[22e3+(v*7|0)+W>>0]|0){f=1;break}S=l[21168+(v*28|0)+(W<<2)>>2]|0,b=S}else if(v){if(v=hn(b,S)|0,(v|0)==7){f=5;break}if(Se[22e3+(v*7|0)+k>>0]|0){f=1;break}b=0,S=l[21168+(k*28|0)+(v<<2)>>2]|0}else b=0,S=0;if((b|S|0)<0)f=5;else{if((S|0)>0){y=ce+4|0,v=0;do i2(y),v=v+1|0;while((v|0)!=(S|0))}if(l[se>>2]=0,l[se+4>>2]=0,l[se+8>>2]=0,m3(se,W),f|0)for(;Un(f)|0?o2(se):c1(se),(f|0)>1;)f=f+-1|0;if((b|0)>0){f=0;do i2(se),f=f+1|0;while((f|0)!=(b|0))}K=ce+4|0,rn(K,se,K),Qa(K),K=51}}else if(mu(u,h,ce)|0,(q|0)!=0&(H|0)!=0)if((k|0)!=(b|0)&&Ye(27621,27538,261,27548),v=hn(i,A)|0,f=hn(u,h)|0,(v|0)==7|(f|0)==7)f=5;else if(Se[22e3+(v*7|0)+f>>0]|0)f=1;else if(v=l[21168+(v*28|0)+(f<<2)>>2]|0,(v|0)>0){y=ce+4|0,f=0;do i2(y),f=f+1|0;while((f|0)!=(v|0));K=51}else K=51;else K=51;while(!1);return(K|0)==51&&(f=ce+4|0,l[p>>2]=l[f>>2],l[p+4>>2]=l[f+4>>2],l[p+8>>2]=l[f+8>>2],f=0),ce=f,P=Ae,ce|0}function B3(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0,oe=0;if(K=P,P=P+48|0,b=K+36|0,v=K+24|0,y=K+12|0,S=K,p=we(i|0,A|0,52)|0,U()|0,p=p&15,H=we(i|0,A|0,45)|0,U()|0,H=H&127,H>>>0>121)return h=5,P=K,h|0;if(k=Zt(H)|0,ke(p|0,0,52)|0,se=U()|0|134225919,f=h,l[f>>2]=-1,l[f+4>>2]=se,!p)return p=s2(u)|0,(p|0)==7||(p=su(H,p)|0,(p|0)==127)?(se=1,P=K,se|0):(z=ke(p|0,0,45)|0,W=U()|0,H=h,W=l[H+4>>2]&-1040385|W,se=h,l[se>>2]=l[H>>2]|z,l[se+4>>2]=W,se=0,P=K,se|0);for(l[b>>2]=l[u>>2],l[b+4>>2]=l[u+4>>2],l[b+8>>2]=l[u+8>>2],u=p;;){if(f=u,u=u+-1|0,l[v>>2]=l[b>>2],l[v+4>>2]=l[b+4>>2],l[v+8>>2]=l[b+8>>2],Un(f)|0){if(p=ty(b)|0,p|0){u=13;break}l[y>>2]=l[b>>2],l[y+4>>2]=l[b+4>>2],l[y+8>>2]=l[b+8>>2],o2(y)}else{if(p=ay(b)|0,p|0){u=13;break}l[y>>2]=l[b>>2],l[y+4>>2]=l[b+4>>2],l[y+8>>2]=l[b+8>>2],c1(y)}if(Au(v,y,S),Qa(S),p=h,Ae=l[p>>2]|0,p=l[p+4>>2]|0,oe=(15-f|0)*3|0,ce=ke(7,0,oe|0)|0,p=p&~(U()|0),oe=ke(s2(S)|0,0,oe|0)|0,p=U()|0|p,se=h,l[se>>2]=oe|Ae&~ce,l[se+4>>2]=p,(f|0)<=1){u=14;break}}e:do if((u|0)!=13&&(u|0)==14)if((l[b>>2]|0)<=1&&(l[b+4>>2]|0)<=1&&(l[b+8>>2]|0)<=1){u=s2(b)|0,p=su(H,u)|0,(p|0)==127?S=0:S=Zt(p)|0;t:do if(u){if(k){if(p=hn(i,A)|0,(p|0)==7){p=5;break e}if(f=l[21376+(p*28|0)+(u<<2)>>2]|0,(f|0)>0){p=u,u=0;do p=h1(p)|0,u=u+1|0;while((u|0)!=(f|0))}else p=u;if((p|0)==1){p=9;break e}u=su(H,p)|0,(u|0)==127&&Ye(27648,27538,411,27678),Zt(u)|0?Ye(27693,27538,412,27678):(W=u,z=f,q=p)}else W=p,z=0,q=u;if(y=l[4272+(H*28|0)+(q<<2)>>2]|0,(y|0)<=-1&&Ye(27724,27538,419,27678),!S){if((z|0)<0){p=5;break e}if(z|0){f=h,p=0,u=l[f>>2]|0,f=l[f+4>>2]|0;do u=p1(u,f)|0,f=U()|0,oe=h,l[oe>>2]=u,l[oe+4>>2]=f,p=p+1|0;while((p|0)<(z|0))}if((y|0)<=0){p=W,u=58;break}for(f=h,p=0,u=l[f>>2]|0,f=l[f+4>>2]|0;;)if(u=p1(u,f)|0,f=U()|0,oe=h,l[oe>>2]=u,l[oe+4>>2]=f,p=p+1|0,(p|0)==(y|0)){p=W,u=58;break t}}if(v=ou(W,H)|0,(v|0)==7&&Ye(27514,27538,428,27678),p=h,u=l[p>>2]|0,p=l[p+4>>2]|0,(y|0)>0){f=0;do u=p1(u,p)|0,p=U()|0,oe=h,l[oe>>2]=u,l[oe+4>>2]=p,f=f+1|0;while((f|0)!=(y|0))}if(p=hn(u,p)|0,(p|0)==7&&Ye(27795,27538,440,27678),u=ru(W)|0,u=l[(u?21792:21584)+(v*28|0)+(p<<2)>>2]|0,(u|0)<0&&Ye(27795,27538,454,27678),!u)p=W,u=58;else{v=h,p=0,f=l[v>>2]|0,v=l[v+4>>2]|0;do f=Du(f,v)|0,v=U()|0,oe=h,l[oe>>2]=f,l[oe+4>>2]=v,p=p+1|0;while((p|0)<(u|0));p=W,u=58}}else if((k|0)!=0&(S|0)!=0){if(u=hn(i,A)|0,f=h,f=hn(l[f>>2]|0,l[f+4>>2]|0)|0,(u|0)==7|(f|0)==7){p=5;break e}if(f=l[21376+(u*28|0)+(f<<2)>>2]|0,(f|0)<0){p=5;break e}if(!f)u=59;else{y=h,u=0,v=l[y>>2]|0,y=l[y+4>>2]|0;do v=p1(v,y)|0,y=U()|0,oe=h,l[oe>>2]=v,l[oe+4>>2]=y,u=u+1|0;while((u|0)<(f|0));u=58}}else u=58;while(!1);if((u|0)==58&&S&&(u=59),(u|0)==59&&(oe=h,(hn(l[oe>>2]|0,l[oe+4>>2]|0)|0)==1)){p=9;break}oe=h,ce=l[oe>>2]|0,oe=l[oe+4>>2]&-1040385,Ae=ke(p|0,0,45)|0,oe=oe|(U()|0),p=h,l[p>>2]=ce|Ae,l[p+4>>2]=oe,p=0}else p=1;while(!1);return oe=p,P=K,oe|0}function jy(i,A,u,h,p,f){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0,f=f|0;var v=0,y=0;return y=P,P=P+16|0,v=y,p?i=15:(i=nr(i,A,u,h,v)|0,i||(ry(v,f),i=0)),P=y,i|0}function $y(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0;return v=P,P=P+16|0,f=v,h?u=15:(u=sy(u,f)|0,u||(u=B3(i,A,f,p)|0)),P=v,u|0}function Qy(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0,y=0,S=0;return S=P,P=P+32|0,v=S+12|0,y=S,f=nr(i,A,i,A,v)|0,f|0?(y=f,P=S,y|0):(i=nr(i,A,u,h,y)|0,i|0?(y=i,P=S,y|0):(v=uu(v,y)|0,y=p,l[y>>2]=v,l[y+4>>2]=((v|0)<0)<<31>>31,y=0,P=S,y|0))}function Yy(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0,y=0,S=0;return S=P,P=P+32|0,v=S+12|0,y=S,f=nr(i,A,i,A,v)|0,!f&&(f=nr(i,A,u,h,y)|0,!f)?(h=uu(v,y)|0,h=We(h|0,((h|0)<0)<<31>>31|0,1,0)|0,v=U()|0,y=p,l[y>>2]=h,l[y+4>>2]=v,y=0,P=S,y|0):(y=f,P=S,y|0)}function Xy(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0,oe=0,J=0,Ie=0,Fe=0,Be=0,Ze=0;if(Be=P,P=P+48|0,Ie=Be+24|0,v=Be+12|0,Fe=Be,f=nr(i,A,i,A,Ie)|0,!f&&(f=nr(i,A,u,h,v)|0,!f)){oe=uu(Ie,v)|0,J=((oe|0)<0)<<31>>31,l[Ie>>2]=0,l[Ie+4>>2]=0,l[Ie+8>>2]=0,l[v>>2]=0,l[v+4>>2]=0,l[v+8>>2]=0,nr(i,A,i,A,Ie)|0&&Ye(27795,27538,692,27747),nr(i,A,u,h,v)|0&&Ye(27795,27538,697,27747),S3(Ie),S3(v),k=(oe|0)==0?0:1/+(oe|0),u=l[Ie>>2]|0,K=k*+((l[v>>2]|0)-u|0),se=Ie+4|0,h=l[se>>2]|0,ce=k*+((l[v+4>>2]|0)-h|0),Ae=Ie+8|0,f=l[Ae>>2]|0,k=k*+((l[v+8>>2]|0)-f|0),l[Fe>>2]=u,q=Fe+4|0,l[q>>2]=h,H=Fe+8|0,l[H>>2]=f;e:do if((oe|0)<0)f=0;else for(z=0,W=0;;){S=+(W>>>0)+4294967296*+(z|0),Ze=K*S+ +(u|0),y=ce*S+ +(h|0),S=k*S+ +(f|0),u=~~+c2(+Ze),v=~~+c2(+y),f=~~+c2(+S),Ze=+pt(+(+(u|0)-Ze)),y=+pt(+(+(v|0)-y)),S=+pt(+(+(f|0)-S));do if(Ze>y&Ze>S)u=0-(v+f)|0,h=v;else if(b=0-u|0,y>S){h=b-f|0;break}else{h=v,f=b-v|0;break}while(!1);if(l[Fe>>2]=u,l[q>>2]=h,l[H>>2]=f,oy(Fe),f=B3(i,A,Fe,p+(W<<3)|0)|0,f|0)break e;if(!((z|0)<(J|0)|(z|0)==(J|0)&W>>>0<oe>>>0)){f=0;break e}u=We(W|0,z|0,1,0)|0,h=U()|0,z=h,W=u,u=l[Ie>>2]|0,h=l[se>>2]|0,f=l[Ae>>2]|0}while(!1);return Fe=f,P=Be,Fe|0}return Fe=f,P=Be,Fe|0}function Er(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0;if((u|0)==0&(h|0)==0)return p=0,f=1,at(p|0),f|0;f=i,p=A,i=1,A=0;do v=(u&1|0)==0&!0,i=Ya((v?1:f)|0,(v?0:p)|0,i|0,A|0)|0,A=U()|0,u=$3(u|0,h|0,1)|0,h=U()|0,f=Ya(f|0,p|0,f|0,p|0)|0,p=U()|0;while(!((u|0)==0&(h|0)==0));return at(A|0),i|0}function bu(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0,k=0;y=P,P=P+16|0,f=y,v=we(i|0,A|0,52)|0,U()|0,v=v&15;do if(v){if(p=g1(i,A,f)|0,!p){b=+C[f>>3],S=1/+Et(+b),k=+C[25968+(v<<3)>>3],C[u>>3]=b+k,C[u+8>>3]=b-k,b=+C[f+8>>3],S=k*S,C[u+16>>3]=S+b,C[u+24>>3]=b-S;break}return v=p,P=y,v|0}else{if(p=we(i|0,A|0,45)|0,U()|0,p=p&127,p>>>0>121)return v=5,P=y,v|0;f=22064+(p<<5)|0,l[u>>2]=l[f>>2],l[u+4>>2]=l[f+4>>2],l[u+8>>2]=l[f+8>>2],l[u+12>>2]=l[f+12>>2],l[u+16>>2]=l[f+16>>2],l[u+20>>2]=l[f+20>>2],l[u+24>>2]=l[f+24>>2],l[u+28>>2]=l[f+28>>2];break}while(!1);return Zm(u,h?1.4:1.1),h=26096+(v<<3)|0,(l[h>>2]|0)==(i|0)&&(l[h+4>>2]|0)==(A|0)&&(C[u>>3]=1.5707963267948966),v=26224+(v<<3)|0,(l[v>>2]|0)==(i|0)&&(l[v+4>>2]|0)==(A|0)&&(C[u+8>>3]=-1.5707963267948966),+C[u>>3]!=1.5707963267948966&&+C[u+8>>3]!=-1.5707963267948966?(v=0,P=y,v|0):(C[u+16>>3]=3.141592653589793,C[u+24>>3]=-3.141592653589793,v=0,P=y,v|0)}function Ky(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0,k=0;b=P,P=P+48|0,v=b+32|0,f=b+40|0,y=b,pu(v,0,0,0),S=l[v>>2]|0,v=l[v+4>>2]|0;do if(u>>>0<=15){if(p=vo(h)|0,p|0){h=y,l[h>>2]=0,l[h+4>>2]=0,l[y+8>>2]=p,l[y+12>>2]=-1,h=y+16|0,S=y+29|0,l[h>>2]=0,l[h+4>>2]=0,l[h+8>>2]=0,Se[h+12>>0]=0,Se[S>>0]=Se[f>>0]|0,Se[S+1>>0]=Se[f+1>>0]|0,Se[S+2>>0]=Se[f+2>>0]|0;break}if(p=Vn((l[A+8>>2]|0)+1|0,32)|0,p){Tu(A,p),k=y,l[k>>2]=S,l[k+4>>2]=v,l[y+8>>2]=0,l[y+12>>2]=u,l[y+16>>2]=h,l[y+20>>2]=A,l[y+24>>2]=p,Se[y+28>>0]=0,S=y+29|0,Se[S>>0]=Se[f>>0]|0,Se[S+1>>0]=Se[f+1>>0]|0,Se[S+2>>0]=Se[f+2>>0]|0;break}else{h=y,l[h>>2]=0,l[h+4>>2]=0,l[y+8>>2]=13,l[y+12>>2]=-1,h=y+16|0,S=y+29|0,l[h>>2]=0,l[h+4>>2]=0,l[h+8>>2]=0,Se[h+12>>0]=0,Se[S>>0]=Se[f>>0]|0,Se[S+1>>0]=Se[f+1>>0]|0,Se[S+2>>0]=Se[f+2>>0]|0;break}}else S=y,l[S>>2]=0,l[S+4>>2]=0,l[y+8>>2]=4,l[y+12>>2]=-1,S=y+16|0,k=y+29|0,l[S>>2]=0,l[S+4>>2]=0,l[S+8>>2]=0,Se[S+12>>0]=0,Se[k>>0]=Se[f>>0]|0,Se[k+1>>0]=Se[f+1>>0]|0,Se[k+2>>0]=Se[f+2>>0]|0;while(!1);A2(y),l[i>>2]=l[y>>2],l[i+4>>2]=l[y+4>>2],l[i+8>>2]=l[y+8>>2],l[i+12>>2]=l[y+12>>2],l[i+16>>2]=l[y+16>>2],l[i+20>>2]=l[y+20>>2],l[i+24>>2]=l[y+24>>2],l[i+28>>2]=l[y+28>>2],P=b}function A2(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0,oe=0,J=0;if(J=P,P=P+336|0,z=J+168|0,W=J,h=i,u=l[h>>2]|0,h=l[h+4>>2]|0,(u|0)==0&(h|0)==0){P=J;return}if(A=i+28|0,Se[A>>0]|0?(u=L3(u,h)|0,h=U()|0):Se[A>>0]=1,oe=i+20|0,!(l[l[oe>>2]>>2]|0)){A=i+24|0,u=l[A>>2]|0,u|0&&je(u),Ae=i,l[Ae>>2]=0,l[Ae+4>>2]=0,l[i+8>>2]=0,l[oe>>2]=0,l[i+12>>2]=-1,l[i+16>>2]=0,l[A>>2]=0,P=J;return}Ae=i+16|0,A=l[Ae>>2]|0,p=A&15;e:do if((u|0)==0&(h|0)==0)ce=i+24|0;else{K=i+12|0,q=(p|0)==3,k=A&255,S=(p|1|0)==3,H=i+24|0,b=(p+-1|0)>>>0<3,v=(p|2|0)==3,y=W+8|0;t:for(;;){if(f=we(u|0,h|0,52)|0,U()|0,f=f&15,(f|0)==(l[K>>2]|0)){switch(k&15){case 0:case 2:case 3:{if(p=g1(u,h,z)|0,p|0){se=15;break t}if(Iu(l[oe>>2]|0,l[H>>2]|0,z)|0){se=19;break t}break}}if(S&&(p=l[(l[oe>>2]|0)+4>>2]|0,l[z>>2]=l[p>>2],l[z+4>>2]=l[p+4>>2],l[z+8>>2]=l[p+8>>2],l[z+12>>2]=l[p+12>>2],iu(26832,z)|0)){if(vu(l[(l[oe>>2]|0)+4>>2]|0,f,W)|0){se=25;break}if(p=W,(l[p>>2]|0)==(u|0)&&(l[p+4>>2]|0)==(h|0)){se=29;break}}if(b){if(p=rs(u,h,z)|0,p|0){se=32;break}if(bu(u,h,W,0)|0){se=36;break}if(v&&F3(l[oe>>2]|0,l[H>>2]|0,z,W)|0){se=42;break}if(S&&O3(l[oe>>2]|0,l[H>>2]|0,z,W)|0){se=42;break}}if(q){if(A=bu(u,h,z,1)|0,p=l[H>>2]|0,A|0){se=45;break}if(lu(p,z)|0){if(g3(W,z),p3(z,l[H>>2]|0)|0){se=53;break}if(Iu(l[oe>>2]|0,l[H>>2]|0,y)|0){se=53;break}if(O3(l[oe>>2]|0,l[H>>2]|0,W,z)|0){se=53;break}}}}do if((f|0)<(l[K>>2]|0)){if(A=bu(u,h,z,1)|0,p=l[H>>2]|0,A|0){se=58;break t}if(!(lu(p,z)|0)){se=73;break}if(p3(l[H>>2]|0,z)|0&&(g3(W,z),F3(l[oe>>2]|0,l[H>>2]|0,W,z)|0)){se=65;break t}if(u=E3(u,h,f+1|0,W)|0,u|0){se=67;break t}h=W,u=l[h>>2]|0,h=l[h+4>>2]|0}else se=73;while(!1);if((se|0)==73&&(se=0,u=L3(u,h)|0,h=U()|0),(u|0)==0&(h|0)==0){ce=H;break e}}switch(se|0){case 15:{A=l[H>>2]|0,A|0&&je(A),se=i,l[se>>2]=0,l[se+4>>2]=0,l[oe>>2]=0,l[K>>2]=-1,l[Ae>>2]=0,l[H>>2]=0,l[i+8>>2]=p,se=20;break}case 19:{l[i>>2]=u,l[i+4>>2]=h,se=20;break}case 25:{Ye(27795,27761,470,27772);break}case 29:{l[i>>2]=u,l[i+4>>2]=h,P=J;return}case 32:{A=l[H>>2]|0,A|0&&je(A),ce=i,l[ce>>2]=0,l[ce+4>>2]=0,l[oe>>2]=0,l[K>>2]=-1,l[Ae>>2]=0,l[H>>2]=0,l[i+8>>2]=p,P=J;return}case 36:{Ye(27795,27761,493,27772);break}case 42:{l[i>>2]=u,l[i+4>>2]=h,P=J;return}case 45:{p|0&&je(p),se=i,l[se>>2]=0,l[se+4>>2]=0,l[oe>>2]=0,l[K>>2]=-1,l[Ae>>2]=0,l[H>>2]=0,l[i+8>>2]=A,se=55;break}case 53:{l[i>>2]=u,l[i+4>>2]=h,se=55;break}case 58:{p|0&&je(p),se=i,l[se>>2]=0,l[se+4>>2]=0,l[oe>>2]=0,l[K>>2]=-1,l[Ae>>2]=0,l[H>>2]=0,l[i+8>>2]=A,se=71;break}case 65:{l[i>>2]=u,l[i+4>>2]=h,se=71;break}case 67:{A=l[H>>2]|0,A|0&&je(A),ce=i,l[ce>>2]=0,l[ce+4>>2]=0,l[oe>>2]=0,l[K>>2]=-1,l[Ae>>2]=0,l[H>>2]=0,l[i+8>>2]=u,P=J;return}}if((se|0)==20){P=J;return}else if((se|0)==55){P=J;return}else if((se|0)==71){P=J;return}}while(!1);A=l[ce>>2]|0,A|0&&je(A),se=i,l[se>>2]=0,l[se+4>>2]=0,l[i+8>>2]=0,l[oe>>2]=0,l[i+12>>2]=-1,l[Ae>>2]=0,l[ce>>2]=0,P=J}function L3(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0;q=P,P=P+16|0,k=q,h=we(i|0,A|0,52)|0,U()|0,h=h&15,u=we(i|0,A|0,45)|0,U()|0;do if(h){for(;u=ke(h+4095|0,0,52)|0,p=U()|0|A&-15728641,f=(15-h|0)*3|0,v=ke(7,0,f|0)|0,y=U()|0,u=u|i|v,p=p|y,S=we(i|0,A|0,f|0)|0,U()|0,S=S&7,h=h+-1|0,!(S>>>0<6);)if(h)A=p,i=u;else{b=4;break}if((b|0)==4){u=we(u|0,p|0,45)|0,U()|0;break}return k=(S|0)==0&(Vt(u,p)|0)!=0,k=ke((k?2:1)+S|0,0,f|0)|0,b=U()|0|A&~y,k=k|i&~v,at(b|0),P=q,k|0}while(!1);return u=u&127,u>>>0>120?(b=0,k=0,at(b|0),P=q,k|0):(pu(k,0,u+1|0,0),b=l[k+4>>2]|0,k=l[k>>2]|0,at(b|0),P=q,k|0)}function Zy(i,A,u,h,p,f){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0,f=f|0;var v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0;se=P,P=P+160|0,q=se+80|0,y=se+64|0,H=se+112|0,K=se,Ky(q,i,A,u),b=q,_u(y,l[b>>2]|0,l[b+4>>2]|0,A),b=y,S=l[b>>2]|0,b=l[b+4>>2]|0,v=l[q+8>>2]|0,z=H+4|0,l[z>>2]=l[q>>2],l[z+4>>2]=l[q+4>>2],l[z+8>>2]=l[q+8>>2],l[z+12>>2]=l[q+12>>2],l[z+16>>2]=l[q+16>>2],l[z+20>>2]=l[q+20>>2],l[z+24>>2]=l[q+24>>2],l[z+28>>2]=l[q+28>>2],z=K,l[z>>2]=S,l[z+4>>2]=b,z=K+8|0,l[z>>2]=v,i=K+12|0,A=H,u=i+36|0;do l[i>>2]=l[A>>2],i=i+4|0,A=A+4|0;while((i|0)<(u|0));if(H=K+48|0,l[H>>2]=l[y>>2],l[H+4>>2]=l[y+4>>2],l[H+8>>2]=l[y+8>>2],l[H+12>>2]=l[y+12>>2],(S|0)==0&(b|0)==0)return K=v,P=se,K|0;u=K+16|0,k=K+24|0,q=K+28|0,v=0,y=0,A=S,i=b;do{if(!((v|0)<(p|0)|(v|0)==(p|0)&y>>>0<h>>>0)){W=4;break}if(b=y,y=We(y|0,v|0,1,0)|0,v=U()|0,b=f+(b<<3)|0,l[b>>2]=A,l[b+4>>2]=i,wu(H),i=H,A=l[i>>2]|0,i=l[i+4>>2]|0,(A|0)==0&(i|0)==0){if(A2(u),A=u,i=l[A>>2]|0,A=l[A+4>>2]|0,(i|0)==0&(A|0)==0){W=10;break}N3(i,A,l[q>>2]|0,H),i=H,A=l[i>>2]|0,i=l[i+4>>2]|0}b=K,l[b>>2]=A,l[b+4>>2]=i}while(!((A|0)==0&(i|0)==0));return(W|0)==4?(i=K+40|0,A=l[i>>2]|0,A|0&&je(A),W=K+16|0,l[W>>2]=0,l[W+4>>2]=0,l[k>>2]=0,l[K+36>>2]=0,l[q>>2]=-1,l[K+32>>2]=0,l[i>>2]=0,N3(0,0,0,H),l[K>>2]=0,l[K+4>>2]=0,l[z>>2]=0,K=14,P=se,K|0):((W|0)==10&&(l[K>>2]=0,l[K+4>>2]=0,l[z>>2]=l[k>>2]),K=l[z>>2]|0,P=se,K|0)}function Jy(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0;if(q=P,P=P+48|0,S=q+32|0,y=q+40|0,b=q,!(l[i>>2]|0))return k=h,l[k>>2]=0,l[k+4>>2]=0,k=0,P=q,k|0;pu(S,0,0,0),v=S,p=l[v>>2]|0,v=l[v+4>>2]|0;do if(A>>>0>15)k=b,l[k>>2]=0,l[k+4>>2]=0,l[b+8>>2]=4,l[b+12>>2]=-1,k=b+16|0,u=b+29|0,l[k>>2]=0,l[k+4>>2]=0,l[k+8>>2]=0,Se[k+12>>0]=0,Se[u>>0]=Se[y>>0]|0,Se[u+1>>0]=Se[y+1>>0]|0,Se[u+2>>0]=Se[y+2>>0]|0,u=4,k=9;else{if(u=vo(u)|0,u|0){S=b,l[S>>2]=0,l[S+4>>2]=0,l[b+8>>2]=u,l[b+12>>2]=-1,S=b+16|0,k=b+29|0,l[S>>2]=0,l[S+4>>2]=0,l[S+8>>2]=0,Se[S+12>>0]=0,Se[k>>0]=Se[y>>0]|0,Se[k+1>>0]=Se[y+1>>0]|0,Se[k+2>>0]=Se[y+2>>0]|0,k=9;break}if(u=Vn((l[i+8>>2]|0)+1|0,32)|0,!u){k=b,l[k>>2]=0,l[k+4>>2]=0,l[b+8>>2]=13,l[b+12>>2]=-1,k=b+16|0,u=b+29|0,l[k>>2]=0,l[k+4>>2]=0,l[k+8>>2]=0,Se[k+12>>0]=0,Se[u>>0]=Se[y>>0]|0,Se[u+1>>0]=Se[y+1>>0]|0,Se[u+2>>0]=Se[y+2>>0]|0,u=13,k=9;break}Tu(i,u),z=b,l[z>>2]=p,l[z+4>>2]=v,v=b+8|0,l[v>>2]=0,l[b+12>>2]=A,l[b+20>>2]=i,l[b+24>>2]=u,Se[b+28>>0]=0,p=b+29|0,Se[p>>0]=Se[y>>0]|0,Se[p+1>>0]=Se[y+1>>0]|0,Se[p+2>>0]=Se[y+2>>0]|0,l[b+16>>2]=3,H=+Ym(u),H=H*+Qm(u),f=+pt(+ +C[u>>3]),f=H/+Et(+ +d2(+f,+ +pt(+ +C[u+8>>3])))*6371.007180918475*6371.007180918475,p=b+12|0,u=l[p>>2]|0;e:do if((u|0)>0)do{if(R3(u+-1|0,S)|0,!(f/+C[S>>3]>10))break e;z=l[p>>2]|0,u=z+-1|0,l[p>>2]=u}while((z|0)>1);while(!1);if(A2(b),p=h,l[p>>2]=0,l[p+4>>2]=0,p=b,u=l[p>>2]|0,p=l[p+4>>2]|0,!((u|0)==0&(p|0)==0))do po(u,p,A,S)|0,y=S,i=h,y=We(l[i>>2]|0,l[i+4>>2]|0,l[y>>2]|0,l[y+4>>2]|0)|0,i=U()|0,z=h,l[z>>2]=y,l[z+4>>2]=i,A2(b),z=b,u=l[z>>2]|0,p=l[z+4>>2]|0;while(!((u|0)==0&(p|0)==0));u=l[v>>2]|0}while(!1);return z=u,P=q,z|0}function fo(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0;if(!(iu(A,u)|0)||(A=h3(A)|0,h=+C[u>>3],p=+C[u+8>>3],p=A&p<0?p+6.283185307179586:p,H=l[i>>2]|0,(H|0)<=0))return H=0,H|0;if(q=l[i+4>>2]|0,A){A=0,k=p,u=-1,i=0;e:for(;;){for(b=i;v=+C[q+(b<<4)>>3],p=+C[q+(b<<4)+8>>3],i=(u+2|0)%(H|0)|0,f=+C[q+(i<<4)>>3],y=+C[q+(i<<4)+8>>3],v>f?(S=v,v=y):(S=f,f=v,v=p,p=y),h=h==f|h==S?h+2220446049250313e-31:h,!!(h<f|h>S);)if(u=b+1|0,(u|0)>=(H|0)){u=22;break e}else i=b,b=u,u=i;if(y=v<0?v+6.283185307179586:v,v=p<0?p+6.283185307179586:p,k=y==k|v==k?k+-2220446049250313e-31:k,S=y+(v-y)*((h-f)/(S-f)),(S<0?S+6.283185307179586:S)>k&&(A=A^1),i=b+1|0,(i|0)>=(H|0)){u=22;break}else u=b}if((u|0)==22)return A|0}else{A=0,k=p,u=-1,i=0;e:for(;;){for(b=i;v=+C[q+(b<<4)>>3],p=+C[q+(b<<4)+8>>3],i=(u+2|0)%(H|0)|0,f=+C[q+(i<<4)>>3],y=+C[q+(i<<4)+8>>3],v>f?(S=v,v=y):(S=f,f=v,v=p,p=y),h=h==f|h==S?h+2220446049250313e-31:h,!!(h<f|h>S);)if(u=b+1|0,(u|0)>=(H|0)){u=22;break e}else i=b,b=u,u=i;if(k=v==k|p==k?k+-2220446049250313e-31:k,v+(p-v)*((h-f)/(S-f))>k&&(A=A^1),i=b+1|0,(i|0)>=(H|0)){u=22;break}else u=b}if((u|0)==22)return A|0}return 0}function q3(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0;if(W=l[i>>2]|0,!W){l[A>>2]=0,l[A+4>>2]=0,l[A+8>>2]=0,l[A+12>>2]=0,l[A+16>>2]=0,l[A+20>>2]=0,l[A+24>>2]=0,l[A+28>>2]=0;return}if(K=A+8|0,C[K>>3]=17976931348623157e292,se=A+24|0,C[se>>3]=17976931348623157e292,C[A>>3]=-17976931348623157e292,ce=A+16|0,C[ce>>3]=-17976931348623157e292,!((W|0)<=0)){for(H=l[i+4>>2]|0,b=17976931348623157e292,k=-17976931348623157e292,q=0,i=-1,f=17976931348623157e292,v=17976931348623157e292,S=-17976931348623157e292,h=-17976931348623157e292,z=0;u=+C[H+(z<<4)>>3],y=+C[H+(z<<4)+8>>3],i=i+2|0,p=+C[H+(((i|0)==(W|0)?0:i)<<4)+8>>3],u<f&&(C[K>>3]=u,f=u),y<v&&(C[se>>3]=y,v=y),u>S?C[A>>3]=u:u=S,y>h&&(C[ce>>3]=y,h=y),b=y>0&y<b?y:b,k=y<0&y>k?y:k,q=q|+pt(+(y-p))>3.141592653589793,i=z+1|0,(i|0)!=(W|0);)Ae=z,S=u,z=i,i=Ae;q&&(C[ce>>3]=k,C[se>>3]=b)}}function vo(i){return i=i|0,(i>>>0<4?0:15)|0}function Tu(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0,oe=0,J=0,Ie=0,Fe=0,Be=0;if(W=l[i>>2]|0,W){if(K=A+8|0,C[K>>3]=17976931348623157e292,se=A+24|0,C[se>>3]=17976931348623157e292,C[A>>3]=-17976931348623157e292,ce=A+16|0,C[ce>>3]=-17976931348623157e292,(W|0)>0){for(p=l[i+4>>2]|0,H=17976931348623157e292,z=-17976931348623157e292,h=0,u=-1,S=17976931348623157e292,b=17976931348623157e292,q=-17976931348623157e292,v=-17976931348623157e292,Ae=0;f=+C[p+(Ae<<4)>>3],k=+C[p+(Ae<<4)+8>>3],Fe=u+2|0,y=+C[p+(((Fe|0)==(W|0)?0:Fe)<<4)+8>>3],f<S&&(C[K>>3]=f,S=f),k<b&&(C[se>>3]=k,b=k),f>q?C[A>>3]=f:f=q,k>v&&(C[ce>>3]=k,v=k),H=k>0&k<H?k:H,z=k<0&k>z?k:z,h=h|+pt(+(k-y))>3.141592653589793,u=Ae+1|0,(u|0)!=(W|0);)Fe=Ae,q=f,Ae=u,u=Fe;h&&(C[ce>>3]=z,C[se>>3]=H)}}else l[A>>2]=0,l[A+4>>2]=0,l[A+8>>2]=0,l[A+12>>2]=0,l[A+16>>2]=0,l[A+20>>2]=0,l[A+24>>2]=0,l[A+28>>2]=0;if(Fe=i+8|0,u=l[Fe>>2]|0,!((u|0)<=0)){Ie=i+12|0,J=0;do if(p=l[Ie>>2]|0,h=J,J=J+1|0,se=A+(J<<5)|0,ce=l[p+(h<<3)>>2]|0,ce){if(Ae=A+(J<<5)+8|0,C[Ae>>3]=17976931348623157e292,i=A+(J<<5)+24|0,C[i>>3]=17976931348623157e292,C[se>>3]=-17976931348623157e292,oe=A+(J<<5)+16|0,C[oe>>3]=-17976931348623157e292,(ce|0)>0){for(W=l[p+(h<<3)+4>>2]|0,H=17976931348623157e292,z=-17976931348623157e292,p=0,h=-1,K=0,S=17976931348623157e292,b=17976931348623157e292,k=-17976931348623157e292,v=-17976931348623157e292;f=+C[W+(K<<4)>>3],q=+C[W+(K<<4)+8>>3],h=h+2|0,y=+C[W+(((h|0)==(ce|0)?0:h)<<4)+8>>3],f<S&&(C[Ae>>3]=f,S=f),q<b&&(C[i>>3]=q,b=q),f>k?C[se>>3]=f:f=k,q>v&&(C[oe>>3]=q,v=q),H=q>0&q<H?q:H,z=q<0&q>z?q:z,p=p|+pt(+(q-y))>3.141592653589793,h=K+1|0,(h|0)!=(ce|0);)Be=K,K=h,k=f,h=Be;p&&(C[oe>>3]=z,C[i>>3]=H)}}else l[se>>2]=0,l[se+4>>2]=0,l[se+8>>2]=0,l[se+12>>2]=0,l[se+16>>2]=0,l[se+20>>2]=0,l[se+24>>2]=0,l[se+28>>2]=0,u=l[Fe>>2]|0;while((J|0)<(u|0))}}function Iu(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0;if(!(fo(i,A,u)|0))return p=0,p|0;if(p=i+8|0,(l[p>>2]|0)<=0)return p=1,p|0;for(h=i+12|0,i=0;;){if(f=i,i=i+1|0,fo((l[h>>2]|0)+(f<<3)|0,A+(i<<5)|0,u)|0){i=0,h=6;break}if((i|0)>=(l[p>>2]|0)){i=1,h=6;break}}return(h|0)==6?i|0:0}function F3(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0,k=0;if(b=P,P=P+16|0,y=b,v=u+8|0,!(fo(i,A,v)|0))return S=0,P=b,S|0;S=i+8|0;e:do if((l[S>>2]|0)>0){for(f=i+12|0,p=0;;){if(k=p,p=p+1|0,fo((l[f>>2]|0)+(k<<3)|0,A+(p<<5)|0,v)|0){p=0;break}if((p|0)>=(l[S>>2]|0))break e}return P=b,p|0}while(!1);if(u2(i,A,u,h)|0)return k=0,P=b,k|0;l[y>>2]=l[u>>2],l[y+4>>2]=v,p=l[S>>2]|0;e:do if((p|0)>0)for(i=i+12|0,v=0,f=p;;){if(p=l[i>>2]|0,(l[p+(v<<3)>>2]|0)>0){if(fo(y,h,l[p+(v<<3)+4>>2]|0)|0){p=0;break e}if(p=v+1|0,u2((l[i>>2]|0)+(v<<3)|0,A+(p<<5)|0,u,h)|0){p=0;break e}f=l[S>>2]|0}else p=v+1|0;if((p|0)<(f|0))v=p;else{p=1;break}}else p=1;while(!1);return k=p,P=b,k|0}function u2(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0,oe=0,J=0,Ie=0,Fe=0,Be=0,Ze=0;if(Fe=P,P=P+176|0,Ae=Fe+172|0,p=Fe+168|0,oe=Fe,!(lu(A,h)|0))return i=0,P=Fe,i|0;if(Xm(A,h,Ae,p),ls(oe|0,u|0,168)|0,(l[u>>2]|0)>0){A=0;do Be=oe+8+(A<<4)+8|0,ce=+In(+C[Be>>3],l[p>>2]|0),C[Be>>3]=ce,A=A+1|0;while((A|0)<(l[u>>2]|0))}K=+C[h>>3],se=+C[h+8>>3],ce=+In(+C[h+16>>3],l[p>>2]|0),z=+In(+C[h+24>>3],l[p>>2]|0);e:do if((l[i>>2]|0)>0){if(h=i+4|0,p=l[oe>>2]|0,(p|0)<=0){for(A=0;;)if(A=A+1|0,(A|0)>=(l[i>>2]|0)){A=0;break e}}for(u=0;;){if(A=l[h>>2]|0,H=+C[A+(u<<4)>>3],W=+In(+C[A+(u<<4)+8>>3],l[Ae>>2]|0),A=l[h>>2]|0,u=u+1|0,Be=(u|0)%(l[i>>2]|0)|0,f=+C[A+(Be<<4)>>3],v=+In(+C[A+(Be<<4)+8>>3],l[Ae>>2]|0),!(H>=K)|!(f>=K)&&!(H<=se)|!(f<=se)&&!(W<=z)|!(v<=z)&&!(W>=ce)|!(v>=ce)){q=f-H,b=v-W,A=0;do if(Ze=A,A=A+1|0,Be=(A|0)==(p|0)?0:A,f=+C[oe+8+(Ze<<4)+8>>3],v=+C[oe+8+(Be<<4)+8>>3]-f,y=+C[oe+8+(Ze<<4)>>3],S=+C[oe+8+(Be<<4)>>3]-y,k=q*v-b*S,k!=0&&(J=W-f,Ie=H-y,S=(J*S-v*Ie)/k,!(S<0|S>1))&&(k=(q*J-b*Ie)/k,k>=0&k<=1)){A=1;break e}while((A|0)<(p|0))}if((u|0)>=(l[i>>2]|0)){A=0;break}}}else A=0;while(!1);return Ze=A,P=Fe,Ze|0}function O3(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0;if(u2(i,A,u,h)|0)return f=1,f|0;if(f=i+8|0,(l[f>>2]|0)<=0)return f=0,f|0;for(p=i+12|0,i=0;;){if(v=i,i=i+1|0,u2((l[p>>2]|0)+(v<<3)|0,A+(i<<5)|0,u,h)|0){i=1,p=6;break}if((i|0)>=(l[f>>2]|0)){i=0,p=6;break}}return(p|0)==6?i|0:0}function e_(){return 8}function t_(){return 16}function a_(){return 168}function n_(){return 8}function r_(){return 16}function s_(){return 12}function o_(){return 8}function i_(i){return i=i|0,+(+((l[i>>2]|0)>>>0)+4294967296*+(l[i+4>>2]|0))}function l_(i){i=i|0;var A=0,u=0;return u=+C[i>>3],A=+C[i+8>>3],+ +bt(+(u*u+A*A))}function U3(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0;b=+C[i>>3],S=+C[A>>3]-b,y=+C[i+8>>3],v=+C[A+8>>3]-y,q=+C[u>>3],f=+C[h>>3]-q,H=+C[u+8>>3],k=+C[h+8>>3]-H,f=(f*(y-H)-(b-q)*k)/(S*k-v*f),C[p>>3]=b+S*f,C[p+8>>3]=y+v*f}function G3(i,A){return i=i|0,A=A|0,+pt(+(+C[i>>3]-+C[A>>3]))<11920928955078125e-23?(A=+pt(+(+C[i+8>>3]-+C[A+8>>3]))<11920928955078125e-23,A|0):(A=0,A|0)}function wa(i,A){i=i|0,A=A|0;var u=0,h=0,p=0;return p=+C[i>>3]-+C[A>>3],h=+C[i+8>>3]-+C[A+8>>3],u=+C[i+16>>3]-+C[A+16>>3],+(p*p+h*h+u*u)}function A_(i,A){i=i|0,A=A|0;var u=0,h=0,p=0;u=+C[i>>3],h=+Et(+u),u=+gt(+u),C[A+16>>3]=u,u=+C[i+8>>3],p=h*+Et(+u),C[A>>3]=p,u=h*+gt(+u),C[A+8>>3]=u}function u_(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0;if(f=P,P=P+16|0,p=f,h=Vt(i,A)|0,(u+-1|0)>>>0>5||(h=(h|0)!=0,(u|0)==1&h))return p=-1,P=f,p|0;do if(mo(i,A,p)|0)h=-1;else if(h){h=((l[26352+(u<<2)>>2]|0)+5-(l[p>>2]|0)|0)%5|0;break}else{h=((l[26384+(u<<2)>>2]|0)+6-(l[p>>2]|0)|0)%6|0;break}while(!1);return p=h,P=f,p|0}function mo(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0,S=0,b=0;if(b=P,P=P+32|0,v=b+16|0,y=b,h=ns(i,A,v)|0,h|0)return u=h,P=b,u|0;f=T3(i,A)|0,S=hn(i,A)|0,Wm(f,y),h=Hm(f,l[v>>2]|0)|0;e:do if(Zt(f)|0){do switch(f|0){case 4:{i=0;break}case 14:{i=1;break}case 24:{i=2;break}case 38:{i=3;break}case 49:{i=4;break}case 58:{i=5;break}case 63:{i=6;break}case 72:{i=7;break}case 83:{i=8;break}case 97:{i=9;break}case 107:{i=10;break}case 117:{i=11;break}default:{h=1;break e}}while(!1);if(p=l[26416+(i*24|0)+8>>2]|0,A=l[26416+(i*24|0)+16>>2]|0,i=l[v>>2]|0,(i|0)!=(l[y>>2]|0)&&(y=ru(f)|0,i=l[v>>2]|0,y|(i|0)==(A|0)&&(h=(h+1|0)%6|0)),(S|0)==3&(i|0)==(A|0)){h=(h+5|0)%6|0,p=22;break}(S|0)==5&(i|0)==(p|0)&&(h=(h+1|0)%6|0),p=22}else p=22;while(!1);return(p|0)==22&&(l[u>>2]=h,h=0),u=h,P=b,u|0}function Gn(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0,oe=0;if(oe=P,P=P+32|0,Ae=oe+24|0,se=oe+20|0,W=oe+8|0,z=oe+16|0,H=oe,S=(Vt(i,A)|0)==0,S=S?6:5,k=we(i|0,A|0,52)|0,U()|0,k=k&15,S>>>0<=u>>>0)return h=2,P=oe,h|0;q=(k|0)==0,!q&&(K=ke(7,0,(k^15)*3|0)|0,(K&i|0)==0&((U()|0)&A|0)==0)?p=u:f=4;e:do if((f|0)==4){if(p=(Vt(i,A)|0)!=0,((p?4:5)|0)<(u|0)||mo(i,A,Ae)|0||(f=(l[Ae>>2]|0)+u|0,p?p=26704+(((f|0)%5|0)<<2)|0:p=26736+(((f|0)%6|0)<<2)|0,K=l[p>>2]|0,(K|0)==7))return h=1,P=oe,h|0;l[se>>2]=0,p=Ra(i,A,K,se,W)|0;do if(!p){if(y=W,b=l[y>>2]|0,y=l[y+4>>2]|0,v=y>>>0<A>>>0|(y|0)==(A|0)&b>>>0<i>>>0,f=v?b:i,v=v?y:A,!q&&(q=ke(7,0,(k^15)*3|0)|0,(b&q|0)==0&(y&(U()|0)|0)==0))p=u;else{if(y=(u+-1+S|0)%(S|0)|0,p=Vt(i,A)|0,(y|0)<0&&Ye(27795,27797,246,27806),S=(p|0)!=0,((S?4:5)|0)<(y|0)&&Ye(27795,27797,246,27806),mo(i,A,Ae)|0&&Ye(27795,27797,246,27806),p=(l[Ae>>2]|0)+y|0,S?p=26704+(((p|0)%5|0)<<2)|0:p=26736+(((p|0)%6|0)<<2)|0,y=l[p>>2]|0,(y|0)==7&&Ye(27795,27797,246,27806),l[z>>2]=0,p=Ra(i,A,y,z,H)|0,p|0)break;b=H,S=l[b>>2]|0,b=l[b+4>>2]|0;do if(b>>>0<v>>>0|(b|0)==(v|0)&S>>>0<f>>>0){if(Vt(S,b)|0?f=nu(S,b,i,A)|0:f=l[26800+((((l[z>>2]|0)+(l[26768+(y<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,p=Vt(S,b)|0,(f+-1|0)>>>0>5){p=-1,f=S,v=b;break}if(p=(p|0)!=0,(f|0)==1&p){p=-1,f=S,v=b;break}do if(mo(S,b,Ae)|0)p=-1;else if(p){p=((l[26352+(f<<2)>>2]|0)+5-(l[Ae>>2]|0)|0)%5|0;break}else{p=((l[26384+(f<<2)>>2]|0)+6-(l[Ae>>2]|0)|0)%6|0;break}while(!1);f=S,v=b}else p=u;while(!1);y=W,b=l[y>>2]|0,y=l[y+4>>2]|0}if((f|0)==(b|0)&(v|0)==(y|0)){if(S=(Vt(b,y)|0)!=0,S?i=nu(b,y,i,A)|0:i=l[26800+((((l[se>>2]|0)+(l[26768+(K<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,p=Vt(b,y)|0,(i+-1|0)>>>0<=5&&(ce=(p|0)!=0,!((i|0)==1&ce)))do if(mo(b,y,Ae)|0)p=-1;else if(ce){p=((l[26352+(i<<2)>>2]|0)+5-(l[Ae>>2]|0)|0)%5|0;break}else{p=((l[26384+(i<<2)>>2]|0)+6-(l[Ae>>2]|0)|0)%6|0;break}while(!1);else p=-1;p=p+1|0,p=(p|0)==6|S&(p|0)==5?0:p}A=v,i=f;break e}while(!1);return h=p,P=oe,h|0}while(!1);return ce=ke(p|0,0,56)|0,Ae=U()|0|A&-2130706433|536870912,l[h>>2]=ce|i,l[h+4>>2]=Ae,h=0,P=oe,h|0}function d_(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0;return f=(Vt(i,A)|0)==0,h=Gn(i,A,0,u)|0,p=(h|0)==0,f?!p||(h=Gn(i,A,1,u+8|0)|0,h|0)||(h=Gn(i,A,2,u+16|0)|0,h|0)||(h=Gn(i,A,3,u+24|0)|0,h|0)||(h=Gn(i,A,4,u+32|0)|0,h)?(f=h,f|0):Gn(i,A,5,u+40|0)|0:!p||(h=Gn(i,A,1,u+8|0)|0,h|0)||(h=Gn(i,A,2,u+16|0)|0,h|0)||(h=Gn(i,A,3,u+24|0)|0,h|0)||(h=Gn(i,A,4,u+32|0)|0,h|0)?(f=h,f|0):(f=u+40|0,l[f>>2]=0,l[f+4>>2]=0,f=0,f|0)}function c_(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0,y=0,S=0;return S=P,P=P+192|0,p=S,f=S+168|0,v=we(i|0,A|0,56)|0,U()|0,v=v&7,y=A&-2130706433|134217728,h=ns(i,y,f)|0,h|0?(y=h,P=S,y|0):(A=we(i|0,A|0,52)|0,U()|0,A=A&15,Vt(i,y)|0?du(f,A,v,1,p):cu(f,A,v,1,p),y=p+8|0,l[u>>2]=l[y>>2],l[u+4>>2]=l[y+4>>2],l[u+8>>2]=l[y+8>>2],l[u+12>>2]=l[y+12>>2],y=0,P=S,y|0)}function h_(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0;return p=P,P=P+16|0,u=p,!(!0&(A&2013265920|0)==536870912)||(h=A&-2130706433|134217728,!(hu(i,h)|0))?(h=0,P=p,h|0):(f=we(i|0,A|0,56)|0,U()|0,f=(Gn(i,h,f&7,u)|0)==0,h=u,h=f&((l[h>>2]|0)==(i|0)?(l[h+4>>2]|0)==(A|0):0)&1,P=p,h|0)}function V3(i,A,u){i=i|0,A=A|0,u=u|0;var h=0;(A|0)>0?(h=Vn(A,4)|0,l[i>>2]=h,h||Ye(27819,27842,40,27856)):l[i>>2]=0,l[i+4>>2]=A,l[i+8>>2]=0,l[i+12>>2]=u}function z3(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0;p=i+4|0,f=i+12|0,v=i+8|0;e:for(;;){for(u=l[p>>2]|0,A=0;;){if((A|0)>=(u|0))break e;if(h=l[i>>2]|0,y=l[h+(A<<2)>>2]|0,!y)A=A+1|0;else break}A=h+(~~(+pt(+(+Tr(10,+ +(15-(l[f>>2]|0)|0))*(+C[y>>3]+ +C[y+8>>3])))%+(u|0))>>>0<<2)|0,u=l[A>>2]|0;t:do if(u|0){if(h=y+32|0,(u|0)==(y|0))l[A>>2]=l[h>>2];else{if(u=u+32|0,A=l[u>>2]|0,!A)break;for(;(A|0)!=(y|0);)if(u=A+32|0,A=l[u>>2]|0,!A)break t;l[u>>2]=l[h>>2]}je(y),l[v>>2]=(l[v>>2]|0)+-1}while(!1)}je(l[i>>2]|0)}function W3(i){i=i|0;var A=0,u=0,h=0;for(h=l[i+4>>2]|0,u=0;;){if((u|0)>=(h|0)){A=0,u=4;break}if(A=l[(l[i>>2]|0)+(u<<2)>>2]|0,!A)u=u+1|0;else{u=4;break}}return(u|0)==4?A|0:0}function H3(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0;if(u=~~(+pt(+(+Tr(10,+ +(15-(l[i+12>>2]|0)|0))*(+C[A>>3]+ +C[A+8>>3])))%+(l[i+4>>2]|0))>>>0,u=(l[i>>2]|0)+(u<<2)|0,h=l[u>>2]|0,!h)return f=1,f|0;f=A+32|0;do if((h|0)!=(A|0)){if(u=l[h+32>>2]|0,!u)return f=1,f|0;for(p=u;;){if((p|0)==(A|0)){p=8;break}if(u=l[p+32>>2]|0,u)h=p,p=u;else{u=1,p=10;break}}if((p|0)==8){l[h+32>>2]=l[f>>2];break}else if((p|0)==10)return u|0}else l[u>>2]=l[f>>2];while(!1);return je(A),f=i+8|0,l[f>>2]=(l[f>>2]|0)+-1,f=0,f|0}function p_(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0;f=S0(40)|0,f||Ye(27872,27842,98,27885),l[f>>2]=l[A>>2],l[f+4>>2]=l[A+4>>2],l[f+8>>2]=l[A+8>>2],l[f+12>>2]=l[A+12>>2],p=f+16|0,l[p>>2]=l[u>>2],l[p+4>>2]=l[u+4>>2],l[p+8>>2]=l[u+8>>2],l[p+12>>2]=l[u+12>>2],l[f+32>>2]=0,p=~~(+pt(+(+Tr(10,+ +(15-(l[i+12>>2]|0)|0))*(+C[A>>3]+ +C[A+8>>3])))%+(l[i+4>>2]|0))>>>0,p=(l[i>>2]|0)+(p<<2)|0,h=l[p>>2]|0;do if(!h)l[p>>2]=f;else{for(;!(ss(h,A)|0&&ss(h+16|0,u)|0);)if(p=l[h+32>>2]|0,h=(p|0)==0?h:p,!(l[h+32>>2]|0)){v=10;break}if((v|0)==10){l[h+32>>2]=f;break}return je(f),v=h,v|0}while(!1);return v=i+8|0,l[v>>2]=(l[v>>2]|0)+1,v=f,v|0}function g_(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0;if(p=~~(+pt(+(+Tr(10,+ +(15-(l[i+12>>2]|0)|0))*(+C[A>>3]+ +C[A+8>>3])))%+(l[i+4>>2]|0))>>>0,p=l[(l[i>>2]|0)+(p<<2)>>2]|0,!p)return u=0,u|0;if(!u){for(i=p;;){if(ss(i,A)|0){h=10;break}if(i=l[i+32>>2]|0,!i){i=0,h=10;break}}if((h|0)==10)return i|0}for(i=p;;){if(ss(i,A)|0&&ss(i+16|0,u)|0){h=10;break}if(i=l[i+32>>2]|0,!i){i=0,h=10;break}}return(h|0)==10?i|0:0}function D_(i,A){i=i|0,A=A|0;var u=0;if(u=~~(+pt(+(+Tr(10,+ +(15-(l[i+12>>2]|0)|0))*(+C[A>>3]+ +C[A+8>>3])))%+(l[i+4>>2]|0))>>>0,i=l[(l[i>>2]|0)+(u<<2)>>2]|0,!i)return u=0,u|0;for(;;){if(ss(i,A)|0){A=5;break}if(i=l[i+32>>2]|0,!i){i=0,A=5;break}}return(A|0)==5?i|0:0}function f_(){return 27904}function kr(i){return i=+i,~~+X3(+i)|0}function S0(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0,K=0,se=0,ce=0,Ae=0,oe=0,J=0,Ie=0;Ie=P,P=P+16|0,H=Ie;do if(i>>>0<245){if(b=i>>>0<11?16:i+11&-8,i=b>>>3,q=l[6977]|0,u=q>>>i,u&3|0)return A=(u&1^1)+i|0,i=27948+(A<<1<<2)|0,u=i+8|0,h=l[u>>2]|0,p=h+8|0,f=l[p>>2]|0,(f|0)==(i|0)?l[6977]=q&~(1<<A):(l[f+12>>2]=i,l[u>>2]=f),J=A<<3,l[h+4>>2]=J|3,J=h+J+4|0,l[J>>2]=l[J>>2]|1,J=p,P=Ie,J|0;if(k=l[6979]|0,b>>>0>k>>>0){if(u|0)return A=2<<i,A=u<<i&(A|0-A),A=(A&0-A)+-1|0,y=A>>>12&16,A=A>>>y,u=A>>>5&8,A=A>>>u,f=A>>>2&4,A=A>>>f,i=A>>>1&2,A=A>>>i,h=A>>>1&1,h=(u|y|f|i|h)+(A>>>h)|0,A=27948+(h<<1<<2)|0,i=A+8|0,f=l[i>>2]|0,y=f+8|0,u=l[y>>2]|0,(u|0)==(A|0)?(i=q&~(1<<h),l[6977]=i):(l[u+12>>2]=A,l[i>>2]=u,i=q),J=h<<3,v=J-b|0,l[f+4>>2]=b|3,p=f+b|0,l[p+4>>2]=v|1,l[f+J>>2]=v,k|0&&(h=l[6982]|0,A=k>>>3,u=27948+(A<<1<<2)|0,A=1<<A,i&A?(i=u+8|0,A=l[i>>2]|0):(l[6977]=i|A,A=u,i=u+8|0),l[i>>2]=h,l[A+12>>2]=h,l[h+8>>2]=A,l[h+12>>2]=u),l[6979]=v,l[6982]=p,J=y,P=Ie,J|0;if(f=l[6978]|0,f){for(u=(f&0-f)+-1|0,p=u>>>12&16,u=u>>>p,h=u>>>5&8,u=u>>>h,v=u>>>2&4,u=u>>>v,y=u>>>1&2,u=u>>>y,S=u>>>1&1,S=l[28212+((h|p|v|y|S)+(u>>>S)<<2)>>2]|0,u=S,y=S,S=(l[S+4>>2]&-8)-b|0;i=l[u+16>>2]|0,!(!i&&(i=l[u+20>>2]|0,!i));)v=(l[i+4>>2]&-8)-b|0,p=v>>>0<S>>>0,u=i,y=p?i:y,S=p?v:S;if(v=y+b|0,v>>>0>y>>>0){p=l[y+24>>2]|0,A=l[y+12>>2]|0;do if((A|0)==(y|0)){if(i=y+20|0,A=l[i>>2]|0,!A&&(i=y+16|0,A=l[i>>2]|0,!A)){u=0;break}for(;;)if(h=A+20|0,u=l[h>>2]|0,u)A=u,i=h;else if(h=A+16|0,u=l[h>>2]|0,u)A=u,i=h;else break;l[i>>2]=0,u=A}else u=l[y+8>>2]|0,l[u+12>>2]=A,l[A+8>>2]=u,u=A;while(!1);do if(p|0){if(A=l[y+28>>2]|0,i=28212+(A<<2)|0,(y|0)==(l[i>>2]|0)){if(l[i>>2]=u,!u){l[6978]=f&~(1<<A);break}}else if(J=p+16|0,l[((l[J>>2]|0)==(y|0)?J:p+20|0)>>2]=u,!u)break;l[u+24>>2]=p,A=l[y+16>>2]|0,A|0&&(l[u+16>>2]=A,l[A+24>>2]=u),A=l[y+20>>2]|0,A|0&&(l[u+20>>2]=A,l[A+24>>2]=u)}while(!1);return S>>>0<16?(J=S+b|0,l[y+4>>2]=J|3,J=y+J+4|0,l[J>>2]=l[J>>2]|1):(l[y+4>>2]=b|3,l[v+4>>2]=S|1,l[v+S>>2]=S,k|0&&(h=l[6982]|0,A=k>>>3,u=27948+(A<<1<<2)|0,A=1<<A,A&q?(i=u+8|0,A=l[i>>2]|0):(l[6977]=A|q,A=u,i=u+8|0),l[i>>2]=h,l[A+12>>2]=h,l[h+8>>2]=A,l[h+12>>2]=u),l[6979]=S,l[6982]=v),J=y+8|0,P=Ie,J|0}else q=b}else q=b}else q=b}else if(i>>>0<=4294967231)if(i=i+11|0,b=i&-8,h=l[6978]|0,h){p=0-b|0,i=i>>>8,i?b>>>0>16777215?S=31:(q=(i+1048320|0)>>>16&8,K=i<<q,y=(K+520192|0)>>>16&4,K=K<<y,S=(K+245760|0)>>>16&2,S=14-(y|q|S)+(K<<S>>>15)|0,S=b>>>(S+7|0)&1|S<<1):S=0,u=l[28212+(S<<2)>>2]|0;e:do if(!u)u=0,i=0,K=61;else for(i=0,y=b<<((S|0)==31?0:25-(S>>>1)|0),f=0;;){if(v=(l[u+4>>2]&-8)-b|0,v>>>0<p>>>0)if(v)i=u,p=v;else{i=u,p=0,K=65;break e}if(K=l[u+20>>2]|0,u=l[u+16+(y>>>31<<2)>>2]|0,f=(K|0)==0|(K|0)==(u|0)?f:K,u)y=y<<1;else{u=f,K=61;break}}while(!1);if((K|0)==61){if((u|0)==0&(i|0)==0){if(i=2<<S,i=(i|0-i)&h,!i){q=b;break}q=(i&0-i)+-1|0,v=q>>>12&16,q=q>>>v,f=q>>>5&8,q=q>>>f,y=q>>>2&4,q=q>>>y,S=q>>>1&2,q=q>>>S,u=q>>>1&1,i=0,u=l[28212+((f|v|y|S|u)+(q>>>u)<<2)>>2]|0}u?K=65:(y=i,v=p)}if((K|0)==65)for(f=u;;)if(q=(l[f+4>>2]&-8)-b|0,u=q>>>0<p>>>0,p=u?q:p,i=u?f:i,u=l[f+16>>2]|0,u||(u=l[f+20>>2]|0),u)f=u;else{y=i,v=p;break}if((y|0)!=0&&v>>>0<((l[6979]|0)-b|0)>>>0&&(k=y+b|0,k>>>0>y>>>0)){f=l[y+24>>2]|0,A=l[y+12>>2]|0;do if((A|0)==(y|0)){if(i=y+20|0,A=l[i>>2]|0,!A&&(i=y+16|0,A=l[i>>2]|0,!A)){A=0;break}for(;;)if(p=A+20|0,u=l[p>>2]|0,u)A=u,i=p;else if(p=A+16|0,u=l[p>>2]|0,u)A=u,i=p;else break;l[i>>2]=0}else J=l[y+8>>2]|0,l[J+12>>2]=A,l[A+8>>2]=J;while(!1);do if(f){if(i=l[y+28>>2]|0,u=28212+(i<<2)|0,(y|0)==(l[u>>2]|0)){if(l[u>>2]=A,!A){h=h&~(1<<i),l[6978]=h;break}}else if(J=f+16|0,l[((l[J>>2]|0)==(y|0)?J:f+20|0)>>2]=A,!A)break;l[A+24>>2]=f,i=l[y+16>>2]|0,i|0&&(l[A+16>>2]=i,l[i+24>>2]=A),i=l[y+20>>2]|0,i&&(l[A+20>>2]=i,l[i+24>>2]=A)}while(!1);e:do if(v>>>0<16)J=v+b|0,l[y+4>>2]=J|3,J=y+J+4|0,l[J>>2]=l[J>>2]|1;else{if(l[y+4>>2]=b|3,l[k+4>>2]=v|1,l[k+v>>2]=v,A=v>>>3,v>>>0<256){u=27948+(A<<1<<2)|0,i=l[6977]|0,A=1<<A,i&A?(i=u+8|0,A=l[i>>2]|0):(l[6977]=i|A,A=u,i=u+8|0),l[i>>2]=k,l[A+12>>2]=k,l[k+8>>2]=A,l[k+12>>2]=u;break}if(A=v>>>8,A?v>>>0>16777215?u=31:(oe=(A+1048320|0)>>>16&8,J=A<<oe,Ae=(J+520192|0)>>>16&4,J=J<<Ae,u=(J+245760|0)>>>16&2,u=14-(Ae|oe|u)+(J<<u>>>15)|0,u=v>>>(u+7|0)&1|u<<1):u=0,A=28212+(u<<2)|0,l[k+28>>2]=u,i=k+16|0,l[i+4>>2]=0,l[i>>2]=0,i=1<<u,!(h&i)){l[6978]=h|i,l[A>>2]=k,l[k+24>>2]=A,l[k+12>>2]=k,l[k+8>>2]=k;break}A=l[A>>2]|0;t:do if((l[A+4>>2]&-8|0)!=(v|0)){for(h=v<<((u|0)==31?0:25-(u>>>1)|0);u=A+16+(h>>>31<<2)|0,i=l[u>>2]|0,!!i;)if((l[i+4>>2]&-8|0)==(v|0)){A=i;break t}else h=h<<1,A=i;l[u>>2]=k,l[k+24>>2]=A,l[k+12>>2]=k,l[k+8>>2]=k;break e}while(!1);oe=A+8|0,J=l[oe>>2]|0,l[J+12>>2]=k,l[oe>>2]=k,l[k+8>>2]=J,l[k+12>>2]=A,l[k+24>>2]=0}while(!1);return J=y+8|0,P=Ie,J|0}else q=b}else q=b;else q=-1;while(!1);if(u=l[6979]|0,u>>>0>=q>>>0)return A=u-q|0,i=l[6982]|0,A>>>0>15?(J=i+q|0,l[6982]=J,l[6979]=A,l[J+4>>2]=A|1,l[i+u>>2]=A,l[i+4>>2]=q|3):(l[6979]=0,l[6982]=0,l[i+4>>2]=u|3,J=i+u+4|0,l[J>>2]=l[J>>2]|1),J=i+8|0,P=Ie,J|0;if(v=l[6980]|0,v>>>0>q>>>0)return Ae=v-q|0,l[6980]=Ae,J=l[6983]|0,oe=J+q|0,l[6983]=oe,l[oe+4>>2]=Ae|1,l[J+4>>2]=q|3,J=J+8|0,P=Ie,J|0;if(l[7095]|0?i=l[7097]|0:(l[7097]=4096,l[7096]=4096,l[7098]=-1,l[7099]=-1,l[7100]=0,l[7088]=0,l[7095]=H&-16^1431655768,i=4096),y=q+48|0,S=q+47|0,f=i+S|0,p=0-i|0,b=f&p,b>>>0<=q>>>0||(i=l[7087]|0,i|0&&(k=l[7085]|0,H=k+b|0,H>>>0<=k>>>0|H>>>0>i>>>0)))return J=0,P=Ie,J|0;e:do if(l[7088]&4)A=0,K=143;else{u=l[6983]|0;t:do if(u){for(h=28356;H=l[h>>2]|0,!(H>>>0<=u>>>0&&(H+(l[h+4>>2]|0)|0)>>>0>u>>>0);)if(i=l[h+8>>2]|0,i)h=i;else{K=128;break t}if(A=f-v&p,A>>>0<2147483647)if(i=Rr(A|0)|0,(i|0)==((l[h>>2]|0)+(l[h+4>>2]|0)|0)){if((i|0)!=-1){v=A,f=i,K=145;break e}}else h=i,K=136;else A=0}else K=128;while(!1);do if((K|0)==128)if(u=Rr(0)|0,(u|0)!=-1&&(A=u,z=l[7096]|0,W=z+-1|0,A=((W&A|0)==0?0:(W+A&0-z)-A|0)+b|0,z=l[7085]|0,W=A+z|0,A>>>0>q>>>0&A>>>0<2147483647)){if(H=l[7087]|0,H|0&&W>>>0<=z>>>0|W>>>0>H>>>0){A=0;break}if(i=Rr(A|0)|0,(i|0)==(u|0)){v=A,f=u,K=145;break e}else h=i,K=136}else A=0;while(!1);do if((K|0)==136){if(u=0-A|0,!(y>>>0>A>>>0&(A>>>0<2147483647&(h|0)!=-1)))if((h|0)==-1){A=0;break}else{v=A,f=h,K=145;break e}if(i=l[7097]|0,i=S-A+i&0-i,i>>>0>=2147483647){v=A,f=h,K=145;break e}if((Rr(i|0)|0)==-1){Rr(u|0)|0,A=0;break}else{v=i+A|0,f=h,K=145;break e}}while(!1);l[7088]=l[7088]|4,K=143}while(!1);if((K|0)==143&&b>>>0<2147483647&&(Ae=Rr(b|0)|0,W=Rr(0)|0,se=W-Ae|0,ce=se>>>0>(q+40|0)>>>0,!((Ae|0)==-1|ce^1|Ae>>>0<W>>>0&((Ae|0)!=-1&(W|0)!=-1)^1))&&(v=ce?se:A,f=Ae,K=145),(K|0)==145){A=(l[7085]|0)+v|0,l[7085]=A,A>>>0>(l[7086]|0)>>>0&&(l[7086]=A),S=l[6983]|0;e:do if(S){for(A=28356;;){if(i=l[A>>2]|0,u=l[A+4>>2]|0,(f|0)==(i+u|0)){K=154;break}if(h=l[A+8>>2]|0,h)A=h;else break}if((K|0)==154&&(oe=A+4|0,(l[A+12>>2]&8|0)==0)&&f>>>0>S>>>0&i>>>0<=S>>>0){l[oe>>2]=u+v,J=(l[6980]|0)+v|0,Ae=S+8|0,Ae=(Ae&7|0)==0?0:0-Ae&7,oe=S+Ae|0,Ae=J-Ae|0,l[6983]=oe,l[6980]=Ae,l[oe+4>>2]=Ae|1,l[S+J+4>>2]=40,l[6984]=l[7099];break}for(f>>>0<(l[6981]|0)>>>0&&(l[6981]=f),u=f+v|0,A=28356;;){if((l[A>>2]|0)==(u|0)){K=162;break}if(i=l[A+8>>2]|0,i)A=i;else break}if((K|0)==162&&(l[A+12>>2]&8|0)==0){l[A>>2]=f,k=A+4|0,l[k>>2]=(l[k>>2]|0)+v,k=f+8|0,k=f+((k&7|0)==0?0:0-k&7)|0,A=u+8|0,A=u+((A&7|0)==0?0:0-A&7)|0,b=k+q|0,y=A-k-q|0,l[k+4>>2]=q|3;t:do if((S|0)==(A|0))J=(l[6980]|0)+y|0,l[6980]=J,l[6983]=b,l[b+4>>2]=J|1;else{if((l[6982]|0)==(A|0)){J=(l[6979]|0)+y|0,l[6979]=J,l[6982]=b,l[b+4>>2]=J|1,l[b+J>>2]=J;break}if(i=l[A+4>>2]|0,(i&3|0)==1){v=i&-8,h=i>>>3;a:do if(i>>>0<256)if(i=l[A+8>>2]|0,u=l[A+12>>2]|0,(u|0)==(i|0)){l[6977]=l[6977]&~(1<<h);break}else{l[i+12>>2]=u,l[u+8>>2]=i;break}else{f=l[A+24>>2]|0,i=l[A+12>>2]|0;do if((i|0)==(A|0)){if(u=A+16|0,h=u+4|0,i=l[h>>2]|0,i)u=h;else if(i=l[u>>2]|0,!i){i=0;break}for(;;)if(p=i+20|0,h=l[p>>2]|0,h)i=h,u=p;else if(p=i+16|0,h=l[p>>2]|0,h)i=h,u=p;else break;l[u>>2]=0}else J=l[A+8>>2]|0,l[J+12>>2]=i,l[i+8>>2]=J;while(!1);if(!f)break;u=l[A+28>>2]|0,h=28212+(u<<2)|0;do if((l[h>>2]|0)!=(A|0)){if(J=f+16|0,l[((l[J>>2]|0)==(A|0)?J:f+20|0)>>2]=i,!i)break a}else{if(l[h>>2]=i,i|0)break;l[6978]=l[6978]&~(1<<u);break a}while(!1);if(l[i+24>>2]=f,u=A+16|0,h=l[u>>2]|0,h|0&&(l[i+16>>2]=h,l[h+24>>2]=i),u=l[u+4>>2]|0,!u)break;l[i+20>>2]=u,l[u+24>>2]=i}while(!1);A=A+v|0,p=v+y|0}else p=y;if(A=A+4|0,l[A>>2]=l[A>>2]&-2,l[b+4>>2]=p|1,l[b+p>>2]=p,A=p>>>3,p>>>0<256){u=27948+(A<<1<<2)|0,i=l[6977]|0,A=1<<A,i&A?(i=u+8|0,A=l[i>>2]|0):(l[6977]=i|A,A=u,i=u+8|0),l[i>>2]=b,l[A+12>>2]=b,l[b+8>>2]=A,l[b+12>>2]=u;break}A=p>>>8;do if(!A)h=0;else{if(p>>>0>16777215){h=31;break}oe=(A+1048320|0)>>>16&8,J=A<<oe,Ae=(J+520192|0)>>>16&4,J=J<<Ae,h=(J+245760|0)>>>16&2,h=14-(Ae|oe|h)+(J<<h>>>15)|0,h=p>>>(h+7|0)&1|h<<1}while(!1);if(A=28212+(h<<2)|0,l[b+28>>2]=h,i=b+16|0,l[i+4>>2]=0,l[i>>2]=0,i=l[6978]|0,u=1<<h,!(i&u)){l[6978]=i|u,l[A>>2]=b,l[b+24>>2]=A,l[b+12>>2]=b,l[b+8>>2]=b;break}A=l[A>>2]|0;a:do if((l[A+4>>2]&-8|0)!=(p|0)){for(h=p<<((h|0)==31?0:25-(h>>>1)|0);u=A+16+(h>>>31<<2)|0,i=l[u>>2]|0,!!i;)if((l[i+4>>2]&-8|0)==(p|0)){A=i;break a}else h=h<<1,A=i;l[u>>2]=b,l[b+24>>2]=A,l[b+12>>2]=b,l[b+8>>2]=b;break t}while(!1);oe=A+8|0,J=l[oe>>2]|0,l[J+12>>2]=b,l[oe>>2]=b,l[b+8>>2]=J,l[b+12>>2]=A,l[b+24>>2]=0}while(!1);return J=k+8|0,P=Ie,J|0}for(A=28356;i=l[A>>2]|0,!(i>>>0<=S>>>0&&(J=i+(l[A+4>>2]|0)|0,J>>>0>S>>>0));)A=l[A+8>>2]|0;p=J+-47|0,i=p+8|0,i=p+((i&7|0)==0?0:0-i&7)|0,p=S+16|0,i=i>>>0<p>>>0?S:i,A=i+8|0,u=v+-40|0,Ae=f+8|0,Ae=(Ae&7|0)==0?0:0-Ae&7,oe=f+Ae|0,Ae=u-Ae|0,l[6983]=oe,l[6980]=Ae,l[oe+4>>2]=Ae|1,l[f+u+4>>2]=40,l[6984]=l[7099],u=i+4|0,l[u>>2]=27,l[A>>2]=l[7089],l[A+4>>2]=l[7090],l[A+8>>2]=l[7091],l[A+12>>2]=l[7092],l[7089]=f,l[7090]=v,l[7092]=0,l[7091]=A,A=i+24|0;do oe=A,A=A+4|0,l[A>>2]=7;while((oe+8|0)>>>0<J>>>0);if((i|0)!=(S|0)){if(f=i-S|0,l[u>>2]=l[u>>2]&-2,l[S+4>>2]=f|1,l[i>>2]=f,A=f>>>3,f>>>0<256){u=27948+(A<<1<<2)|0,i=l[6977]|0,A=1<<A,i&A?(i=u+8|0,A=l[i>>2]|0):(l[6977]=i|A,A=u,i=u+8|0),l[i>>2]=S,l[A+12>>2]=S,l[S+8>>2]=A,l[S+12>>2]=u;break}if(A=f>>>8,A?f>>>0>16777215?h=31:(oe=(A+1048320|0)>>>16&8,J=A<<oe,Ae=(J+520192|0)>>>16&4,J=J<<Ae,h=(J+245760|0)>>>16&2,h=14-(Ae|oe|h)+(J<<h>>>15)|0,h=f>>>(h+7|0)&1|h<<1):h=0,u=28212+(h<<2)|0,l[S+28>>2]=h,l[S+20>>2]=0,l[p>>2]=0,A=l[6978]|0,i=1<<h,!(A&i)){l[6978]=A|i,l[u>>2]=S,l[S+24>>2]=u,l[S+12>>2]=S,l[S+8>>2]=S;break}A=l[u>>2]|0;t:do if((l[A+4>>2]&-8|0)!=(f|0)){for(h=f<<((h|0)==31?0:25-(h>>>1)|0);u=A+16+(h>>>31<<2)|0,i=l[u>>2]|0,!!i;)if((l[i+4>>2]&-8|0)==(f|0)){A=i;break t}else h=h<<1,A=i;l[u>>2]=S,l[S+24>>2]=A,l[S+12>>2]=S,l[S+8>>2]=S;break e}while(!1);oe=A+8|0,J=l[oe>>2]|0,l[J+12>>2]=S,l[oe>>2]=S,l[S+8>>2]=J,l[S+12>>2]=A,l[S+24>>2]=0}}else J=l[6981]|0,(J|0)==0|f>>>0<J>>>0&&(l[6981]=f),l[7089]=f,l[7090]=v,l[7092]=0,l[6986]=l[7095],l[6985]=-1,l[6990]=27948,l[6989]=27948,l[6992]=27956,l[6991]=27956,l[6994]=27964,l[6993]=27964,l[6996]=27972,l[6995]=27972,l[6998]=27980,l[6997]=27980,l[7e3]=27988,l[6999]=27988,l[7002]=27996,l[7001]=27996,l[7004]=28004,l[7003]=28004,l[7006]=28012,l[7005]=28012,l[7008]=28020,l[7007]=28020,l[7010]=28028,l[7009]=28028,l[7012]=28036,l[7011]=28036,l[7014]=28044,l[7013]=28044,l[7016]=28052,l[7015]=28052,l[7018]=28060,l[7017]=28060,l[7020]=28068,l[7019]=28068,l[7022]=28076,l[7021]=28076,l[7024]=28084,l[7023]=28084,l[7026]=28092,l[7025]=28092,l[7028]=28100,l[7027]=28100,l[7030]=28108,l[7029]=28108,l[7032]=28116,l[7031]=28116,l[7034]=28124,l[7033]=28124,l[7036]=28132,l[7035]=28132,l[7038]=28140,l[7037]=28140,l[7040]=28148,l[7039]=28148,l[7042]=28156,l[7041]=28156,l[7044]=28164,l[7043]=28164,l[7046]=28172,l[7045]=28172,l[7048]=28180,l[7047]=28180,l[7050]=28188,l[7049]=28188,l[7052]=28196,l[7051]=28196,J=v+-40|0,Ae=f+8|0,Ae=(Ae&7|0)==0?0:0-Ae&7,oe=f+Ae|0,Ae=J-Ae|0,l[6983]=oe,l[6980]=Ae,l[oe+4>>2]=Ae|1,l[f+J+4>>2]=40,l[6984]=l[7099];while(!1);if(A=l[6980]|0,A>>>0>q>>>0)return Ae=A-q|0,l[6980]=Ae,J=l[6983]|0,oe=J+q|0,l[6983]=oe,l[oe+4>>2]=Ae|1,l[J+4>>2]=q|3,J=J+8|0,P=Ie,J|0}return J=f_()|0,l[J>>2]=12,J=0,P=Ie,J|0}function je(i){i=i|0;var A=0,u=0,h=0,p=0,f=0,v=0,y=0,S=0;if(i){u=i+-8|0,p=l[6981]|0,i=l[i+-4>>2]|0,A=i&-8,S=u+A|0;do if(i&1)y=u,v=u;else{if(h=l[u>>2]|0,!(i&3)||(v=u+(0-h)|0,f=h+A|0,v>>>0<p>>>0))return;if((l[6982]|0)==(v|0)){if(i=S+4|0,A=l[i>>2]|0,(A&3|0)!=3){y=v,A=f;break}l[6979]=f,l[i>>2]=A&-2,l[v+4>>2]=f|1,l[v+f>>2]=f;return}if(u=h>>>3,h>>>0<256)if(i=l[v+8>>2]|0,A=l[v+12>>2]|0,(A|0)==(i|0)){l[6977]=l[6977]&~(1<<u),y=v,A=f;break}else{l[i+12>>2]=A,l[A+8>>2]=i,y=v,A=f;break}p=l[v+24>>2]|0,i=l[v+12>>2]|0;do if((i|0)==(v|0)){if(A=v+16|0,u=A+4|0,i=l[u>>2]|0,i)A=u;else if(i=l[A>>2]|0,!i){i=0;break}for(;;)if(h=i+20|0,u=l[h>>2]|0,u)i=u,A=h;else if(h=i+16|0,u=l[h>>2]|0,u)i=u,A=h;else break;l[A>>2]=0}else y=l[v+8>>2]|0,l[y+12>>2]=i,l[i+8>>2]=y;while(!1);if(p){if(A=l[v+28>>2]|0,u=28212+(A<<2)|0,(l[u>>2]|0)==(v|0)){if(l[u>>2]=i,!i){l[6978]=l[6978]&~(1<<A),y=v,A=f;break}}else if(y=p+16|0,l[((l[y>>2]|0)==(v|0)?y:p+20|0)>>2]=i,!i){y=v,A=f;break}l[i+24>>2]=p,A=v+16|0,u=l[A>>2]|0,u|0&&(l[i+16>>2]=u,l[u+24>>2]=i),A=l[A+4>>2]|0,A?(l[i+20>>2]=A,l[A+24>>2]=i,y=v,A=f):(y=v,A=f)}else y=v,A=f}while(!1);if(!(v>>>0>=S>>>0)&&(i=S+4|0,h=l[i>>2]|0,!!(h&1))){if(h&2)l[i>>2]=h&-2,l[y+4>>2]=A|1,l[v+A>>2]=A,p=A;else{if((l[6983]|0)==(S|0)){if(S=(l[6980]|0)+A|0,l[6980]=S,l[6983]=y,l[y+4>>2]=S|1,(y|0)!=(l[6982]|0))return;l[6982]=0,l[6979]=0;return}if((l[6982]|0)==(S|0)){S=(l[6979]|0)+A|0,l[6979]=S,l[6982]=v,l[y+4>>2]=S|1,l[v+S>>2]=S;return}p=(h&-8)+A|0,u=h>>>3;do if(h>>>0<256)if(A=l[S+8>>2]|0,i=l[S+12>>2]|0,(i|0)==(A|0)){l[6977]=l[6977]&~(1<<u);break}else{l[A+12>>2]=i,l[i+8>>2]=A;break}else{f=l[S+24>>2]|0,i=l[S+12>>2]|0;do if((i|0)==(S|0)){if(A=S+16|0,u=A+4|0,i=l[u>>2]|0,i)A=u;else if(i=l[A>>2]|0,!i){u=0;break}for(;;)if(h=i+20|0,u=l[h>>2]|0,u)i=u,A=h;else if(h=i+16|0,u=l[h>>2]|0,u)i=u,A=h;else break;l[A>>2]=0,u=i}else u=l[S+8>>2]|0,l[u+12>>2]=i,l[i+8>>2]=u,u=i;while(!1);if(f|0){if(i=l[S+28>>2]|0,A=28212+(i<<2)|0,(l[A>>2]|0)==(S|0)){if(l[A>>2]=u,!u){l[6978]=l[6978]&~(1<<i);break}}else if(h=f+16|0,l[((l[h>>2]|0)==(S|0)?h:f+20|0)>>2]=u,!u)break;l[u+24>>2]=f,i=S+16|0,A=l[i>>2]|0,A|0&&(l[u+16>>2]=A,l[A+24>>2]=u),i=l[i+4>>2]|0,i|0&&(l[u+20>>2]=i,l[i+24>>2]=u)}}while(!1);if(l[y+4>>2]=p|1,l[v+p>>2]=p,(y|0)==(l[6982]|0)){l[6979]=p;return}}if(i=p>>>3,p>>>0<256){u=27948+(i<<1<<2)|0,A=l[6977]|0,i=1<<i,A&i?(A=u+8|0,i=l[A>>2]|0):(l[6977]=A|i,i=u,A=u+8|0),l[A>>2]=y,l[i+12>>2]=y,l[y+8>>2]=i,l[y+12>>2]=u;return}i=p>>>8,i?p>>>0>16777215?h=31:(v=(i+1048320|0)>>>16&8,S=i<<v,f=(S+520192|0)>>>16&4,S=S<<f,h=(S+245760|0)>>>16&2,h=14-(f|v|h)+(S<<h>>>15)|0,h=p>>>(h+7|0)&1|h<<1):h=0,i=28212+(h<<2)|0,l[y+28>>2]=h,l[y+20>>2]=0,l[y+16>>2]=0,A=l[6978]|0,u=1<<h;e:do if(!(A&u))l[6978]=A|u,l[i>>2]=y,l[y+24>>2]=i,l[y+12>>2]=y,l[y+8>>2]=y;else{i=l[i>>2]|0;t:do if((l[i+4>>2]&-8|0)!=(p|0)){for(h=p<<((h|0)==31?0:25-(h>>>1)|0);u=i+16+(h>>>31<<2)|0,A=l[u>>2]|0,!!A;)if((l[A+4>>2]&-8|0)==(p|0)){i=A;break t}else h=h<<1,i=A;l[u>>2]=y,l[y+24>>2]=i,l[y+12>>2]=y,l[y+8>>2]=y;break e}while(!1);v=i+8|0,S=l[v>>2]|0,l[S+12>>2]=y,l[v>>2]=y,l[y+8>>2]=S,l[y+12>>2]=i,l[y+24>>2]=0}while(!1);if(S=(l[6985]|0)+-1|0,l[6985]=S,!(S|0)){for(i=28364;i=l[i>>2]|0,i;)i=i+8|0;l[6985]=-1}}}}function Vn(i,A){i=i|0,A=A|0;var u=0;return i?(u=w0(A,i)|0,(A|i)>>>0>65535&&(u=((u>>>0)/(i>>>0)|0|0)==(A|0)?u:-1)):u=0,i=S0(u)|0,!i||!(l[i+-4>>2]&3)||D1(i|0,0,u|0)|0,i|0}function We(i,A,u,h){return i=i|0,A=A|0,u=u|0,h=h|0,u=i+u>>>0,at(A+h+(u>>>0<i>>>0|0)>>>0|0),u|0|0}function La(i,A,u,h){return i=i|0,A=A|0,u=u|0,h=h|0,h=A-h-(u>>>0>i>>>0|0)>>>0,at(h|0),i-u>>>0|0|0}function j3(i){return i=i|0,(i?31-(tr(i^i-1)|0)|0:32)|0}function Eu(i,A,u,h,p){i=i|0,A=A|0,u=u|0,h=h|0,p=p|0;var f=0,v=0,y=0,S=0,b=0,k=0,q=0,H=0,z=0,W=0;if(k=i,S=A,b=S,v=u,H=h,y=H,!b)return f=(p|0)!=0,y?f?(l[p>>2]=i|0,l[p+4>>2]=A&0,H=0,p=0,at(H|0),p|0):(H=0,p=0,at(H|0),p|0):(f&&(l[p>>2]=(k>>>0)%(v>>>0),l[p+4>>2]=0),H=0,p=(k>>>0)/(v>>>0)>>>0,at(H|0),p|0);f=(y|0)==0;do if(v){if(!f){if(f=(tr(y|0)|0)-(tr(b|0)|0)|0,f>>>0<=31){q=f+1|0,y=31-f|0,A=f-31>>31,v=q,i=k>>>(q>>>0)&A|b<<y,A=b>>>(q>>>0)&A,f=0,y=k<<y;break}return p?(l[p>>2]=i|0,l[p+4>>2]=S|A&0,H=0,p=0,at(H|0),p|0):(H=0,p=0,at(H|0),p|0)}if(f=v-1|0,f&v|0){y=(tr(v|0)|0)+33-(tr(b|0)|0)|0,W=64-y|0,q=32-y|0,S=q>>31,z=y-32|0,A=z>>31,v=y,i=q-1>>31&b>>>(z>>>0)|(b<<q|k>>>(y>>>0))&A,A=A&b>>>(y>>>0),f=k<<W&S,y=(b<<W|k>>>(z>>>0))&S|k<<q&y-33>>31;break}return p|0&&(l[p>>2]=f&k,l[p+4>>2]=0),(v|0)==1?(z=S|A&0,W=i|0|0,at(z|0),W|0):(W=j3(v|0)|0,z=b>>>(W>>>0)|0,W=b<<32-W|k>>>(W>>>0)|0,at(z|0),W|0)}else{if(f)return p|0&&(l[p>>2]=(b>>>0)%(v>>>0),l[p+4>>2]=0),z=0,W=(b>>>0)/(v>>>0)>>>0,at(z|0),W|0;if(!k)return p|0&&(l[p>>2]=0,l[p+4>>2]=(b>>>0)%(y>>>0)),z=0,W=(b>>>0)/(y>>>0)>>>0,at(z|0),W|0;if(f=y-1|0,!(f&y))return p|0&&(l[p>>2]=i|0,l[p+4>>2]=f&b|A&0),z=0,W=b>>>((j3(y|0)|0)>>>0),at(z|0),W|0;if(f=(tr(y|0)|0)-(tr(b|0)|0)|0,f>>>0<=30){A=f+1|0,y=31-f|0,v=A,i=b<<y|k>>>(A>>>0),A=b>>>(A>>>0),f=0,y=k<<y;break}return p?(l[p>>2]=i|0,l[p+4>>2]=S|A&0,z=0,W=0,at(z|0),W|0):(z=0,W=0,at(z|0),W|0)}while(!1);if(!v)b=y,S=0,y=0;else{q=u|0|0,k=H|h&0,b=We(q|0,k|0,-1,-1)|0,u=U()|0,S=y,y=0;do h=S,S=f>>>31|S<<1,f=y|f<<1,h=i<<1|h>>>31|0,H=i>>>31|A<<1|0,La(b|0,u|0,h|0,H|0)|0,W=U()|0,z=W>>31|((W|0)<0?-1:0)<<1,y=z&1,i=La(h|0,H|0,z&q|0,(((W|0)<0?-1:0)>>31|((W|0)<0?-1:0)<<1)&k|0)|0,A=U()|0,v=v-1|0;while((v|0)!=0);b=S,S=0}return v=0,p|0&&(l[p>>2]=i,l[p+4>>2]=A),z=(f|0)>>>31|(b|v)<<1|(v<<1|f>>>31)&0|S,W=(f<<1|0)&-2|y,at(z|0),W|0}function Nr(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0;return b=A>>31|((A|0)<0?-1:0)<<1,S=((A|0)<0?-1:0)>>31|((A|0)<0?-1:0)<<1,f=h>>31|((h|0)<0?-1:0)<<1,p=((h|0)<0?-1:0)>>31|((h|0)<0?-1:0)<<1,y=La(b^i|0,S^A|0,b|0,S|0)|0,v=U()|0,i=f^b,A=p^S,La((Eu(y,v,La(f^u|0,p^h|0,f|0,p|0)|0,U()|0,0)|0)^i|0,(U()|0)^A|0,i|0,A|0)|0}function v_(i,A){i=i|0,A=A|0;var u=0,h=0,p=0,f=0;return f=i&65535,p=A&65535,u=w0(p,f)|0,h=i>>>16,i=(u>>>16)+(w0(p,h)|0)|0,p=A>>>16,A=w0(p,f)|0,at((i>>>16)+(w0(p,h)|0)+(((i&65535)+A|0)>>>16)|0),i+A<<16|u&65535|0|0}function Ya(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0;return p=i,f=u,u=v_(p,f)|0,i=U()|0,at((w0(A,f)|0)+(w0(h,p)|0)+i|i&0|0),u|0|0|0}function os(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0,v=0,y=0,S=0,b=0;return p=P,P=P+16|0,y=p|0,v=A>>31|((A|0)<0?-1:0)<<1,f=((A|0)<0?-1:0)>>31|((A|0)<0?-1:0)<<1,b=h>>31|((h|0)<0?-1:0)<<1,S=((h|0)<0?-1:0)>>31|((h|0)<0?-1:0)<<1,i=La(v^i|0,f^A|0,v|0,f|0)|0,A=U()|0,Eu(i,A,La(b^u|0,S^h|0,b|0,S|0)|0,U()|0,y)|0,h=La(l[y>>2]^v|0,l[y+4>>2]^f|0,v|0,f|0)|0,u=U()|0,P=p,at(u|0),h|0}function is(i,A,u,h){i=i|0,A=A|0,u=u|0,h=h|0;var p=0,f=0;return f=P,P=P+16|0,p=f|0,Eu(i,A,u,h,p)|0,P=f,at(l[p+4>>2]|0),l[p>>2]|0|0}function $3(i,A,u){return i=i|0,A=A|0,u=u|0,(u|0)<32?(at(A>>u|0),i>>>u|(A&(1<<u)-1)<<32-u):(at(((A|0)<0?-1:0)|0),A>>u-32|0)}function we(i,A,u){return i=i|0,A=A|0,u=u|0,(u|0)<32?(at(A>>>u|0),i>>>u|(A&(1<<u)-1)<<32-u):(at(0),A>>>u-32|0)}function ke(i,A,u){return i=i|0,A=A|0,u=u|0,(u|0)<32?(at(A<<u|(i&(1<<u)-1<<32-u)>>>32-u|0),i<<u):(at(i<<u-32|0),0)}function Q3(i,A,u){return i=i|0,A=A|0,A=tr(A)|0,(A|0)==32&&(A=A+(tr(i)|0)|0),at(0),A|0}function Y3(i,A){return i=+i,A=+A,i!=i?+A:A!=A?+i:+Im(+i,+A)}function d2(i,A){return i=+i,A=+A,i!=i?+A:A!=A?+i:+au(+i,+A)}function c2(i){return i=+i,i>=0?+Na(i+.5):+ts(i-.5)}function ls(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0;if((u|0)>=8192)return km(i|0,A|0,u|0)|0,i|0;if(f=i|0,p=i+u|0,(i&3)==(A&3)){for(;i&3;){if(!u)return f|0;Se[i>>0]=Se[A>>0]|0,i=i+1|0,A=A+1|0,u=u-1|0}for(u=p&-4|0,h=u-64|0;(i|0)<=(h|0);)l[i>>2]=l[A>>2],l[i+4>>2]=l[A+4>>2],l[i+8>>2]=l[A+8>>2],l[i+12>>2]=l[A+12>>2],l[i+16>>2]=l[A+16>>2],l[i+20>>2]=l[A+20>>2],l[i+24>>2]=l[A+24>>2],l[i+28>>2]=l[A+28>>2],l[i+32>>2]=l[A+32>>2],l[i+36>>2]=l[A+36>>2],l[i+40>>2]=l[A+40>>2],l[i+44>>2]=l[A+44>>2],l[i+48>>2]=l[A+48>>2],l[i+52>>2]=l[A+52>>2],l[i+56>>2]=l[A+56>>2],l[i+60>>2]=l[A+60>>2],i=i+64|0,A=A+64|0;for(;(i|0)<(u|0);)l[i>>2]=l[A>>2],i=i+4|0,A=A+4|0}else for(u=p-4|0;(i|0)<(u|0);)Se[i>>0]=Se[A>>0]|0,Se[i+1>>0]=Se[A+1>>0]|0,Se[i+2>>0]=Se[A+2>>0]|0,Se[i+3>>0]=Se[A+3>>0]|0,i=i+4|0,A=A+4|0;for(;(i|0)<(p|0);)Se[i>>0]=Se[A>>0]|0,i=i+1|0,A=A+1|0;return f|0}function D1(i,A,u){i=i|0,A=A|0,u=u|0;var h=0,p=0,f=0,v=0;if(f=i+u|0,A=A&255,(u|0)>=67){for(;i&3;)Se[i>>0]=A,i=i+1|0;for(h=f&-4|0,v=A|A<<8|A<<16|A<<24,p=h-64|0;(i|0)<=(p|0);)l[i>>2]=v,l[i+4>>2]=v,l[i+8>>2]=v,l[i+12>>2]=v,l[i+16>>2]=v,l[i+20>>2]=v,l[i+24>>2]=v,l[i+28>>2]=v,l[i+32>>2]=v,l[i+36>>2]=v,l[i+40>>2]=v,l[i+44>>2]=v,l[i+48>>2]=v,l[i+52>>2]=v,l[i+56>>2]=v,l[i+60>>2]=v,i=i+64|0;for(;(i|0)<(h|0);)l[i>>2]=v,i=i+4|0}for(;(i|0)<(f|0);)Se[i>>0]=A,i=i+1|0;return f-u|0}function X3(i){return i=+i,i>=0?+Na(i+.5):+ts(i-.5)}function Rr(i){i=i|0;var A=0,u=0,h=0;return h=Em()|0,u=l[Pt>>2]|0,A=u+i|0,(i|0)>0&(A|0)<(u|0)|(A|0)<0?(Rm(A|0)|0,o3(12),-1):(A|0)>(h|0)&&!(Nm(A|0)|0)?(o3(12),-1):(l[Pt>>2]=A,u|0)}return{___divdi3:Nr,___muldi3:Ya,___remdi3:os,___uremdi3:is,_areNeighborCells:iy,_bitshift64Ashr:$3,_bitshift64Lshr:we,_bitshift64Shl:ke,_calloc:Vn,_cellAreaKm2:Fy,_cellAreaM2:Oy,_cellAreaRads2:xu,_cellToBoundary:rs,_cellToCenterChild:E3,_cellToChildPos:ky,_cellToChildren:yy,_cellToChildrenSize:po,_cellToLatLng:g1,_cellToLocalIj:jy,_cellToParent:gu,_cellToVertex:Gn,_cellToVertexes:d_,_cellsToDirectedEdge:ly,_cellsToLinkedMultiPolygon:Vm,_childPosToCell:Ny,_compactCells:_y,_destroyLinkedMultiPolygon:C3,_directedEdgeToBoundary:l2,_directedEdgeToCells:cy,_edgeLengthKm:Gy,_edgeLengthM:Vy,_edgeLengthRads:Uy,_emscripten_replace_memory:Mm,_free:je,_getBaseCellNumber:T3,_getDirectedEdgeDestination:uy,_getDirectedEdgeOrigin:Ay,_getHexagonAreaAvgKm2:R3,_getHexagonAreaAvgM2:By,_getHexagonEdgeLengthAvgKm:Ly,_getHexagonEdgeLengthAvgM:qy,_getIcosahedronFaces:k3,_getNumCells:Su,_getPentagons:yu,_getRes0Cells:$m,_getResolution:my,_greatCircleDistanceKm:Do,_greatCircleDistanceM:My,_greatCircleDistanceRads:Ry,_gridDisk:i3,_gridDiskDistances:l3,_gridDistance:Qy,_gridPathCells:Xy,_gridPathCellsSize:Yy,_gridRingUnsafe:Fm,_i64Add:We,_i64Subtract:La,_isPentagon:Vt,_isResClassIII:xy,_isValidCell:hu,_isValidDirectedEdge:dy,_isValidVertex:h_,_latLngToCell:vu,_llvm_ctlz_i64:Q3,_llvm_maxnum_f64:Y3,_llvm_minnum_f64:d2,_llvm_round_f64:c2,_localIjToCell:$y,_malloc:S0,_maxFaceCount:Iy,_maxGridDiskSize:qm,_maxPolygonToCellsSize:Om,_maxPolygonToCellsSizeExperimental:Jy,_memcpy:ls,_memset:D1,_originToDirectedEdges:hy,_pentagonCount:Ey,_polygonToCells:Um,_polygonToCellsExperimental:Zy,_readInt64AsDoubleFromPointer:i_,_res0CellCount:jm,_round:X3,_sbrk:Rr,_sizeOfCellBoundary:a_,_sizeOfCoordIJ:o_,_sizeOfGeoLoop:n_,_sizeOfGeoPolygon:r_,_sizeOfH3Index:e_,_sizeOfLatLng:t_,_sizeOfLinkedGeoPolygon:s_,_uncompactCells:wy,_uncompactCellsSize:Sy,_vertexToLatLng:c_,establishStackSpace:Lm,stackAlloc:Cm,stackRestore:Bm,stackSave:Pm}}(_m,wm,Y);e.___divdi3=Te.___divdi3,e.___muldi3=Te.___muldi3,e.___remdi3=Te.___remdi3,e.___uremdi3=Te.___uremdi3,e._areNeighborCells=Te._areNeighborCells,e._bitshift64Ashr=Te._bitshift64Ashr,e._bitshift64Lshr=Te._bitshift64Lshr,e._bitshift64Shl=Te._bitshift64Shl,e._calloc=Te._calloc,e._cellAreaKm2=Te._cellAreaKm2,e._cellAreaM2=Te._cellAreaM2,e._cellAreaRads2=Te._cellAreaRads2,e._cellToBoundary=Te._cellToBoundary,e._cellToCenterChild=Te._cellToCenterChild,e._cellToChildPos=Te._cellToChildPos,e._cellToChildren=Te._cellToChildren,e._cellToChildrenSize=Te._cellToChildrenSize,e._cellToLatLng=Te._cellToLatLng,e._cellToLocalIj=Te._cellToLocalIj,e._cellToParent=Te._cellToParent,e._cellToVertex=Te._cellToVertex,e._cellToVertexes=Te._cellToVertexes,e._cellsToDirectedEdge=Te._cellsToDirectedEdge,e._cellsToLinkedMultiPolygon=Te._cellsToLinkedMultiPolygon,e._childPosToCell=Te._childPosToCell,e._compactCells=Te._compactCells,e._destroyLinkedMultiPolygon=Te._destroyLinkedMultiPolygon,e._directedEdgeToBoundary=Te._directedEdgeToBoundary,e._directedEdgeToCells=Te._directedEdgeToCells,e._edgeLengthKm=Te._edgeLengthKm,e._edgeLengthM=Te._edgeLengthM,e._edgeLengthRads=Te._edgeLengthRads;var Sm=e._emscripten_replace_memory=Te._emscripten_replace_memory;e._free=Te._free,e._getBaseCellNumber=Te._getBaseCellNumber,e._getDirectedEdgeDestination=Te._getDirectedEdgeDestination,e._getDirectedEdgeOrigin=Te._getDirectedEdgeOrigin,e._getHexagonAreaAvgKm2=Te._getHexagonAreaAvgKm2,e._getHexagonAreaAvgM2=Te._getHexagonAreaAvgM2,e._getHexagonEdgeLengthAvgKm=Te._getHexagonEdgeLengthAvgKm,e._getHexagonEdgeLengthAvgM=Te._getHexagonEdgeLengthAvgM,e._getIcosahedronFaces=Te._getIcosahedronFaces,e._getNumCells=Te._getNumCells,e._getPentagons=Te._getPentagons,e._getRes0Cells=Te._getRes0Cells,e._getResolution=Te._getResolution,e._greatCircleDistanceKm=Te._greatCircleDistanceKm,e._greatCircleDistanceM=Te._greatCircleDistanceM,e._greatCircleDistanceRads=Te._greatCircleDistanceRads,e._gridDisk=Te._gridDisk,e._gridDiskDistances=Te._gridDiskDistances,e._gridDistance=Te._gridDistance,e._gridPathCells=Te._gridPathCells,e._gridPathCellsSize=Te._gridPathCellsSize,e._gridRingUnsafe=Te._gridRingUnsafe,e._i64Add=Te._i64Add,e._i64Subtract=Te._i64Subtract,e._isPentagon=Te._isPentagon,e._isResClassIII=Te._isResClassIII,e._isValidCell=Te._isValidCell,e._isValidDirectedEdge=Te._isValidDirectedEdge,e._isValidVertex=Te._isValidVertex,e._latLngToCell=Te._latLngToCell,e._llvm_ctlz_i64=Te._llvm_ctlz_i64,e._llvm_maxnum_f64=Te._llvm_maxnum_f64,e._llvm_minnum_f64=Te._llvm_minnum_f64,e._llvm_round_f64=Te._llvm_round_f64,e._localIjToCell=Te._localIjToCell,e._malloc=Te._malloc,e._maxFaceCount=Te._maxFaceCount,e._maxGridDiskSize=Te._maxGridDiskSize,e._maxPolygonToCellsSize=Te._maxPolygonToCellsSize,e._maxPolygonToCellsSizeExperimental=Te._maxPolygonToCellsSizeExperimental,e._memcpy=Te._memcpy,e._memset=Te._memset,e._originToDirectedEdges=Te._originToDirectedEdges,e._pentagonCount=Te._pentagonCount,e._polygonToCells=Te._polygonToCells,e._polygonToCellsExperimental=Te._polygonToCellsExperimental,e._readInt64AsDoubleFromPointer=Te._readInt64AsDoubleFromPointer,e._res0CellCount=Te._res0CellCount,e._round=Te._round,e._sbrk=Te._sbrk,e._sizeOfCellBoundary=Te._sizeOfCellBoundary,e._sizeOfCoordIJ=Te._sizeOfCoordIJ,e._sizeOfGeoLoop=Te._sizeOfGeoLoop,e._sizeOfGeoPolygon=Te._sizeOfGeoPolygon,e._sizeOfH3Index=Te._sizeOfH3Index,e._sizeOfLatLng=Te._sizeOfLatLng,e._sizeOfLinkedGeoPolygon=Te._sizeOfLinkedGeoPolygon,e._uncompactCells=Te._uncompactCells,e._uncompactCellsSize=Te._uncompactCellsSize,e._vertexToLatLng=Te._vertexToLatLng,e.establishStackSpace=Te.establishStackSpace;var a3=e.stackAlloc=Te.stackAlloc,xm=e.stackRestore=Te.stackRestore,bm=e.stackSave=Te.stackSave;if(e.asm=Te,e.cwrap=M,e.setValue=w,e.getValue=x,er){e3(er)||(er=s(er));{um();var JA=function(he){he.byteLength&&(he=new Uint8Array(he)),re.set(he,_),e.memoryInitializerRequest&&delete e.memoryInitializerRequest.response,dm()},n3=function(){o(er,JA,function(){throw"could not load memory initializer "+er})},r3=ZA(er);if(r3)JA(r3.buffer);else if(e.memoryInitializerRequest){var s3=function(){var he=e.memoryInitializerRequest,_e=he.response;if(he.status!==200&&he.status!==0){var Pe=ZA(e.memoryInitializerRequestURL);if(Pe)_e=Pe.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+he.status+", retrying "+er),n3();return}}JA(_e)};e.memoryInitializerRequest.response?setTimeout(s3,0):e.memoryInitializerRequest.addEventListener("load",s3)}else n3()}}var n2;co=function he(){n2||eu(),n2||(co=he)};function eu(he){if(u1>0||(Yt(),u1>0))return;function _e(){n2||(n2=!0,!T&&($a(),It(),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Nt()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),_e()},1)):_e()}e.run=eu;function es(he){throw e.onAbort&&e.onAbort(he),he+="",d(he),c(he),T=!0,"abort("+he+"). Build with -s ASSERTIONS=1 for more info."}if(e.abort=es,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return eu(),n}(typeof yt=="object"?yt:{}),tt="number",Qe=tt,bo=tt,Je=tt,et=tt,Ma=tt,qe=tt,fE=[["sizeOfH3Index",tt],["sizeOfLatLng",tt],["sizeOfCellBoundary",tt],["sizeOfGeoLoop",tt],["sizeOfGeoPolygon",tt],["sizeOfLinkedGeoPolygon",tt],["sizeOfCoordIJ",tt],["readInt64AsDoubleFromPointer",tt],["isValidCell",bo,[Je,et]],["latLngToCell",Qe,[tt,tt,Ma,qe]],["cellToLatLng",Qe,[Je,et,qe]],["cellToBoundary",Qe,[Je,et,qe]],["maxGridDiskSize",Qe,[tt,qe]],["gridDisk",Qe,[Je,et,tt,qe]],["gridDiskDistances",Qe,[Je,et,tt,qe,qe]],["gridRingUnsafe",Qe,[Je,et,tt,qe]],["maxPolygonToCellsSize",Qe,[qe,Ma,tt,qe]],["polygonToCells",Qe,[qe,Ma,tt,qe]],["maxPolygonToCellsSizeExperimental",Qe,[qe,Ma,tt,qe]],["polygonToCellsExperimental",Qe,[qe,Ma,tt,tt,tt,qe]],["cellsToLinkedMultiPolygon",Qe,[qe,tt,qe]],["destroyLinkedMultiPolygon",null,[qe]],["compactCells",Qe,[qe,qe,tt,tt]],["uncompactCells",Qe,[qe,tt,tt,qe,tt,Ma]],["uncompactCellsSize",Qe,[qe,tt,tt,Ma,qe]],["isPentagon",bo,[Je,et]],["isResClassIII",bo,[Je,et]],["getBaseCellNumber",tt,[Je,et]],["getResolution",tt,[Je,et]],["maxFaceCount",Qe,[Je,et,qe]],["getIcosahedronFaces",Qe,[Je,et,qe]],["cellToParent",Qe,[Je,et,Ma,qe]],["cellToChildren",Qe,[Je,et,Ma,qe]],["cellToCenterChild",Qe,[Je,et,Ma,qe]],["cellToChildrenSize",Qe,[Je,et,Ma,qe]],["cellToChildPos",Qe,[Je,et,Ma,qe]],["childPosToCell",Qe,[tt,tt,Je,et,Ma,qe]],["areNeighborCells",Qe,[Je,et,Je,et,qe]],["cellsToDirectedEdge",Qe,[Je,et,Je,et,qe]],["getDirectedEdgeOrigin",Qe,[Je,et,qe]],["getDirectedEdgeDestination",Qe,[Je,et,qe]],["isValidDirectedEdge",bo,[Je,et]],["directedEdgeToCells",Qe,[Je,et,qe]],["originToDirectedEdges",Qe,[Je,et,qe]],["directedEdgeToBoundary",Qe,[Je,et,qe]],["gridDistance",Qe,[Je,et,Je,et,qe]],["gridPathCells",Qe,[Je,et,Je,et,qe]],["gridPathCellsSize",Qe,[Je,et,Je,et,qe]],["cellToLocalIj",Qe,[Je,et,Je,et,tt,qe]],["localIjToCell",Qe,[Je,et,qe,tt,qe]],["getHexagonAreaAvgM2",Qe,[Ma,qe]],["getHexagonAreaAvgKm2",Qe,[Ma,qe]],["getHexagonEdgeLengthAvgM",Qe,[Ma,qe]],["getHexagonEdgeLengthAvgKm",Qe,[Ma,qe]],["greatCircleDistanceM",tt,[qe,qe]],["greatCircleDistanceKm",tt,[qe,qe]],["greatCircleDistanceRads",tt,[qe,qe]],["cellAreaM2",Qe,[Je,et,qe]],["cellAreaKm2",Qe,[Je,et,qe]],["cellAreaRads2",Qe,[Je,et,qe]],["edgeLengthM",Qe,[Je,et,qe]],["edgeLengthKm",Qe,[Je,et,qe]],["edgeLengthRads",Qe,[Je,et,qe]],["getNumCells",Qe,[Ma,qe]],["getRes0Cells",Qe,[qe]],["res0CellCount",tt],["getPentagons",Qe,[tt,qe]],["pentagonCount",tt],["cellToVertex",Qe,[Je,et,tt,qe]],["cellToVertexes",Qe,[Je,et,qe]],["vertexToLatLng",Qe,[Je,et,qe]],["isValidVertex",bo,[Je,et]]],vE=0,mE=1,yE=2,_E=3,VD=4,wE=5,SE=6,xE=7,bE=8,TE=9,IE=10,EE=11,kE=12,NE=13,RE=14,ME=15,Ha={};Ha[vE]="Success";Ha[mE]="The operation failed but a more specific error is not available";Ha[yE]="Argument was outside of acceptable range";Ha[_E]="Latitude or longitude arguments were outside of acceptable range";Ha[VD]="Resolution argument was outside of acceptable range";Ha[wE]="Cell argument was not valid";Ha[SE]="Directed edge argument was not valid";Ha[xE]="Undirected edge argument was not valid";Ha[bE]="Vertex argument was not valid";Ha[TE]="Pentagon distortion was encountered";Ha[IE]="Duplicate input";Ha[EE]="Cell arguments were not neighbors";Ha[kE]="Cell arguments had incompatible resolutions";Ha[NE]="Memory allocation failed";Ha[RE]="Bounds of provided memory were insufficient";Ha[ME]="Mode or flags argument was not valid";var CE=1e3,zD=1001,WD=1002,yA={};yA[CE]="Unknown unit";yA[zD]="Array length out of bounds";yA[WD]="Got unexpected null value for H3 index";var PE="Unknown error";function HD(n,e,t){var a=t&&"value"in t,r=new Error((n[e]||PE)+" (code: "+e+(a?", value: "+t.value:"")+")");return r.code=e,r}function jD(n,e){var t=arguments.length===2?{value:e}:{};return HD(Ha,n,t)}function $D(n,e){var t=arguments.length===2?{value:e}:{};return HD(yA,n,t)}function Si(n){if(n!==0)throw jD(n)}var wn={};fE.forEach(function(e){wn[e[0]]=yt.cwrap.apply(yt,e)});var Cs=16,xi=4,Js=8,BE=8,Xl=wn.sizeOfH3Index(),Ch=wn.sizeOfLatLng(),LE=wn.sizeOfCellBoundary(),qE=wn.sizeOfGeoPolygon(),ti=wn.sizeOfGeoLoop();wn.sizeOfLinkedGeoPolygon();wn.sizeOfCoordIJ();function FE(n){if(typeof n!="number"||n<0||n>15||Math.floor(n)!==n)throw jD(VD,n);return n}function OE(n){if(!n)throw $D(WD);return n}var UE=Math.pow(2,32)-1;function GE(n){if(n>UE)throw $D(zD,n);return n}var VE=/[^0-9a-fA-F]/;function QD(n){if(Array.isArray(n)&&n.length===2&&Number.isInteger(n[0])&&Number.isInteger(n[1]))return n;if(typeof n!="string"||VE.test(n))return[0,0];var e=parseInt(n.substring(0,n.length-8),Cs),t=parseInt(n.substring(n.length-8),Cs);return[t,e]}function f6(n){if(n>=0)return n.toString(Cs);n=n&2147483647;var e=YD(8,n.toString(Cs)),t=(parseInt(e[0],Cs)+8).toString(Cs);return e=t+e.substring(1),e}function zE(n,e){return f6(e)+YD(8,f6(n))}function YD(n,e){for(var t=n-e.length,a="",r=0;r<t;r++)a+="0";return a=a+e,a}function v6(n,e,t){for(var a=n.length,r=yt._calloc(a,Ch),s=t?1:0,o=t?0:1,d=0;d<a*2;d+=2)yt.HEAPF64.set([n[d/2][s],n[d/2][o]].map(JD),r/Js+d);return yt.HEAPU32.set([a,r],e/xi),e}function WE(n,e){var t=n.length-1,a=yt._calloc(qE),r=0,s=r+ti,o=s+xi;v6(n[0],a+r,e);var d;if(t>0){d=yt._calloc(t,ti);for(var c=0;c<t;c++)v6(n[c+1],d+ti*c,e)}return yt.setValue(a+s,t,"i32"),yt.setValue(a+o,d,"i32"),a}function HE(n){var e=0,t=e+ti,a=t+xi,r=xi;yt._free(yt.getValue(n+e+r,"i8*"));var s=yt.getValue(n+t,"i32");if(s>0){for(var o=yt.getValue(n+a,"i32"),d=0;d<s;d++)yt._free(yt.getValue(o+ti*d+r,"i8*"));yt._free(o)}yt._free(n)}function XD(n,e){e===void 0&&(e=0);var t=yt.getValue(n+Xl*e,"i32"),a=yt.getValue(n+Xl*e+xi,"i32");return a?zE(t,a):null}function jE(n){return wn.readInt64AsDoubleFromPointer(n)}function $E(n,e){for(var t=[],a=0;a<e;a++){var r=XD(n,a);r!==null&&t.push(r)}return t}function Kl(n){return ZE(yt.getValue(n,"double"))}function QE(n){return[Kl(n),Kl(n+Js)]}function YE(n){return[Kl(n+Js),Kl(n)]}function XE(n,e,t){for(var a=yt.getValue(n,"i32"),r=n+Js,s=[],o=YE,d=0;d<a*2;d+=2)s.push(o(r+Js*d));return s.push(s[0]),s}function KE(n,e,t){var a=yt._malloc(Ch);yt.HEAPF64.set([n,e].map(JD),a/Js);var r=yt._malloc(Xl);try{return Si(wn.latLngToCell(a,t,r)),OE(XD(r))}finally{yt._free(r),yt._free(a)}}function KD(n){var e=yt._malloc(Ch),t=QD(n),a=t[0],r=t[1];try{return Si(wn.cellToLatLng(a,r,e)),QE(e)}finally{yt._free(e)}}function ZD(n,e){var t=yt._malloc(LE),a=QD(n),r=a[0],s=a[1];try{return Si(wn.cellToBoundary(r,s,t)),XE(t,e,e)}finally{yt._free(t)}}function m6(n,e,t){if(FE(e),t=!!t,n.length===0||n[0].length===0)return[];var a=typeof n[0][0]=="number"?[n]:n,r=WE(a,t),s=yt._malloc(BE);try{Si(wn.maxPolygonToCellsSize(r,e,0,s));var o=GE(jE(s)),d=yt._calloc(o,Xl);try{return Si(wn.polygonToCells(r,e,0,d)),$E(d,o)}finally{yt._free(d)}}finally{yt._free(s),HE(r)}}function JD(n){return n*Math.PI/180}function ZE(n){return n*180/Math.PI}function JE(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ek=["alphaMap","alphaTest","anisotropy","anisotropyMap","anisotropyRotation","aoMap","attenuationColor","attenuationDistance","bumpMap","clearcoat","clearcoatMap","clearcoatNormalMap","clearcoatNormalScale","clearcoatRoughness","color","dispersion","displacementMap","emissive","emissiveMap","envMap","gradientMap","ior","iridescence","iridescenceIOR","iridescenceMap","iridescenceThicknessMap","lightMap","map","matcap","metalness","metalnessMap","normalMap","normalScale","opacity","roughness","roughnessMap","sheen","sheenColor","sheenColorMap","sheenRoughnessMap","shininess","specular","specularColor","specularColorMap","specularIntensity","specularIntensityMap","specularMap","thickness","transmission","transmissionMap"];class tk{constructor(e){this.renderObjects=new WeakMap,this.hasNode=this.containsNode(e),this.hasAnimation=e.object.isSkinnedMesh===!0,this.refreshUniforms=ek,this.renderId=0}firstInitialization(e){return this.renderObjects.has(e)===!1?(this.getRenderObjectData(e),!0):!1}getRenderObjectData(e){let t=this.renderObjects.get(e);if(t===void 0){const{geometry:a,material:r,object:s}=e;if(t={material:this.getMaterialData(r),geometry:{id:a.id,attributes:this.getAttributesData(a.attributes),indexVersion:a.index?a.index.version:null,drawRange:{start:a.drawRange.start,count:a.drawRange.count}},worldMatrix:s.matrixWorld.clone()},s.center&&(t.center=s.center.clone()),s.morphTargetInfluences&&(t.morphTargetInfluences=s.morphTargetInfluences.slice()),e.bundle!==null&&(t.version=e.bundle.version),t.material.transmission>0){const{width:o,height:d}=e.context;t.bufferWidth=o,t.bufferHeight=d}this.renderObjects.set(e,t)}return t}getAttributesData(e){const t={};for(const a in e){const r=e[a];t[a]={version:r.version}}return t}containsNode(e){const t=e.material;for(const a in t)if(t[a]&&t[a].isNode)return!0;return e.renderer.nodes.modelViewMatrix!==null||e.renderer.nodes.modelNormalViewMatrix!==null}getMaterialData(e){const t={};for(const a of this.refreshUniforms){const r=e[a];r!=null&&(typeof r=="object"&&r.clone!==void 0?r.isTexture===!0?t[a]={id:r.id,version:r.version}:t[a]=r.clone():t[a]=r)}return t}equals(e){const{object:t,material:a,geometry:r}=e,s=this.getRenderObjectData(e);if(s.worldMatrix.equals(t.matrixWorld)!==!0)return s.worldMatrix.copy(t.matrixWorld),!1;const o=s.material;for(const T in o){const I=o[T],N=a[T];if(I.equals!==void 0){if(I.equals(N)===!1)return I.copy(N),!1}else if(N.isTexture===!0){if(I.id!==N.id||I.version!==N.version)return I.id=N.id,I.version=N.version,!1}else if(I!==N)return o[T]=N,!1}if(o.transmission>0){const{width:T,height:I}=e.context;if(s.bufferWidth!==T||s.bufferHeight!==I)return s.bufferWidth=T,s.bufferHeight=I,!1}const d=s.geometry,c=r.attributes,g=d.attributes,D=Object.keys(g),m=Object.keys(c);if(d.id!==r.id)return d.id=r.id,!1;if(D.length!==m.length)return s.geometry.attributes=this.getAttributesData(c),!1;for(const T of D){const I=g[T],N=c[T];if(N===void 0)return delete g[T],!1;if(I.version!==N.version)return I.version=N.version,!1}const _=r.index,w=d.indexVersion,x=_?_.version:null;if(w!==x)return d.indexVersion=x,!1;if(d.drawRange.start!==r.drawRange.start||d.drawRange.count!==r.drawRange.count)return d.drawRange.start=r.drawRange.start,d.drawRange.count=r.drawRange.count,!1;if(s.morphTargetInfluences){let T=!1;for(let I=0;I<s.morphTargetInfluences.length;I++)s.morphTargetInfluences[I]!==t.morphTargetInfluences[I]&&(T=!0);if(T)return!0}return s.center&&s.center.equals(t.center)===!1?(s.center.copy(t.center),!0):(e.bundle!==null&&(s.version=e.bundle.version),!0)}needsRefresh(e,t){if(this.hasNode||this.hasAnimation||this.firstInitialization(e))return!0;const{renderId:a}=t;if(this.renderId!==a)return this.renderId=a,!0;const r=e.object.static===!0,s=e.bundle!==null&&e.bundle.static===!0&&this.getRenderObjectData(e).version===e.bundle.version;return r||s?!1:this.equals(e)!==!0}}function bi(n,e=0){let t=3735928559^e,a=1103547991^e;if(n instanceof Array)for(let r=0,s;r<n.length;r++)s=n[r],t=Math.imul(t^s,2654435761),a=Math.imul(a^s,1597334677);else for(let r=0,s;r<n.length;r++)s=n.charCodeAt(r),t=Math.imul(t^s,2654435761),a=Math.imul(a^s,1597334677);return t=Math.imul(t^t>>>16,2246822507),t^=Math.imul(a^a>>>13,3266489909),a=Math.imul(a^a>>>16,2246822507),a^=Math.imul(t^t>>>13,3266489909),4294967296*(2097151&a)+(t>>>0)}const ef=n=>bi(n),_A=n=>bi(n),Ti=(...n)=>bi(n);function tf(n,e=!1){const t=[];n.isNode===!0&&(t.push(n.id),n=n.getSelf());for(const{property:a,childNode:r}of Zl(n))t.push(bi(a.slice(0,-4)),r.getCacheKey(e));return bi(t)}function*Zl(n,e=!1){for(const t in n){if(t.startsWith("_")===!0)continue;const a=n[t];if(Array.isArray(a)===!0)for(let r=0;r<a.length;r++){const s=a[r];s&&(s.isNode===!0||e&&typeof s.toJSON=="function")&&(yield{property:t,index:r,childNode:s})}else if(a&&a.isNode===!0)yield{property:t,childNode:a};else if(typeof a=="object")for(const r in a){const s=a[r];s&&(s.isNode===!0||e&&typeof s.toJSON=="function")&&(yield{property:t,index:r,childNode:s})}}}const ak=new Map([[1,"float"],[2,"vec2"],[3,"vec3"],[4,"vec4"],[9,"mat3"],[16,"mat4"]]),y6=new WeakMap;function af(n){return ak.get(n)}function Jl(n){if(/[iu]?vec\d/.test(n))return n.startsWith("ivec")?Int32Array:n.startsWith("uvec")?Uint32Array:Float32Array;if(/mat\d/.test(n)||/float/.test(n))return Float32Array;if(/uint/.test(n))return Uint32Array;if(/int/.test(n))return Int32Array;throw new Error(`THREE.NodeUtils: Unsupported type: ${n}`)}function Ph(n){if(/float|int|uint/.test(n))return 1;if(/vec2/.test(n))return 2;if(/vec3/.test(n))return 3;if(/vec4/.test(n)||/mat2/.test(n))return 4;if(/mat3/.test(n))return 9;if(/mat4/.test(n))return 16;console.error("THREE.TSL: Unsupported type:",n)}function jr(n){if(n==null)return null;const e=typeof n;return n.isNode===!0?"node":e==="number"?"float":e==="boolean"?"bool":e==="string"?"string":e==="function"?"shader":n.isVector2===!0?"vec2":n.isVector3===!0?"vec3":n.isVector4===!0?"vec4":n.isMatrix2===!0?"mat2":n.isMatrix3===!0?"mat3":n.isMatrix4===!0?"mat4":n.isColor===!0?"color":n instanceof ArrayBuffer?"ArrayBuffer":null}function nf(n,...e){const t=n?n.slice(-4):void 0;return e.length===1&&(t==="vec2"?e=[e[0],e[0]]:t==="vec3"?e=[e[0],e[0],e[0]]:t==="vec4"&&(e=[e[0],e[0],e[0],e[0]])),n==="color"?new za(...e):t==="vec2"?new Ot(...e):t==="vec3"?new Re(...e):t==="vec4"?new Ut(...e):t==="mat2"?new F8(...e):t==="mat3"?new qi(...e):t==="mat4"?new la(...e):n==="bool"?e[0]||!1:n==="float"||n==="int"||n==="uint"?e[0]||0:n==="string"?e[0]||"":n==="ArrayBuffer"?of(e[0]):null}function rf(n){let e=y6.get(n);return e===void 0&&(e={},y6.set(n,e)),e}function sf(n){let e="";const t=new Uint8Array(n);for(let a=0;a<t.length;a++)e+=String.fromCharCode(t[a]);return btoa(e)}function of(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0)).buffer}const Cc={VERTEX:"vertex",FRAGMENT:"fragment"},st={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},nk={BOOLEAN:"bool",INTEGER:"int",FLOAT:"float",VECTOR2:"vec2",VECTOR3:"vec3",VECTOR4:"vec4",MATRIX2:"mat2",MATRIX3:"mat3",MATRIX4:"mat4"},Ja={READ_ONLY:"readOnly",WRITE_ONLY:"writeOnly",READ_WRITE:"readWrite"},lf=["fragment","vertex"],Pc=["setup","analyze","generate"],Bc=[...lf,"compute"],$1=["x","y","z","w"];let rk=0;class ze extends oh{static get type(){return"Node"}constructor(e=null){super(),this.nodeType=e,this.updateType=st.NONE,this.updateBeforeType=st.NONE,this.updateAfterType=st.NONE,this.uuid=DA.generateUUID(),this.version=0,this.global=!1,this.isNode=!0,this._cacheKey=null,this._cacheKeyVersion=0,Object.defineProperty(this,"id",{value:rk++})}set needsUpdate(e){e===!0&&this.version++}get type(){return this.constructor.type}onUpdate(e,t){return this.updateType=t,this.update=e.bind(this.getSelf()),this}onFrameUpdate(e){return this.onUpdate(e,st.FRAME)}onRenderUpdate(e){return this.onUpdate(e,st.RENDER)}onObjectUpdate(e){return this.onUpdate(e,st.OBJECT)}onReference(e){return this.updateReference=e.bind(this.getSelf()),this}getSelf(){return this.self||this}updateReference(){return this}isGlobal(){return this.global}*getChildren(){for(const{childNode:e}of Zl(this))yield e}dispose(){this.dispatchEvent({type:"dispose"})}traverse(e){e(this);for(const t of this.getChildren())t.traverse(e)}getCacheKey(e=!1){return e=e||this.version!==this._cacheKeyVersion,(e===!0||this._cacheKey===null)&&(this._cacheKey=Ti(tf(this,e),this.customCacheKey()),this._cacheKeyVersion=this.version),this._cacheKey}customCacheKey(){return 0}getScope(){return this}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getUpdateAfterType(){return this.updateAfterType}getElementType(e){const t=this.getNodeType(e);return e.getElementType(t)}getMemberType(){return"void"}getNodeType(e){const t=e.getNodeProperties(this);return t.outputNode?t.outputNode.getNodeType(e):this.nodeType}getShared(e){const t=this.getHash(e);return e.getNodeFromHash(t)||this}setup(e){const t=e.getNodeProperties(this);let a=0;for(const r of this.getChildren())t["node"+a++]=r;return t.outputNode||null}analyze(e){if(e.increaseUsage(this)===1){const a=e.getNodeProperties(this);for(const r of Object.values(a))r&&r.isNode===!0&&r.build(e)}}generate(e,t){const{outputNode:a}=e.getNodeProperties(this);if(a&&a.isNode===!0)return a.build(e,t)}updateBefore(){console.warn("Abstract function.")}updateAfter(){console.warn("Abstract function.")}update(){console.warn("Abstract function.")}build(e,t=null){const a=this.getShared(e);if(this!==a)return a.build(e,t);e.addNode(this),e.addChain(this);let r=null;const s=e.getBuildStage();if(s==="setup"){this.updateReference(e);const o=e.getNodeProperties(this);if(o.initialized!==!0){o.initialized=!0;const d=this.setup(e),c=d&&d.isNode===!0;for(const g of Object.values(o))g&&g.isNode===!0&&g.build(e);c&&d.build(e),o.outputNode=d}}else if(s==="analyze")this.analyze(e);else if(s==="generate")if(this.generate.length===1){const d=this.getNodeType(e),c=e.getDataFromNode(this);r=c.snippet,r===void 0?c.generated===void 0?(c.generated=!0,r=this.generate(e)||"",c.snippet=r):(console.warn("THREE.Node: Recursion detected.",this),r=""):c.flowCodes!==void 0&&e.context.nodeBlock!==void 0&&e.addFlowCodeHierarchy(this,e.context.nodeBlock),r=e.format(r,d,t)}else r=this.generate(e,t)||"";return e.removeChain(this),e.addSequentialNode(this),r}getSerializeChildren(){return Zl(this)}serialize(e){const t=this.getSerializeChildren(),a={};for(const{property:r,index:s,childNode:o}of t)s!==void 0?(a[r]===void 0&&(a[r]=Number.isInteger(s)?[]:{}),a[r][s]=o.toJSON(e.meta).uuid):a[r]=o.toJSON(e.meta).uuid;Object.keys(a).length>0&&(e.inputNodes=a)}deserialize(e){if(e.inputNodes!==void 0){const t=e.meta.nodes;for(const a in e.inputNodes)if(Array.isArray(e.inputNodes[a])){const r=[];for(const s of e.inputNodes[a])r.push(t[s]);this[a]=r}else if(typeof e.inputNodes[a]=="object"){const r={};for(const s in e.inputNodes[a]){const o=e.inputNodes[a][s];r[s]=t[o]}this[a]=r}else{const r=e.inputNodes[a];this[a]=t[r]}}}toJSON(e){const{uuid:t,type:a}=this,r=e===void 0||typeof e=="string";r&&(e={textures:{},images:{},nodes:{}});let s=e.nodes[t];s===void 0&&(s={uuid:t,type:a,meta:e,metadata:{version:4.6,type:"Node",generator:"Node.toJSON"}},r!==!0&&(e.nodes[s.uuid]=s),this.serialize(s),delete s.meta);function o(d){const c=[];for(const g in d){const D=d[g];delete D.metadata,c.push(D)}return c}if(r){const d=o(e.textures),c=o(e.images),g=o(e.nodes);d.length>0&&(s.textures=d),c.length>0&&(s.images=c),g.length>0&&(s.nodes=g)}return s}}class Q1 extends ze{static get type(){return"ArrayElementNode"}constructor(e,t){super(),this.node=e,this.indexNode=t,this.isArrayElementNode=!0}getNodeType(e){return this.node.getElementType(e)}generate(e){const t=this.indexNode.getNodeType(e),a=this.node.build(e),r=this.indexNode.build(e,!e.isVector(t)&&e.isInteger(t)?t:"uint");return`${a}[ ${r} ]`}}class Af extends ze{static get type(){return"ConvertNode"}constructor(e,t){super(),this.node=e,this.convertTo=t}getNodeType(e){const t=this.node.getNodeType(e);let a=null;for(const r of this.convertTo.split("|"))(a===null||e.getTypeLength(t)===e.getTypeLength(r))&&(a=r);return a}serialize(e){super.serialize(e),e.convertTo=this.convertTo}deserialize(e){super.deserialize(e),this.convertTo=e.convertTo}generate(e,t){const a=this.node,r=this.getNodeType(e),s=a.build(e,r);return e.format(s,r,t)}}class ua extends ze{static get type(){return"TempNode"}constructor(e=null){super(e),this.isTempNode=!0}hasDependencies(e){return e.getDataFromNode(this).usageCount>1}build(e,t){if(e.getBuildStage()==="generate"){const r=e.getVectorType(this.getNodeType(e,t)),s=e.getDataFromNode(this);if(s.propertyName!==void 0)return e.format(s.propertyName,r,t);if(r!=="void"&&t!=="void"&&this.hasDependencies(e)){const o=super.build(e,r),d=e.getVarFromNode(this,null,r),c=e.getPropertyName(d);return e.addLineFlowCode(`${c} = ${o}`,this),s.snippet=o,s.propertyName=c,e.format(s.propertyName,r,t)}}return super.build(e,t)}}class sk extends ua{static get type(){return"JoinNode"}constructor(e=[],t=null){super(t),this.nodes=e}getNodeType(e){return this.nodeType!==null?e.getVectorType(this.nodeType):e.getTypeFromLength(this.nodes.reduce((t,a)=>t+e.getTypeLength(a.getNodeType(e)),0))}generate(e,t){const a=this.getNodeType(e),r=e.getTypeLength(a),s=this.nodes,o=e.getComponentType(a),d=[];let c=0;for(const D of s){if(c>=r){console.error(`THREE.TSL: Length of parameters exceeds maximum length of function '${a}()' type.`);break}let m=D.getNodeType(e),_=e.getTypeLength(m),w;c+_>r&&(console.error(`THREE.TSL: Length of '${a}()' data exceeds maximum length of output type.`),_=r-c,m=e.getTypeFromLength(_)),c+=_,w=D.build(e,m);const x=e.getComponentType(m);x!==o&&(w=e.format(w,x,o)),d.push(w)}const g=`${e.getType(a)}( ${d.join(", ")} )`;return e.format(g,a,t)}}const ok=$1.join("");class Lc extends ze{static get type(){return"SplitNode"}constructor(e,t="x"){super(),this.node=e,this.components=t,this.isSplitNode=!0}getVectorLength(){let e=this.components.length;for(const t of this.components)e=Math.max($1.indexOf(t)+1,e);return e}getComponentType(e){return e.getComponentType(this.node.getNodeType(e))}getNodeType(e){return e.getTypeFromLength(this.components.length,this.getComponentType(e))}generate(e,t){const a=this.node,r=e.getTypeLength(a.getNodeType(e));let s=null;if(r>1){let o=null;this.getVectorLength()>=r&&(o=e.getTypeFromLength(this.getVectorLength(),this.getComponentType(e)));const c=a.build(e,o);this.components.length===r&&this.components===ok.slice(0,this.components.length)?s=e.format(c,o,t):s=e.format(`${c}.${this.components}`,this.getNodeType(e),t)}else s=a.build(e,t);return s}serialize(e){super.serialize(e),e.components=this.components}deserialize(e){super.deserialize(e),this.components=e.components}}class ik extends ua{static get type(){return"SetNode"}constructor(e,t,a){super(),this.sourceNode=e,this.components=t,this.targetNode=a}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{sourceNode:t,components:a,targetNode:r}=this,s=this.getNodeType(e),o=e.getComponentType(r.getNodeType(e)),d=e.getTypeFromLength(a.length,o),c=r.build(e,d),g=t.build(e,s),D=e.getTypeLength(s),m=[];for(let _=0;_<D;_++){const w=$1[_];w===a[0]?(m.push(c),_+=a.length-1):m.push(g+"."+w)}return`${e.getType(s)}( ${m.join(", ")} )`}}class lk extends ua{static get type(){return"FlipNode"}constructor(e,t){super(),this.sourceNode=e,this.components=t}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{components:t,sourceNode:a}=this,r=this.getNodeType(e),s=a.build(e),o=e.getVarFromNode(this),d=e.getPropertyName(o);e.addLineFlowCode(d+" = "+s,this);const c=e.getTypeLength(r),g=[];let D=0;for(let m=0;m<c;m++){const _=$1[m];_===t[D]?(g.push("1.0 - "+(d+"."+_)),D++):g.push(d+"."+_)}return`${e.getType(r)}( ${g.join(", ")} )`}}class Bh extends ze{static get type(){return"InputNode"}constructor(e,t=null){super(t),this.isInputNode=!0,this.value=e,this.precision=null}getNodeType(){return this.nodeType===null?jr(this.value):this.nodeType}getInputType(e){return this.getNodeType(e)}setPrecision(e){return this.precision=e,this}serialize(e){super.serialize(e),e.value=this.value,this.value&&this.value.toArray&&(e.value=this.value.toArray()),e.valueType=jr(this.value),e.nodeType=this.nodeType,e.valueType==="ArrayBuffer"&&(e.value=sf(e.value)),e.precision=this.precision}deserialize(e){super.deserialize(e),this.nodeType=e.nodeType,this.value=Array.isArray(e.value)?nf(e.valueType,...e.value):e.value,this.precision=e.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(e.value))}generate(){console.warn("Abstract function.")}}const _6=/float|u?int/;class _0 extends Bh{static get type(){return"ConstNode"}constructor(e,t=null){super(e,t),this.isConstNode=!0}generateConst(e){return e.generateConst(this.getNodeType(e),this.value)}generate(e,t){const a=this.getNodeType(e);return _6.test(a)&&_6.test(t)?e.generateConst(t,this.value):e.format(this.generateConst(e),a,t)}}class Ak extends ze{static get type(){return"MemberNode"}constructor(e,t){super(),this.node=e,this.property=t,this.isMemberNode=!0}getNodeType(e){return this.node.getMemberType(e,this.property)}generate(e){return this.node.build(e)+"."+this.property}}let eo=null;const Ps=new Map;function fe(n,e){if(Ps.has(n)){console.warn(`THREE.TSL: Redefinition of method chaining '${n}'.`);return}if(typeof e!="function")throw new Error(`THREE.TSL: Node element ${n} is not a function`);Ps.set(n,e)}const uf=n=>n.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),w6=n=>uf(n).split("").sort().join(""),df={setup(n,e){const t=e.shift();return n(Vi(t),...e)},get(n,e,t){if(typeof e=="string"&&n[e]===void 0){if(n.isStackNode!==!0&&e==="assign")return(...a)=>(eo.assign(t,...a),t);if(Ps.has(e)){const a=Ps.get(e);return n.isStackNode?(...r)=>t.add(a(...r)):(...r)=>a(t,...r)}else{if(e==="self")return n;if(e.endsWith("Assign")&&Ps.has(e.slice(0,e.length-6))){const a=Ps.get(e.slice(0,e.length-6));return n.isStackNode?(...r)=>t.assign(r[0],a(...r)):(...r)=>t.assign(a(t,...r))}else{if(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0)return e=uf(e),ve(new Lc(t,e));if(/^set[XYZWRGBASTPQ]{1,4}$/.test(e)===!0)return e=w6(e.slice(3).toLowerCase()),a=>ve(new ik(n,e,a));if(/^flip[XYZWRGBASTPQ]{1,4}$/.test(e)===!0)return e=w6(e.slice(4).toLowerCase()),()=>ve(new lk(ve(n),e));if(e==="width"||e==="height"||e==="depth")return e==="width"?e="x":e==="height"?e="y":e==="depth"&&(e="z"),ve(new Lc(n,e));if(/^\d+$/.test(e)===!0)return ve(new Q1(t,new _0(Number(e),"uint")));if(/^get$/.test(e)===!0)return a=>ve(new Ak(t,a))}}}return Reflect.get(n,e,t)},set(n,e,t,a){return typeof e=="string"&&n[e]===void 0&&(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0||e==="width"||e==="height"||e==="depth"||/^\d+$/.test(e)===!0)?(a[e].assign(t),!0):Reflect.set(n,e,t,a)}},zu=new WeakMap,S6=new WeakMap,uk=function(n,e=null){const t=jr(n);if(t==="node"){let a=zu.get(n);return a===void 0&&(a=new Proxy(n,df),zu.set(n,a),zu.set(a,a)),a}else{if(e===null&&(t==="float"||t==="boolean")||t&&t!=="shader"&&t!=="string")return ve(qc(n,e));if(t==="shader")return ie(n)}return n},dk=function(n,e=null){for(const t in n)n[t]=ve(n[t],e);return n},ck=function(n,e=null){const t=n.length;for(let a=0;a<t;a++)n[a]=ve(n[a],e);return n},hk=function(n,e=null,t=null,a=null){const r=D=>ve(a!==null?Object.assign(D,a):D);let s,o=e,d,c;function g(D){let m;return o?m=/[a-z]/i.test(o)?o+"()":o:m=n.type,d!==void 0&&D.length<d?(console.error(`THREE.TSL: "${m}" parameter length is less than minimum required.`),D.concat(new Array(d-D.length).fill(0))):c!==void 0&&D.length>c?(console.error(`THREE.TSL: "${m}" parameter length exceeds limit.`),D.slice(0,c)):D}return e===null?s=(...D)=>r(new n(...q1(g(D)))):t!==null?(t=ve(t),s=(...D)=>r(new n(e,...q1(g(D)),t))):s=(...D)=>r(new n(e,...q1(g(D)))),s.setParameterLength=(...D)=>(D.length===1?d=c=D[0]:D.length===2&&([d,c]=D),s),s.setName=D=>(o=D,s),s},pk=function(n,...e){return ve(new n(...q1(e)))};class gk extends ze{constructor(e,t){super(),this.shaderNode=e,this.inputNodes=t}getNodeType(e){return this.shaderNode.nodeType||this.getOutputNode(e).getNodeType(e)}getMemberType(e,t){return this.getOutputNode(e).getMemberType(e,t)}call(e){const{shaderNode:t,inputNodes:a}=this,r=e.getNodeProperties(t);if(r.onceOutput)return r.onceOutput;let s=null;if(t.layout){let o=S6.get(e.constructor);o===void 0&&(o=new WeakMap,S6.set(e.constructor,o));let d=o.get(t);d===void 0&&(d=ve(e.buildFunctionNode(t)),o.set(t,d)),e.addInclude(d),s=ve(d.call(a))}else{const o=t.jsFunc,d=a!==null||o.length>1?o(a||[],e):o(e);s=ve(d)}return t.once&&(r.onceOutput=s),s}getOutputNode(e){const t=e.getNodeProperties(this);return t.outputNode===null&&(t.outputNode=this.setupOutput(e)),t.outputNode}setup(e){return this.getOutputNode(e)}setupOutput(e){return e.addStack(),e.stack.outputNode=this.call(e),e.removeStack()}generate(e,t){return this.getOutputNode(e).build(e,t)}}class Dk extends ze{constructor(e,t){super(t),this.jsFunc=e,this.layout=null,this.global=!0,this.once=!1}setLayout(e){return this.layout=e,this}call(e=null){return Vi(e),ve(new gk(this,e))}setup(){return this.call()}}const fk=[!1,!0],vk=[0,1,2,3],mk=[-1,-2],cf=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],Lh=new Map;for(const n of fk)Lh.set(n,new _0(n));const qh=new Map;for(const n of vk)qh.set(n,new _0(n,"uint"));const Fh=new Map([...qh].map(n=>new _0(n.value,"int")));for(const n of mk)Fh.set(n,new _0(n,"int"));const wA=new Map([...Fh].map(n=>new _0(n.value)));for(const n of cf)wA.set(n,new _0(n));for(const n of cf)wA.set(-n,new _0(-n));const SA={bool:Lh,uint:qh,ints:Fh,float:wA},x6=new Map([...Lh,...wA]),qc=(n,e)=>x6.has(n)?x6.get(n):n.isNode===!0?n:new _0(n,e),yk=n=>{try{return n.getNodeType()}catch{return}},Ta=function(n,e=null){return(...t)=>{if((t.length===0||!["bool","float","int","uint"].includes(n)&&t.every(r=>typeof r!="object"))&&(t=[nf(n,...t)]),t.length===1&&e!==null&&e.has(t[0]))return ve(e.get(t[0]));if(t.length===1){const r=qc(t[0],n);return yk(r)===n?ve(r):ve(new Af(r,n))}const a=t.map(r=>qc(r));return ve(new sk(a,n))}},Ii=n=>typeof n=="object"&&n!==null?n.value:n,hf=n=>n!=null?n.nodeType||n.convertTo||(typeof n=="string"?n:null):null;function ai(n,e){return new Proxy(new Dk(n,e),df)}const ve=(n,e=null)=>uk(n,e),Vi=(n,e=null)=>new dk(n,e),q1=(n,e=null)=>new ck(n,e),me=(...n)=>new hk(...n),Ne=(...n)=>new pk(...n);let _k=0;const ie=(n,e=null)=>{let t=null;e!==null&&(typeof e=="object"?t=e.return:(typeof e=="string"?t=e:console.error("THREE.TSL: Invalid layout type."),e=null));const a=new ai(n,t),r=(...s)=>{let o;return Vi(s),s[0]&&s[0].isNode?o=[...s]:o=s[0],a.call(o)};if(r.shaderNode=a,r.setLayout=s=>(a.setLayout(s),r),r.once=()=>(a.once=!0,r),e!==null){if(typeof e.inputs!="object"){const s={name:"fn"+_k++,type:t,inputs:[]};for(const o in e)o!=="return"&&s.inputs.push({name:o,type:e[o]});e=s}r.setLayout(e)}return r},wk=(...n)=>(console.warn("THREE.TSL: tslFn() has been renamed to Fn()."),ie(...n));fe("toGlobal",n=>(n.global=!0,n));const Ei=n=>{eo=n},Oh=()=>eo,dt=(...n)=>eo.If(...n);function pf(n){return eo&&eo.add(n),n}fe("append",pf);const gf=new Ta("color"),V=new Ta("float",SA.float),Q=new Ta("int",SA.ints),Me=new Ta("uint",SA.uint),_r=new Ta("bool",SA.bool),ye=new Ta("vec2"),Ea=new Ta("ivec2"),Df=new Ta("uvec2"),ff=new Ta("bvec2"),ae=new Ta("vec3"),vf=new Ta("ivec3"),io=new Ta("uvec3"),Uh=new Ta("bvec3"),Ge=new Ta("vec4"),mf=new Ta("ivec4"),yf=new Ta("uvec4"),_f=new Ta("bvec4"),xA=new Ta("mat2"),tn=new Ta("mat3"),F1=new Ta("mat4"),Sk=(n="")=>ve(new _0(n,"string")),xk=n=>ve(new _0(n,"ArrayBuffer"));fe("toColor",gf);fe("toFloat",V);fe("toInt",Q);fe("toUint",Me);fe("toBool",_r);fe("toVec2",ye);fe("toIVec2",Ea);fe("toUVec2",Df);fe("toBVec2",ff);fe("toVec3",ae);fe("toIVec3",vf);fe("toUVec3",io);fe("toBVec3",Uh);fe("toVec4",Ge);fe("toIVec4",mf);fe("toUVec4",yf);fe("toBVec4",_f);fe("toMat2",xA);fe("toMat3",tn);fe("toMat4",F1);const wf=me(Q1).setParameterLength(2),Sf=(n,e)=>ve(new Af(ve(n),e)),bk=(n,e)=>ve(new Lc(ve(n),e));fe("element",wf);fe("convert",Sf);class b6 extends ua{static get type(){return"ArrayNode"}constructor(e,t,a=null){super(e),this.count=t,this.values=a,this.isArrayNode=!0}getNodeType(e){return this.nodeType===null&&(this.nodeType=this.values[0].getNodeType(e)),this.nodeType}getElementType(e){return this.getNodeType(e)}generate(e){const t=this.getNodeType(e);return e.generateArray(t,this.count,this.values)}}const xf=(...n)=>{let e;if(n.length===1){const t=n[0];e=new b6(null,t.length,t)}else{const t=n[0],a=n[1];e=new b6(t,a)}return ve(e)};fe("toArray",(n,e)=>xf(Array(e).fill(n)));class bf extends ze{static get type(){return"UniformGroupNode"}constructor(e,t=!1,a=1){super("string"),this.name=e,this.shared=t,this.order=a,this.isUniformGroup=!0}serialize(e){super.serialize(e),e.name=this.name,e.version=this.version,e.shared=this.shared}deserialize(e){super.deserialize(e),this.name=e.name,this.version=e.version,this.shared=e.shared}}const Tf=n=>new bf(n),bA=(n,e=0)=>new bf(n,!0,e),If=bA("frame"),He=bA("render"),Gh=Tf("object");class zi extends Bh{static get type(){return"UniformNode"}constructor(e,t=null){super(e,t),this.isUniformNode=!0,this.name="",this.groupNode=Gh}label(e){return this.name=e,this}setGroup(e){return this.groupNode=e,this}getGroup(){return this.groupNode}getUniformHash(e){return this.getHash(e)}onUpdate(e,t){const a=this.getSelf();return e=e.bind(a),super.onUpdate(r=>{const s=e(r,a);s!==void 0&&(this.value=s)},t)}generate(e,t){const a=this.getNodeType(e),r=this.getUniformHash(e);let s=e.getNodeFromHash(r);s===void 0&&(e.setHashNode(this,r),s=this);const o=s.getInputType(e),d=e.getUniformFromNode(s,o,e.shaderStage,this.name||e.context.label),c=e.getPropertyName(d);return e.context.label!==void 0&&delete e.context.label,e.format(c,a,t)}}const Ue=(n,e)=>{const t=hf(e||n),a=n&&n.isNode===!0?n.node&&n.node.value||n.value:n;return ve(new zi(a,t))};class Ct extends ze{static get type(){return"PropertyNode"}constructor(e,t=null,a=!1){super(e),this.name=t,this.varying=a,this.isPropertyNode=!0}getHash(e){return this.name||super.getHash(e)}isGlobal(){return!0}generate(e){let t;return this.varying===!0?(t=e.getVaryingFromNode(this,this.name),t.needsInterpolation=!0):t=e.getVarFromNode(this,this.name),e.getPropertyName(t)}}const lo=(n,e)=>ve(new Ct(n,e)),ki=(n,e)=>ve(new Ct(n,e,!0)),kt=Ne(Ct,"vec4","DiffuseColor"),Fc=Ne(Ct,"vec3","EmissiveColor"),C0=Ne(Ct,"float","Roughness"),Ni=Ne(Ct,"float","Metalness"),eA=Ne(Ct,"float","Clearcoat"),Ri=Ne(Ct,"float","ClearcoatRoughness"),C1=Ne(Ct,"vec3","Sheen"),TA=Ne(Ct,"float","SheenRoughness"),IA=Ne(Ct,"float","Iridescence"),Vh=Ne(Ct,"float","IridescenceIOR"),zh=Ne(Ct,"float","IridescenceThickness"),tA=Ne(Ct,"float","AlphaT"),Ur=Ne(Ct,"float","Anisotropy"),ni=Ne(Ct,"vec3","AnisotropyT"),O1=Ne(Ct,"vec3","AnisotropyB"),gn=Ne(Ct,"color","SpecularColor"),Mi=Ne(Ct,"float","SpecularF90"),aA=Ne(Ct,"float","Shininess"),zs=Ne(Ct,"vec4","Output"),dl=Ne(Ct,"float","dashSize"),Oc=Ne(Ct,"float","gapSize"),Tk=Ne(Ct,"float","pointWidth"),ri=Ne(Ct,"float","IOR"),nA=Ne(Ct,"float","Transmission"),Wh=Ne(Ct,"float","Thickness"),Hh=Ne(Ct,"float","AttenuationDistance"),jh=Ne(Ct,"color","AttenuationColor"),$h=Ne(Ct,"float","Dispersion");class Ik extends ua{static get type(){return"AssignNode"}constructor(e,t){super(),this.targetNode=e,this.sourceNode=t}hasDependencies(){return!1}getNodeType(e,t){return t!=="void"?this.targetNode.getNodeType(e):"void"}needsSplitAssign(e){const{targetNode:t}=this;if(e.isAvailable("swizzleAssign")===!1&&t.isSplitNode&&t.components.length>1){const a=e.getTypeLength(t.node.getNodeType(e));return $1.join("").slice(0,a)!==t.components}return!1}generate(e,t){const{targetNode:a,sourceNode:r}=this,s=this.needsSplitAssign(e),o=a.getNodeType(e),d=a.context({assign:!0}).build(e),c=r.build(e,o),g=r.getNodeType(e),D=e.getDataFromNode(this);let m;if(D.initialized===!0)t!=="void"&&(m=d);else if(s){const _=e.getVarFromNode(this,null,o),w=e.getPropertyName(_);e.addLineFlowCode(`${w} = ${c}`,this);const x=a.node.context({assign:!0}).build(e);for(let T=0;T<a.components.length;T++){const I=a.components[T];e.addLineFlowCode(`${x}.${I} = ${w}[ ${T} ]`,this)}t!=="void"&&(m=d)}else m=`${d} = ${c}`,(t==="void"||g==="void")&&(e.addLineFlowCode(m,this),t!=="void"&&(m=d));return D.initialized=!0,e.format(m,o,t)}}const Ef=me(Ik).setParameterLength(2);fe("assign",Ef);class Ek extends ua{static get type(){return"FunctionCallNode"}constructor(e=null,t={}){super(),this.functionNode=e,this.parameters=t}setParameters(e){return this.parameters=e,this}getParameters(){return this.parameters}getNodeType(e){return this.functionNode.getNodeType(e)}generate(e){const t=[],a=this.functionNode,r=a.getInputs(e),s=this.parameters,o=(c,g)=>{const D=g.type,m=D==="pointer";let _;return m?_="&"+c.build(e):_=c.build(e,D),_};if(Array.isArray(s)){if(s.length>r.length)console.error("THREE.TSL: The number of provided parameters exceeds the expected number of inputs in 'Fn()'."),s.length=r.length;else if(s.length<r.length)for(console.error("THREE.TSL: The number of provided parameters is less than the expected number of inputs in 'Fn()'.");s.length<r.length;)s.push(V(0));for(let c=0;c<s.length;c++)t.push(o(s[c],r[c]))}else for(const c of r){const g=s[c.name];g!==void 0?t.push(o(g,c)):(console.error(`THREE.TSL: Input '${c.name}' not found in 'Fn()'.`),t.push(o(V(0),c)))}return`${a.build(e,"property")}( ${t.join(", ")} )`}}const kf=(n,...e)=>(e=e.length>1||e[0]&&e[0].isNode===!0?q1(e):Vi(e[0]),ve(new Ek(ve(n),e)));fe("call",kf);class oa extends ua{static get type(){return"OperatorNode"}constructor(e,t,a,...r){if(super(),r.length>0){let s=new oa(e,t,a);for(let o=0;o<r.length-1;o++)s=new oa(e,s,r[o]);t=s,a=r[r.length-1]}this.op=e,this.aNode=t,this.bNode=a,this.isOperatorNode=!0}getNodeType(e,t){const a=this.op,r=this.aNode,s=this.bNode,o=r.getNodeType(e),d=typeof s<"u"?s.getNodeType(e):null;if(o==="void"||d==="void")return"void";if(a==="%")return o;if(a==="~"||a==="&"||a==="|"||a==="^"||a===">>"||a==="<<")return e.getIntegerType(o);if(a==="!"||a==="=="||a==="!="||a==="&&"||a==="||"||a==="^^")return"bool";if(a==="<"||a===">"||a==="<="||a===">="){const c=t?e.getTypeLength(t):Math.max(e.getTypeLength(o),e.getTypeLength(d));return c>1?`bvec${c}`:"bool"}else{if(e.isMatrix(o)){if(d==="float")return o;if(e.isVector(d))return e.getVectorFromMatrix(o);if(e.isMatrix(d))return o}else if(e.isMatrix(d)){if(o==="float")return d;if(e.isVector(o))return e.getVectorFromMatrix(d)}return e.getTypeLength(d)>e.getTypeLength(o)?d:o}}generate(e,t){const a=this.op,r=this.aNode,s=this.bNode,o=this.getNodeType(e,t);let d=null,c=null;o!=="void"?(d=r.getNodeType(e),c=typeof s<"u"?s.getNodeType(e):null,a==="<"||a===">"||a==="<="||a===">="||a==="=="||a==="!="?e.isVector(d)?c=d:d!==c&&(d=c="float"):a===">>"||a==="<<"?(d=o,c=e.changeComponentType(c,"uint")):a==="%"?(d=o,c=e.isInteger(d)&&e.isInteger(c)?c:d):e.isMatrix(d)?c==="float"?c="float":e.isVector(c)?c=e.getVectorFromMatrix(d):e.isMatrix(c)||(d=c=o):e.isMatrix(c)?d==="float"?d="float":e.isVector(d)?d=e.getVectorFromMatrix(c):d=c=o:d=c=o):d=c=o;const g=r.build(e,d),D=typeof s<"u"?s.build(e,c):null,m=e.getTypeLength(t),_=e.getFunctionOperator(a);if(t!=="void"){const w=e.renderer.coordinateSystem===Ai;if(a==="==")return w?m>1?e.format(`${e.getMethod("equal",t)}( ${g}, ${D} )`,o,t):e.format(`( ${g} ${a} ${D} )`,o,t):m>1||!e.isVector(d)?e.format(`( ${g} == ${D} )`,o,t):e.format(`all( ${g} == ${D} )`,o,t);if(a==="<"&&m>1)return w?e.format(`${e.getMethod("lessThan",t)}( ${g}, ${D} )`,o,t):e.format(`( ${g} < ${D} )`,o,t);if(a==="<="&&m>1)return w?e.format(`${e.getMethod("lessThanEqual",t)}( ${g}, ${D} )`,o,t):e.format(`( ${g} <= ${D} )`,o,t);if(a===">"&&m>1)return w?e.format(`${e.getMethod("greaterThan",t)}( ${g}, ${D} )`,o,t):e.format(`( ${g} > ${D} )`,o,t);if(a===">="&&m>1)return w?e.format(`${e.getMethod("greaterThanEqual",t)}( ${g}, ${D} )`,o,t):e.format(`( ${g} >= ${D} )`,o,t);if(a==="%")return e.isInteger(c)?e.format(`( ${g} % ${D} )`,o,t):e.format(`${e.getMethod("mod",o)}( ${g}, ${D} )`,o,t);if(a==="!"||a==="~")return e.format(`(${a}${g})`,d,t);if(_)return e.format(`${_}( ${g}, ${D} )`,o,t);if(e.isMatrix(d)&&c==="float")return e.format(`( ${D} ${a} ${g} )`,o,t);if(d==="float"&&e.isMatrix(c))return e.format(`${g} ${a} ${D}`,o,t);{let x=`( ${g} ${a} ${D} )`;return!w&&o==="bool"&&e.isVector(d)&&e.isVector(c)&&(x=`all${x}`),e.format(x,o,t)}}else if(d!=="void")return _?e.format(`${_}( ${g}, ${D} )`,o,t):e.isMatrix(d)&&c==="float"?e.format(`${D} ${a} ${g}`,o,t):e.format(`${g} ${a} ${D}`,o,t)}serialize(e){super.serialize(e),e.op=this.op}deserialize(e){super.deserialize(e),this.op=e.op}}const ya=me(oa,"+").setParameterLength(2,1/0).setName("add"),wt=me(oa,"-").setParameterLength(2,1/0).setName("sub"),ot=me(oa,"*").setParameterLength(2,1/0).setName("mul"),y0=me(oa,"/").setParameterLength(2,1/0).setName("div"),Wi=me(oa,"%").setParameterLength(2).setName("mod"),Qh=me(oa,"==").setParameterLength(2).setName("equal"),Nf=me(oa,"!=").setParameterLength(2).setName("notEqual"),Rf=me(oa,"<").setParameterLength(2).setName("lessThan"),Yh=me(oa,">").setParameterLength(2).setName("greaterThan"),Mf=me(oa,"<=").setParameterLength(2).setName("lessThanEqual"),Cf=me(oa,">=").setParameterLength(2).setName("greaterThanEqual"),Pf=me(oa,"&&").setParameterLength(2,1/0).setName("and"),Bf=me(oa,"||").setParameterLength(2,1/0).setName("or"),Lf=me(oa,"!").setParameterLength(1).setName("not"),qf=me(oa,"^^").setParameterLength(2).setName("xor"),Ff=me(oa,"&").setParameterLength(2).setName("bitAnd"),Of=me(oa,"~").setParameterLength(2).setName("bitNot"),Uf=me(oa,"|").setParameterLength(2).setName("bitOr"),Gf=me(oa,"^").setParameterLength(2).setName("bitXor"),Vf=me(oa,"<<").setParameterLength(2).setName("shiftLeft"),zf=me(oa,">>").setParameterLength(2).setName("shiftRight");fe("add",ya);fe("sub",wt);fe("mul",ot);fe("div",y0);fe("mod",Wi);fe("equal",Qh);fe("notEqual",Nf);fe("lessThan",Rf);fe("greaterThan",Yh);fe("lessThanEqual",Mf);fe("greaterThanEqual",Cf);fe("and",Pf);fe("or",Bf);fe("not",Lf);fe("xor",qf);fe("bitAnd",Ff);fe("bitNot",Of);fe("bitOr",Uf);fe("bitXor",Gf);fe("shiftLeft",Vf);fe("shiftRight",zf);const Wf=(n,e)=>(console.warn('THREE.TSL: "remainder()" is deprecated. Use "mod( int( ... ) )" instead.'),Wi(n,e)),Hf=(n,e)=>(console.warn('THREE.TSL: "modInt()" is deprecated. Use "mod( int( ... ) )" instead.'),Wi(Q(n),Q(e)));fe("remainder",Wf);fe("modInt",Hf);class le extends ua{static get type(){return"MathNode"}constructor(e,t,a=null,r=null){if(super(),(e===le.MAX||e===le.MIN)&&arguments.length>3){let s=new le(e,t,a);for(let o=2;o<arguments.length-1;o++)s=new le(e,s,arguments[o]);t=s,a=arguments[arguments.length-1],r=null}this.method=e,this.aNode=t,this.bNode=a,this.cNode=r,this.isMathNode=!0}getInputType(e){const t=this.aNode.getNodeType(e),a=this.bNode?this.bNode.getNodeType(e):null,r=this.cNode?this.cNode.getNodeType(e):null,s=e.isMatrix(t)?0:e.getTypeLength(t),o=e.isMatrix(a)?0:e.getTypeLength(a),d=e.isMatrix(r)?0:e.getTypeLength(r);return s>o&&s>d?t:o>d?a:d>s?r:t}getNodeType(e){const t=this.method;return t===le.LENGTH||t===le.DISTANCE||t===le.DOT?"float":t===le.CROSS?"vec3":t===le.ALL||t===le.ANY?"bool":t===le.EQUALS?e.changeComponentType(this.aNode.getNodeType(e),"bool"):this.getInputType(e)}generate(e,t){let a=this.method;const r=this.getNodeType(e),s=this.getInputType(e),o=this.aNode,d=this.bNode,c=this.cNode,g=e.renderer.coordinateSystem;if(a===le.TRANSFORM_DIRECTION){let D=o,m=d;e.isMatrix(D.getNodeType(e))?m=Ge(ae(m),0):D=Ge(ae(D),0);const _=ot(D,m).xyz;return wr(_).build(e,t)}else{if(a===le.NEGATE)return e.format("( - "+o.build(e,s)+" )",r,t);if(a===le.ONE_MINUS)return wt(1,o).build(e,t);if(a===le.RECIPROCAL)return y0(1,o).build(e,t);if(a===le.DIFFERENCE)return Qt(wt(o,d)).build(e,t);{const D=[];return a===le.CROSS?D.push(o.build(e,r),d.build(e,r)):g===Ai&&a===le.STEP?D.push(o.build(e,e.getTypeLength(o.getNodeType(e))===1?"float":s),d.build(e,s)):g===Ai&&(a===le.MIN||a===le.MAX)?D.push(o.build(e,s),d.build(e,e.getTypeLength(d.getNodeType(e))===1?"float":s)):a===le.REFRACT?D.push(o.build(e,s),d.build(e,s),c.build(e,"float")):a===le.MIX?D.push(o.build(e,s),d.build(e,s),c.build(e,e.getTypeLength(c.getNodeType(e))===1?"float":s)):(g===oo&&a===le.ATAN&&d!==null&&(a="atan2"),D.push(o.build(e,s)),d!==null&&D.push(d.build(e,s)),c!==null&&D.push(c.build(e,s))),e.format(`${e.getMethod(a,r)}( ${D.join(", ")} )`,r,t)}}}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}le.ALL="all";le.ANY="any";le.RADIANS="radians";le.DEGREES="degrees";le.EXP="exp";le.EXP2="exp2";le.LOG="log";le.LOG2="log2";le.SQRT="sqrt";le.INVERSE_SQRT="inversesqrt";le.FLOOR="floor";le.CEIL="ceil";le.NORMALIZE="normalize";le.FRACT="fract";le.SIN="sin";le.COS="cos";le.TAN="tan";le.ASIN="asin";le.ACOS="acos";le.ATAN="atan";le.ABS="abs";le.SIGN="sign";le.LENGTH="length";le.NEGATE="negate";le.ONE_MINUS="oneMinus";le.DFDX="dFdx";le.DFDY="dFdy";le.ROUND="round";le.RECIPROCAL="reciprocal";le.TRUNC="trunc";le.FWIDTH="fwidth";le.TRANSPOSE="transpose";le.BITCAST="bitcast";le.EQUALS="equals";le.MIN="min";le.MAX="max";le.STEP="step";le.REFLECT="reflect";le.DISTANCE="distance";le.DIFFERENCE="difference";le.DOT="dot";le.CROSS="cross";le.POW="pow";le.TRANSFORM_DIRECTION="transformDirection";le.MIX="mix";le.CLAMP="clamp";le.REFRACT="refract";le.SMOOTHSTEP="smoothstep";le.FACEFORWARD="faceforward";const jf=V(1e-6),kk=V(1e6),rA=V(Math.PI),Nk=V(Math.PI*2),$f=me(le,le.ALL).setParameterLength(1),Qf=me(le,le.ANY).setParameterLength(1),Yf=me(le,le.RADIANS).setParameterLength(1),Xf=me(le,le.DEGREES).setParameterLength(1),Xh=me(le,le.EXP).setParameterLength(1),to=me(le,le.EXP2).setParameterLength(1),EA=me(le,le.LOG).setParameterLength(1),L0=me(le,le.LOG2).setParameterLength(1),X0=me(le,le.SQRT).setParameterLength(1),Kh=me(le,le.INVERSE_SQRT).setParameterLength(1),q0=me(le,le.FLOOR).setParameterLength(1),kA=me(le,le.CEIL).setParameterLength(1),wr=me(le,le.NORMALIZE).setParameterLength(1),xr=me(le,le.FRACT).setParameterLength(1),Pn=me(le,le.SIN).setParameterLength(1),or=me(le,le.COS).setParameterLength(1),Kf=me(le,le.TAN).setParameterLength(1),Zf=me(le,le.ASIN).setParameterLength(1),Jf=me(le,le.ACOS).setParameterLength(1),Zh=me(le,le.ATAN).setParameterLength(1,2),Qt=me(le,le.ABS).setParameterLength(1),Ci=me(le,le.SIGN).setParameterLength(1),pr=me(le,le.LENGTH).setParameterLength(1),e4=me(le,le.NEGATE).setParameterLength(1),t4=me(le,le.ONE_MINUS).setParameterLength(1),Jh=me(le,le.DFDX).setParameterLength(1),ep=me(le,le.DFDY).setParameterLength(1),a4=me(le,le.ROUND).setParameterLength(1),n4=me(le,le.RECIPROCAL).setParameterLength(1),tp=me(le,le.TRUNC).setParameterLength(1),r4=me(le,le.FWIDTH).setParameterLength(1),s4=me(le,le.TRANSPOSE).setParameterLength(1),Rk=me(le,le.BITCAST).setParameterLength(2),o4=(n,e)=>(console.warn('THREE.TSL: "equals" is deprecated. Use "equal" inside a vector instead, like: "bvec*( equal( ... ) )"'),Qh(n,e)),Sn=me(le,le.MIN).setParameterLength(2,1/0),fa=me(le,le.MAX).setParameterLength(2,1/0),NA=me(le,le.STEP).setParameterLength(2),i4=me(le,le.REFLECT).setParameterLength(2),l4=me(le,le.DISTANCE).setParameterLength(2),A4=me(le,le.DIFFERENCE).setParameterLength(2),o1=me(le,le.DOT).setParameterLength(2),RA=me(le,le.CROSS).setParameterLength(2),g0=me(le,le.POW).setParameterLength(2),ap=me(le,le.POW,2).setParameterLength(1),u4=me(le,le.POW,3).setParameterLength(1),d4=me(le,le.POW,4).setParameterLength(1),c4=me(le,le.TRANSFORM_DIRECTION).setParameterLength(2),h4=n=>ot(Ci(n),g0(Qt(n),1/3)),np=n=>o1(n,n),Rt=me(le,le.MIX).setParameterLength(3),U0=(n,e=0,t=1)=>ve(new le(le.CLAMP,ve(n),ve(e),ve(t))),p4=n=>U0(n),rp=me(le,le.REFRACT).setParameterLength(3),G0=me(le,le.SMOOTHSTEP).setParameterLength(3),sp=me(le,le.FACEFORWARD).setParameterLength(3),g4=ie(([n])=>{const a=43758.5453,r=o1(n.xy,ye(12.9898,78.233)),s=Wi(r,rA);return xr(Pn(s).mul(a))}),D4=(n,e,t)=>Rt(e,t,n),f4=(n,e,t)=>G0(e,t,n),v4=(n,e)=>(console.warn('THREE.TSL: "atan2" is overloaded. Use "atan" instead.'),Zh(n,e)),Mk=sp,Ck=Kh;fe("all",$f);fe("any",Qf);fe("equals",o4);fe("radians",Yf);fe("degrees",Xf);fe("exp",Xh);fe("exp2",to);fe("log",EA);fe("log2",L0);fe("sqrt",X0);fe("inverseSqrt",Kh);fe("floor",q0);fe("ceil",kA);fe("normalize",wr);fe("fract",xr);fe("sin",Pn);fe("cos",or);fe("tan",Kf);fe("asin",Zf);fe("acos",Jf);fe("atan",Zh);fe("abs",Qt);fe("sign",Ci);fe("length",pr);fe("lengthSq",np);fe("negate",e4);fe("oneMinus",t4);fe("dFdx",Jh);fe("dFdy",ep);fe("round",a4);fe("reciprocal",n4);fe("trunc",tp);fe("fwidth",r4);fe("atan2",v4);fe("min",Sn);fe("max",fa);fe("step",NA);fe("reflect",i4);fe("distance",l4);fe("dot",o1);fe("cross",RA);fe("pow",g0);fe("pow2",ap);fe("pow3",u4);fe("pow4",d4);fe("transformDirection",c4);fe("mix",D4);fe("clamp",U0);fe("refract",rp);fe("smoothstep",f4);fe("faceForward",sp);fe("difference",A4);fe("saturate",p4);fe("cbrt",h4);fe("transpose",s4);fe("rand",g4);class Pk extends ze{static get type(){return"ConditionalNode"}constructor(e,t,a=null){super(),this.condNode=e,this.ifNode=t,this.elseNode=a}getNodeType(e){const{ifNode:t,elseNode:a}=e.getNodeProperties(this);if(t===void 0)return this.setup(e),this.getNodeType(e);const r=t.getNodeType(e);if(a!==null){const s=a.getNodeType(e);if(e.getTypeLength(s)>e.getTypeLength(r))return s}return r}setup(e){const t=this.condNode.cache(),a=this.ifNode.cache(),r=this.elseNode?this.elseNode.cache():null,s=e.context.nodeBlock;e.getDataFromNode(a).parentNodeBlock=s,r!==null&&(e.getDataFromNode(r).parentNodeBlock=s);const o=e.getNodeProperties(this);o.condNode=t,o.ifNode=a.context({nodeBlock:a}),o.elseNode=r?r.context({nodeBlock:r}):null}generate(e,t){const a=this.getNodeType(e),r=e.getDataFromNode(this);if(r.nodeProperty!==void 0)return r.nodeProperty;const{condNode:s,ifNode:o,elseNode:d}=e.getNodeProperties(this),c=e.currentFunctionNode,g=t!=="void",D=g?lo(a).build(e):"";r.nodeProperty=D;const m=s.build(e,"bool");e.addFlowCode(`
${e.tab}if ( ${m} ) {

`).addFlowTab();let _=o.build(e,a);if(_&&(g?_=D+" = "+_+";":(_="return "+_+";",c===null&&(console.warn("THREE.TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),_="// "+_))),e.removeFlowTab().addFlowCode(e.tab+"	"+_+`

`+e.tab+"}"),d!==null){e.addFlowCode(` else {

`).addFlowTab();let w=d.build(e,a);w&&(g?w=D+" = "+w+";":(w="return "+w+";",c===null&&(console.warn("THREE.TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),w="// "+w))),e.removeFlowTab().addFlowCode(e.tab+"	"+w+`

`+e.tab+`}

`)}else e.addFlowCode(`

`);return e.format(D,a,t)}}const Ga=me(Pk).setParameterLength(2,3);fe("select",Ga);const m4=(...n)=>(console.warn("THREE.TSL: cond() has been renamed to select()."),Ga(...n));fe("cond",m4);class y4 extends ze{static get type(){return"ContextNode"}constructor(e,t={}){super(),this.isContextNode=!0,this.node=e,this.value=t}getScope(){return this.node.getScope()}getNodeType(e){return this.node.getNodeType(e)}analyze(e){this.node.build(e)}setup(e){const t=e.getContext();e.setContext({...e.context,...this.value});const a=this.node.build(e);return e.setContext(t),a}generate(e,t){const a=e.getContext();e.setContext({...e.context,...this.value});const r=this.node.build(e,t);return e.setContext(a),r}}const MA=me(y4).setParameterLength(1,2),_4=(n,e)=>MA(n,{label:e});fe("context",MA);fe("label",_4);class cl extends ze{static get type(){return"VarNode"}constructor(e,t=null,a=!1){super(),this.node=e,this.name=t,this.global=!0,this.isVarNode=!0,this.readOnly=a}getMemberType(e,t){return this.node.getMemberType(e,t)}getElementType(e){return this.node.getElementType(e)}getNodeType(e){return this.node.getNodeType(e)}generate(e){const{node:t,name:a,readOnly:r}=this,{renderer:s}=e,o=s.backend.isWebGPUBackend===!0;let d=!1,c=!1;r&&(d=e.isDeterministic(t),c=o?r:d);const g=e.getVectorType(this.getNodeType(e)),D=t.build(e,g),m=e.getVarFromNode(this,a,g,void 0,c),_=e.getPropertyName(m);let w=_;if(c)if(o)w=d?`const ${_}`:`let ${_}`;else{const x=e.getArrayCount(t);w=`const ${e.getVar(m.type,_,x)}`}return e.addLineFlowCode(`${w} = ${D}`,this),_}}const op=me(cl),w4=(n,e=null)=>op(n,e).append(),S4=(n,e=null)=>op(n,e,!0).append();fe("toVar",w4);fe("toConst",S4);const x4=n=>(console.warn('TSL: "temp( node )" is deprecated. Use "Var( node )" or "node.toVar()" instead.'),op(n));fe("temp",x4);class Bk extends ze{static get type(){return"VaryingNode"}constructor(e,t=null){super(),this.node=e,this.name=t,this.isVaryingNode=!0}isGlobal(){return!0}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}setupVarying(e){const t=e.getNodeProperties(this);let a=t.varying;if(a===void 0){const r=this.name,s=this.getNodeType(e);t.varying=a=e.getVaryingFromNode(this,r,s),t.node=this.node}return a.needsInterpolation||(a.needsInterpolation=e.shaderStage==="fragment"),a}setup(e){this.setupVarying(e)}analyze(e){return this.setupVarying(e),this.node.analyze(e)}generate(e){const t=e.getNodeProperties(this),a=this.setupVarying(e),r=e.shaderStage==="fragment"&&t.reassignPosition===!0&&e.context.needsPositionReassign;if(t.propertyName===void 0||r){const s=this.getNodeType(e),o=e.getPropertyName(a,Cc.VERTEX);e.flowNodeFromShaderStage(Cc.VERTEX,this.node,s,o),t.propertyName=o,r?t.reassignPosition=!1:t.reassignPosition===void 0&&e.context.isPositionNodeInput&&(t.reassignPosition=!0)}return e.getPropertyName(a)}}const nn=me(Bk).setParameterLength(1,2),b4=n=>nn(n);fe("toVarying",nn);fe("toVertexStage",b4);fe("varying",(...n)=>(console.warn("THREE.TSL: .varying() has been renamed to .toVarying()."),nn(...n)));fe("vertexStage",(...n)=>(console.warn("THREE.TSL: .vertexStage() has been renamed to .toVertexStage()."),nn(...n)));const T4=ie(([n])=>{const e=n.mul(.9478672986).add(.0521327014).pow(2.4),t=n.mul(.0773993808),a=n.lessThanEqual(.04045);return Rt(e,t,a)}).setLayout({name:"sRGBTransferEOTF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),I4=ie(([n])=>{const e=n.pow(.41666).mul(1.055).sub(.055),t=n.mul(12.92),a=n.lessThanEqual(.0031308);return Rt(e,t,a)}).setLayout({name:"sRGBTransferOETF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),Hi="WorkingColorSpace",ip="OutputColorSpace";class ji extends ua{static get type(){return"ColorSpaceNode"}constructor(e,t,a){super("vec4"),this.colorNode=e,this.source=t,this.target=a}resolveColorSpace(e,t){return t===Hi?N0.workingColorSpace:t===ip?e.context.outputColorSpace||e.renderer.outputColorSpace:t}setup(e){const{colorNode:t}=this,a=this.resolveColorSpace(e,this.source),r=this.resolveColorSpace(e,this.target);let s=t;return N0.enabled===!1||a===r||!a||!r||(N0.getTransfer(a)===l5&&(s=Ge(T4(s.rgb),s.a)),N0.getPrimaries(a)!==N0.getPrimaries(r)&&(s=Ge(tn(N0._getMatrix(new qi,a,r)).mul(s.rgb),s.a)),N0.getTransfer(r)===l5&&(s=Ge(I4(s.rgb),s.a))),s}}const E4=n=>ve(new ji(ve(n),Hi,ip)),k4=n=>ve(new ji(ve(n),ip,Hi)),N4=(n,e)=>ve(new ji(ve(n),Hi,e)),CA=(n,e)=>ve(new ji(ve(n),e,Hi)),Lk=(n,e,t)=>ve(new ji(ve(n),e,t));fe("toOutputColorSpace",E4);fe("toWorkingColorSpace",k4);fe("workingToColorSpace",N4);fe("colorSpaceToWorking",CA);let qk=class extends Q1{static get type(){return"ReferenceElementNode"}constructor(e,t){super(e,t),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const t=super.generate(e),a=this.referenceNode.getNodeType(),r=this.getNodeType();return e.format(t,a,r)}};class R4 extends ze{static get type(){return"ReferenceBaseNode"}constructor(e,t,a=null,r=null){super(),this.property=e,this.uniformType=t,this.object=a,this.count=r,this.properties=e.split("."),this.reference=a,this.node=null,this.group=null,this.updateType=st.OBJECT}setGroup(e){return this.group=e,this}element(e){return ve(new qk(this,ve(e)))}setNodeType(e){const t=Ue(null,e).getSelf();this.group!==null&&t.setGroup(this.group),this.node=t}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:t}=this;let a=e[t[0]];for(let r=1;r<t.length;r++)a=a[t[r]];return a}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const Fk=(n,e,t)=>ve(new R4(n,e,t));class Ok extends R4{static get type(){return"RendererReferenceNode"}constructor(e,t,a=null){super(e,t,a),this.renderer=a,this.setGroup(He)}updateReference(e){return this.reference=this.renderer!==null?this.renderer:e.renderer,this.reference}}const M4=(n,e,t=null)=>ve(new Ok(n,e,t));class Uk extends ua{static get type(){return"ToneMappingNode"}constructor(e,t=P4,a=null){super("vec3"),this.toneMapping=e,this.exposureNode=t,this.colorNode=a}customCacheKey(){return Ti(this.toneMapping)}setup(e){const t=this.colorNode||e.context.color,a=this.toneMapping;if(a===Fs)return t;let r=null;const s=e.renderer.library.getToneMappingFunction(a);return s!==null?r=Ge(s(t.rgb,this.exposureNode),t.a):(console.error("ToneMappingNode: Unsupported Tone Mapping configuration.",a),r=t),r}}const C4=(n,e,t)=>ve(new Uk(n,ve(e),ve(t))),P4=M4("toneMappingExposure","float");fe("toneMapping",(n,e,t)=>C4(e,t,n));class Gk extends Bh{static get type(){return"BufferAttributeNode"}constructor(e,t=null,a=0,r=0){super(e,t),this.isBufferNode=!0,this.bufferType=t,this.bufferStride=a,this.bufferOffset=r,this.usage=nw,this.instanced=!1,this.attribute=null,this.global=!0,e&&e.isBufferAttribute===!0&&(this.attribute=e,this.usage=e.usage,this.instanced=e.isInstancedBufferAttribute)}getHash(e){if(this.bufferStride===0&&this.bufferOffset===0){let t=e.globalCache.getData(this.value);return t===void 0&&(t={node:this},e.globalCache.setData(this.value,t)),t.node.uuid}return this.uuid}getNodeType(e){return this.bufferType===null&&(this.bufferType=e.getTypeFromAttribute(this.attribute)),this.bufferType}setup(e){if(this.attribute!==null)return;const t=this.getNodeType(e),a=this.value,r=e.getTypeLength(t),s=this.bufferStride||r,o=this.bufferOffset,d=a.isInterleavedBuffer===!0?a:new Zg(a,s),c=new Hr(d,r,o);d.setUsage(this.usage),this.attribute=c,this.attribute.isInstancedBufferAttribute=this.instanced}generate(e){const t=this.getNodeType(e),a=e.getBufferAttributeFromNode(this,t),r=e.getPropertyName(a);let s=null;return e.shaderStage==="vertex"||e.shaderStage==="compute"?(this.name=r,s=r):s=nn(this).build(e,t),s}getInputType(){return"bufferAttribute"}setUsage(e){return this.usage=e,this.attribute&&this.attribute.isBufferAttribute===!0&&(this.attribute.usage=e),this}setInstanced(e){return this.instanced=e,this}}const $i=(n,e=null,t=0,a=0)=>ve(new Gk(n,e,t,a)),B4=(n,e=null,t=0,a=0)=>$i(n,e,t,a).setUsage(Es),sA=(n,e=null,t=0,a=0)=>$i(n,e,t,a).setInstanced(!0),Uc=(n,e=null,t=0,a=0)=>B4(n,e,t,a).setInstanced(!0);fe("toAttribute",n=>$i(n.value));class Vk extends ze{static get type(){return"ComputeNode"}constructor(e,t,a=[64]){super("void"),this.isComputeNode=!0,this.computeNode=e,this.count=t,this.workgroupSize=a,this.dispatchCount=0,this.version=1,this.name="",this.updateBeforeType=st.OBJECT,this.onInitFunction=null,this.updateDispatchCount()}dispose(){this.dispatchEvent({type:"dispose"})}label(e){return this.name=e,this}updateDispatchCount(){const{count:e,workgroupSize:t}=this;let a=t[0];for(let r=1;r<t.length;r++)a*=t[r];this.dispatchCount=Math.ceil(e/a)}onInit(e){return this.onInitFunction=e,this}updateBefore({renderer:e}){e.compute(this)}setup(e){const t=this.computeNode.setup(e);if(t){const a=e.getNodeProperties(this);a.outputComputeNode=t.outputNode,t.outputNode=null}return t}generate(e,t){const{shaderStage:a}=e;if(a==="compute"){const r=this.computeNode.build(e,"void");r!==""&&e.addLineFlowCode(r,this)}else{const s=e.getNodeProperties(this).outputComputeNode;if(s)return s.build(e,t)}}}const L4=(n,e,t)=>ve(new Vk(ve(n),e,t));fe("compute",L4);class zk extends ze{static get type(){return"CacheNode"}constructor(e,t=!0){super(),this.node=e,this.parent=t,this.isCacheNode=!0}getNodeType(e){const t=e.getCache(),a=e.getCacheFromNode(this,this.parent);e.setCache(a);const r=this.node.getNodeType(e);return e.setCache(t),r}build(e,...t){const a=e.getCache(),r=e.getCacheFromNode(this,this.parent);e.setCache(r);const s=this.node.build(e,...t);return e.setCache(a),s}}const si=(n,e)=>ve(new zk(ve(n),e));fe("cache",si);class Wk extends ze{static get type(){return"BypassNode"}constructor(e,t){super(),this.isBypassNode=!0,this.outputNode=e,this.callNode=t}getNodeType(e){return this.outputNode.getNodeType(e)}generate(e){const t=this.callNode.build(e,"void");return t!==""&&e.addLineFlowCode(t,this),this.outputNode.build(e)}}const q4=me(Wk).setParameterLength(2);fe("bypass",q4);class F4 extends ze{static get type(){return"RemapNode"}constructor(e,t,a,r=V(0),s=V(1)){super(),this.node=e,this.inLowNode=t,this.inHighNode=a,this.outLowNode=r,this.outHighNode=s,this.doClamp=!0}setup(){const{node:e,inLowNode:t,inHighNode:a,outLowNode:r,outHighNode:s,doClamp:o}=this;let d=e.sub(t).div(a.sub(t));return o===!0&&(d=d.clamp()),d.mul(s.sub(r)).add(r)}}const O4=me(F4,null,null,{doClamp:!1}).setParameterLength(3,5),U4=me(F4).setParameterLength(3,5);fe("remap",O4);fe("remapClamp",U4);class hl extends ze{static get type(){return"ExpressionNode"}constructor(e="",t="void"){super(t),this.snippet=e}generate(e,t){const a=this.getNodeType(e),r=this.snippet;if(a==="void")e.addLineFlowCode(r,this);else return e.format(r,a,t)}}const n1=me(hl).setParameterLength(1,2),G4=n=>(n?Ga(n,n1("discard")):n1("discard")).append(),Hk=()=>n1("return").append();fe("discard",G4);class jk extends ua{static get type(){return"RenderOutputNode"}constructor(e,t,a){super("vec4"),this.colorNode=e,this.toneMapping=t,this.outputColorSpace=a,this.isRenderOutputNode=!0}setup({context:e}){let t=this.colorNode||e.color;const a=(this.toneMapping!==null?this.toneMapping:e.toneMapping)||Fs,r=(this.outputColorSpace!==null?this.outputColorSpace:e.outputColorSpace)||pi;return a!==Fs&&(t=t.toneMapping(a)),r!==pi&&r!==N0.workingColorSpace&&(t=t.workingToColorSpace(r)),t}}const V4=(n,e=null,t=null)=>ve(new jk(ve(n),e,t));fe("renderOutput",V4);class $k extends ua{static get type(){return"DebugNode"}constructor(e,t=null){super(),this.node=e,this.callback=t}getNodeType(e){return this.node.getNodeType(e)}setup(e){return this.node.build(e)}analyze(e){return this.node.build(e)}generate(e){const t=this.callback,a=this.node.build(e);let r="";return r+=`// #--- TSL Debug ---#
`,r+=e.flow.code.replace(/^\t/mg,"")+`
`,r+="/* ... */ "+a+` /* ... */
`,r+=`// #-----------------#
`,t!==null?t(r):console.log(r),a}}const z4=(n,e=null)=>ve(new $k(ve(n),e));fe("debug",z4);function Qk(n){console.warn("THREE.TSL: AddNodeElement has been removed in favor of tree-shaking. Trying add",n)}class W4 extends ze{static get type(){return"AttributeNode"}constructor(e,t=null){super(t),this.global=!0,this._attributeName=e}getHash(e){return this.getAttributeName(e)}getNodeType(e){let t=this.nodeType;if(t===null){const a=this.getAttributeName(e);if(e.hasGeometryAttribute(a)){const r=e.geometry.getAttribute(a);t=e.getTypeFromAttribute(r)}else t="float"}return t}setAttributeName(e){return this._attributeName=e,this}getAttributeName(){return this._attributeName}generate(e){const t=this.getAttributeName(e),a=this.getNodeType(e);if(e.hasGeometryAttribute(t)===!0){const s=e.geometry.getAttribute(t),o=e.getTypeFromAttribute(s),d=e.getAttribute(t,o);return e.shaderStage==="vertex"?e.format(d.name,o,a):nn(this).build(e,a)}else return console.warn(`AttributeNode: Vertex attribute "${t}" not found on geometry.`),e.generateConst(a)}serialize(e){super.serialize(e),e.global=this.global,e._attributeName=this._attributeName}deserialize(e){super.deserialize(e),this.global=e.global,this._attributeName=e._attributeName}}const V0=(n,e)=>ve(new W4(n,e)),na=(n=0)=>V0("uv"+(n>0?n:""),"vec2");class Yk extends ze{static get type(){return"TextureSizeNode"}constructor(e,t=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=e,this.levelNode=t}generate(e,t){const a=this.textureNode.build(e,"property"),r=this.levelNode===null?"0":this.levelNode.build(e,"int");return e.format(`${e.getMethod("textureDimensions")}( ${a}, ${r} )`,this.getNodeType(e),t)}}const Zr=me(Yk).setParameterLength(1,2);class Xk extends zi{static get type(){return"MaxMipLevelNode"}constructor(e){super(0),this._textureNode=e,this.updateType=st.FRAME}get textureNode(){return this._textureNode}get texture(){return this._textureNode.value}update(){const e=this.texture,t=e.images,a=t&&t.length>0?t[0]&&t[0].image||t[0]:e.image;if(a&&a.width!==void 0){const{width:r,height:s}=a;this.value=Math.log2(Math.max(r,s))}}}const H4=me(Xk).setParameterLength(1);class z0 extends zi{static get type(){return"TextureNode"}constructor(e,t=null,a=null,r=null){super(e),this.isTextureNode=!0,this.uvNode=t,this.levelNode=a,this.biasNode=r,this.compareNode=null,this.depthNode=null,this.gradNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=st.NONE,this.referenceNode=null,this._value=e,this._matrixUniform=null,this.setUpdateMatrix(t===null)}set value(e){this.referenceNode?this.referenceNode.value=e:this._value=e}get value(){return this.referenceNode?this.referenceNode.value:this._value}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":this.value.type===xa?"uvec4":this.value.type===ln?"ivec4":"vec4"}getInputType(){return"texture"}getDefaultUV(){return na(this.value.channel)}updateReference(){return this.value}getTransformedUV(e){return this._matrixUniform===null&&(this._matrixUniform=Ue(this.value.matrix)),this._matrixUniform.mul(ae(e,1)).xy}setUpdateMatrix(e){return this.updateMatrix=e,this.updateType=e?st.RENDER:st.NONE,this}setupUV(e,t){const a=this.value;return e.isFlipY()&&(a.image instanceof ImageBitmap&&a.flipY===!0||a.isRenderTargetTexture===!0||a.isFramebufferTexture===!0||a.isDepthTexture===!0)&&(this.sampler?t=t.flipY():t=t.setY(Q(Zr(this,this.levelNode).y).sub(t.y).sub(1))),t}setup(e){const t=e.getNodeProperties(this);t.referenceNode=this.referenceNode;const a=this.value;if(!a||a.isTexture!==!0)throw new Error("THREE.TSL: `texture( value )` function expects a valid instance of THREE.Texture().");let r=this.uvNode;(r===null||e.context.forceUVContext===!0)&&e.context.getUV&&(r=e.context.getUV(this)),r||(r=this.getDefaultUV()),this.updateMatrix===!0&&(r=this.getTransformedUV(r)),r=this.setupUV(e,r);let s=this.levelNode;s===null&&e.context.getTextureLevel&&(s=e.context.getTextureLevel(this)),t.uvNode=r,t.levelNode=s,t.biasNode=this.biasNode,t.compareNode=this.compareNode,t.gradNode=this.gradNode,t.depthNode=this.depthNode}generateUV(e,t){return t.build(e,this.sampler===!0?"vec2":"ivec2")}generateSnippet(e,t,a,r,s,o,d,c){const g=this.value;let D;return r?D=e.generateTextureLevel(g,t,a,r,o):s?D=e.generateTextureBias(g,t,a,s,o):c?D=e.generateTextureGrad(g,t,a,c,o):d?D=e.generateTextureCompare(g,t,a,d,o):this.sampler===!1?D=e.generateTextureLoad(g,t,a,o):D=e.generateTexture(g,t,a,o),D}generate(e,t){const a=this.value,r=e.getNodeProperties(this),s=super.generate(e,"property");if(/^sampler/.test(t))return s+"_sampler";if(e.isReference(t))return s;{const o=e.getDataFromNode(this);let d=o.propertyName;if(d===void 0){const{uvNode:D,levelNode:m,biasNode:_,compareNode:w,depthNode:x,gradNode:T}=r,I=this.generateUV(e,D),N=m?m.build(e,"float"):null,R=_?_.build(e,"float"):null,M=x?x.build(e,"int"):null,B=w?w.build(e,"float"):null,F=T?[T[0].build(e,"vec2"),T[1].build(e,"vec2")]:null,L=e.getVarFromNode(this);d=e.getPropertyName(L);const O=this.generateSnippet(e,s,I,N,R,M,B,F);e.addLineFlowCode(`${d} = ${O}`,this),o.snippet=O,o.propertyName=d}let c=d;const g=this.getNodeType(e);return e.needsToWorkingColorSpace(a)&&(c=CA(n1(c,g),a.colorSpace).setup(e).build(e,g)),e.format(c,g,t)}}setSampler(e){return this.sampler=e,this}getSampler(){return this.sampler}uv(e){return console.warn("THREE.TextureNode: .uv() has been renamed. Use .sample() instead."),this.sample(e)}sample(e){const t=this.clone();return t.uvNode=ve(e),t.referenceNode=this.getSelf(),ve(t)}blur(e){const t=this.clone();t.biasNode=ve(e).mul(H4(t)),t.referenceNode=this.getSelf();const a=t.value;return(a&&a.generateMipmaps===!1||a.minFilter===u0||a.magFilter===u0)&&(console.warn("THREE.TSL: texture().blur() requires mipmaps and sampling. Use .generateMipmaps=true and .minFilter/.magFilter=THREE.LinearFilter in the Texture."),t.biasNode=null),ve(t)}level(e){const t=this.clone();return t.levelNode=ve(e),t.referenceNode=this.getSelf(),ve(t)}size(e){return Zr(this,e)}bias(e){const t=this.clone();return t.biasNode=ve(e),t.referenceNode=this.getSelf(),ve(t)}compare(e){const t=this.clone();return t.compareNode=ve(e),t.referenceNode=this.getSelf(),ve(t)}grad(e,t){const a=this.clone();return a.gradNode=[ve(e),ve(t)],a.referenceNode=this.getSelf(),ve(a)}depth(e){const t=this.clone();return t.depthNode=ve(e),t.referenceNode=this.getSelf(),ve(t)}serialize(e){super.serialize(e),e.value=this.value.toJSON(e.meta).uuid,e.sampler=this.sampler,e.updateMatrix=this.updateMatrix,e.updateType=this.updateType}deserialize(e){super.deserialize(e),this.value=e.meta.textures[e.value],this.sampler=e.sampler,this.updateMatrix=e.updateMatrix,this.updateType=e.updateType}update(){const e=this.value,t=this._matrixUniform;t!==null&&(t.value=e.matrix),e.matrixAutoUpdate===!0&&e.updateMatrix()}clone(){const e=new this.constructor(this.value,this.uvNode,this.levelNode,this.biasNode);return e.sampler=this.sampler,e}}const ft=me(z0).setParameterLength(1,4),ca=(...n)=>ft(...n).setSampler(!1),Kk=n=>(n.isNode===!0?n:ft(n)).convert("sampler"),Zk=n=>(n.isNode===!0?n:ft(n)).convert("samplerComparison");class lp extends zi{static get type(){return"BufferNode"}constructor(e,t,a=0){super(e,t),this.isBufferNode=!0,this.bufferType=t,this.bufferCount=a}getElementType(e){return this.getNodeType(e)}getInputType(){return"buffer"}}const Qi=(n,e,t)=>ve(new lp(n,e,t));class Jk extends Q1{static get type(){return"UniformArrayElementNode"}constructor(e,t){super(e,t),this.isArrayBufferElementNode=!0}generate(e){const t=super.generate(e),a=this.getNodeType(),r=this.node.getPaddedType();return e.format(t,r,a)}}class j4 extends lp{static get type(){return"UniformArrayNode"}constructor(e,t=null){super(null),this.array=e,this.elementType=t===null?jr(e[0]):t,this.paddedType=this.getPaddedType(),this.updateType=st.RENDER,this.isArrayBufferNode=!0}getNodeType(){return this.paddedType}getElementType(){return this.elementType}getPaddedType(){const e=this.elementType;let t="vec4";return e==="mat2"?t="mat2":/mat/.test(e)===!0?t="mat4":e.charAt(0)==="i"?t="ivec4":e.charAt(0)==="u"&&(t="uvec4"),t}update(){const{array:e,value:t}=this,a=this.elementType;if(a==="float"||a==="int"||a==="uint")for(let r=0;r<e.length;r++){const s=r*4;t[s]=e[r]}else if(a==="color")for(let r=0;r<e.length;r++){const s=r*4,o=e[r];t[s]=o.r,t[s+1]=o.g,t[s+2]=o.b||0}else if(a==="mat2")for(let r=0;r<e.length;r++){const s=r*4,o=e[r];t[s]=o.elements[0],t[s+1]=o.elements[1],t[s+2]=o.elements[2],t[s+3]=o.elements[3]}else if(a==="mat3")for(let r=0;r<e.length;r++){const s=r*16,o=e[r];t[s]=o.elements[0],t[s+1]=o.elements[1],t[s+2]=o.elements[2],t[s+4]=o.elements[3],t[s+5]=o.elements[4],t[s+6]=o.elements[5],t[s+8]=o.elements[6],t[s+9]=o.elements[7],t[s+10]=o.elements[8],t[s+15]=1}else if(a==="mat4")for(let r=0;r<e.length;r++){const s=r*16,o=e[r];for(let d=0;d<o.elements.length;d++)t[s+d]=o.elements[d]}else for(let r=0;r<e.length;r++){const s=r*4,o=e[r];t[s]=o.x,t[s+1]=o.y,t[s+2]=o.z||0,t[s+3]=o.w||0}}setup(e){const t=this.array.length,a=this.elementType;let r=Float32Array;const s=this.paddedType,o=e.getTypeLength(s);return a.charAt(0)==="i"&&(r=Int32Array),a.charAt(0)==="u"&&(r=Uint32Array),this.value=new r(t*o),this.bufferCount=t,this.bufferType=s,super.setup(e)}element(e){return ve(new Jk(this,ve(e)))}}const d0=(n,e)=>ve(new j4(n,e)),eN=(n,e)=>(console.warn("THREE.TSL: uniforms() has been renamed to uniformArray()."),ve(new j4(n,e))),Ap=Ue(0,"uint").setGroup(bA("cameraIndex")).toVarying("v_cameraIndex"),Vr=Ue("float").label("cameraNear").setGroup(He).onRenderUpdate(({camera:n})=>n.near),zr=Ue("float").label("cameraFar").setGroup(He).onRenderUpdate(({camera:n})=>n.far),Y1=ie(({camera:n})=>{let e;if(n.isArrayCamera&&n.cameras.length>0){const t=[];for(const r of n.cameras)t.push(r.projectionMatrix);e=d0(t).setGroup(He).label("cameraProjectionMatrices").element(Ap).toVar("cameraProjectionMatrix")}else e=Ue("mat4").label("cameraProjectionMatrix").setGroup(He).onRenderUpdate(({camera:t})=>t.projectionMatrix);return e}).once()(),tN=Ue("mat4").label("cameraProjectionMatrixInverse").setGroup(He).onRenderUpdate(({camera:n})=>n.projectionMatrixInverse),bn=ie(({camera:n})=>{let e;if(n.isArrayCamera&&n.cameras.length>0){const t=[];for(const r of n.cameras)t.push(r.matrixWorldInverse);e=d0(t).setGroup(He).label("cameraViewMatrices").element(Ap).toVar("cameraViewMatrix")}else e=Ue("mat4").label("cameraViewMatrix").setGroup(He).onRenderUpdate(({camera:t})=>t.matrixWorldInverse);return e}).once()(),aN=Ue("mat4").label("cameraWorldMatrix").setGroup(He).onRenderUpdate(({camera:n})=>n.matrixWorld),nN=Ue("mat3").label("cameraNormalMatrix").setGroup(He).onRenderUpdate(({camera:n})=>n.normalMatrix),$4=Ue(new Re).label("cameraPosition").setGroup(He).onRenderUpdate(({camera:n},e)=>e.value.setFromMatrixPosition(n.matrixWorld)),T6=new gh;class mt extends ze{static get type(){return"Object3DNode"}constructor(e,t=null){super(),this.scope=e,this.object3d=t,this.updateType=st.OBJECT,this._uniformNode=new zi(null)}getNodeType(){const e=this.scope;if(e===mt.WORLD_MATRIX)return"mat4";if(e===mt.POSITION||e===mt.VIEW_POSITION||e===mt.DIRECTION||e===mt.SCALE)return"vec3";if(e===mt.RADIUS)return"float"}update(e){const t=this.object3d,a=this._uniformNode,r=this.scope;if(r===mt.WORLD_MATRIX)a.value=t.matrixWorld;else if(r===mt.POSITION)a.value=a.value||new Re,a.value.setFromMatrixPosition(t.matrixWorld);else if(r===mt.SCALE)a.value=a.value||new Re,a.value.setFromMatrixScale(t.matrixWorld);else if(r===mt.DIRECTION)a.value=a.value||new Re,t.getWorldDirection(a.value);else if(r===mt.VIEW_POSITION){const s=e.camera;a.value=a.value||new Re,a.value.setFromMatrixPosition(t.matrixWorld),a.value.applyMatrix4(s.matrixWorldInverse)}else if(r===mt.RADIUS){const s=e.object.geometry;s.boundingSphere===null&&s.computeBoundingSphere(),T6.copy(s.boundingSphere).applyMatrix4(t.matrixWorld),a.value=T6.radius}}generate(e){const t=this.scope;return t===mt.WORLD_MATRIX?this._uniformNode.nodeType="mat4":t===mt.POSITION||t===mt.VIEW_POSITION||t===mt.DIRECTION||t===mt.SCALE?this._uniformNode.nodeType="vec3":t===mt.RADIUS&&(this._uniformNode.nodeType="float"),this._uniformNode.build(e)}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}mt.WORLD_MATRIX="worldMatrix";mt.POSITION="position";mt.SCALE="scale";mt.VIEW_POSITION="viewPosition";mt.DIRECTION="direction";mt.RADIUS="radius";const rN=me(mt,mt.DIRECTION).setParameterLength(1),sN=me(mt,mt.WORLD_MATRIX).setParameterLength(1),Q4=me(mt,mt.POSITION).setParameterLength(1),oN=me(mt,mt.SCALE).setParameterLength(1),iN=me(mt,mt.VIEW_POSITION).setParameterLength(1),lN=me(mt,mt.RADIUS).setParameterLength(1);class Jn extends mt{static get type(){return"ModelNode"}constructor(e){super(e)}update(e){this.object3d=e.object,super.update(e)}}const AN=Ne(Jn,Jn.DIRECTION),Qn=Ne(Jn,Jn.WORLD_MATRIX),uN=Ne(Jn,Jn.POSITION),dN=Ne(Jn,Jn.SCALE),cN=Ne(Jn,Jn.VIEW_POSITION),hN=Ne(Jn,Jn.RADIUS),Y4=Ue(new qi).onObjectUpdate(({object:n},e)=>e.value.getNormalMatrix(n.matrixWorld)),pN=Ue(new la).onObjectUpdate(({object:n},e)=>e.value.copy(n.matrixWorld).invert()),X1=ie(n=>n.renderer.nodes.modelViewMatrix||X4).once()().toVar("modelViewMatrix"),X4=bn.mul(Qn),gN=ie(n=>(n.context.isHighPrecisionModelViewMatrix=!0,Ue("mat4").onObjectUpdate(({object:e,camera:t})=>e.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld)))).once()().toVar("highpModelViewMatrix"),DN=ie(n=>{const e=n.context.isHighPrecisionModelViewMatrix;return Ue("mat3").onObjectUpdate(({object:t,camera:a})=>(e!==!0&&t.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix)))}).once()().toVar("highpModelNormalViewMatrix"),Yi=V0("position","vec3"),ga=Yi.toVarying("positionLocal"),oA=Yi.toVarying("positionPrevious"),gr=Qn.mul(ga).xyz.toVarying("v_positionWorld").context({needsPositionReassign:!0}),up=ga.transformDirection(Qn).toVarying("v_positionWorldDirection").normalize().toVar("positionWorldDirection").context({needsPositionReassign:!0}),va=ie(n=>n.context.setupPositionView(),"vec3").once()().toVarying("v_positionView").context({needsPositionReassign:!0}),Jt=va.negate().toVarying("v_positionViewDirection").normalize().toVar("positionViewDirection");class fN extends ze{static get type(){return"FrontFacingNode"}constructor(){super("bool"),this.isFrontFacingNode=!0}generate(e){const{renderer:t,material:a}=e;return t.coordinateSystem===Ai&&a.side===_n?"false":e.getFrontFacing()}}const K4=Ne(fN),Xi=V(K4).mul(2).sub(1),PA=V0("normal","vec3"),xn=ie(n=>n.geometry.hasAttribute("normal")===!1?(console.warn('THREE.TSL: Vertex attribute "normal" not found on geometry.'),ae(0,1,0)):PA,"vec3").once()().toVar("normalLocal"),Z4=va.dFdx().cross(va.dFdy()).normalize().toVar("normalFlat"),e0=ie(n=>{let e;return n.material.flatShading===!0?e=Z4:e=nn(dp(xn),"v_normalView").normalize(),e},"vec3").once()().toVar("normalView"),BA=nn(e0.transformDirection(bn),"v_normalWorld").normalize().toVar("normalWorld"),pa=ie(n=>n.context.setupNormal().context({getUV:null}),"vec3").once()().mul(Xi).toVar("transformedNormalView"),LA=pa.transformDirection(bn).toVar("transformedNormalWorld"),Bs=ie(n=>n.context.setupClearcoatNormal().context({getUV:null}),"vec3").once()().mul(Xi).toVar("transformedClearcoatNormalView"),J4=ie(([n,e=Qn])=>{const t=tn(e),a=n.div(ae(t[0].dot(t[0]),t[1].dot(t[1]),t[2].dot(t[2])));return t.mul(a).xyz}),dp=ie(([n],e)=>{const t=e.renderer.nodes.modelNormalViewMatrix;if(t!==null)return t.transformDirection(n);const a=Y4.mul(n);return bn.transformDirection(a)}),I6=new ui,Wu=new la,e9=Ue(0).onReference(({material:n})=>n).onObjectUpdate(({material:n})=>n.refractionRatio),pl=Ue(1).onReference(({material:n})=>n).onObjectUpdate(function({material:n,scene:e}){return n.envMap?n.envMapIntensity:e.environmentIntensity}),cp=Ue(new la).onReference(function(n){return n.material}).onObjectUpdate(function({material:n,scene:e}){const t=e.environment!==null&&n.envMap===null?e.environmentRotation:n.envMapRotation;return t?(I6.copy(t),Wu.makeRotationFromEuler(I6)):Wu.identity(),Wu}),t9=Jt.negate().reflect(pa),a9=Jt.negate().refract(pa,e9),n9=t9.transformDirection(bn).toVar("reflectVector"),r9=a9.transformDirection(bn).toVar("reflectVector");class vN extends z0{static get type(){return"CubeTextureNode"}constructor(e,t=null,a=null,r=null){super(e,t,a,r),this.isCubeTextureNode=!0}getInputType(){return"cubeTexture"}getDefaultUV(){const e=this.value;return e.mapping===js?n9:e.mapping===$s?r9:(console.error('THREE.CubeTextureNode: Mapping "%s" not supported.',e.mapping),ae(0,0,0))}setUpdateMatrix(){}setupUV(e,t){const a=this.value;return(e.renderer.coordinateSystem===oo||!a.isRenderTargetTexture)&&(t=ae(t.x.negate(),t.yz)),cp.mul(t)}generateUV(e,t){return t.build(e,"vec3")}}const ao=me(vN).setParameterLength(1,4).setName("cubeTexture");class mN extends Q1{static get type(){return"ReferenceElementNode"}constructor(e,t){super(e,t),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const t=super.generate(e),a=this.referenceNode.getNodeType(),r=this.getNodeType();return e.format(t,a,r)}}class qA extends ze{static get type(){return"ReferenceNode"}constructor(e,t,a=null,r=null){super(),this.property=e,this.uniformType=t,this.object=a,this.count=r,this.properties=e.split("."),this.reference=a,this.node=null,this.group=null,this.name=null,this.updateType=st.OBJECT}element(e){return ve(new mN(this,ve(e)))}setGroup(e){return this.group=e,this}label(e){return this.name=e,this}setNodeType(e){let t=null;this.count!==null?t=Qi(null,e,this.count):Array.isArray(this.getValueFromReference())?t=d0(null,e):e==="texture"?t=ft(null):e==="cubeTexture"?t=ao(null):t=Ue(null,e),this.group!==null&&t.setGroup(this.group),this.name!==null&&t.label(this.name),this.node=t.getSelf()}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:t}=this;let a=e[t[0]];for(let r=1;r<t.length;r++)a=a[t[r]];return a}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const zt=(n,e,t)=>ve(new qA(n,e,t)),Gc=(n,e,t,a)=>ve(new qA(n,e,a,t));class yN extends qA{static get type(){return"MaterialReferenceNode"}constructor(e,t,a=null){super(e,t,a),this.material=a,this.isMaterialReferenceNode=!0}updateReference(e){return this.reference=this.material!==null?this.material:e.material,this.reference}}const ur=(n,e,t=null)=>ve(new yN(n,e,t)),FA=ie(n=>(n.geometry.hasAttribute("tangent")===!1&&n.geometry.computeTangents(),V0("tangent","vec4")))(),Ki=FA.xyz.toVar("tangentLocal"),Zi=X1.mul(Ge(Ki,0)).xyz.toVarying("v_tangentView").normalize().toVar("tangentView"),s9=Zi.transformDirection(bn).toVarying("v_tangentWorld").normalize().toVar("tangentWorld"),hp=Zi.toVar("transformedTangentView"),_N=hp.transformDirection(bn).normalize().toVar("transformedTangentWorld"),Ji=n=>n.mul(FA.w).xyz,wN=nn(Ji(PA.cross(FA)),"v_bitangentGeometry").normalize().toVar("bitangentGeometry"),SN=nn(Ji(xn.cross(Ki)),"v_bitangentLocal").normalize().toVar("bitangentLocal"),o9=nn(Ji(e0.cross(Zi)),"v_bitangentView").normalize().toVar("bitangentView"),xN=nn(Ji(BA.cross(s9)),"v_bitangentWorld").normalize().toVar("bitangentWorld"),i9=Ji(pa.cross(hp)).normalize().toVar("transformedBitangentView"),bN=i9.transformDirection(bn).normalize().toVar("transformedBitangentWorld"),P1=tn(Zi,o9,e0),l9=Jt.mul(P1),TN=(n,e)=>n.sub(l9.mul(e)),A9=(()=>{let n=O1.cross(Jt);return n=n.cross(O1).normalize(),n=Rt(n,pa,Ur.mul(C0.oneMinus()).oneMinus().pow2().pow2()).normalize(),n})(),IN=ie(n=>{const{eye_pos:e,surf_norm:t,mapN:a,uv:r}=n,s=e.dFdx(),o=e.dFdy(),d=r.dFdx(),c=r.dFdy(),g=t,D=o.cross(g),m=g.cross(s),_=D.mul(d.x).add(m.mul(c.x)),w=D.mul(d.y).add(m.mul(c.y)),x=_.dot(_).max(w.dot(w)),T=Xi.mul(x.inverseSqrt());return ya(_.mul(a.x,T),w.mul(a.y,T),g.mul(a.z)).normalize()});class EN extends ua{static get type(){return"NormalMapNode"}constructor(e,t=null){super("vec3"),this.node=e,this.scaleNode=t,this.normalMapType=A5}setup(e){const{normalMapType:t,scaleNode:a}=this;let r=this.node.mul(2).sub(1);a!==null&&(r=ae(r.xy.mul(a),r.z));let s=null;return t===aw?s=dp(r):t===A5&&(e.hasGeometryAttribute("tangent")===!0?s=P1.mul(r).normalize():s=IN({eye_pos:va,surf_norm:e0,mapN:r,uv:na()})),s}}const Vc=me(EN).setParameterLength(1,2),kN=ie(({textureNode:n,bumpScale:e})=>{const t=r=>n.cache().context({getUV:s=>r(s.uvNode||na()),forceUVContext:!0}),a=V(t(r=>r));return ye(V(t(r=>r.add(r.dFdx()))).sub(a),V(t(r=>r.add(r.dFdy()))).sub(a)).mul(e)}),NN=ie(n=>{const{surf_pos:e,surf_norm:t,dHdxy:a}=n,r=e.dFdx().normalize(),s=e.dFdy().normalize(),o=t,d=s.cross(o),c=o.cross(r),g=r.dot(d).mul(Xi),D=g.sign().mul(a.x.mul(d).add(a.y.mul(c)));return g.abs().mul(t).sub(D).normalize()});class RN extends ua{static get type(){return"BumpMapNode"}constructor(e,t=null){super("vec3"),this.textureNode=e,this.scaleNode=t}setup(){const e=this.scaleNode!==null?this.scaleNode:1,t=kN({textureNode:this.textureNode,bumpScale:e});return NN({surf_pos:va,surf_norm:e0,dHdxy:t})}}const u9=me(RN).setParameterLength(1,2),E6=new Map;class De extends ze{static get type(){return"MaterialNode"}constructor(e){super(),this.scope=e}getCache(e,t){let a=E6.get(e);return a===void 0&&(a=ur(e,t),E6.set(e,a)),a}getFloat(e){return this.getCache(e,"float")}getColor(e){return this.getCache(e,"color")}getTexture(e){return this.getCache(e==="map"?"map":e+"Map","texture")}setup(e){const t=e.context.material,a=this.scope;let r=null;if(a===De.COLOR){const s=t.color!==void 0?this.getColor(a):ae();t.map&&t.map.isTexture===!0?r=s.mul(this.getTexture("map")):r=s}else if(a===De.OPACITY){const s=this.getFloat(a);t.alphaMap&&t.alphaMap.isTexture===!0?r=s.mul(this.getTexture("alpha")):r=s}else if(a===De.SPECULAR_STRENGTH)t.specularMap&&t.specularMap.isTexture===!0?r=this.getTexture("specular").r:r=V(1);else if(a===De.SPECULAR_INTENSITY){const s=this.getFloat(a);t.specularIntensityMap&&t.specularIntensityMap.isTexture===!0?r=s.mul(this.getTexture(a).a):r=s}else if(a===De.SPECULAR_COLOR){const s=this.getColor(a);t.specularColorMap&&t.specularColorMap.isTexture===!0?r=s.mul(this.getTexture(a).rgb):r=s}else if(a===De.ROUGHNESS){const s=this.getFloat(a);t.roughnessMap&&t.roughnessMap.isTexture===!0?r=s.mul(this.getTexture(a).g):r=s}else if(a===De.METALNESS){const s=this.getFloat(a);t.metalnessMap&&t.metalnessMap.isTexture===!0?r=s.mul(this.getTexture(a).b):r=s}else if(a===De.EMISSIVE){const s=this.getFloat("emissiveIntensity"),o=this.getColor(a).mul(s);t.emissiveMap&&t.emissiveMap.isTexture===!0?r=o.mul(this.getTexture(a)):r=o}else if(a===De.NORMAL)t.normalMap?(r=Vc(this.getTexture("normal"),this.getCache("normalScale","vec2")),r.normalMapType=t.normalMapType):t.bumpMap?r=u9(this.getTexture("bump").r,this.getFloat("bumpScale")):r=e0;else if(a===De.CLEARCOAT){const s=this.getFloat(a);t.clearcoatMap&&t.clearcoatMap.isTexture===!0?r=s.mul(this.getTexture(a).r):r=s}else if(a===De.CLEARCOAT_ROUGHNESS){const s=this.getFloat(a);t.clearcoatRoughnessMap&&t.clearcoatRoughnessMap.isTexture===!0?r=s.mul(this.getTexture(a).r):r=s}else if(a===De.CLEARCOAT_NORMAL)t.clearcoatNormalMap?r=Vc(this.getTexture(a),this.getCache(a+"Scale","vec2")):r=e0;else if(a===De.SHEEN){const s=this.getColor("sheenColor").mul(this.getFloat("sheen"));t.sheenColorMap&&t.sheenColorMap.isTexture===!0?r=s.mul(this.getTexture("sheenColor").rgb):r=s}else if(a===De.SHEEN_ROUGHNESS){const s=this.getFloat(a);t.sheenRoughnessMap&&t.sheenRoughnessMap.isTexture===!0?r=s.mul(this.getTexture(a).a):r=s,r=r.clamp(.07,1)}else if(a===De.ANISOTROPY)if(t.anisotropyMap&&t.anisotropyMap.isTexture===!0){const s=this.getTexture(a);r=xA(Ts.x,Ts.y,Ts.y.negate(),Ts.x).mul(s.rg.mul(2).sub(ye(1)).normalize().mul(s.b))}else r=Ts;else if(a===De.IRIDESCENCE_THICKNESS){const s=zt("1","float",t.iridescenceThicknessRange);if(t.iridescenceThicknessMap){const o=zt("0","float",t.iridescenceThicknessRange);r=s.sub(o).mul(this.getTexture(a).g).add(o)}else r=s}else if(a===De.TRANSMISSION){const s=this.getFloat(a);t.transmissionMap?r=s.mul(this.getTexture(a).r):r=s}else if(a===De.THICKNESS){const s=this.getFloat(a);t.thicknessMap?r=s.mul(this.getTexture(a).g):r=s}else if(a===De.IOR)r=this.getFloat(a);else if(a===De.LIGHT_MAP)r=this.getTexture(a).rgb.mul(this.getFloat("lightMapIntensity"));else if(a===De.AO)r=this.getTexture(a).r.sub(1).mul(this.getFloat("aoMapIntensity")).add(1);else{const s=this.getNodeType(e);r=this.getCache(a,s)}return r}}De.ALPHA_TEST="alphaTest";De.COLOR="color";De.OPACITY="opacity";De.SHININESS="shininess";De.SPECULAR="specular";De.SPECULAR_STRENGTH="specularStrength";De.SPECULAR_INTENSITY="specularIntensity";De.SPECULAR_COLOR="specularColor";De.REFLECTIVITY="reflectivity";De.ROUGHNESS="roughness";De.METALNESS="metalness";De.NORMAL="normal";De.CLEARCOAT="clearcoat";De.CLEARCOAT_ROUGHNESS="clearcoatRoughness";De.CLEARCOAT_NORMAL="clearcoatNormal";De.EMISSIVE="emissive";De.ROTATION="rotation";De.SHEEN="sheen";De.SHEEN_ROUGHNESS="sheenRoughness";De.ANISOTROPY="anisotropy";De.IRIDESCENCE="iridescence";De.IRIDESCENCE_IOR="iridescenceIOR";De.IRIDESCENCE_THICKNESS="iridescenceThickness";De.IOR="ior";De.TRANSMISSION="transmission";De.THICKNESS="thickness";De.ATTENUATION_DISTANCE="attenuationDistance";De.ATTENUATION_COLOR="attenuationColor";De.LINE_SCALE="scale";De.LINE_DASH_SIZE="dashSize";De.LINE_GAP_SIZE="gapSize";De.LINE_WIDTH="linewidth";De.LINE_DASH_OFFSET="dashOffset";De.POINT_SIZE="size";De.DISPERSION="dispersion";De.LIGHT_MAP="light";De.AO="ao";const d9=Ne(De,De.ALPHA_TEST),c9=Ne(De,De.COLOR),h9=Ne(De,De.SHININESS),p9=Ne(De,De.EMISSIVE),pp=Ne(De,De.OPACITY),g9=Ne(De,De.SPECULAR),zc=Ne(De,De.SPECULAR_INTENSITY),D9=Ne(De,De.SPECULAR_COLOR),oi=Ne(De,De.SPECULAR_STRENGTH),gl=Ne(De,De.REFLECTIVITY),f9=Ne(De,De.ROUGHNESS),v9=Ne(De,De.METALNESS),m9=Ne(De,De.NORMAL),y9=Ne(De,De.CLEARCOAT),_9=Ne(De,De.CLEARCOAT_ROUGHNESS),w9=Ne(De,De.CLEARCOAT_NORMAL),S9=Ne(De,De.ROTATION),x9=Ne(De,De.SHEEN),b9=Ne(De,De.SHEEN_ROUGHNESS),T9=Ne(De,De.ANISOTROPY),I9=Ne(De,De.IRIDESCENCE),E9=Ne(De,De.IRIDESCENCE_IOR),k9=Ne(De,De.IRIDESCENCE_THICKNESS),N9=Ne(De,De.TRANSMISSION),R9=Ne(De,De.THICKNESS),M9=Ne(De,De.IOR),C9=Ne(De,De.ATTENUATION_DISTANCE),P9=Ne(De,De.ATTENUATION_COLOR),B9=Ne(De,De.LINE_SCALE),L9=Ne(De,De.LINE_DASH_SIZE),q9=Ne(De,De.LINE_GAP_SIZE),MN=Ne(De,De.LINE_WIDTH),F9=Ne(De,De.LINE_DASH_OFFSET),O9=Ne(De,De.POINT_SIZE),U9=Ne(De,De.DISPERSION),gp=Ne(De,De.LIGHT_MAP),G9=Ne(De,De.AO),Ts=Ue(new Ot).onReference(function(n){return n.material}).onRenderUpdate(function({material:n}){this.value.set(n.anisotropy*Math.cos(n.anisotropyRotation),n.anisotropy*Math.sin(n.anisotropyRotation))}),Dp=ie(n=>n.context.setupModelViewProjection(),"vec4").once()().toVarying("v_modelViewProjection");class ea extends ze{static get type(){return"IndexNode"}constructor(e){super("uint"),this.scope=e,this.isIndexNode=!0}generate(e){const t=this.getNodeType(e),a=this.scope;let r;if(a===ea.VERTEX)r=e.getVertexIndex();else if(a===ea.INSTANCE)r=e.getInstanceIndex();else if(a===ea.DRAW)r=e.getDrawIndex();else if(a===ea.INVOCATION_LOCAL)r=e.getInvocationLocalIndex();else if(a===ea.INVOCATION_SUBGROUP)r=e.getInvocationSubgroupIndex();else if(a===ea.SUBGROUP)r=e.getSubgroupIndex();else throw new Error("THREE.IndexNode: Unknown scope: "+a);let s;return e.shaderStage==="vertex"||e.shaderStage==="compute"?s=r:s=nn(this).build(e,t),s}}ea.VERTEX="vertex";ea.INSTANCE="instance";ea.SUBGROUP="subgroup";ea.INVOCATION_LOCAL="invocationLocal";ea.INVOCATION_SUBGROUP="invocationSubgroup";ea.DRAW="draw";const V9=Ne(ea,ea.VERTEX),Jr=Ne(ea,ea.INSTANCE),CN=Ne(ea,ea.SUBGROUP),PN=Ne(ea,ea.INVOCATION_SUBGROUP),BN=Ne(ea,ea.INVOCATION_LOCAL),z9=Ne(ea,ea.DRAW);class W9 extends ze{static get type(){return"InstanceNode"}constructor(e,t,a){super("void"),this.count=e,this.instanceMatrix=t,this.instanceColor=a,this.instanceMatrixNode=null,this.instanceColorNode=null,this.updateType=st.FRAME,this.buffer=null,this.bufferColor=null}setup(e){const{count:t,instanceMatrix:a,instanceColor:r}=this;let{instanceMatrixNode:s,instanceColorNode:o}=this;if(s===null){if(t<=1e3)s=Qi(a.array,"mat4",Math.max(t,1)).element(Jr);else{const c=new Sl(a.array,16,1);this.buffer=c;const g=a.usage===Es?Uc:sA,D=[g(c,"vec4",16,0),g(c,"vec4",16,4),g(c,"vec4",16,8),g(c,"vec4",16,12)];s=F1(...D)}this.instanceMatrixNode=s}if(r&&o===null){const c=new $r(r.array,3),g=r.usage===Es?Uc:sA;this.bufferColor=c,o=ae(g(c,"vec3",3,0)),this.instanceColorNode=o}const d=s.mul(ga).xyz;if(ga.assign(d),e.hasGeometryAttribute("normal")){const c=J4(xn,s);xn.assign(c)}this.instanceColorNode!==null&&ki("vec3","vInstanceColor").assign(this.instanceColorNode)}update(){this.instanceMatrix.usage!==Es&&this.buffer!==null&&this.instanceMatrix.version!==this.buffer.version&&(this.buffer.version=this.instanceMatrix.version),this.instanceColor&&this.instanceColor.usage!==Es&&this.bufferColor!==null&&this.instanceColor.version!==this.bufferColor.version&&(this.bufferColor.version=this.instanceColor.version)}}const LN=me(W9).setParameterLength(3);class qN extends W9{static get type(){return"InstancedMeshNode"}constructor(e){const{count:t,instanceMatrix:a,instanceColor:r}=e;super(t,a,r),this.instancedMesh=e}}const H9=me(qN).setParameterLength(1);class FN extends ze{static get type(){return"BatchNode"}constructor(e){super("void"),this.batchMesh=e,this.batchingIdNode=null}setup(e){this.batchingIdNode===null&&(e.getDrawIndex()===null?this.batchingIdNode=Jr:this.batchingIdNode=z9);const a=ie(([x])=>{const T=Q(Zr(ca(this.batchMesh._indirectTexture),0).x),I=Q(x).mod(T),N=Q(x).div(T);return ca(this.batchMesh._indirectTexture,Ea(I,N)).x}).setLayout({name:"getIndirectIndex",type:"uint",inputs:[{name:"id",type:"int"}]})(Q(this.batchingIdNode)),r=this.batchMesh._matricesTexture,s=Q(Zr(ca(r),0).x),o=V(a).mul(4).toInt().toVar(),d=o.mod(s),c=o.div(s),g=F1(ca(r,Ea(d,c)),ca(r,Ea(d.add(1),c)),ca(r,Ea(d.add(2),c)),ca(r,Ea(d.add(3),c))),D=this.batchMesh._colorsTexture;if(D!==null){const T=ie(([I])=>{const N=Q(Zr(ca(D),0).x),R=I,M=R.mod(N),B=R.div(N);return ca(D,Ea(M,B)).rgb}).setLayout({name:"getBatchingColor",type:"vec3",inputs:[{name:"id",type:"int"}]})(a);ki("vec3","vBatchColor").assign(T)}const m=tn(g);ga.assign(g.mul(ga));const _=xn.div(ae(m[0].dot(m[0]),m[1].dot(m[1]),m[2].dot(m[2]))),w=m.mul(_).xyz;xn.assign(w),e.hasGeometryAttribute("tangent")&&Ki.mulAssign(m)}}const j9=me(FN).setParameterLength(1);class ON extends Q1{static get type(){return"StorageArrayElementNode"}constructor(e,t){super(e,t),this.isStorageArrayElementNode=!0}set storageBufferNode(e){this.node=e}get storageBufferNode(){return this.node}getMemberType(e,t){const a=this.storageBufferNode.structTypeNode;return a?a.getMemberType(e,t):"void"}setup(e){return e.isAvailable("storageBuffer")===!1&&this.node.isPBO===!0&&e.setupPBO(this.node),super.setup(e)}generate(e,t){let a;const r=e.context.assign;if(e.isAvailable("storageBuffer")===!1?this.node.isPBO===!0&&r!==!0&&(this.node.value.isInstancedBufferAttribute||e.shaderStage!=="compute")?a=e.generatePBO(this):a=this.node.build(e):a=super.generate(e),r!==!0){const s=this.getNodeType(e);a=e.format(a,s,t)}return a}}const UN=me(ON).setParameterLength(2);class GN extends lp{static get type(){return"StorageBufferNode"}constructor(e,t=null,a=0){let r,s=null;t&&t.isStruct?(r="struct",s=t.layout):t===null&&(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)?(r=af(e.itemSize),a=e.count):r=t,super(e,r,a),this.isStorageBufferNode=!0,this.structTypeNode=s,this.access=Ja.READ_WRITE,this.isAtomic=!1,this.isPBO=!1,this._attribute=null,this._varying=null,this.global=!0,e.isStorageBufferAttribute!==!0&&e.isStorageInstancedBufferAttribute!==!0&&(e.isInstancedBufferAttribute?e.isStorageInstancedBufferAttribute=!0:e.isStorageBufferAttribute=!0)}getHash(e){if(this.bufferCount===0){let t=e.globalCache.getData(this.value);return t===void 0&&(t={node:this},e.globalCache.setData(this.value,t)),t.node.uuid}return this.uuid}getInputType(){return this.value.isIndirectStorageBufferAttribute?"indirectStorageBuffer":"storageBuffer"}element(e){return UN(this,e)}setPBO(e){return this.isPBO=e,this}getPBO(){return this.isPBO}setAccess(e){return this.access=e,this}toReadOnly(){return this.setAccess(Ja.READ_ONLY)}setAtomic(e){return this.isAtomic=e,this}toAtomic(){return this.setAtomic(!0)}getAttributeData(){return this._attribute===null&&(this._attribute=$i(this.value),this._varying=nn(this._attribute)),{attribute:this._attribute,varying:this._varying}}getNodeType(e){if(this.structTypeNode!==null)return this.structTypeNode.getNodeType(e);if(e.isAvailable("storageBuffer")||e.isAvailable("indirectStorageBuffer"))return super.getNodeType(e);const{attribute:t}=this.getAttributeData();return t.getNodeType(e)}generate(e){if(this.structTypeNode!==null&&this.structTypeNode.build(e),e.isAvailable("storageBuffer")||e.isAvailable("indirectStorageBuffer"))return super.generate(e);const{attribute:t,varying:a}=this.getAttributeData(),r=a.build(e);return e.registerTransform(r,t),r}}const U1=(n,e=null,t=0)=>ve(new GN(n,e,t)),VN=(n,e,t)=>(console.warn('THREE.TSL: "storageObject()" is deprecated. Use "storage().setPBO( true )" instead.'),U1(n,e,t).setPBO(!0)),k6=new WeakMap;class $9 extends ze{static get type(){return"SkinningNode"}constructor(e){super("void"),this.skinnedMesh=e,this.updateType=st.OBJECT,this.skinIndexNode=V0("skinIndex","uvec4"),this.skinWeightNode=V0("skinWeight","vec4"),this.bindMatrixNode=zt("bindMatrix","mat4"),this.bindMatrixInverseNode=zt("bindMatrixInverse","mat4"),this.boneMatricesNode=Gc("skeleton.boneMatrices","mat4",e.skeleton.bones.length),this.positionNode=ga,this.toPositionNode=ga,this.previousBoneMatricesNode=null}getSkinnedPosition(e=this.boneMatricesNode,t=this.positionNode){const{skinIndexNode:a,skinWeightNode:r,bindMatrixNode:s,bindMatrixInverseNode:o}=this,d=e.element(a.x),c=e.element(a.y),g=e.element(a.z),D=e.element(a.w),m=s.mul(t),_=ya(d.mul(r.x).mul(m),c.mul(r.y).mul(m),g.mul(r.z).mul(m),D.mul(r.w).mul(m));return o.mul(_).xyz}getSkinnedNormal(e=this.boneMatricesNode,t=xn){const{skinIndexNode:a,skinWeightNode:r,bindMatrixNode:s,bindMatrixInverseNode:o}=this,d=e.element(a.x),c=e.element(a.y),g=e.element(a.z),D=e.element(a.w);let m=ya(r.x.mul(d),r.y.mul(c),r.z.mul(g),r.w.mul(D));return m=o.mul(m).mul(s),m.transformDirection(t).xyz}getPreviousSkinnedPosition(e){const t=e.object;return this.previousBoneMatricesNode===null&&(t.skeleton.previousBoneMatrices=new Float32Array(t.skeleton.boneMatrices),this.previousBoneMatricesNode=Gc("skeleton.previousBoneMatrices","mat4",t.skeleton.bones.length)),this.getSkinnedPosition(this.previousBoneMatricesNode,oA)}needsPreviousBoneMatrices(e){const t=e.renderer.getMRT();return t&&t.has("velocity")||rf(e.object).useVelocity===!0}setup(e){this.needsPreviousBoneMatrices(e)&&oA.assign(this.getPreviousSkinnedPosition(e));const t=this.getSkinnedPosition();if(this.toPositionNode&&this.toPositionNode.assign(t),e.hasGeometryAttribute("normal")){const a=this.getSkinnedNormal();xn.assign(a),e.hasGeometryAttribute("tangent")&&Ki.assign(a)}return t}generate(e,t){if(t!=="void")return super.generate(e,t)}update(e){const t=e.object&&e.object.skeleton?e.object.skeleton:this.skinnedMesh.skeleton;k6.get(t)!==e.frameId&&(k6.set(t,e.frameId),this.previousBoneMatricesNode!==null&&t.previousBoneMatrices.set(t.boneMatrices),t.update())}}const Q9=n=>ve(new $9(n)),zN=(n,e=null)=>{const t=new $9(n);return t.positionNode=U1(new $r(n.geometry.getAttribute("position").array,3),"vec3").setPBO(!0).toReadOnly().element(Jr).toVar(),t.skinIndexNode=U1(new $r(new Uint32Array(n.geometry.getAttribute("skinIndex").array),4),"uvec4").setPBO(!0).toReadOnly().element(Jr).toVar(),t.skinWeightNode=U1(new $r(n.geometry.getAttribute("skinWeight").array,4),"vec4").setPBO(!0).toReadOnly().element(Jr).toVar(),t.bindMatrixNode=Ue(n.bindMatrix,"mat4"),t.bindMatrixInverseNode=Ue(n.bindMatrixInverse,"mat4"),t.boneMatricesNode=Qi(n.skeleton.boneMatrices,"mat4",n.skeleton.bones.length),t.toPositionNode=e,ve(t)};class WN extends ze{static get type(){return"LoopNode"}constructor(e=[]){super(),this.params=e}getVarName(e){return String.fromCharCode(105+e)}getProperties(e){const t=e.getNodeProperties(this);if(t.stackNode!==void 0)return t;const a={};for(let s=0,o=this.params.length-1;s<o;s++){const d=this.params[s],c=d.isNode!==!0&&d.name||this.getVarName(s),g=d.isNode!==!0&&d.type||"int";a[c]=n1(c,g)}const r=e.addStack();return t.returnsNode=this.params[this.params.length-1](a,r,e),t.stackNode=r,e.removeStack(),t}getNodeType(e){const{returnsNode:t}=this.getProperties(e);return t?t.getNodeType(e):"void"}setup(e){this.getProperties(e)}generate(e){const t=this.getProperties(e),a=this.params,r=t.stackNode;for(let d=0,c=a.length-1;d<c;d++){const g=a[d];let D=!1,m=null,_=null,w=null,x=null,T=null,I=null;g.isNode?g.getNodeType(e)==="bool"?(D=!0,x="bool",_=g.build(e,x)):(x="int",w=this.getVarName(d),m="0",_=g.build(e,x),T="<"):(x=g.type||"int",w=g.name||this.getVarName(d),m=g.start,_=g.end,T=g.condition,I=g.update,typeof m=="number"?m=e.generateConst(x,m):m&&m.isNode&&(m=m.build(e,x)),typeof _=="number"?_=e.generateConst(x,_):_&&_.isNode&&(_=_.build(e,x)),m!==void 0&&_===void 0?(m=m+" - 1",_="0",T=">="):_!==void 0&&m===void 0&&(m="0",T="<"),T===void 0&&(Number(m)>Number(_)?T=">=":T="<"));let N;if(D)N=`while ( ${_} )`;else{const R={start:m,end:_},M=R.start,B=R.end;let F="",L="",O="";I||(x==="int"||x==="uint"?T.includes("<")?I="++":I="--":T.includes("<")?I="+= 1.":I="-= 1."),F+=e.getVar(x,w)+" = "+M,L+=w+" "+T+" "+B,O+=w+" "+I,N=`for ( ${F}; ${L}; ${O} )`}e.addFlowCode((d===0?`
`:"")+e.tab+N+` {

`).addFlowTab()}const s=r.build(e,"void"),o=t.returnsNode?t.returnsNode.build(e):"";e.removeFlowTab().addFlowCode(`
`+e.tab+s);for(let d=0,c=this.params.length-1;d<c;d++)e.addFlowCode((d===0?"":e.tab)+`}

`).removeFlowTab();return e.addFlowTab(),o}}const Mt=(...n)=>ve(new WN(q1(n,"int"))).append(),HN=()=>n1("continue").append(),Y9=()=>n1("break").append(),jN=(...n)=>(console.warn("THREE.TSL: loop() has been renamed to Loop()."),Mt(...n)),Hu=new WeakMap,En=new Ut,N6=ie(({bufferMap:n,influence:e,stride:t,width:a,depth:r,offset:s})=>{const o=Q(V9).mul(t).add(s),d=o.div(a),c=o.sub(d.mul(a));return ca(n,Ea(c,d)).depth(r).xyz.mul(e)});function $N(n){const e=n.morphAttributes.position!==void 0,t=n.morphAttributes.normal!==void 0,a=n.morphAttributes.color!==void 0,r=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,s=r!==void 0?r.length:0;let o=Hu.get(n);if(o===void 0||o.count!==s){let N=function(){T.dispose(),Hu.delete(n),n.removeEventListener("dispose",N)};o!==void 0&&o.texture.dispose();const d=n.morphAttributes.position||[],c=n.morphAttributes.normal||[],g=n.morphAttributes.color||[];let D=0;e===!0&&(D=1),t===!0&&(D=2),a===!0&&(D=3);let m=n.attributes.position.count*D,_=1;const w=4096;m>w&&(_=Math.ceil(m/w),m=w);const x=new Float32Array(m*_*4*s),T=new Mw(x,m,_,s);T.type=$n,T.needsUpdate=!0;const I=D*4;for(let R=0;R<s;R++){const M=d[R],B=c[R],F=g[R],L=m*_*4*R;for(let O=0;O<M.count;O++){const G=O*I;e===!0&&(En.fromBufferAttribute(M,O),x[L+G+0]=En.x,x[L+G+1]=En.y,x[L+G+2]=En.z,x[L+G+3]=0),t===!0&&(En.fromBufferAttribute(B,O),x[L+G+4]=En.x,x[L+G+5]=En.y,x[L+G+6]=En.z,x[L+G+7]=0),a===!0&&(En.fromBufferAttribute(F,O),x[L+G+8]=En.x,x[L+G+9]=En.y,x[L+G+10]=En.z,x[L+G+11]=F.itemSize===4?En.w:1)}}o={count:s,texture:T,stride:D,size:new Ot(m,_)},Hu.set(n,o),n.addEventListener("dispose",N)}return o}class QN extends ze{static get type(){return"MorphNode"}constructor(e){super("void"),this.mesh=e,this.morphBaseInfluence=Ue(1),this.updateType=st.OBJECT}setup(e){const{geometry:t}=e,a=t.morphAttributes.position!==void 0,r=t.hasAttribute("normal")&&t.morphAttributes.normal!==void 0,s=t.morphAttributes.position||t.morphAttributes.normal||t.morphAttributes.color,o=s!==void 0?s.length:0,{texture:d,stride:c,size:g}=$N(t);a===!0&&ga.mulAssign(this.morphBaseInfluence),r===!0&&xn.mulAssign(this.morphBaseInfluence);const D=Q(g.width);Mt(o,({i:m})=>{const _=V(0).toVar();this.mesh.count>1&&this.mesh.morphTexture!==null&&this.mesh.morphTexture!==void 0?_.assign(ca(this.mesh.morphTexture,Ea(Q(m).add(1),Q(Jr))).r):_.assign(zt("morphTargetInfluences","float").element(m).toVar()),dt(_.notEqual(0),()=>{a===!0&&ga.addAssign(N6({bufferMap:d,influence:_,stride:c,width:D,depth:m,offset:Q(0)})),r===!0&&xn.addAssign(N6({bufferMap:d,influence:_,stride:c,width:D,depth:m,offset:Q(1)}))})})}update(){const e=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?e.value=1:e.value=1-this.mesh.morphTargetInfluences.reduce((t,a)=>t+a,0)}}const X9=me(QN).setParameterLength(1);class Ao extends ze{static get type(){return"LightingNode"}constructor(){super("vec3"),this.isLightingNode=!0}}class YN extends Ao{static get type(){return"AONode"}constructor(e=null){super(),this.aoNode=e}setup(e){e.context.ambientOcclusion.mulAssign(this.aoNode)}}class XN extends y4{static get type(){return"LightingContextNode"}constructor(e,t=null,a=null,r=null){super(e),this.lightingModel=t,this.backdropNode=a,this.backdropAlphaNode=r,this._value=null}getContext(){const{backdropNode:e,backdropAlphaNode:t}=this,a=ae().toVar("directDiffuse"),r=ae().toVar("directSpecular"),s=ae().toVar("indirectDiffuse"),o=ae().toVar("indirectSpecular"),d={directDiffuse:a,directSpecular:r,indirectDiffuse:s,indirectSpecular:o};return{radiance:ae().toVar("radiance"),irradiance:ae().toVar("irradiance"),iblIrradiance:ae().toVar("iblIrradiance"),ambientOcclusion:V(1).toVar("ambientOcclusion"),reflectedLight:d,backdrop:e,backdropAlpha:t}}setup(e){return this.value=this._value||(this._value=this.getContext()),this.value.lightingModel=this.lightingModel||e.context.lightingModel,super.setup(e)}}const K9=me(XN);class KN extends Ao{static get type(){return"IrradianceNode"}constructor(e){super(),this.node=e}setup(e){e.context.irradiance.addAssign(this.node)}}let To,Io;class ba extends ze{static get type(){return"ScreenNode"}constructor(e){super(),this.scope=e,this.isViewportNode=!0}getNodeType(){return this.scope===ba.VIEWPORT?"vec4":"vec2"}getUpdateType(){let e=st.NONE;return(this.scope===ba.SIZE||this.scope===ba.VIEWPORT)&&(e=st.RENDER),this.updateType=e,e}update({renderer:e}){const t=e.getRenderTarget();this.scope===ba.VIEWPORT?t!==null?Io.copy(t.viewport):(e.getViewport(Io),Io.multiplyScalar(e.getPixelRatio())):t!==null?(To.width=t.width,To.height=t.height):e.getDrawingBufferSize(To)}setup(){const e=this.scope;let t=null;return e===ba.SIZE?t=Ue(To||(To=new Ot)):e===ba.VIEWPORT?t=Ue(Io||(Io=new Ut)):t=ye(e2.div(Pi)),t}generate(e){if(this.scope===ba.COORDINATE){let t=e.getFragCoord();if(e.isFlipY()){const a=e.getNodeProperties(Pi).outputNode.build(e);t=`${e.getType("vec2")}( ${t}.x, ${a}.y - ${t}.y )`}return t}return super.generate(e)}}ba.COORDINATE="coordinate";ba.VIEWPORT="viewport";ba.SIZE="size";ba.UV="uv";const W0=Ne(ba,ba.UV),Pi=Ne(ba,ba.SIZE),e2=Ne(ba,ba.COORDINATE),Ws=Ne(ba,ba.VIEWPORT),Z9=Ws.zw,J9=e2.sub(Ws.xy),ZN=J9.div(Z9),JN=ie(()=>(console.warn('THREE.TSL: "viewportResolution" is deprecated. Use "screenSize" instead.'),Pi),"vec2").once()(),eR=ie(()=>(console.warn('THREE.TSL: "viewportTopLeft" is deprecated. Use "screenUV" instead.'),W0),"vec2").once()(),tR=ie(()=>(console.warn('THREE.TSL: "viewportBottomLeft" is deprecated. Use "screenUV.flipY()" instead.'),W0.flipY()),"vec2").once()(),Eo=new Ot;class OA extends z0{static get type(){return"ViewportTextureNode"}constructor(e=W0,t=null,a=null){a===null&&(a=new q8,a.minFilter=B1),super(a,e,t),this.generateMipmaps=!1,this.isOutputTextureNode=!0,this.updateBeforeType=st.FRAME}updateBefore(e){const t=e.renderer;t.getDrawingBufferSize(Eo);const a=this.value;(a.image.width!==Eo.width||a.image.height!==Eo.height)&&(a.image.width=Eo.width,a.image.height=Eo.height,a.needsUpdate=!0);const r=a.generateMipmaps;a.generateMipmaps=this.generateMipmaps,t.copyFramebufferToTexture(a),a.generateMipmaps=r}clone(){const e=new this.constructor(this.uvNode,this.levelNode,this.value);return e.generateMipmaps=this.generateMipmaps,e}}const aR=me(OA).setParameterLength(0,3),fp=me(OA,null,null,{generateMipmaps:!0}).setParameterLength(0,3);let ju=null;class nR extends OA{static get type(){return"ViewportDepthTextureNode"}constructor(e=W0,t=null){ju===null&&(ju=new v0),super(e,t,ju)}}const vp=me(nR).setParameterLength(0,2);class mn extends ze{static get type(){return"ViewportDepthNode"}constructor(e,t=null){super("float"),this.scope=e,this.valueNode=t,this.isViewportDepthNode=!0}generate(e){const{scope:t}=this;return t===mn.DEPTH_BASE?e.getFragDepth():super.generate(e)}setup({camera:e}){const{scope:t}=this,a=this.valueNode;let r=null;if(t===mn.DEPTH_BASE)a!==null&&(r=t7().assign(a));else if(t===mn.DEPTH)e.isPerspectiveCamera?r=e7(va.z,Vr,zr):r=Hs(va.z,Vr,zr);else if(t===mn.LINEAR_DEPTH)if(a!==null)if(e.isPerspectiveCamera){const s=mp(a,Vr,zr);r=Hs(s,Vr,zr)}else r=a;else r=Hs(va.z,Vr,zr);return r}}mn.DEPTH_BASE="depthBase";mn.DEPTH="depth";mn.LINEAR_DEPTH="linearDepth";const Hs=(n,e,t)=>n.add(e).div(e.sub(t)),rR=(n,e,t)=>e.sub(t).mul(n).sub(e),e7=(n,e,t)=>e.add(n).mul(t).div(t.sub(e).mul(n)),mp=(n,e,t)=>e.mul(t).div(t.sub(e).mul(n).sub(t)),yp=(n,e,t)=>{e=e.max(1e-6).toVar();const a=L0(n.negate().div(e)),r=L0(t.div(e));return a.div(r)},sR=(n,e,t)=>{const a=n.mul(EA(t.div(e)));return V(Math.E).pow(a).mul(e).negate()},t7=me(mn,mn.DEPTH_BASE),_p=Ne(mn,mn.DEPTH),iA=me(mn,mn.LINEAR_DEPTH).setParameterLength(0,1),oR=iA(vp());_p.assign=n=>t7(n);class iR extends ze{constructor(e){super("float"),this.name=e,this.isBuiltinNode=!0}generate(){return this.name}}const lR=me(iR).setParameterLength(1);class Kn extends ze{static get type(){return"ClippingNode"}constructor(e=Kn.DEFAULT){super(),this.scope=e}setup(e){super.setup(e);const t=e.clippingContext,{intersectionPlanes:a,unionPlanes:r}=t;return this.hardwareClipping=e.material.hardwareClipping,this.scope===Kn.ALPHA_TO_COVERAGE?this.setupAlphaToCoverage(a,r):this.scope===Kn.HARDWARE?this.setupHardwareClipping(r,e):this.setupDefault(a,r)}setupAlphaToCoverage(e,t){return ie(()=>{const a=V().toVar("distanceToPlane"),r=V().toVar("distanceToGradient"),s=V(1).toVar("clipOpacity"),o=t.length;if(this.hardwareClipping===!1&&o>0){const c=d0(t);Mt(o,({i:g})=>{const D=c.element(g);a.assign(va.dot(D.xyz).negate().add(D.w)),r.assign(a.fwidth().div(2)),s.mulAssign(G0(r.negate(),r,a))})}const d=e.length;if(d>0){const c=d0(e),g=V(1).toVar("intersectionClipOpacity");Mt(d,({i:D})=>{const m=c.element(D);a.assign(va.dot(m.xyz).negate().add(m.w)),r.assign(a.fwidth().div(2)),g.mulAssign(G0(r.negate(),r,a).oneMinus())}),s.mulAssign(g.oneMinus())}kt.a.mulAssign(s),kt.a.equal(0).discard()})()}setupDefault(e,t){return ie(()=>{const a=t.length;if(this.hardwareClipping===!1&&a>0){const s=d0(t);Mt(a,({i:o})=>{const d=s.element(o);va.dot(d.xyz).greaterThan(d.w).discard()})}const r=e.length;if(r>0){const s=d0(e),o=_r(!0).toVar("clipped");Mt(r,({i:d})=>{const c=s.element(d);o.assign(va.dot(c.xyz).greaterThan(c.w).and(o))}),o.discard()}})()}setupHardwareClipping(e,t){const a=e.length;return t.enableHardwareClipping(a),ie(()=>{const r=d0(e),s=lR(t.getClipDistance());Mt(a,({i:o})=>{const d=r.element(o),c=va.dot(d.xyz).sub(d.w).negate();s.element(o).assign(c)})})()}}Kn.ALPHA_TO_COVERAGE="alphaToCoverage";Kn.DEFAULT="default";Kn.HARDWARE="hardware";const AR=()=>ve(new Kn),uR=()=>ve(new Kn(Kn.ALPHA_TO_COVERAGE)),dR=()=>ve(new Kn(Kn.HARDWARE)),cR=.05,R6=ie(([n])=>xr(ot(1e4,Pn(ot(17,n.x).add(ot(.1,n.y)))).mul(ya(.1,Qt(Pn(ot(13,n.y).add(n.x))))))),M6=ie(([n])=>R6(ye(R6(n.xy),n.z))),hR=ie(([n])=>{const e=fa(pr(Jh(n.xyz)),pr(ep(n.xyz))),t=V(1).div(V(cR).mul(e)).toVar("pixScale"),a=ye(to(q0(L0(t))),to(kA(L0(t)))),r=ye(M6(q0(a.x.mul(n.xyz))),M6(q0(a.y.mul(n.xyz)))),s=xr(L0(t)),o=ya(ot(s.oneMinus(),r.x),ot(s,r.y)),d=Sn(s,s.oneMinus()),c=ae(o.mul(o).div(ot(2,d).mul(wt(1,d))),o.sub(ot(.5,d)).div(wt(1,d)),wt(1,wt(1,o).mul(wt(1,o)).div(ot(2,d).mul(wt(1,d))))),g=o.lessThan(d.oneMinus()).select(o.lessThan(d).select(c.x,c.y),c.z);return U0(g,1e-6,1)}).setLayout({name:"getAlphaHashThreshold",type:"float",inputs:[{name:"position",type:"vec3"}]});class _a extends J3{static get type(){return"NodeMaterial"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isNodeMaterial=!0,this.fog=!0,this.lights=!1,this.hardwareClipping=!1,this.lightsNode=null,this.envNode=null,this.aoNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.positionNode=null,this.geometryNode=null,this.depthNode=null,this.shadowPositionNode=null,this.receivedShadowNode=null,this.castShadowNode=null,this.outputNode=null,this.mrtNode=null,this.fragmentNode=null,this.vertexNode=null}customProgramCacheKey(){return this.type+tf(this)}build(e){this.setup(e)}setupObserver(e){return new tk(e)}setup(e){e.context.setupNormal=()=>this.setupNormal(e),e.context.setupPositionView=()=>this.setupPositionView(e),e.context.setupModelViewProjection=()=>this.setupModelViewProjection(e);const t=e.renderer,a=t.getRenderTarget();e.addStack();const r=this.vertexNode||this.setupVertex(e);e.stack.outputNode=r,this.setupHardwareClipping(e),this.geometryNode!==null&&(e.stack.outputNode=e.stack.outputNode.bypass(this.geometryNode)),e.addFlow("vertex",e.removeStack()),e.addStack();let s;const o=this.setupClipping(e);if((this.depthWrite===!0||this.depthTest===!0)&&(a!==null?a.depthBuffer===!0&&this.setupDepth(e):t.depth===!0&&this.setupDepth(e)),this.fragmentNode===null){this.setupDiffuseColor(e),this.setupVariants(e);const d=this.setupLighting(e);o!==null&&e.stack.add(o);const c=Ge(d,kt.a).max(0);s=this.setupOutput(e,c),zs.assign(s);const g=this.outputNode!==null;if(g&&(s=this.outputNode),a!==null){const D=t.getMRT(),m=this.mrtNode;D!==null?(g&&zs.assign(s),s=D,m!==null&&(s=D.merge(m))):m!==null&&(s=m)}}else{let d=this.fragmentNode;d.isOutputStructNode!==!0&&(d=Ge(d)),s=this.setupOutput(e,d)}e.stack.outputNode=s,e.addFlow("fragment",e.removeStack()),e.observer=this.setupObserver(e)}setupClipping(e){if(e.clippingContext===null)return null;const{unionPlanes:t,intersectionPlanes:a}=e.clippingContext;let r=null;if(t.length>0||a.length>0){const s=e.renderer.samples;this.alphaToCoverage&&s>1?r=uR():e.stack.add(AR())}return r}setupHardwareClipping(e){if(this.hardwareClipping=!1,e.clippingContext===null)return;const t=e.clippingContext.unionPlanes.length;t>0&&t<=8&&e.isAvailable("clipDistance")&&(e.stack.add(dR()),this.hardwareClipping=!0)}setupDepth(e){const{renderer:t,camera:a}=e;let r=this.depthNode;if(r===null){const s=t.getMRT();s&&s.has("depth")?r=s.get("depth"):t.logarithmicDepthBuffer===!0&&(a.isPerspectiveCamera?r=yp(va.z,Vr,zr):r=Hs(va.z,Vr,zr))}r!==null&&_p.assign(r).append()}setupPositionView(){return X1.mul(ga).xyz}setupModelViewProjection(){return Y1.mul(va)}setupVertex(e){return e.addStack(),this.setupPosition(e),e.context.vertex=e.removeStack(),Dp}setupPosition(e){const{object:t,geometry:a}=e;if((a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color)&&X9(t).append(),t.isSkinnedMesh===!0&&Q9(t).append(),this.displacementMap){const r=ur("displacementMap","texture"),s=ur("displacementScale","float"),o=ur("displacementBias","float");ga.addAssign(xn.normalize().mul(r.x.mul(s).add(o)))}return t.isBatchedMesh&&j9(t).append(),t.isInstancedMesh&&t.instanceMatrix&&t.instanceMatrix.isInstancedBufferAttribute===!0&&H9(t).append(),this.positionNode!==null&&ga.assign(this.positionNode.context({isPositionNodeInput:!0})),ga}setupDiffuseColor({object:e,geometry:t}){let a=this.colorNode?Ge(this.colorNode):c9;this.vertexColors===!0&&t.hasAttribute("color")&&(a=Ge(a.xyz.mul(V0("color","vec3")),a.a)),e.instanceColor&&(a=ki("vec3","vInstanceColor").mul(a)),e.isBatchedMesh&&e._colorsTexture&&(a=ki("vec3","vBatchColor").mul(a)),kt.assign(a);const r=this.opacityNode?V(this.opacityNode):pp;if(kt.a.assign(kt.a.mul(r)),this.alphaTestNode!==null||this.alphaTest>0){const s=this.alphaTestNode!==null?V(this.alphaTestNode):d9;kt.a.lessThanEqual(s).discard()}this.alphaHash===!0&&kt.a.lessThan(hR(ga)).discard(),this.transparent===!1&&this.blending===Qr&&this.alphaToCoverage===!1&&kt.a.assign(1)}setupVariants(){}setupOutgoingLight(){return this.lights===!0?ae(0):kt.rgb}setupNormal(){return this.normalNode?ae(this.normalNode):m9}setupEnvironment(){let e=null;return this.envNode?e=this.envNode:this.envMap&&(e=this.envMap.isCubeTexture?ur("envMap","cubeTexture"):ur("envMap","texture")),e}setupLightMap(e){let t=null;return e.material.lightMap&&(t=new KN(gp)),t}setupLights(e){const t=[],a=this.setupEnvironment(e);a&&a.isLightingNode&&t.push(a);const r=this.setupLightMap(e);if(r&&r.isLightingNode&&t.push(r),this.aoNode!==null||e.material.aoMap){const o=this.aoNode!==null?this.aoNode:G9;t.push(new YN(o))}let s=this.lightsNode||e.lightsNode;return t.length>0&&(s=e.renderer.lighting.createNode([...s.getLights(),...t])),s}setupLightingModel(){}setupLighting(e){const{material:t}=e,{backdropNode:a,backdropAlphaNode:r,emissiveNode:s}=this,d=this.lights===!0||this.lightsNode!==null?this.setupLights(e):null;let c=this.setupOutgoingLight(e);if(d&&d.getScope().hasLights){const g=this.setupLightingModel(e)||null;c=K9(d,g,a,r)}else a!==null&&(c=ae(r!==null?Rt(c,a,r):a));return(s&&s.isNode===!0||t.emissive&&t.emissive.isColor===!0)&&(Fc.assign(ae(s||p9)),c=c.add(Fc)),c}setupFog(e,t){const a=e.fogNode;return a&&(zs.assign(t),t=Ge(a)),t}setupOutput(e,t){return this.fog===!0&&(t=this.setupFog(e,t)),t}setDefaultValues(e){for(const a in e){const r=e[a];this[a]===void 0&&(this[a]=r,r&&r.clone&&(this[a]=r.clone()))}const t=Object.getOwnPropertyDescriptors(e.constructor.prototype);for(const a in t)Object.getOwnPropertyDescriptor(this.constructor.prototype,a)===void 0&&t[a].get!==void 0&&Object.defineProperty(this.constructor.prototype,a,t[a])}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{},nodes:{}});const a=J3.prototype.toJSON.call(this,e),r=Zl(this);a.inputNodes={};for(const{property:o,childNode:d}of r)a.inputNodes[o]=d.toJSON(e).uuid;function s(o){const d=[];for(const c in o){const g=o[c];delete g.metadata,d.push(g)}return d}if(t){const o=s(e.textures),d=s(e.images),c=s(e.nodes);o.length>0&&(a.textures=o),d.length>0&&(a.images=d),c.length>0&&(a.nodes=c)}return a}copy(e){return this.lightsNode=e.lightsNode,this.envNode=e.envNode,this.colorNode=e.colorNode,this.normalNode=e.normalNode,this.opacityNode=e.opacityNode,this.backdropNode=e.backdropNode,this.backdropAlphaNode=e.backdropAlphaNode,this.alphaTestNode=e.alphaTestNode,this.positionNode=e.positionNode,this.geometryNode=e.geometryNode,this.depthNode=e.depthNode,this.shadowPositionNode=e.shadowPositionNode,this.receivedShadowNode=e.receivedShadowNode,this.castShadowNode=e.castShadowNode,this.outputNode=e.outputNode,this.mrtNode=e.mrtNode,this.fragmentNode=e.fragmentNode,this.vertexNode=e.vertexNode,super.copy(e)}}const pR=new gA;class gR extends _a{static get type(){return"LineBasicNodeMaterial"}constructor(e){super(),this.isLineBasicNodeMaterial=!0,this.setDefaultValues(pR),this.setValues(e)}}const DR=new Z_;class fR extends _a{static get type(){return"LineDashedNodeMaterial"}constructor(e){super(),this.isLineDashedNodeMaterial=!0,this.setDefaultValues(DR),this.dashOffset=0,this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(e)}setupVariants(){const e=this.offsetNode?V(this.offsetNode):F9,t=this.dashScaleNode?V(this.dashScaleNode):B9,a=this.dashSizeNode?V(this.dashSizeNode):L9,r=this.gapSizeNode?V(this.gapSizeNode):q9;dl.assign(a),Oc.assign(r);const s=nn(V0("lineDistance").mul(t));(e?s.add(e):s).mod(dl.add(Oc)).greaterThan(dl).discard()}}let $u=null;class vR extends OA{static get type(){return"ViewportSharedTextureNode"}constructor(e=W0,t=null){$u===null&&($u=new q8),super(e,t,$u)}updateReference(){return this}}const mR=me(vR).setParameterLength(0,2),a7=n=>ve(n).mul(.5).add(.5),yR=n=>ve(n).mul(2).sub(1),_R=new X_;class wR extends _a{static get type(){return"MeshNormalNodeMaterial"}constructor(e){super(),this.isMeshNormalNodeMaterial=!0,this.setDefaultValues(_R),this.setValues(e)}setupDiffuseColor(){const e=this.opacityNode?V(this.opacityNode):pp;kt.assign(CA(Ge(a7(pa),e),ut))}}class SR extends ua{static get type(){return"EquirectUVNode"}constructor(e=up){super("vec2"),this.dirNode=e}setup(){const e=this.dirNode,t=e.z.atan(e.x).mul(1/(Math.PI*2)).add(.5),a=e.y.clamp(-1,1).asin().mul(1/Math.PI).add(.5);return ye(t,a)}}const wp=me(SR).setParameterLength(0,1);class n7 extends Cw{constructor(e=1,t={}){super(e,t),this.isCubeRenderTarget=!0}fromEquirectangularTexture(e,t){const a=t.minFilter,r=t.generateMipmaps;t.generateMipmaps=!0,this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const s=new Dh(5,5,5),o=wp(up),d=new _a;d.colorNode=ft(t,o,0),d.side=_n,d.blending=hi;const c=new Da(s,d),g=new cA;g.add(c),t.minFilter===B1&&(t.minFilter=Dr);const D=new Pw(1,10,this),m=e.getMRT();return e.setMRT(null),D.update(e,g),e.setMRT(m),t.minFilter=a,t.currentGenerateMipmaps=r,c.geometry.dispose(),c.material.dispose(),this}}const ii=new WeakMap;class xR extends ua{static get type(){return"CubeMapNode"}constructor(e){super("vec3"),this.envNode=e,this._cubeTexture=null,this._cubeTextureNode=ao(null);const t=new U8;t.isRenderTargetTexture=!0,this._defaultTexture=t,this.updateBeforeType=st.RENDER}updateBefore(e){const{renderer:t,material:a}=e,r=this.envNode;if(r.isTextureNode||r.isMaterialReferenceNode){const s=r.isTextureNode?r.value:a[r.property];if(s&&s.isTexture){const o=s.mapping;if(o===Fi||o===Oi){if(ii.has(s)){const d=ii.get(s);C6(d,s.mapping),this._cubeTexture=d}else{const d=s.image;if(bR(d)){const c=new n7(d.height);c.fromEquirectangularTexture(t,s),C6(c.texture,s.mapping),this._cubeTexture=c.texture,ii.set(s,c.texture),s.addEventListener("dispose",r7)}else this._cubeTexture=this._defaultTexture}this._cubeTextureNode.value=this._cubeTexture}else this._cubeTextureNode=this.envNode}}}setup(e){return this.updateBefore(e),this._cubeTextureNode}}function bR(n){return n==null?!1:n.height>0}function r7(n){const e=n.target;e.removeEventListener("dispose",r7);const t=ii.get(e);t!==void 0&&(ii.delete(e),t.dispose())}function C6(n,e){e===Fi?n.mapping=js:e===Oi&&(n.mapping=$s)}const s7=me(xR).setParameterLength(1);class Sp extends Ao{static get type(){return"BasicEnvironmentNode"}constructor(e=null){super(),this.envNode=e}setup(e){e.context.environment=s7(this.envNode)}}class TR extends Ao{static get type(){return"BasicLightMapNode"}constructor(e=null){super(),this.lightMapNode=e}setup(e){const t=V(1/Math.PI);e.context.irradianceLightMap=this.lightMapNode.mul(t)}}class UA{start(e){e.lightsNode.setupLights(e,e.lightsNode.getLightNodes(e)),this.indirect(e)}finish(){}direct(){}directRectArea(){}indirect(){}ambientOcclusion(){}}class o7 extends UA{constructor(){super()}indirect({context:e}){const t=e.ambientOcclusion,a=e.reflectedLight,r=e.irradianceLightMap;a.indirectDiffuse.assign(Ge(0)),r?a.indirectDiffuse.addAssign(r):a.indirectDiffuse.addAssign(Ge(1,1,1,0)),a.indirectDiffuse.mulAssign(t),a.indirectDiffuse.mulAssign(kt.rgb)}finish(e){const{material:t,context:a}=e,r=a.outgoingLight,s=e.context.environment;if(s)switch(t.combine){case Nw:r.rgb.assign(Rt(r.rgb,r.rgb.mul(s.rgb),oi.mul(gl)));break;case kw:r.rgb.assign(Rt(r.rgb,s.rgb,oi.mul(gl)));break;case Ew:r.rgb.addAssign(s.rgb.mul(oi.mul(gl)));break;default:console.warn("THREE.BasicLightingModel: Unsupported .combine value:",t.combine);break}}}const IR=new lr;class ER extends _a{static get type(){return"MeshBasicNodeMaterial"}constructor(e){super(),this.isMeshBasicNodeMaterial=!0,this.lights=!0,this.setDefaultValues(IR),this.setValues(e)}setupNormal(){return e0}setupEnvironment(e){const t=super.setupEnvironment(e);return t?new Sp(t):null}setupLightMap(e){let t=null;return e.material.lightMap&&(t=new TR(gp)),t}setupOutgoingLight(){return kt.rgb}setupLightingModel(){return new o7}}const no=ie(({f0:n,f90:e,dotVH:t})=>{const a=t.mul(-5.55473).sub(6.98316).mul(t).exp2();return n.mul(a.oneMinus()).add(e.mul(a))}),H1=ie(n=>n.diffuseColor.mul(1/Math.PI)),kR=()=>V(.25),NR=ie(({dotNH:n})=>aA.mul(V(.5)).add(1).mul(V(1/Math.PI)).mul(n.pow(aA))),RR=ie(({lightDirection:n})=>{const e=n.add(Jt).normalize(),t=pa.dot(e).clamp(),a=Jt.dot(e).clamp(),r=no({f0:gn,f90:1,dotVH:a}),s=kR(),o=NR({dotNH:t});return r.mul(s).mul(o)});class i7 extends o7{constructor(e=!0){super(),this.specular=e}direct({lightDirection:e,lightColor:t,reflectedLight:a}){const s=pa.dot(e).clamp().mul(t);a.directDiffuse.addAssign(s.mul(H1({diffuseColor:kt.rgb}))),this.specular===!0&&a.directSpecular.addAssign(s.mul(RR({lightDirection:e})).mul(oi))}indirect(e){const{ambientOcclusion:t,irradiance:a,reflectedLight:r}=e.context;r.indirectDiffuse.addAssign(a.mul(H1({diffuseColor:kt}))),r.indirectDiffuse.mulAssign(t)}}const MR=new Sr;class CR extends _a{static get type(){return"MeshLambertNodeMaterial"}constructor(e){super(),this.isMeshLambertNodeMaterial=!0,this.lights=!0,this.setDefaultValues(MR),this.setValues(e)}setupEnvironment(e){const t=super.setupEnvironment(e);return t?new Sp(t):null}setupLightingModel(){return new i7(!1)}}const PR=new P8;class BR extends _a{static get type(){return"MeshPhongNodeMaterial"}constructor(e){super(),this.isMeshPhongNodeMaterial=!0,this.lights=!0,this.shininessNode=null,this.specularNode=null,this.setDefaultValues(PR),this.setValues(e)}setupEnvironment(e){const t=super.setupEnvironment(e);return t?new Sp(t):null}setupLightingModel(){return new i7}setupVariants(){const e=(this.shininessNode?V(this.shininessNode):h9).max(1e-4);aA.assign(e);const t=this.specularNode||g9;gn.assign(t)}copy(e){return this.shininessNode=e.shininessNode,this.specularNode=e.specularNode,super.copy(e)}}const l7=ie(n=>{if(n.geometry.hasAttribute("normal")===!1)return V(0);const e=e0.dFdx().abs().max(e0.dFdy().abs());return e.x.max(e.y).max(e.z)}),xp=ie(n=>{const{roughness:e}=n,t=l7();let a=e.max(.0525);return a=a.add(t),a=a.min(1),a}),A7=ie(({alpha:n,dotNL:e,dotNV:t})=>{const a=n.pow2(),r=e.mul(a.add(a.oneMinus().mul(t.pow2())).sqrt()),s=t.mul(a.add(a.oneMinus().mul(e.pow2())).sqrt());return y0(.5,r.add(s).max(jf))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),LR=ie(({alphaT:n,alphaB:e,dotTV:t,dotBV:a,dotTL:r,dotBL:s,dotNV:o,dotNL:d})=>{const c=d.mul(ae(n.mul(t),e.mul(a),o).length()),g=o.mul(ae(n.mul(r),e.mul(s),d).length());return y0(.5,c.add(g)).saturate()}).setLayout({name:"V_GGX_SmithCorrelated_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotTV",type:"float",qualifier:"in"},{name:"dotBV",type:"float",qualifier:"in"},{name:"dotTL",type:"float",qualifier:"in"},{name:"dotBL",type:"float",qualifier:"in"},{name:"dotNV",type:"float",qualifier:"in"},{name:"dotNL",type:"float",qualifier:"in"}]}),u7=ie(({alpha:n,dotNH:e})=>{const t=n.pow2(),a=e.pow2().mul(t.oneMinus()).oneMinus();return t.div(a.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),qR=V(1/Math.PI),FR=ie(({alphaT:n,alphaB:e,dotNH:t,dotTH:a,dotBH:r})=>{const s=n.mul(e),o=ae(e.mul(a),n.mul(r),s.mul(t)),d=o.dot(o),c=s.div(d);return qR.mul(s.mul(c.pow2()))}).setLayout({name:"D_GGX_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotNH",type:"float",qualifier:"in"},{name:"dotTH",type:"float",qualifier:"in"},{name:"dotBH",type:"float",qualifier:"in"}]}),Wc=ie(n=>{const{lightDirection:e,f0:t,f90:a,roughness:r,f:s,USE_IRIDESCENCE:o,USE_ANISOTROPY:d}=n,c=n.normalView||pa,g=r.pow2(),D=e.add(Jt).normalize(),m=c.dot(e).clamp(),_=c.dot(Jt).clamp(),w=c.dot(D).clamp(),x=Jt.dot(D).clamp();let T=no({f0:t,f90:a,dotVH:x}),I,N;if(Ii(o)&&(T=IA.mix(T,s)),Ii(d)){const R=ni.dot(e),M=ni.dot(Jt),B=ni.dot(D),F=O1.dot(e),L=O1.dot(Jt),O=O1.dot(D);I=LR({alphaT:tA,alphaB:g,dotTV:M,dotBV:L,dotTL:R,dotBL:F,dotNV:_,dotNL:m}),N=FR({alphaT:tA,alphaB:g,dotNH:w,dotTH:B,dotBH:O})}else I=A7({alpha:g,dotNL:m,dotNV:_}),N=u7({alpha:g,dotNH:w});return T.mul(I).mul(N)}),bp=ie(({roughness:n,dotNV:e})=>{const t=Ge(-1,-.0275,-.572,.022),a=Ge(1,.0425,1.04,-.04),r=n.mul(t).add(a),s=r.x.mul(r.x).min(e.mul(-9.28).exp2()).mul(r.x).add(r.y);return ye(-1.04,1.04).mul(s).add(r.zw)}).setLayout({name:"DFGApprox",type:"vec2",inputs:[{name:"roughness",type:"float"},{name:"dotNV",type:"vec3"}]}),d7=ie(n=>{const{dotNV:e,specularColor:t,specularF90:a,roughness:r}=n,s=bp({dotNV:e,roughness:r});return t.mul(s.x).add(a.mul(s.y))}),c7=ie(({f:n,f90:e,dotVH:t})=>{const a=t.oneMinus().saturate(),r=a.mul(a),s=a.mul(r,r).clamp(0,.9999);return n.sub(ae(e).mul(s)).div(s.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),OR=ie(({roughness:n,dotNH:e})=>{const t=n.pow2(),a=V(1).div(t),s=e.pow2().oneMinus().max(.0078125);return V(2).add(a).mul(s.pow(a.mul(.5))).div(2*Math.PI)}).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),UR=ie(({dotNV:n,dotNL:e})=>V(1).div(V(4).mul(e.add(n).sub(e.mul(n))))).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),GR=ie(({lightDirection:n})=>{const e=n.add(Jt).normalize(),t=pa.dot(n).clamp(),a=pa.dot(Jt).clamp(),r=pa.dot(e).clamp(),s=OR({roughness:TA,dotNH:r}),o=UR({dotNV:a,dotNL:t});return C1.mul(s).mul(o)}),VR=ie(({N:n,V:e,roughness:t})=>{const s=.0078125,o=n.dot(e).saturate(),d=ye(t,o.oneMinus().sqrt());return d.assign(d.mul(.984375).add(s)),d}).setLayout({name:"LTC_Uv",type:"vec2",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"roughness",type:"float"}]}),zR=ie(({f:n})=>{const e=n.length();return fa(e.mul(e).add(n.z).div(e.add(1)),0)}).setLayout({name:"LTC_ClippedSphereFormFactor",type:"float",inputs:[{name:"f",type:"vec3"}]}),T2=ie(({v1:n,v2:e})=>{const t=n.dot(e),a=t.abs().toVar(),r=a.mul(.0145206).add(.4965155).mul(a).add(.8543985).toVar(),s=a.add(4.1616724).mul(a).add(3.417594).toVar(),o=r.div(s),d=t.greaterThan(0).select(o,fa(t.mul(t).oneMinus(),1e-7).inverseSqrt().mul(.5).sub(o));return n.cross(e).mul(d)}).setLayout({name:"LTC_EdgeVectorFormFactor",type:"vec3",inputs:[{name:"v1",type:"vec3"},{name:"v2",type:"vec3"}]}),P6=ie(({N:n,V:e,P:t,mInv:a,p0:r,p1:s,p2:o,p3:d})=>{const c=s.sub(r).toVar(),g=d.sub(r).toVar(),D=c.cross(g),m=ae().toVar();return dt(D.dot(t.sub(r)).greaterThanEqual(0),()=>{const _=e.sub(n.mul(e.dot(n))).normalize(),w=n.cross(_).negate(),x=a.mul(tn(_,w,n).transpose()).toVar(),T=x.mul(r.sub(t)).normalize().toVar(),I=x.mul(s.sub(t)).normalize().toVar(),N=x.mul(o.sub(t)).normalize().toVar(),R=x.mul(d.sub(t)).normalize().toVar(),M=ae(0).toVar();M.addAssign(T2({v1:T,v2:I})),M.addAssign(T2({v1:I,v2:N})),M.addAssign(T2({v1:N,v2:R})),M.addAssign(T2({v1:R,v2:T})),m.assign(ae(zR({f:M})))}),m}).setLayout({name:"LTC_Evaluate",type:"vec3",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"P",type:"vec3"},{name:"mInv",type:"mat3"},{name:"p0",type:"vec3"},{name:"p1",type:"vec3"},{name:"p2",type:"vec3"},{name:"p3",type:"vec3"}]}),GA=1/6,h7=n=>ot(GA,ot(n,ot(n,n.negate().add(3)).sub(3)).add(1)),Hc=n=>ot(GA,ot(n,ot(n,ot(3,n).sub(6))).add(4)),p7=n=>ot(GA,ot(n,ot(n,ot(-3,n).add(3)).add(3)).add(1)),jc=n=>ot(GA,g0(n,3)),B6=n=>h7(n).add(Hc(n)),L6=n=>p7(n).add(jc(n)),q6=n=>ya(-1,Hc(n).div(h7(n).add(Hc(n)))),F6=n=>ya(1,jc(n).div(p7(n).add(jc(n)))),O6=(n,e,t)=>{const a=n.uvNode,r=ot(a,e.zw).add(.5),s=q0(r),o=xr(r),d=B6(o.x),c=L6(o.x),g=q6(o.x),D=F6(o.x),m=q6(o.y),_=F6(o.y),w=ye(s.x.add(g),s.y.add(m)).sub(.5).mul(e.xy),x=ye(s.x.add(D),s.y.add(m)).sub(.5).mul(e.xy),T=ye(s.x.add(g),s.y.add(_)).sub(.5).mul(e.xy),I=ye(s.x.add(D),s.y.add(_)).sub(.5).mul(e.xy),N=B6(o.y).mul(ya(d.mul(n.sample(w).level(t)),c.mul(n.sample(x).level(t)))),R=L6(o.y).mul(ya(d.mul(n.sample(T).level(t)),c.mul(n.sample(I).level(t))));return N.add(R)},g7=ie(([n,e=V(3)])=>{const t=ye(n.size(Q(e))),a=ye(n.size(Q(e.add(1)))),r=y0(1,t),s=y0(1,a),o=O6(n,Ge(r,t),q0(e)),d=O6(n,Ge(s,a),kA(e));return xr(e).mix(o,d)}),U6=ie(([n,e,t,a,r])=>{const s=ae(rp(e.negate(),wr(n),y0(1,a))),o=ae(pr(r[0].xyz),pr(r[1].xyz),pr(r[2].xyz));return wr(s).mul(t.mul(o))}).setLayout({name:"getVolumeTransmissionRay",type:"vec3",inputs:[{name:"n",type:"vec3"},{name:"v",type:"vec3"},{name:"thickness",type:"float"},{name:"ior",type:"float"},{name:"modelMatrix",type:"mat4"}]}),WR=ie(([n,e])=>n.mul(U0(e.mul(2).sub(2),0,1))).setLayout({name:"applyIorToRoughness",type:"float",inputs:[{name:"roughness",type:"float"},{name:"ior",type:"float"}]}),HR=fp(),jR=fp(),G6=ie(([n,e,t],{material:a})=>{const s=(a.side===_n?HR:jR).sample(n),o=L0(Pi.x).mul(WR(e,t));return g7(s,o)}),V6=ie(([n,e,t])=>(dt(t.notEqual(0),()=>{const a=EA(e).negate().div(t);return Xh(a.negate().mul(n))}),ae(1))).setLayout({name:"volumeAttenuation",type:"vec3",inputs:[{name:"transmissionDistance",type:"float"},{name:"attenuationColor",type:"vec3"},{name:"attenuationDistance",type:"float"}]}),$R=ie(([n,e,t,a,r,s,o,d,c,g,D,m,_,w,x])=>{let T,I;if(x){T=Ge().toVar(),I=ae().toVar();const F=D.sub(1).mul(x.mul(.025)),L=ae(D.sub(F),D,D.add(F));Mt({start:0,end:3},({i:O})=>{const G=L.element(O),j=U6(n,e,m,G,d),ne=o.add(j),Y=g.mul(c.mul(Ge(ne,1))),Z=ye(Y.xy.div(Y.w)).toVar();Z.addAssign(1),Z.divAssign(2),Z.assign(ye(Z.x,Z.y.oneMinus()));const re=G6(Z,t,G);T.element(O).assign(re.element(O)),T.a.addAssign(re.a),I.element(O).assign(a.element(O).mul(V6(pr(j),_,w).element(O)))}),T.a.divAssign(3)}else{const F=U6(n,e,m,D,d),L=o.add(F),O=g.mul(c.mul(Ge(L,1))),G=ye(O.xy.div(O.w)).toVar();G.addAssign(1),G.divAssign(2),G.assign(ye(G.x,G.y.oneMinus())),T=G6(G,t,D),I=a.mul(V6(pr(F),_,w))}const N=I.rgb.mul(T.rgb),R=n.dot(e).clamp(),M=ae(d7({dotNV:R,specularColor:r,specularF90:s,roughness:t})),B=I.r.add(I.g,I.b).div(3);return Ge(M.oneMinus().mul(N),T.a.oneMinus().mul(B).oneMinus())}),QR=tn(3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252),YR=n=>{const e=n.sqrt();return ae(1).add(e).div(ae(1).sub(e))},z6=(n,e)=>n.sub(e).div(n.add(e)).pow2(),XR=(n,e)=>{const t=n.mul(2*Math.PI*1e-9),a=ae(54856e-17,44201e-17,52481e-17),r=ae(1681e3,1795300,2208400),s=ae(43278e5,93046e5,66121e5),o=V(9747e-17*Math.sqrt(2*Math.PI*45282e5)).mul(t.mul(2239900).add(e.x).cos()).mul(t.pow2().mul(-45282e5).exp());let d=a.mul(s.mul(2*Math.PI).sqrt()).mul(r.mul(t).add(e).cos()).mul(t.pow2().negate().mul(s).exp());return d=ae(d.x.add(o),d.y,d.z).div(10685e-11),QR.mul(d)},KR=ie(({outsideIOR:n,eta2:e,cosTheta1:t,thinFilmThickness:a,baseF0:r})=>{const s=Rt(n,e,G0(0,.03,a)),d=n.div(s).pow2().mul(t.pow2().oneMinus()).oneMinus();dt(d.lessThan(0),()=>ae(1));const c=d.sqrt(),g=z6(s,n),D=no({f0:g,f90:1,dotVH:t}),m=D.oneMinus(),_=s.lessThan(n).select(Math.PI,0),w=V(Math.PI).sub(_),x=YR(r.clamp(0,.9999)),T=z6(x,s.toVec3()),I=no({f0:T,f90:1,dotVH:c}),N=ae(x.x.lessThan(s).select(Math.PI,0),x.y.lessThan(s).select(Math.PI,0),x.z.lessThan(s).select(Math.PI,0)),R=s.mul(a,c,2),M=ae(w).add(N),B=D.mul(I).clamp(1e-5,.9999),F=B.sqrt(),L=m.pow2().mul(I).div(ae(1).sub(B)),G=D.add(L).toVar(),j=L.sub(m).toVar();return Mt({start:1,end:2,condition:"<=",name:"m"},({m:ne})=>{j.mulAssign(F);const Y=XR(V(ne).mul(R),V(ne).mul(M)).mul(2);G.addAssign(j.mul(Y))}),G.max(ae(0))}).setLayout({name:"evalIridescence",type:"vec3",inputs:[{name:"outsideIOR",type:"float"},{name:"eta2",type:"float"},{name:"cosTheta1",type:"float"},{name:"thinFilmThickness",type:"float"},{name:"baseF0",type:"vec3"}]}),ZR=ie(({normal:n,viewDir:e,roughness:t})=>{const a=n.dot(e).saturate(),r=t.pow2(),s=Ga(t.lessThan(.25),V(-339.2).mul(r).add(V(161.4).mul(t)).sub(25.9),V(-8.48).mul(r).add(V(14.3).mul(t)).sub(9.95)),o=Ga(t.lessThan(.25),V(44).mul(r).sub(V(23.7).mul(t)).add(3.26),V(1.97).mul(r).sub(V(3.27).mul(t)).add(.72));return Ga(t.lessThan(.25),0,V(.1).mul(t).sub(.025)).add(s.mul(a).add(o).exp()).mul(1/Math.PI).saturate()}),Qu=ae(.04),Yu=V(1);class D7 extends UA{constructor(e=!1,t=!1,a=!1,r=!1,s=!1,o=!1){super(),this.clearcoat=e,this.sheen=t,this.iridescence=a,this.anisotropy=r,this.transmission=s,this.dispersion=o,this.clearcoatRadiance=null,this.clearcoatSpecularDirect=null,this.clearcoatSpecularIndirect=null,this.sheenSpecularDirect=null,this.sheenSpecularIndirect=null,this.iridescenceFresnel=null,this.iridescenceF0=null}start(e){if(this.clearcoat===!0&&(this.clearcoatRadiance=ae().toVar("clearcoatRadiance"),this.clearcoatSpecularDirect=ae().toVar("clearcoatSpecularDirect"),this.clearcoatSpecularIndirect=ae().toVar("clearcoatSpecularIndirect")),this.sheen===!0&&(this.sheenSpecularDirect=ae().toVar("sheenSpecularDirect"),this.sheenSpecularIndirect=ae().toVar("sheenSpecularIndirect")),this.iridescence===!0){const t=pa.dot(Jt).clamp();this.iridescenceFresnel=KR({outsideIOR:V(1),eta2:Vh,cosTheta1:t,thinFilmThickness:zh,baseF0:gn}),this.iridescenceF0=c7({f:this.iridescenceFresnel,f90:1,dotVH:t})}if(this.transmission===!0){const t=gr,a=$4.sub(gr).normalize(),r=LA,s=e.context;s.backdrop=$R(r,a,C0,kt,gn,Mi,t,Qn,bn,Y1,ri,Wh,jh,Hh,this.dispersion?$h:null),s.backdropAlpha=nA,kt.a.mulAssign(Rt(1,s.backdrop.a,nA))}super.start(e)}computeMultiscattering(e,t,a){const r=pa.dot(Jt).clamp(),s=bp({roughness:C0,dotNV:r}),d=(this.iridescenceF0?IA.mix(gn,this.iridescenceF0):gn).mul(s.x).add(a.mul(s.y)),g=s.x.add(s.y).oneMinus(),D=gn.add(gn.oneMinus().mul(.047619)),m=d.mul(D).div(g.mul(D).oneMinus());e.addAssign(d),t.addAssign(m.mul(g))}direct({lightDirection:e,lightColor:t,reflectedLight:a}){const s=pa.dot(e).clamp().mul(t);if(this.sheen===!0&&this.sheenSpecularDirect.addAssign(s.mul(GR({lightDirection:e}))),this.clearcoat===!0){const d=Bs.dot(e).clamp().mul(t);this.clearcoatSpecularDirect.addAssign(d.mul(Wc({lightDirection:e,f0:Qu,f90:Yu,roughness:Ri,normalView:Bs})))}a.directDiffuse.addAssign(s.mul(H1({diffuseColor:kt.rgb}))),a.directSpecular.addAssign(s.mul(Wc({lightDirection:e,f0:gn,f90:1,roughness:C0,iridescence:this.iridescence,f:this.iridescenceFresnel,USE_IRIDESCENCE:this.iridescence,USE_ANISOTROPY:this.anisotropy})))}directRectArea({lightColor:e,lightPosition:t,halfWidth:a,halfHeight:r,reflectedLight:s,ltc_1:o,ltc_2:d}){const c=t.add(a).sub(r),g=t.sub(a).sub(r),D=t.sub(a).add(r),m=t.add(a).add(r),_=pa,w=Jt,x=va.toVar(),T=VR({N:_,V:w,roughness:C0}),I=o.sample(T).toVar(),N=d.sample(T).toVar(),R=tn(ae(I.x,0,I.y),ae(0,1,0),ae(I.z,0,I.w)).toVar(),M=gn.mul(N.x).add(gn.oneMinus().mul(N.y)).toVar();s.directSpecular.addAssign(e.mul(M).mul(P6({N:_,V:w,P:x,mInv:R,p0:c,p1:g,p2:D,p3:m}))),s.directDiffuse.addAssign(e.mul(kt).mul(P6({N:_,V:w,P:x,mInv:tn(1,0,0,0,1,0,0,0,1),p0:c,p1:g,p2:D,p3:m})))}indirect(e){this.indirectDiffuse(e),this.indirectSpecular(e),this.ambientOcclusion(e)}indirectDiffuse(e){const{irradiance:t,reflectedLight:a}=e.context;a.indirectDiffuse.addAssign(t.mul(H1({diffuseColor:kt})))}indirectSpecular(e){const{radiance:t,iblIrradiance:a,reflectedLight:r}=e.context;if(this.sheen===!0&&this.sheenSpecularIndirect.addAssign(a.mul(C1,ZR({normal:pa,viewDir:Jt,roughness:TA}))),this.clearcoat===!0){const D=Bs.dot(Jt).clamp(),m=d7({dotNV:D,specularColor:Qu,specularF90:Yu,roughness:Ri});this.clearcoatSpecularIndirect.addAssign(this.clearcoatRadiance.mul(m))}const s=ae().toVar("singleScattering"),o=ae().toVar("multiScattering"),d=a.mul(1/Math.PI);this.computeMultiscattering(s,o,Mi);const c=s.add(o),g=kt.mul(c.r.max(c.g).max(c.b).oneMinus());r.indirectSpecular.addAssign(t.mul(s)),r.indirectSpecular.addAssign(o.mul(d)),r.indirectDiffuse.addAssign(g.mul(d))}ambientOcclusion(e){const{ambientOcclusion:t,reflectedLight:a}=e.context,s=pa.dot(Jt).clamp().add(t),o=C0.mul(-16).oneMinus().negate().exp2(),d=t.sub(s.pow(o).oneMinus()).clamp();this.clearcoat===!0&&this.clearcoatSpecularIndirect.mulAssign(t),this.sheen===!0&&this.sheenSpecularIndirect.mulAssign(t),a.indirectDiffuse.mulAssign(t),a.indirectSpecular.mulAssign(d)}finish({context:e}){const{outgoingLight:t}=e;if(this.clearcoat===!0){const a=Bs.dot(Jt).clamp(),r=no({dotVH:a,f0:Qu,f90:Yu}),s=t.mul(eA.mul(r).oneMinus()).add(this.clearcoatSpecularDirect.add(this.clearcoatSpecularIndirect).mul(eA));t.assign(s)}if(this.sheen===!0){const a=C1.r.max(C1.g).max(C1.b).mul(.157).oneMinus(),r=t.mul(a).add(this.sheenSpecularDirect,this.sheenSpecularIndirect);t.assign(r)}}}const W6=V(1),$c=V(-2),I2=V(.8),Xu=V(-1),E2=V(.4),Ku=V(2),k2=V(.305),Zu=V(3),H6=V(.21),JR=V(4),j6=V(4),eM=V(16),tM=ie(([n])=>{const e=ae(Qt(n)).toVar(),t=V(-1).toVar();return dt(e.x.greaterThan(e.z),()=>{dt(e.x.greaterThan(e.y),()=>{t.assign(Ga(n.x.greaterThan(0),0,3))}).Else(()=>{t.assign(Ga(n.y.greaterThan(0),1,4))})}).Else(()=>{dt(e.z.greaterThan(e.y),()=>{t.assign(Ga(n.z.greaterThan(0),2,5))}).Else(()=>{t.assign(Ga(n.y.greaterThan(0),1,4))})}),t}).setLayout({name:"getFace",type:"float",inputs:[{name:"direction",type:"vec3"}]}),aM=ie(([n,e])=>{const t=ye().toVar();return dt(e.equal(0),()=>{t.assign(ye(n.z,n.y).div(Qt(n.x)))}).ElseIf(e.equal(1),()=>{t.assign(ye(n.x.negate(),n.z.negate()).div(Qt(n.y)))}).ElseIf(e.equal(2),()=>{t.assign(ye(n.x.negate(),n.y).div(Qt(n.z)))}).ElseIf(e.equal(3),()=>{t.assign(ye(n.z.negate(),n.y).div(Qt(n.x)))}).ElseIf(e.equal(4),()=>{t.assign(ye(n.x.negate(),n.z).div(Qt(n.y)))}).Else(()=>{t.assign(ye(n.x,n.y).div(Qt(n.z)))}),ot(.5,t.add(1))}).setLayout({name:"getUV",type:"vec2",inputs:[{name:"direction",type:"vec3"},{name:"face",type:"float"}]}),nM=ie(([n])=>{const e=V(0).toVar();return dt(n.greaterThanEqual(I2),()=>{e.assign(W6.sub(n).mul(Xu.sub($c)).div(W6.sub(I2)).add($c))}).ElseIf(n.greaterThanEqual(E2),()=>{e.assign(I2.sub(n).mul(Ku.sub(Xu)).div(I2.sub(E2)).add(Xu))}).ElseIf(n.greaterThanEqual(k2),()=>{e.assign(E2.sub(n).mul(Zu.sub(Ku)).div(E2.sub(k2)).add(Ku))}).ElseIf(n.greaterThanEqual(H6),()=>{e.assign(k2.sub(n).mul(JR.sub(Zu)).div(k2.sub(H6)).add(Zu))}).Else(()=>{e.assign(V(-2).mul(L0(ot(1.16,n))))}),e}).setLayout({name:"roughnessToMip",type:"float",inputs:[{name:"roughness",type:"float"}]}),f7=ie(([n,e])=>{const t=n.toVar();t.assign(ot(2,t).sub(1));const a=ae(t,1).toVar();return dt(e.equal(0),()=>{a.assign(a.zyx)}).ElseIf(e.equal(1),()=>{a.assign(a.xzy),a.xz.mulAssign(-1)}).ElseIf(e.equal(2),()=>{a.x.mulAssign(-1)}).ElseIf(e.equal(3),()=>{a.assign(a.zyx),a.xz.mulAssign(-1)}).ElseIf(e.equal(4),()=>{a.assign(a.xzy),a.xy.mulAssign(-1)}).ElseIf(e.equal(5),()=>{a.z.mulAssign(-1)}),a}).setLayout({name:"getDirection",type:"vec3",inputs:[{name:"uv",type:"vec2"},{name:"face",type:"float"}]}),v7=ie(([n,e,t,a,r,s])=>{const o=V(t),d=ae(e),c=U0(nM(o),$c,s),g=xr(c),D=q0(c),m=ae(Qc(n,d,D,a,r,s)).toVar();return dt(g.notEqual(0),()=>{const _=ae(Qc(n,d,D.add(1),a,r,s)).toVar();m.assign(Rt(m,_,g))}),m}),Qc=ie(([n,e,t,a,r,s])=>{const o=V(t).toVar(),d=ae(e),c=V(tM(d)).toVar(),g=V(fa(j6.sub(o),0)).toVar();o.assign(fa(o,j6));const D=V(to(o)).toVar(),m=ye(aM(d,c).mul(D.sub(2)).add(1)).toVar();return dt(c.greaterThan(2),()=>{m.y.addAssign(D),c.subAssign(3)}),m.x.addAssign(c.mul(D)),m.x.addAssign(g.mul(ot(3,eM))),m.y.addAssign(ot(4,to(s).sub(D))),m.x.mulAssign(a),m.y.mulAssign(r),n.sample(m).grad(ye(),ye())}),Ju=ie(({envMap:n,mipInt:e,outputDirection:t,theta:a,axis:r,CUBEUV_TEXEL_WIDTH:s,CUBEUV_TEXEL_HEIGHT:o,CUBEUV_MAX_MIP:d})=>{const c=or(a),g=t.mul(c).add(r.cross(t).mul(Pn(a))).add(r.mul(r.dot(t).mul(c.oneMinus())));return Qc(n,g,e,s,o,d)}),m7=ie(({n,latitudinal:e,poleAxis:t,outputDirection:a,weights:r,samples:s,dTheta:o,mipInt:d,envMap:c,CUBEUV_TEXEL_WIDTH:g,CUBEUV_TEXEL_HEIGHT:D,CUBEUV_MAX_MIP:m})=>{const _=ae(Ga(e,t,RA(t,a))).toVar();dt(_.equal(ae(0)),()=>{_.assign(ae(a.z,0,a.x.negate()))}),_.assign(wr(_));const w=ae().toVar();return w.addAssign(r.element(0).mul(Ju({theta:0,axis:_,outputDirection:a,mipInt:d,envMap:c,CUBEUV_TEXEL_WIDTH:g,CUBEUV_TEXEL_HEIGHT:D,CUBEUV_MAX_MIP:m}))),Mt({start:Q(1),end:n},({i:x})=>{dt(x.greaterThanEqual(s),()=>{Y9()});const T=V(o.mul(V(x))).toVar();w.addAssign(r.element(x).mul(Ju({theta:T.mul(-1),axis:_,outputDirection:a,mipInt:d,envMap:c,CUBEUV_TEXEL_WIDTH:g,CUBEUV_TEXEL_HEIGHT:D,CUBEUV_MAX_MIP:m}))),w.addAssign(r.element(x).mul(Ju({theta:T,axis:_,outputDirection:a,mipInt:d,envMap:c,CUBEUV_TEXEL_WIDTH:g,CUBEUV_TEXEL_HEIGHT:D,CUBEUV_MAX_MIP:m})))}),Ge(w,1)}),Ls=4,$6=[.125,.215,.35,.446,.526,.582],I1=20,ed=new a8(-1,1,1,-1,0,1),rM=new di(90,1),Q6=new za;let td=null,ad=0,nd=0;const T1=(1+Math.sqrt(5))/2,gs=1/T1,Y6=[new Re(-T1,gs,0),new Re(T1,gs,0),new Re(-gs,0,T1),new Re(gs,0,T1),new Re(0,T1,-gs),new Re(0,T1,gs),new Re(-1,1,-1),new Re(1,1,-1),new Re(-1,1,1),new Re(1,1,1)],sM=new Re,y7=new WeakMap,oM=[3,1,5,0,4,2],rd=f7(na(),V0("faceIndex")).normalize(),Tp=ae(rd.x,rd.y,rd.z);class iM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._backgroundBox=null}get _hasInitialized(){return this._renderer.hasInitialized()}fromScene(e,t=0,a=.1,r=100,s={}){const{size:o=256,position:d=sM,renderTarget:c=null}=s;if(this._setSize(o),this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromScene() called before the backend is initialized. Try using .fromSceneAsync() instead.");const D=c||this._allocateTargets();return s.renderTarget=D,this.fromSceneAsync(e,t,a,r,s),D}td=this._renderer.getRenderTarget(),ad=this._renderer.getActiveCubeFace(),nd=this._renderer.getActiveMipmapLevel();const g=c||this._allocateTargets();return g.depthBuffer=!0,this._sceneToCubeUV(e,a,r,g,d),t>0&&this._blur(g,0,0,t),this._applyPMREM(g),this._cleanup(g),g}async fromSceneAsync(e,t=0,a=.1,r=100,s={}){return this._hasInitialized===!1&&await this._renderer.init(),this.fromScene(e,t,a,r,s)}fromEquirectangular(e,t=null){if(this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromEquirectangular() called before the backend is initialized. Try using .fromEquirectangularAsync() instead."),this._setSizeFromTexture(e);const a=t||this._allocateTargets();return this.fromEquirectangularAsync(e,a),a}return this._fromTexture(e,t)}async fromEquirectangularAsync(e,t=null){return this._hasInitialized===!1&&await this._renderer.init(),this._fromTexture(e,t)}fromCubemap(e,t=null){if(this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromCubemap() called before the backend is initialized. Try using .fromCubemapAsync() instead."),this._setSizeFromTexture(e);const a=t||this._allocateTargets();return this.fromCubemapAsync(e,t),a}return this._fromTexture(e,t)}async fromCubemapAsync(e,t=null){return this._hasInitialized===!1&&await this._renderer.init(),this._fromTexture(e,t)}async compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=K6(),await this._compileMaterial(this._cubemapMaterial))}async compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Z6(),await this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSizeFromTexture(e){e.mapping===js||e.mapping===$s?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4)}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(td,ad,nd),e.scissorTest=!1,N2(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSizeFromTexture(e),td=this._renderer.getRenderTarget(),ad=this._renderer.getActiveCubeFace(),nd=this._renderer.getActiveMipmapLevel();const a=t||this._allocateTargets();return this._textureToCubeUV(e,a),this._applyPMREM(a),this._cleanup(a),a}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,a={magFilter:Dr,minFilter:Dr,generateMipmaps:!1,type:Xn,format:c0,colorSpace:Yo},r=X6(e,t,a);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=X6(e,t,a);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas,lodMeshes:this._lodMeshes}=lM(s)),this._blurMaterial=AM(s,e,t)}return r}async _compileMaterial(e){const t=new Da(this._lodPlanes[0],e);await this._renderer.compile(t,ed)}_sceneToCubeUV(e,t,a,r,s){const o=rM;o.near=t,o.far=a;const d=[1,1,1,1,-1,1],c=[1,-1,1,-1,1,-1],g=this._renderer,D=g.autoClear;g.getClearColor(Q6),g.autoClear=!1;let m=this._backgroundBox;if(m===null){const x=new lr({name:"PMREM.Background",side:_n,depthWrite:!1,depthTest:!1});m=new Da(new Dh,x)}let _=!1;const w=e.background;w?w.isColor&&(m.material.color.copy(w),e.background=null,_=!0):(m.material.color.copy(Q6),_=!0),g.setRenderTarget(r),g.clear(),_&&g.render(m,o);for(let x=0;x<6;x++){const T=x%3;T===0?(o.up.set(0,d[x],0),o.position.set(s.x,s.y,s.z),o.lookAt(s.x+c[x],s.y,s.z)):T===1?(o.up.set(0,0,d[x]),o.position.set(s.x,s.y,s.z),o.lookAt(s.x,s.y+c[x],s.z)):(o.up.set(0,d[x],0),o.position.set(s.x,s.y,s.z),o.lookAt(s.x,s.y,s.z+c[x]));const I=this._cubeSize;N2(r,T*I,x>2?I:0,I,I),g.render(e,o)}g.autoClear=D,e.background=w}_textureToCubeUV(e,t){const a=this._renderer,r=e.mapping===js||e.mapping===$s;r?this._cubemapMaterial===null&&(this._cubemapMaterial=K6(e)):this._equirectMaterial===null&&(this._equirectMaterial=Z6(e));const s=r?this._cubemapMaterial:this._equirectMaterial;s.fragmentNode.value=e;const o=this._lodMeshes[0];o.material=s;const d=this._cubeSize;N2(t,0,0,3*d,2*d),a.setRenderTarget(t),a.render(o,ed)}_applyPMREM(e){const t=this._renderer,a=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),d=Y6[(r-s-1)%Y6.length];this._blur(e,s-1,s,o,d)}t.autoClear=a}_blur(e,t,a,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,a,r,"latitudinal",s),this._halfBlur(o,e,a,a,r,"longitudinal",s)}_halfBlur(e,t,a,r,s,o,d){const c=this._renderer,g=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const D=3,m=this._lodMeshes[r];m.material=g;const _=y7.get(g),w=this._sizeLods[a]-1,x=isFinite(s)?Math.PI/(2*w):2*Math.PI/(2*I1-1),T=s/x,I=isFinite(s)?1+Math.floor(D*T):I1;I>I1&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${I} samples when the maximum is set to ${I1}`);const N=[];let R=0;for(let O=0;O<I1;++O){const G=O/T,j=Math.exp(-G*G/2);N.push(j),O===0?R+=j:O<I&&(R+=2*j)}for(let O=0;O<N.length;O++)N[O]=N[O]/R;e.texture.frame=(e.texture.frame||0)+1,_.envMap.value=e.texture,_.samples.value=I,_.weights.array=N,_.latitudinal.value=o==="latitudinal"?1:0,d&&(_.poleAxis.value=d);const{_lodMax:M}=this;_.dTheta.value=x,_.mipInt.value=M-a;const B=this._sizeLods[r],F=3*B*(r>M-Ls?r-M+Ls:0),L=4*(this._cubeSize-B);N2(t,F,L,3*B,2*B),c.setRenderTarget(t),c.render(m,ed)}}function lM(n){const e=[],t=[],a=[],r=[];let s=n;const o=n-Ls+1+$6.length;for(let d=0;d<o;d++){const c=Math.pow(2,s);t.push(c);let g=1/c;d>n-Ls?g=$6[d-n+Ls-1]:d===0&&(g=0),a.push(g);const D=1/(c-2),m=-D,_=1+D,w=[m,m,_,m,_,_,m,m,_,_,m,_],x=6,T=6,I=3,N=2,R=1,M=new Float32Array(I*T*x),B=new Float32Array(N*T*x),F=new Float32Array(R*T*x);for(let O=0;O<x;O++){const G=O%3*2/3-1,j=O>2?0:-1,ne=[G,j,0,G+2/3,j,0,G+2/3,j+1,0,G,j,0,G+2/3,j+1,0,G,j+1,0],Y=oM[O];M.set(ne,I*T*Y),B.set(w,N*T*Y);const Z=[Y,Y,Y,Y,Y,Y];F.set(Z,R*T*Y)}const L=new a0;L.setAttribute("position",new D0(M,I)),L.setAttribute("uv",new D0(B,N)),L.setAttribute("faceIndex",new D0(F,R)),e.push(L),r.push(new Da(L,null)),s>Ls&&s--}return{lodPlanes:e,sizeLods:t,sigmas:a,lodMeshes:r}}function X6(n,e,t){const a=new s1(n,e,t);return a.texture.mapping=Pd,a.texture.name="PMREM.cubeUv",a.texture.isPMREMTexture=!0,a.scissorTest=!0,a}function N2(n,e,t,a,r){n.viewport.set(e,t,a,r),n.scissor.set(e,t,a,r)}function Ip(n){const e=new _a;return e.depthTest=!1,e.depthWrite=!1,e.blending=hi,e.name=`PMREM_${n}`,e}function AM(n,e,t){const a=d0(new Array(I1).fill(0)),r=Ue(new Re(0,1,0)),s=Ue(0),o=V(I1),d=Ue(0),c=Ue(1),g=ft(null),D=Ue(0),m=V(1/e),_=V(1/t),w=V(n),x={n:o,latitudinal:d,weights:a,poleAxis:r,outputDirection:Tp,dTheta:s,samples:c,envMap:g,mipInt:D,CUBEUV_TEXEL_WIDTH:m,CUBEUV_TEXEL_HEIGHT:_,CUBEUV_MAX_MIP:w},T=Ip("blur");return T.fragmentNode=m7({...x,latitudinal:d.equal(1)}),y7.set(T,x),T}function K6(n){const e=Ip("cubemap");return e.fragmentNode=ao(n,Tp),e}function Z6(n){const e=Ip("equirect");return e.fragmentNode=ft(n,wp(Tp),0),e}const J6=new WeakMap;function uM(n){const e=Math.log2(n)-2,t=1/n;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:t,maxMip:e}}function dM(n,e,t){const a=cM(e);let r=a.get(n);if((r!==void 0?r.pmremVersion:-1)!==n.pmremVersion){const o=n.image;if(n.isCubeTexture)if(pM(o))r=t.fromCubemap(n,r);else return null;else if(gM(o))r=t.fromEquirectangular(n,r);else return null;r.pmremVersion=n.pmremVersion,a.set(n,r)}return r.texture}function cM(n){let e=J6.get(n);return e===void 0&&(e=new WeakMap,J6.set(n,e)),e}class hM extends ua{static get type(){return"PMREMNode"}constructor(e,t=null,a=null){super("vec3"),this._value=e,this._pmrem=null,this.uvNode=t,this.levelNode=a,this._generator=null;const r=new O8;r.isRenderTargetTexture=!0,this._texture=ft(r),this._width=Ue(0),this._height=Ue(0),this._maxMip=Ue(0),this.updateBeforeType=st.RENDER}set value(e){this._value=e,this._pmrem=null}get value(){return this._value}updateFromTexture(e){const t=uM(e.image.height);this._texture.value=e,this._width.value=t.texelWidth,this._height.value=t.texelHeight,this._maxMip.value=t.maxMip}updateBefore(e){let t=this._pmrem;const a=t?t.pmremVersion:-1,r=this._value;a!==r.pmremVersion&&(r.isPMREMTexture===!0?t=r:t=dM(r,e.renderer,this._generator),t!==null&&(this._pmrem=t,this.updateFromTexture(t)))}setup(e){this._generator===null&&(this._generator=new iM(e.renderer)),this.updateBefore(e);let t=this.uvNode;t===null&&e.context.getUV&&(t=e.context.getUV(this)),t=cp.mul(ae(t.x,t.y.negate(),t.z));let a=this.levelNode;return a===null&&e.context.getTextureLevel&&(a=e.context.getTextureLevel(this)),v7(this._texture,t,a,this._width,this._height,this._maxMip)}dispose(){super.dispose(),this._generator!==null&&this._generator.dispose()}}function pM(n){if(n==null)return!1;let e=0;const t=6;for(let a=0;a<t;a++)n[a]!==void 0&&e++;return e===t}function gM(n){return n==null?!1:n.height>0}const Ep=me(hM).setParameterLength(1,3),eg=new WeakMap;class DM extends Ao{static get type(){return"EnvironmentNode"}constructor(e=null){super(),this.envNode=e}setup(e){const{material:t}=e;let a=this.envNode;if(a.isTextureNode||a.isMaterialReferenceNode){const m=a.isTextureNode?a.value:t[a.property];let _=eg.get(m);_===void 0&&(_=Ep(m),eg.set(m,_)),a=_}const s=t.useAnisotropy===!0||t.anisotropy>0?A9:pa,o=a.context(tg(C0,s)).mul(pl),d=a.context(fM(LA)).mul(Math.PI).mul(pl),c=si(o),g=si(d);e.context.radiance.addAssign(c),e.context.iblIrradiance.addAssign(g);const D=e.context.lightingModel.clearcoatRadiance;if(D){const m=a.context(tg(Ri,Bs)).mul(pl),_=si(m);D.addAssign(_)}}}const tg=(n,e)=>{let t=null;return{getUV:()=>(t===null&&(t=Jt.negate().reflect(e),t=n.mul(n).mix(t,e).normalize(),t=t.transformDirection(bn)),t),getTextureLevel:()=>n}},fM=n=>({getUV:()=>n,getTextureLevel:()=>V(1)}),vM=new B8;class _7 extends _a{static get type(){return"MeshStandardNodeMaterial"}constructor(e){super(),this.isMeshStandardNodeMaterial=!0,this.lights=!0,this.emissiveNode=null,this.metalnessNode=null,this.roughnessNode=null,this.setDefaultValues(vM),this.setValues(e)}setupEnvironment(e){let t=super.setupEnvironment(e);return t===null&&e.environmentNode&&(t=e.environmentNode),t?new DM(t):null}setupLightingModel(){return new D7}setupSpecular(){const e=Rt(ae(.04),kt.rgb,Ni);gn.assign(e),Mi.assign(1)}setupVariants(){const e=this.metalnessNode?V(this.metalnessNode):v9;Ni.assign(e);let t=this.roughnessNode?V(this.roughnessNode):f9;t=xp({roughness:t}),C0.assign(t),this.setupSpecular(),kt.assign(Ge(kt.rgb.mul(e.oneMinus()),kt.a))}copy(e){return this.emissiveNode=e.emissiveNode,this.metalnessNode=e.metalnessNode,this.roughnessNode=e.roughnessNode,super.copy(e)}}const mM=new Q_;class yM extends _7{static get type(){return"MeshPhysicalNodeMaterial"}constructor(e){super(),this.isMeshPhysicalNodeMaterial=!0,this.clearcoatNode=null,this.clearcoatRoughnessNode=null,this.clearcoatNormalNode=null,this.sheenNode=null,this.sheenRoughnessNode=null,this.iridescenceNode=null,this.iridescenceIORNode=null,this.iridescenceThicknessNode=null,this.specularIntensityNode=null,this.specularColorNode=null,this.iorNode=null,this.transmissionNode=null,this.thicknessNode=null,this.attenuationDistanceNode=null,this.attenuationColorNode=null,this.dispersionNode=null,this.anisotropyNode=null,this.setDefaultValues(mM),this.setValues(e)}get useClearcoat(){return this.clearcoat>0||this.clearcoatNode!==null}get useIridescence(){return this.iridescence>0||this.iridescenceNode!==null}get useSheen(){return this.sheen>0||this.sheenNode!==null}get useAnisotropy(){return this.anisotropy>0||this.anisotropyNode!==null}get useTransmission(){return this.transmission>0||this.transmissionNode!==null}get useDispersion(){return this.dispersion>0||this.dispersionNode!==null}setupSpecular(){const e=this.iorNode?V(this.iorNode):M9;ri.assign(e),gn.assign(Rt(Sn(ap(ri.sub(1).div(ri.add(1))).mul(D9),ae(1)).mul(zc),kt.rgb,Ni)),Mi.assign(Rt(zc,1,Ni))}setupLightingModel(){return new D7(this.useClearcoat,this.useSheen,this.useIridescence,this.useAnisotropy,this.useTransmission,this.useDispersion)}setupVariants(e){if(super.setupVariants(e),this.useClearcoat){const t=this.clearcoatNode?V(this.clearcoatNode):y9,a=this.clearcoatRoughnessNode?V(this.clearcoatRoughnessNode):_9;eA.assign(t),Ri.assign(xp({roughness:a}))}if(this.useSheen){const t=this.sheenNode?ae(this.sheenNode):x9,a=this.sheenRoughnessNode?V(this.sheenRoughnessNode):b9;C1.assign(t),TA.assign(a)}if(this.useIridescence){const t=this.iridescenceNode?V(this.iridescenceNode):I9,a=this.iridescenceIORNode?V(this.iridescenceIORNode):E9,r=this.iridescenceThicknessNode?V(this.iridescenceThicknessNode):k9;IA.assign(t),Vh.assign(a),zh.assign(r)}if(this.useAnisotropy){const t=(this.anisotropyNode?ye(this.anisotropyNode):T9).toVar();Ur.assign(t.length()),dt(Ur.equal(0),()=>{t.assign(ye(1,0))}).Else(()=>{t.divAssign(ye(Ur)),Ur.assign(Ur.saturate())}),tA.assign(Ur.pow2().mix(C0.pow2(),1)),ni.assign(P1[0].mul(t.x).add(P1[1].mul(t.y))),O1.assign(P1[1].mul(t.x).sub(P1[0].mul(t.y)))}if(this.useTransmission){const t=this.transmissionNode?V(this.transmissionNode):N9,a=this.thicknessNode?V(this.thicknessNode):R9,r=this.attenuationDistanceNode?V(this.attenuationDistanceNode):C9,s=this.attenuationColorNode?ae(this.attenuationColorNode):P9;if(nA.assign(t),Wh.assign(a),Hh.assign(r),jh.assign(s),this.useDispersion){const o=this.dispersionNode?V(this.dispersionNode):U9;$h.assign(o)}}}setupClearcoatNormal(){return this.clearcoatNormalNode?ae(this.clearcoatNormalNode):w9}setup(e){e.context.setupClearcoatNormal=()=>this.setupClearcoatNormal(e),super.setup(e)}copy(e){return this.clearcoatNode=e.clearcoatNode,this.clearcoatRoughnessNode=e.clearcoatRoughnessNode,this.clearcoatNormalNode=e.clearcoatNormalNode,this.sheenNode=e.sheenNode,this.sheenRoughnessNode=e.sheenRoughnessNode,this.iridescenceNode=e.iridescenceNode,this.iridescenceIORNode=e.iridescenceIORNode,this.iridescenceThicknessNode=e.iridescenceThicknessNode,this.specularIntensityNode=e.specularIntensityNode,this.specularColorNode=e.specularColorNode,this.transmissionNode=e.transmissionNode,this.thicknessNode=e.thicknessNode,this.attenuationDistanceNode=e.attenuationDistanceNode,this.attenuationColorNode=e.attenuationColorNode,this.dispersionNode=e.dispersionNode,this.anisotropyNode=e.anisotropyNode,super.copy(e)}}const _M=ie(({normal:n,lightDirection:e,builder:t})=>{const a=n.dot(e),r=ye(a.mul(.5).add(.5),0);if(t.material.gradientMap){const s=ur("gradientMap","texture").context({getUV:()=>r});return ae(s.r)}else{const s=r.fwidth().mul(.5);return Rt(ae(.7),ae(1),G0(V(.7).sub(s.x),V(.7).add(s.x),r.x))}});class wM extends UA{direct({lightDirection:e,lightColor:t,reflectedLight:a},r){const s=_M({normal:PA,lightDirection:e,builder:r}).mul(t);a.directDiffuse.addAssign(s.mul(H1({diffuseColor:kt.rgb})))}indirect(e){const{ambientOcclusion:t,irradiance:a,reflectedLight:r}=e.context;r.indirectDiffuse.addAssign(a.mul(H1({diffuseColor:kt}))),r.indirectDiffuse.mulAssign(t)}}const SM=new Y_;class xM extends _a{static get type(){return"MeshToonNodeMaterial"}constructor(e){super(),this.isMeshToonNodeMaterial=!0,this.lights=!0,this.setDefaultValues(SM),this.setValues(e)}setupLightingModel(){return new wM}}class bM extends ua{static get type(){return"MatcapUVNode"}constructor(){super("vec2")}setup(){const e=ae(Jt.z,0,Jt.x.negate()).normalize(),t=Jt.cross(e);return ye(e.dot(pa),t.dot(pa)).mul(.495).add(.5)}}const w7=Ne(bM),TM=new K_;class IM extends _a{static get type(){return"MeshMatcapNodeMaterial"}constructor(e){super(),this.isMeshMatcapNodeMaterial=!0,this.setDefaultValues(TM),this.setValues(e)}setupVariants(e){const t=w7;let a;e.material.matcap?a=ur("matcap","texture").context({getUV:()=>t}):a=ae(Rt(.2,.8,t.y)),kt.rgb.mulAssign(a.rgb)}}class EM extends ua{static get type(){return"RotateNode"}constructor(e,t){super(),this.positionNode=e,this.rotationNode=t}getNodeType(e){return this.positionNode.getNodeType(e)}setup(e){const{rotationNode:t,positionNode:a}=this;if(this.getNodeType(e)==="vec2"){const s=t.cos(),o=t.sin();return xA(s,o,o.negate(),s).mul(a)}else{const s=t,o=F1(Ge(1,0,0,0),Ge(0,or(s.x),Pn(s.x).negate(),0),Ge(0,Pn(s.x),or(s.x),0),Ge(0,0,0,1)),d=F1(Ge(or(s.y),0,Pn(s.y),0),Ge(0,1,0,0),Ge(Pn(s.y).negate(),0,or(s.y),0),Ge(0,0,0,1)),c=F1(Ge(or(s.z),Pn(s.z).negate(),0,0),Ge(Pn(s.z),or(s.z),0,0),Ge(0,0,1,0),Ge(0,0,0,1));return o.mul(d).mul(c).mul(Ge(a,1)).xyz}}}const VA=me(EM).setParameterLength(2),kM=new J_;class S7 extends _a{static get type(){return"SpriteNodeMaterial"}constructor(e){super(),this.isSpriteNodeMaterial=!0,this._useSizeAttenuation=!0,this.positionNode=null,this.rotationNode=null,this.scaleNode=null,this.transparent=!0,this.setDefaultValues(kM),this.setValues(e)}setupPositionView(e){const{object:t,camera:a}=e,r=this.sizeAttenuation,{positionNode:s,rotationNode:o,scaleNode:d}=this,c=X1.mul(ae(s||0));let g=ye(Qn[0].xyz.length(),Qn[1].xyz.length());if(d!==null&&(g=g.mul(ye(d))),r===!1)if(a.isPerspectiveCamera)g=g.mul(c.z.negate());else{const w=V(2).div(Y1.element(1).element(1));g=g.mul(w.mul(2))}let D=Yi.xy;if(t.center&&t.center.isVector2===!0){const w=Fk("center","vec2",t);D=D.sub(w.sub(.5))}D=D.mul(g);const m=V(o||S9),_=VA(D,m);return Ge(c.xy.add(_),c.zw)}copy(e){return this.positionNode=e.positionNode,this.rotationNode=e.rotationNode,this.scaleNode=e.scaleNode,super.copy(e)}get sizeAttenuation(){return this._useSizeAttenuation}set sizeAttenuation(e){this._useSizeAttenuation!==e&&(this._useSizeAttenuation=e,this.needsUpdate=!0)}}const NM=new L8;class RM extends S7{static get type(){return"PointsNodeMaterial"}constructor(e){super(),this.sizeNode=null,this.isPointsNodeMaterial=!0,this.setDefaultValues(NM),this.setValues(e)}setupPositionView(){const{positionNode:e}=this;return X1.mul(ae(e||ga)).xyz}setupVertex(e){const t=super.setupVertex(e);if(e.material.isNodeMaterial!==!0)return t;const{rotationNode:a,scaleNode:r,sizeNode:s}=this,o=Yi.xy.toVar(),d=Ws.z.div(Ws.w);if(a&&a.isNode){const g=V(a);o.assign(VA(o,g))}let c=s!==null?ye(s):O9;return this.sizeAttenuation===!0&&(c=c.mul(c.div(va.z.negate()))),r&&r.isNode&&(c=c.mul(ye(r))),o.mulAssign(c.mul(2)),o.assign(o.div(Ws.z)),o.y.assign(o.y.mul(d)),o.assign(o.mul(t.w)),t.addAssign(Ge(o,0,0)),t}get alphaToCoverage(){return this._useAlphaToCoverage}set alphaToCoverage(e){this._useAlphaToCoverage!==e&&(this._useAlphaToCoverage=e,this.needsUpdate=!0)}}class MM extends UA{constructor(){super(),this.shadowNode=V(1).toVar("shadowMask")}direct({lightNode:e}){this.shadowNode.mulAssign(e.shadowNode)}finish({context:e}){kt.a.mulAssign(this.shadowNode.oneMinus()),e.outgoingLight.rgb.assign(kt.rgb)}}const CM=new ew;class PM extends _a{static get type(){return"ShadowNodeMaterial"}constructor(e){super(),this.isShadowNodeMaterial=!0,this.lights=!0,this.transparent=!0,this.setDefaultValues(CM),this.setValues(e)}setupLightingModel(){return new MM}}lo("vec3");lo("vec3");lo("vec3");class BM{constructor(e,t){this.nodes=e,this.info=t,this._context=self,this._animationLoop=null,this._requestId=null}start(){const e=(t,a)=>{this._requestId=this._context.requestAnimationFrame(e),this.info.autoReset===!0&&this.info.reset(),this.nodes.nodeFrame.update(),this.info.frame=this.nodes.nodeFrame.frameId,this._animationLoop!==null&&this._animationLoop(t,a)};e()}stop(){this._context.cancelAnimationFrame(this._requestId),this._requestId=null}getAnimationLoop(){return this._animationLoop}setAnimationLoop(e){this._animationLoop=e}getContext(){return this._context}setContext(e){this._context=e}dispose(){this.stop()}}class H0{constructor(){this.weakMap=new WeakMap}get(e){let t=this.weakMap;for(let a=0;a<e.length-1;a++)if(t=t.get(e[a]),t===void 0)return;return t.get(e[e.length-1])}set(e,t){let a=this.weakMap;for(let r=0;r<e.length-1;r++){const s=e[r];a.has(s)===!1&&a.set(s,new WeakMap),a=a.get(s)}return a.set(e[e.length-1],t),this}delete(e){let t=this.weakMap;for(let a=0;a<e.length-1;a++)if(t=t.get(e[a]),t===void 0)return!1;return t.delete(e[e.length-1])}}let LM=0;function qM(n){const e=Object.keys(n);let t=Object.getPrototypeOf(n);for(;t;){const a=Object.getOwnPropertyDescriptors(t);for(const r in a)if(a[r]!==void 0){const s=a[r];s&&typeof s.get=="function"&&e.push(r)}t=Object.getPrototypeOf(t)}return e}class FM{constructor(e,t,a,r,s,o,d,c,g,D){this.id=LM++,this._nodes=e,this._geometries=t,this.renderer=a,this.object=r,this.material=s,this.scene=o,this.camera=d,this.lightsNode=c,this.context=g,this.geometry=r.geometry,this.version=s.version,this.drawRange=null,this.attributes=null,this.pipeline=null,this.group=null,this.vertexBuffers=null,this.drawParams=null,this.bundle=null,this.clippingContext=D,this.clippingContextCacheKey=D!==null?D.cacheKey:"",this.initialNodesCacheKey=this.getDynamicCacheKey(),this.initialCacheKey=this.getCacheKey(),this._nodeBuilderState=null,this._bindings=null,this._monitor=null,this.onDispose=null,this.isRenderObject=!0,this.onMaterialDispose=()=>{this.dispose()},this.material.addEventListener("dispose",this.onMaterialDispose)}updateClipping(e){this.clippingContext=e}get clippingNeedsUpdate(){return this.clippingContext===null||this.clippingContext.cacheKey===this.clippingContextCacheKey?!1:(this.clippingContextCacheKey=this.clippingContext.cacheKey,!0)}get hardwareClippingPlanes(){return this.material.hardwareClipping===!0?this.clippingContext.unionClippingCount:0}getNodeBuilderState(){return this._nodeBuilderState||(this._nodeBuilderState=this._nodes.getForRender(this))}getMonitor(){return this._monitor||(this._monitor=this.getNodeBuilderState().observer)}getBindings(){return this._bindings||(this._bindings=this.getNodeBuilderState().createBindings())}getBindingGroup(e){for(const t of this.getBindings())if(t.name===e)return t}getIndex(){return this._geometries.getIndex(this)}getIndirect(){return this._geometries.getIndirect(this)}getChainArray(){return[this.object,this.material,this.context,this.lightsNode]}setGeometry(e){this.geometry=e,this.attributes=null}getAttributes(){if(this.attributes!==null)return this.attributes;const e=this.getNodeBuilderState().nodeAttributes,t=this.geometry,a=[],r=new Set;for(const s of e){const o=s.node&&s.node.attribute?s.node.attribute:t.getAttribute(s.name);if(o===void 0)continue;a.push(o);const d=o.isInterleavedBufferAttribute?o.data:o;r.add(d)}return this.attributes=a,this.vertexBuffers=Array.from(r.values()),a}getVertexBuffers(){return this.vertexBuffers===null&&this.getAttributes(),this.vertexBuffers}getDrawParameters(){const{object:e,material:t,geometry:a,group:r,drawRange:s}=this,o=this.drawParams||(this.drawParams={vertexCount:0,firstVertex:0,instanceCount:0,firstInstance:0}),d=this.getIndex(),c=d!==null,g=a.isInstancedBufferGeometry?a.instanceCount:e.count>1?e.count:1;if(g===0)return null;if(o.instanceCount=g,e.isBatchedMesh===!0)return o;let D=1;t.wireframe===!0&&!e.isPoints&&!e.isLineSegments&&!e.isLine&&!e.isLineLoop&&(D=2);let m=s.start*D,_=(s.start+s.count)*D;r!==null&&(m=Math.max(m,r.start*D),_=Math.min(_,(r.start+r.count)*D));const w=a.attributes.position;let x=1/0;c?x=d.count:w!=null&&(x=w.count),m=Math.max(m,0),_=Math.min(_,x);const T=_-m;return T<0||T===1/0?null:(o.vertexCount=T,o.firstVertex=m,o)}getGeometryCacheKey(){const{geometry:e}=this;let t="";for(const a of Object.keys(e.attributes).sort()){const r=e.attributes[a];t+=a+",",r.data&&(t+=r.data.stride+","),r.offset&&(t+=r.offset+","),r.itemSize&&(t+=r.itemSize+","),r.normalized&&(t+="n,")}for(const a of Object.keys(e.morphAttributes).sort()){const r=e.morphAttributes[a];t+="morph-"+a+",";for(let s=0,o=r.length;s<o;s++){const d=r[s];t+=d.id+","}}return e.index&&(t+="index,"),t}getMaterialCacheKey(){const{object:e,material:t}=this;let a=t.customProgramCacheKey();for(const r of qM(t)){if(/^(is[A-Z]|_)|^(visible|version|uuid|name|opacity|userData)$/.test(r))continue;const s=t[r];let o;if(s!==null){const d=typeof s;d==="number"?o=s!==0?"1":"0":d==="object"?(o="{",s.isTexture&&(o+=s.mapping),o+="}"):o=String(s)}else o=String(s);a+=o+","}return a+=this.clippingContextCacheKey+",",e.geometry&&(a+=this.getGeometryCacheKey()),e.skeleton&&(a+=e.skeleton.bones.length+","),e.isBatchedMesh&&(a+=e._matricesTexture.uuid+",",e._colorsTexture!==null&&(a+=e._colorsTexture.uuid+",")),e.count>1&&(a+=e.uuid+","),a+=e.receiveShadow+",",ef(a)}get needsGeometryUpdate(){return this.geometry.id!==this.object.geometry.id}get needsUpdate(){return this.initialNodesCacheKey!==this.getDynamicCacheKey()||this.clippingNeedsUpdate}getDynamicCacheKey(){let e=0;return this.material.isShadowPassMaterial!==!0&&(e=this._nodes.getCacheKey(this.scene,this.lightsNode)),this.camera.isArrayCamera&&(e=Ti(e,this.camera.cameras.length)),this.object.receiveShadow&&(e=Ti(e,1)),e}getCacheKey(){return this.getMaterialCacheKey()+this.getDynamicCacheKey()}dispose(){this.material.removeEventListener("dispose",this.onMaterialDispose),this.onDispose()}}const m1=[];class OM{constructor(e,t,a,r,s,o){this.renderer=e,this.nodes=t,this.geometries=a,this.pipelines=r,this.bindings=s,this.info=o,this.chainMaps={}}get(e,t,a,r,s,o,d,c){const g=this.getChainMap(c);m1[0]=e,m1[1]=t,m1[2]=o,m1[3]=s;let D=g.get(m1);return D===void 0?(D=this.createRenderObject(this.nodes,this.geometries,this.renderer,e,t,a,r,s,o,d,c),g.set(m1,D)):(D.updateClipping(d),D.needsGeometryUpdate&&D.setGeometry(e.geometry),(D.version!==t.version||D.needsUpdate)&&(D.initialCacheKey!==D.getCacheKey()?(D.dispose(),D=this.get(e,t,a,r,s,o,d,c)):D.version=t.version)),m1.length=0,D}getChainMap(e="default"){return this.chainMaps[e]||(this.chainMaps[e]=new H0)}dispose(){this.chainMaps={}}createRenderObject(e,t,a,r,s,o,d,c,g,D,m){const _=this.getChainMap(m),w=new FM(e,t,a,r,s,o,d,c,g,D);return w.onDispose=()=>{this.pipelines.delete(w),this.bindings.delete(w),this.nodes.delete(w),_.delete(w.getChainArray())},w}}class i1{constructor(){this.data=new WeakMap}get(e){let t=this.data.get(e);return t===void 0&&(t={},this.data.set(e,t)),t}delete(e){let t=null;return this.data.has(e)&&(t=this.data.get(e),this.data.delete(e)),t}has(e){return this.data.has(e)}dispose(){this.data=new WeakMap}}const Yn={VERTEX:1,INDEX:2,STORAGE:3,INDIRECT:4},Wr=16,UM=211,GM=212;class VM extends i1{constructor(e){super(),this.backend=e}delete(e){const t=super.delete(e);return t!==null&&this.backend.destroyAttribute(e),t}update(e,t){const a=this.get(e);if(a.version===void 0)t===Yn.VERTEX?this.backend.createAttribute(e):t===Yn.INDEX?this.backend.createIndexAttribute(e):t===Yn.STORAGE?this.backend.createStorageAttribute(e):t===Yn.INDIRECT&&this.backend.createIndirectStorageAttribute(e),a.version=this._getBufferAttribute(e).version;else{const r=this._getBufferAttribute(e);(a.version<r.version||r.usage===Es)&&(this.backend.updateAttribute(e),a.version=r.version)}}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}function x7(n){return n.index!==null?n.index.version:n.attributes.position.version}function ag(n){const e=[],t=n.index,a=n.attributes.position;if(t!==null){const s=t.array;for(let o=0,d=s.length;o<d;o+=3){const c=s[o+0],g=s[o+1],D=s[o+2];e.push(c,g,g,D,D,c)}}else{const s=a.array;for(let o=0,d=s.length/3-1;o<d;o+=3){const c=o+0,g=o+1,D=o+2;e.push(c,g,g,D,D,c)}}const r=new(lw(e)?ow:iw)(e,1);return r.version=x7(n),r}class zM extends i1{constructor(e,t){super(),this.attributes=e,this.info=t,this.wireframes=new WeakMap,this.attributeCall=new WeakMap}has(e){const t=e.geometry;return super.has(t)&&this.get(t).initialized===!0}updateForRender(e){this.has(e)===!1&&this.initGeometry(e),this.updateAttributes(e)}initGeometry(e){const t=e.geometry,a=this.get(t);a.initialized=!0,this.info.memory.geometries++;const r=()=>{this.info.memory.geometries--;const s=t.index,o=e.getAttributes();s!==null&&this.attributes.delete(s);for(const c of o)this.attributes.delete(c);const d=this.wireframes.get(t);d!==void 0&&this.attributes.delete(d),t.removeEventListener("dispose",r)};t.addEventListener("dispose",r)}updateAttributes(e){const t=e.getAttributes();for(const s of t)s.isStorageBufferAttribute||s.isStorageInstancedBufferAttribute?this.updateAttribute(s,Yn.STORAGE):this.updateAttribute(s,Yn.VERTEX);const a=this.getIndex(e);a!==null&&this.updateAttribute(a,Yn.INDEX);const r=e.geometry.indirect;r!==null&&this.updateAttribute(r,Yn.INDIRECT)}updateAttribute(e,t){const a=this.info.render.calls;e.isInterleavedBufferAttribute?this.attributeCall.get(e)===void 0?(this.attributes.update(e,t),this.attributeCall.set(e,a)):this.attributeCall.get(e.data)!==a&&(this.attributes.update(e,t),this.attributeCall.set(e.data,a),this.attributeCall.set(e,a)):this.attributeCall.get(e)!==a&&(this.attributes.update(e,t),this.attributeCall.set(e,a))}getIndirect(e){return e.geometry.indirect}getIndex(e){const{geometry:t,material:a}=e;let r=t.index;if(a.wireframe===!0){const s=this.wireframes;let o=s.get(t);o===void 0?(o=ag(t),s.set(t,o)):o.version!==x7(t)&&(this.attributes.delete(o),o=ag(t),s.set(t,o)),r=o}return r}}class WM{constructor(){this.autoReset=!0,this.frame=0,this.calls=0,this.render={calls:0,frameCalls:0,drawCalls:0,triangles:0,points:0,lines:0,timestamp:0},this.compute={calls:0,frameCalls:0,timestamp:0},this.memory={geometries:0,textures:0}}update(e,t,a){this.render.drawCalls++,e.isMesh||e.isSprite?this.render.triangles+=a*(t/3):e.isPoints?this.render.points+=a*t:e.isLineSegments?this.render.lines+=a*(t/2):e.isLine?this.render.lines+=a*(t-1):console.error("THREE.WebGPUInfo: Unknown object type.")}reset(){this.render.drawCalls=0,this.render.frameCalls=0,this.compute.frameCalls=0,this.render.triangles=0,this.render.points=0,this.render.lines=0}dispose(){this.reset(),this.calls=0,this.render.calls=0,this.compute.calls=0,this.render.timestamp=0,this.compute.timestamp=0,this.memory.geometries=0,this.memory.textures=0}}class b7{constructor(e){this.cacheKey=e,this.usedTimes=0}}class HM extends b7{constructor(e,t,a){super(e),this.vertexProgram=t,this.fragmentProgram=a}}class jM extends b7{constructor(e,t){super(e),this.computeProgram=t,this.isComputePipeline=!0}}let $M=0;class sd{constructor(e,t,a,r=null,s=null){this.id=$M++,this.code=e,this.stage=t,this.name=a,this.transforms=r,this.attributes=s,this.usedTimes=0}}class QM extends i1{constructor(e,t){super(),this.backend=e,this.nodes=t,this.bindings=null,this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}getForCompute(e,t){const{backend:a}=this,r=this.get(e);if(this._needsComputeUpdate(e)){const s=r.pipeline;s&&(s.usedTimes--,s.computeProgram.usedTimes--);const o=this.nodes.getForCompute(e);let d=this.programs.compute.get(o.computeShader);d===void 0&&(s&&s.computeProgram.usedTimes===0&&this._releaseProgram(s.computeProgram),d=new sd(o.computeShader,"compute",e.name,o.transforms,o.nodeAttributes),this.programs.compute.set(o.computeShader,d),a.createProgram(d));const c=this._getComputeCacheKey(e,d);let g=this.caches.get(c);g===void 0&&(s&&s.usedTimes===0&&this._releasePipeline(s),g=this._getComputePipeline(e,d,c,t)),g.usedTimes++,d.usedTimes++,r.version=e.version,r.pipeline=g}return r.pipeline}getForRender(e,t=null){const{backend:a}=this,r=this.get(e);if(this._needsRenderUpdate(e)){const s=r.pipeline;s&&(s.usedTimes--,s.vertexProgram.usedTimes--,s.fragmentProgram.usedTimes--);const o=e.getNodeBuilderState(),d=e.material?e.material.name:"";let c=this.programs.vertex.get(o.vertexShader);c===void 0&&(s&&s.vertexProgram.usedTimes===0&&this._releaseProgram(s.vertexProgram),c=new sd(o.vertexShader,"vertex",d),this.programs.vertex.set(o.vertexShader,c),a.createProgram(c));let g=this.programs.fragment.get(o.fragmentShader);g===void 0&&(s&&s.fragmentProgram.usedTimes===0&&this._releaseProgram(s.fragmentProgram),g=new sd(o.fragmentShader,"fragment",d),this.programs.fragment.set(o.fragmentShader,g),a.createProgram(g));const D=this._getRenderCacheKey(e,c,g);let m=this.caches.get(D);m===void 0?(s&&s.usedTimes===0&&this._releasePipeline(s),m=this._getRenderPipeline(e,c,g,D,t)):e.pipeline=m,m.usedTimes++,c.usedTimes++,g.usedTimes++,r.pipeline=m}return r.pipeline}delete(e){const t=this.get(e).pipeline;return t&&(t.usedTimes--,t.usedTimes===0&&this._releasePipeline(t),t.isComputePipeline?(t.computeProgram.usedTimes--,t.computeProgram.usedTimes===0&&this._releaseProgram(t.computeProgram)):(t.fragmentProgram.usedTimes--,t.vertexProgram.usedTimes--,t.vertexProgram.usedTimes===0&&this._releaseProgram(t.vertexProgram),t.fragmentProgram.usedTimes===0&&this._releaseProgram(t.fragmentProgram))),super.delete(e)}dispose(){super.dispose(),this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}updateForRender(e){this.getForRender(e)}_getComputePipeline(e,t,a,r){a=a||this._getComputeCacheKey(e,t);let s=this.caches.get(a);return s===void 0&&(s=new jM(a,t),this.caches.set(a,s),this.backend.createComputePipeline(s,r)),s}_getRenderPipeline(e,t,a,r,s){r=r||this._getRenderCacheKey(e,t,a);let o=this.caches.get(r);return o===void 0&&(o=new HM(r,t,a),this.caches.set(r,o),e.pipeline=o,this.backend.createRenderPipeline(e,s)),o}_getComputeCacheKey(e,t){return e.id+","+t.id}_getRenderCacheKey(e,t,a){return t.id+","+a.id+","+this.backend.getRenderCacheKey(e)}_releasePipeline(e){this.caches.delete(e.cacheKey)}_releaseProgram(e){const t=e.code,a=e.stage;this.programs[a].delete(t)}_needsComputeUpdate(e){const t=this.get(e);return t.pipeline===void 0||t.version!==e.version}_needsRenderUpdate(e){return this.get(e).pipeline===void 0||this.backend.needsRenderUpdate(e)}}class YM extends i1{constructor(e,t,a,r,s,o){super(),this.backend=e,this.textures=a,this.pipelines=s,this.attributes=r,this.nodes=t,this.info=o,this.pipelines.bindings=this}getForRender(e){const t=e.getBindings();for(const a of t){const r=this.get(a);r.bindGroup===void 0&&(this._init(a),this.backend.createBindings(a,t,0),r.bindGroup=a)}return t}getForCompute(e){const t=this.nodes.getForCompute(e).bindings;for(const a of t){const r=this.get(a);r.bindGroup===void 0&&(this._init(a),this.backend.createBindings(a,t,0),r.bindGroup=a)}return t}updateForCompute(e){this._updateBindings(this.getForCompute(e))}updateForRender(e){this._updateBindings(this.getForRender(e))}_updateBindings(e){for(const t of e)this._update(t,e)}_init(e){for(const t of e.bindings)if(t.isSampledTexture)this.textures.updateTexture(t.texture);else if(t.isStorageBuffer){const a=t.attribute,r=a.isIndirectStorageBufferAttribute?Yn.INDIRECT:Yn.STORAGE;this.attributes.update(a,r)}}_update(e,t){const{backend:a}=this;let r=!1,s=!0,o=0,d=0;for(const c of e.bindings)if(!(c.isNodeUniformsGroup&&this.nodes.updateGroup(c)===!1)){if(c.isStorageBuffer){const g=c.attribute,D=g.isIndirectStorageBufferAttribute?Yn.INDIRECT:Yn.STORAGE;this.attributes.update(g,D)}if(c.isUniformBuffer)c.update()&&a.updateBinding(c);else if(c.isSampler)c.update();else if(c.isSampledTexture){const g=this.textures.get(c.texture);c.needsBindingsUpdate(g.generation)&&(r=!0);const D=c.update(),m=c.texture;D&&this.textures.updateTexture(m);const _=a.get(m);if(_.externalTexture!==void 0||g.isDefaultTexture?s=!1:(o=o*10+m.id,d+=m.version),a.isWebGPUBackend===!0&&_.texture===void 0&&_.externalTexture===void 0&&(console.error("Bindings._update: binding should be available:",c,D,m,c.textureNode.value,r),this.textures.updateTexture(m),r=!0),m.isStorageTexture===!0){const w=this.get(m);c.store===!0?w.needsMipmap=!0:this.textures.needsMipmaps(m)&&w.needsMipmap===!0&&(this.backend.generateMipmaps(m),w.needsMipmap=!1)}}}r===!0&&this.backend.updateBindings(e,t,s?o:0,d)}}function XM(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function ng(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function rg(n){return(n.transmission>0||n.transmissionNode)&&n.side===f0&&n.forceSinglePass===!1}class KM{constructor(e,t,a){this.renderItems=[],this.renderItemsIndex=0,this.opaque=[],this.transparentDoublePass=[],this.transparent=[],this.bundles=[],this.lightsNode=e.getNode(t,a),this.lightsArray=[],this.scene=t,this.camera=a,this.occlusionQueryCount=0}begin(){return this.renderItemsIndex=0,this.opaque.length=0,this.transparentDoublePass.length=0,this.transparent.length=0,this.bundles.length=0,this.lightsArray.length=0,this.occlusionQueryCount=0,this}getNextRenderItem(e,t,a,r,s,o,d){let c=this.renderItems[this.renderItemsIndex];return c===void 0?(c={id:e.id,object:e,geometry:t,material:a,groupOrder:r,renderOrder:e.renderOrder,z:s,group:o,clippingContext:d},this.renderItems[this.renderItemsIndex]=c):(c.id=e.id,c.object=e,c.geometry=t,c.material=a,c.groupOrder=r,c.renderOrder=e.renderOrder,c.z=s,c.group=o,c.clippingContext=d),this.renderItemsIndex++,c}push(e,t,a,r,s,o,d){const c=this.getNextRenderItem(e,t,a,r,s,o,d);e.occlusionTest===!0&&this.occlusionQueryCount++,a.transparent===!0||a.transmission>0?(rg(a)&&this.transparentDoublePass.push(c),this.transparent.push(c)):this.opaque.push(c)}unshift(e,t,a,r,s,o,d){const c=this.getNextRenderItem(e,t,a,r,s,o,d);a.transparent===!0||a.transmission>0?(rg(a)&&this.transparentDoublePass.unshift(c),this.transparent.unshift(c)):this.opaque.unshift(c)}pushBundle(e){this.bundles.push(e)}pushLight(e){this.lightsArray.push(e)}sort(e,t){this.opaque.length>1&&this.opaque.sort(e||XM),this.transparentDoublePass.length>1&&this.transparentDoublePass.sort(t||ng),this.transparent.length>1&&this.transparent.sort(t||ng)}finish(){this.lightsNode.setLights(this.lightsArray);for(let e=this.renderItemsIndex,t=this.renderItems.length;e<t;e++){const a=this.renderItems[e];if(a.id===null)break;a.id=null,a.object=null,a.geometry=null,a.material=null,a.groupOrder=null,a.renderOrder=null,a.z=null,a.group=null,a.clippingContext=null}}}const ko=[];class ZM{constructor(e){this.lighting=e,this.lists=new H0}get(e,t){const a=this.lists;ko[0]=e,ko[1]=t;let r=a.get(ko);return r===void 0&&(r=new KM(this.lighting,e,t),a.set(ko,r)),ko.length=0,r}dispose(){this.lists=new H0}}let JM=0;class eC{constructor(){this.id=JM++,this.color=!0,this.clearColor=!0,this.clearColorValue={r:0,g:0,b:0,a:1},this.depth=!0,this.clearDepth=!0,this.clearDepthValue=1,this.stencil=!1,this.clearStencil=!0,this.clearStencilValue=1,this.viewport=!1,this.viewportValue=new Ut,this.scissor=!1,this.scissorValue=new Ut,this.renderTarget=null,this.textures=null,this.depthTexture=null,this.activeCubeFace=0,this.activeMipmapLevel=0,this.sampleCount=1,this.width=0,this.height=0,this.occlusionQueryCount=0,this.clippingContext=null,this.isRenderContext=!0}getCacheKey(){return T7(this)}}function T7(n){const{textures:e,activeCubeFace:t}=n,a=[t];for(const r of e)a.push(r.id);return _A(a)}const No=[],tC=new cA,aC=new sh;class nC{constructor(){this.chainMaps={}}get(e,t,a=null){No[0]=e,No[1]=t;let r;if(a===null)r="default";else{const d=a.texture.format;r=`${a.textures.length}:${d}:${a.samples}:${a.depthBuffer}:${a.stencilBuffer}`}const s=this._getChainMap(r);let o=s.get(No);return o===void 0&&(o=new eC,s.set(No,o)),No.length=0,a!==null&&(o.sampleCount=a.samples===0?1:a.samples),o}getForClear(e=null){return this.get(tC,aC,e)}_getChainMap(e){return this.chainMaps[e]||(this.chainMaps[e]=new H0)}dispose(){this.chainMaps={}}}const rC=new Re;class sC extends i1{constructor(e,t,a){super(),this.renderer=e,this.backend=t,this.info=a}updateRenderTarget(e,t=0){const a=this.get(e),r=e.samples===0?1:e.samples,s=a.depthTextureMips||(a.depthTextureMips={}),o=e.textures,d=this.getSize(o[0]),c=d.width>>t,g=d.height>>t;let D=e.depthTexture||s[t];const m=e.depthBuffer===!0||e.stencilBuffer===!0;let _=!1;D===void 0&&m&&(D=new v0,D.format=e.stencilBuffer?Xr:Kr,D.type=e.stencilBuffer?Yr:xa,D.image.width=c,D.image.height=g,s[t]=D),(a.width!==d.width||d.height!==a.height)&&(_=!0,D&&(D.needsUpdate=!0,D.image.width=c,D.image.height=g)),a.width=d.width,a.height=d.height,a.textures=o,a.depthTexture=D||null,a.depth=e.depthBuffer,a.stencil=e.stencilBuffer,a.renderTarget=e,a.sampleCount!==r&&(_=!0,D&&(D.needsUpdate=!0),a.sampleCount=r);const w={sampleCount:r};if(e.isXRRenderTarget!==!0){for(let x=0;x<o.length;x++){const T=o[x];_&&(T.needsUpdate=!0),this.updateTexture(T,w)}D&&this.updateTexture(D,w)}if(a.initialized!==!0){a.initialized=!0;const x=()=>{e.removeEventListener("dispose",x);for(let T=0;T<o.length;T++)this._destroyTexture(o[T]);D&&this._destroyTexture(D),this.delete(e)};e.addEventListener("dispose",x)}}updateTexture(e,t={}){const a=this.get(e);if(a.initialized===!0&&a.version===e.version)return;const r=e.isRenderTargetTexture||e.isDepthTexture||e.isFramebufferTexture,s=this.backend;if(r&&a.initialized===!0&&(s.destroySampler(e),s.destroyTexture(e)),e.isFramebufferTexture){const g=this.renderer.getRenderTarget();g?e.type=g.texture.type:e.type=Bn}const{width:o,height:d,depth:c}=this.getSize(e);if(t.width=o,t.height=d,t.depth=c,t.needsMipmaps=this.needsMipmaps(e),t.levels=t.needsMipmaps?this.getMipLevels(e,o,d):1,r||e.isStorageTexture===!0)s.createSampler(e),s.createTexture(e,t),a.generation=e.version;else if(a.initialized!==!0&&s.createSampler(e),e.version>0){const D=e.image;if(D===void 0)console.warn("THREE.Renderer: Texture marked for update but image is undefined.");else if(D.complete===!1)console.warn("THREE.Renderer: Texture marked for update but image is incomplete.");else{if(e.images){const m=[];for(const _ of e.images)m.push(_);t.images=m}else t.image=D;(a.isDefaultTexture===void 0||a.isDefaultTexture===!0)&&(s.createTexture(e,t),a.isDefaultTexture=!1,a.generation=e.version),e.source.dataReady===!0&&s.updateTexture(e,t),t.needsMipmaps&&e.mipmaps.length===0&&s.generateMipmaps(e)}}else s.createDefaultTexture(e),a.isDefaultTexture=!0,a.generation=e.version;if(a.initialized!==!0){a.initialized=!0,a.generation=e.version,this.info.memory.textures++;const g=()=>{e.removeEventListener("dispose",g),this._destroyTexture(e),this.info.memory.textures--};e.addEventListener("dispose",g)}a.version=e.version}getSize(e,t=rC){let a=e.images?e.images[0]:e.image;return a?(a.image!==void 0&&(a=a.image),t.width=a.width||1,t.height=a.height||1,t.depth=e.isCubeTexture?6:a.depth||1):t.width=t.height=t.depth=1,t}getMipLevels(e,t,a){let r;return e.isCompressedTexture?e.mipmaps?r=e.mipmaps.length:r=1:r=Math.floor(Math.log2(Math.max(t,a)))+1,r}needsMipmaps(e){return this.isEnvironmentTexture(e)||e.isCompressedTexture===!0||e.generateMipmaps}isEnvironmentTexture(e){const t=e.mapping;return t===Fi||t===Oi||t===js||t===$s}_destroyTexture(e){this.backend.destroySampler(e),this.backend.destroyTexture(e),this.delete(e)}}class kp extends za{constructor(e,t,a,r=1){super(e,t,a),this.a=r}set(e,t,a,r=1){return this.a=r,super.set(e,t,a)}copy(e){return e.a!==void 0&&(this.a=e.a),super.copy(e)}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}}class I7 extends Ct{static get type(){return"ParameterNode"}constructor(e,t=null){super(e,t),this.isParameterNode=!0}getHash(){return this.uuid}generate(){return this.name}}const oC=(n,e)=>ve(new I7(n,e));class iC extends ze{static get type(){return"StackNode"}constructor(e=null){super(),this.nodes=[],this.outputNode=null,this.parent=e,this._currentCond=null,this.isStackNode=!0}getNodeType(e){return this.outputNode?this.outputNode.getNodeType(e):"void"}getMemberType(e,t){return this.outputNode?this.outputNode.getMemberType(e,t):"void"}add(e){return this.nodes.push(e),this}If(e,t){const a=new ai(t);return this._currentCond=Ga(e,a),this.add(this._currentCond)}ElseIf(e,t){const a=new ai(t),r=Ga(e,a);return this._currentCond.elseNode=r,this._currentCond=r,this}Else(e){return this._currentCond.elseNode=new ai(e),this}build(e,...t){const a=Oh();Ei(this);for(const r of this.nodes)r.build(e,"void");return Ei(a),this.outputNode?this.outputNode.build(e,...t):super.build(e,...t)}else(...e){return console.warn("THREE.TSL: .else() has been renamed to .Else()."),this.Else(...e)}elseif(...e){return console.warn("THREE.TSL: .elseif() has been renamed to .ElseIf()."),this.ElseIf(...e)}}const Dl=me(iC).setParameterLength(0,1);function lC(n){return Object.entries(n).map(([e,t])=>typeof t=="string"?{name:e,type:t,atomic:!1}:{name:e,type:t.type,atomic:t.atomic||!1})}class AC extends ze{static get type(){return"StructTypeNode"}constructor(e,t=null){super("struct"),this.membersLayout=lC(e),this.name=t,this.isStructLayoutNode=!0}getLength(){let e=0;for(const t of this.membersLayout)e+=Ph(t.type);return e}getMemberType(e,t){const a=this.membersLayout.find(r=>r.name===t);return a?a.type:"void"}getNodeType(e){return e.getStructTypeFromNode(this,this.membersLayout,this.name).name}setup(e){e.addInclude(this)}generate(e){return this.getNodeType(e)}}class uC extends ze{static get type(){return"StructNode"}constructor(e,t){super("vec3"),this.structLayoutNode=e,this.values=t,this.isStructNode=!0}getNodeType(e){return this.structLayoutNode.getNodeType(e)}getMemberType(e,t){return this.structLayoutNode.getMemberType(e,t)}generate(e){const t=e.getVarFromNode(this),a=t.type,r=e.getPropertyName(t);return e.addLineFlowCode(`${r} = ${e.generateStruct(a,this.structLayoutNode.membersLayout,this.values)}`,this),t.name}}const dC=(n,e=null)=>{const t=new AC(n,e),a=(...r)=>{let s=null;if(r.length>0)if(r[0].isNode){s={};const o=Object.keys(n);for(let d=0;d<r.length;d++)s[o[d]]=r[d]}else s=r[0];return ve(new uC(t,s))};return a.layout=t,a.isStruct=!0,a};class E7 extends ze{static get type(){return"OutputStructNode"}constructor(...e){super(),this.members=e,this.isOutputStructNode=!0}getNodeType(e){const t=e.getNodeProperties(this);if(t.membersLayout===void 0){const a=this.members,r=[];for(let s=0;s<a.length;s++){const o="m"+s,d=a[s].getNodeType(e);r.push({name:o,type:d,index:s})}t.membersLayout=r,t.structType=e.getOutputStructTypeFromNode(this,t.membersLayout)}return t.structType.name}generate(e){const t=e.getOutputStructName(),a=this.members,r=t!==""?t+".":"";for(let s=0;s<a.length;s++){const o=a[s].build(e);e.addLineFlowCode(`${r}m${s} = ${o}`,this)}return t}}const cC=me(E7);function k7(n,e){for(let t=0;t<n.length;t++)if(n[t].name===e)return t;return-1}class hC extends E7{static get type(){return"MRTNode"}constructor(e){super(),this.outputNodes=e,this.isMRTNode=!0}has(e){return this.outputNodes[e]!==void 0}get(e){return this.outputNodes[e]}merge(e){const t={...this.outputNodes,...e.outputNodes};return N7(t)}setup(e){const t=this.outputNodes,a=e.renderer.getRenderTarget(),r=[],s=a.textures;for(const o in t){const d=k7(s,o);r[d]=Ge(t[o])}return this.members=r,super.setup(e)}}const N7=me(hC),pC=ie(([n])=>{const e=n.toUint().mul(747796405).add(2891336453),t=e.shiftRight(e.shiftRight(28).add(4)).bitXor(e).mul(277803737);return t.shiftRight(22).bitXor(t).toFloat().mul(1/2**32)}),Yc=(n,e)=>g0(ot(4,n.mul(wt(1,n))),e),gC=(n,e)=>n.lessThan(.5)?Yc(n.mul(2),e).div(2):wt(1,Yc(ot(wt(1,n),2),e).div(2)),DC=(n,e,t)=>g0(y0(g0(n,e),ya(g0(n,e),g0(wt(1,n),t))),1/e),fC=(n,e)=>Pn(rA.mul(e.mul(n).sub(1))).div(rA.mul(e.mul(n).sub(1))),ir=ie(([n])=>n.fract().sub(.5).abs()).setLayout({name:"tri",type:"float",inputs:[{name:"x",type:"float"}]}),vC=ie(([n])=>ae(ir(n.z.add(ir(n.y.mul(1)))),ir(n.z.add(ir(n.x.mul(1)))),ir(n.y.add(ir(n.x.mul(1)))))).setLayout({name:"tri3",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),mC=ie(([n,e,t])=>{const a=ae(n).toVar(),r=V(1.4).toVar(),s=V(0).toVar(),o=ae(a).toVar();return Mt({start:V(0),end:V(3),type:"float",condition:"<="},()=>{const d=ae(vC(o.mul(2))).toVar();a.addAssign(d.add(t.mul(V(.1).mul(e)))),o.mulAssign(1.8),r.mulAssign(1.5),a.mulAssign(1.2);const c=V(ir(a.z.add(ir(a.x.add(ir(a.y)))))).toVar();s.addAssign(c.div(r)),o.addAssign(.14)}),s}).setLayout({name:"triNoise3D",type:"float",inputs:[{name:"position",type:"vec3"},{name:"speed",type:"float"},{name:"time",type:"float"}]});class yC extends ze{static get type(){return"FunctionOverloadingNode"}constructor(e=[],...t){super(),this.functionNodes=e,this.parametersNodes=t,this._candidateFnCall=null,this.global=!0}getNodeType(){return this.functionNodes[0].shaderNode.layout.type}setup(e){const t=this.parametersNodes;let a=this._candidateFnCall;if(a===null){let r=null,s=-1;for(const o of this.functionNodes){const c=o.shaderNode.layout;if(c===null)throw new Error("FunctionOverloadingNode: FunctionNode must be a layout.");const g=c.inputs;if(t.length===g.length){let D=0;for(let m=0;m<t.length;m++){const _=t[m],w=g[m];_.getNodeType(e)===w.type?D++:D=0}D>s&&(r=o,s=D)}}this._candidateFnCall=a=r(...t)}return a}}const _C=me(yC),ja=n=>(...e)=>_C(n,...e),K1=Ue(0).setGroup(He).onRenderUpdate(n=>n.time),R7=Ue(0).setGroup(He).onRenderUpdate(n=>n.deltaTime),wC=Ue(0,"uint").setGroup(He).onRenderUpdate(n=>n.frameId),SC=(n=1)=>(console.warn('TSL: timerLocal() is deprecated. Use "time" instead.'),K1.mul(n)),xC=(n=1)=>(console.warn('TSL: timerGlobal() is deprecated. Use "time" instead.'),K1.mul(n)),bC=(n=1)=>(console.warn('TSL: timerDelta() is deprecated. Use "deltaTime" instead.'),R7.mul(n)),TC=(n=K1)=>n.add(.75).mul(Math.PI*2).sin().mul(.5).add(.5),IC=(n=K1)=>n.fract().round(),EC=(n=K1)=>n.add(.5).fract().mul(2).sub(1).abs(),kC=(n=K1)=>n.fract(),NC=ie(([n,e,t=ye(.5)])=>VA(n.sub(t),e).add(t)),RC=ie(([n,e,t=ye(.5)])=>{const a=n.sub(t),r=a.dot(a),o=r.mul(r).mul(e);return n.add(a.mul(o))}),MC=ie(({position:n=null,horizontal:e=!0,vertical:t=!1})=>{let a;n!==null?(a=Qn.toVar(),a[3][0]=n.x,a[3][1]=n.y,a[3][2]=n.z):a=Qn;const r=bn.mul(a);return Ii(e)&&(r[0][0]=Qn[0].length(),r[0][1]=0,r[0][2]=0),Ii(t)&&(r[1][0]=0,r[1][1]=Qn[1].length(),r[1][2]=0),r[2][0]=0,r[2][1]=0,r[2][2]=1,Y1.mul(r).mul(ga)}),CC=ie(([n=null])=>{const e=iA();return iA(vp(n)).sub(e).lessThan(0).select(W0,n)});class PC extends ze{static get type(){return"SpriteSheetUVNode"}constructor(e,t=na(),a=V(0)){super("vec2"),this.countNode=e,this.uvNode=t,this.frameNode=a}setup(){const{frameNode:e,uvNode:t,countNode:a}=this,{width:r,height:s}=a,o=e.mod(r.mul(s)).floor(),d=o.mod(r),c=s.sub(o.add(1).div(r).ceil()),g=a.reciprocal(),D=ye(d,c);return t.add(D).mul(g)}}const BC=me(PC).setParameterLength(3);class LC extends ze{static get type(){return"TriplanarTexturesNode"}constructor(e,t=null,a=null,r=V(1),s=ga,o=xn){super("vec4"),this.textureXNode=e,this.textureYNode=t,this.textureZNode=a,this.scaleNode=r,this.positionNode=s,this.normalNode=o}setup(){const{textureXNode:e,textureYNode:t,textureZNode:a,scaleNode:r,positionNode:s,normalNode:o}=this;let d=o.abs().normalize();d=d.div(d.dot(ae(1)));const c=s.yz.mul(r),g=s.zx.mul(r),D=s.xy.mul(r),m=e.value,_=t!==null?t.value:m,w=a!==null?a.value:m,x=ft(m,c).mul(d.x),T=ft(_,g).mul(d.y),I=ft(w,D).mul(d.z);return ya(x,T,I)}}const M7=me(LC).setParameterLength(1,6),qC=(...n)=>M7(...n),Ds=new ih,y1=new Re,fs=new Re,od=new Re,Ro=new la,R2=new Re(0,0,-1),b0=new Ut,Mo=new Re,M2=new Re,Co=new Ut,C2=new Ot,lA=new s1,FC=W0.flipX();lA.depthTexture=new v0(1,1);let id=!1;class Np extends z0{static get type(){return"ReflectorNode"}constructor(e={}){super(e.defaultTexture||lA.texture,FC),this._reflectorBaseNode=e.reflector||new OC(this,e),this._depthNode=null,this.setUpdateMatrix(!1)}get reflector(){return this._reflectorBaseNode}get target(){return this._reflectorBaseNode.target}getDepthNode(){if(this._depthNode===null){if(this._reflectorBaseNode.depth!==!0)throw new Error("THREE.ReflectorNode: Depth node can only be requested when the reflector is created with { depth: true }. ");this._depthNode=ve(new Np({defaultTexture:lA.depthTexture,reflector:this._reflectorBaseNode}))}return this._depthNode}setup(e){return e.object.isQuadMesh||this._reflectorBaseNode.build(e),super.setup(e)}clone(){const e=new this.constructor(this.reflectorNode);return e._reflectorBaseNode=this._reflectorBaseNode,e}}class OC extends ze{static get type(){return"ReflectorBaseNode"}constructor(e,t={}){super();const{target:a=new L1,resolution:r=1,generateMipmaps:s=!1,bounces:o=!0,depth:d=!1}=t;this.textureNode=e,this.target=a,this.resolution=r,this.generateMipmaps=s,this.bounces=o,this.depth=d,this.updateBeforeType=o?st.RENDER:st.FRAME,this.virtualCameras=new WeakMap,this.renderTargets=new WeakMap,this.forceUpdate=!1}_updateResolution(e,t){const a=this.resolution;t.getDrawingBufferSize(C2),e.setSize(Math.round(C2.width*a),Math.round(C2.height*a))}setup(e){return this._updateResolution(lA,e.renderer),super.setup(e)}getVirtualCamera(e){let t=this.virtualCameras.get(e);return t===void 0&&(t=e.clone(),this.virtualCameras.set(e,t)),t}getRenderTarget(e){let t=this.renderTargets.get(e);return t===void 0&&(t=new s1(0,0,{type:Xn}),this.generateMipmaps===!0&&(t.texture.minFilter=Rw,t.texture.generateMipmaps=!0),this.depth===!0&&(t.depthTexture=new v0),this.renderTargets.set(e,t)),t}updateBefore(e){if(this.bounces===!1&&id)return!1;id=!0;const{scene:t,camera:a,renderer:r,material:s}=e,{target:o}=this,d=this.getVirtualCamera(a),c=this.getRenderTarget(d);if(r.getDrawingBufferSize(C2),this._updateResolution(c,r),fs.setFromMatrixPosition(o.matrixWorld),od.setFromMatrixPosition(a.matrixWorld),Ro.extractRotation(o.matrixWorld),y1.set(0,0,1),y1.applyMatrix4(Ro),Mo.subVectors(fs,od),Mo.dot(y1)>0===!0&&this.forceUpdate===!1)return;Mo.reflect(y1).negate(),Mo.add(fs),Ro.extractRotation(a.matrixWorld),R2.set(0,0,-1),R2.applyMatrix4(Ro),R2.add(od),M2.subVectors(fs,R2),M2.reflect(y1).negate(),M2.add(fs),d.coordinateSystem=a.coordinateSystem,d.position.copy(Mo),d.up.set(0,1,0),d.up.applyMatrix4(Ro),d.up.reflect(y1),d.lookAt(M2),d.near=a.near,d.far=a.far,d.updateMatrixWorld(),d.projectionMatrix.copy(a.projectionMatrix),Ds.setFromNormalAndCoplanarPoint(y1,fs),Ds.applyMatrix4(d.matrixWorldInverse),b0.set(Ds.normal.x,Ds.normal.y,Ds.normal.z,Ds.constant);const D=d.projectionMatrix;Co.x=(Math.sign(b0.x)+D.elements[8])/D.elements[0],Co.y=(Math.sign(b0.y)+D.elements[9])/D.elements[5],Co.z=-1,Co.w=(1+D.elements[10])/D.elements[14],b0.multiplyScalar(1/b0.dot(Co));const m=0;D.elements[2]=b0.x,D.elements[6]=b0.y,D.elements[10]=r.coordinateSystem===oo?b0.z-m:b0.z+1-m,D.elements[14]=b0.w,this.textureNode.value=c.texture,this.depth===!0&&(this.textureNode.getDepthNode().value=c.depthTexture),s.visible=!1;const _=r.getRenderTarget(),w=r.getMRT(),x=r.autoClear;r.setMRT(null),r.setRenderTarget(c),r.autoClear=!0,r.render(t,d),r.setMRT(w),r.setRenderTarget(_),r.autoClear=x,s.visible=!0,id=!1,this.forceUpdate=!1}}const UC=n=>ve(new Np(n)),ld=new a8(-1,1,1,-1,0,1);class GC extends a0{constructor(e=!1){super();const t=e===!1?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new e1([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new e1(t,2))}}const VC=new GC;class Rp extends Da{constructor(e=null){super(VC,e),this.camera=ld,this.isQuadMesh=!0}async renderAsync(e){return e.renderAsync(this,ld)}render(e){e.render(this,ld)}}const zC=new Ot;class WC extends z0{static get type(){return"RTTNode"}constructor(e,t=null,a=null,r={type:Xn}){const s=new s1(t,a,r);super(s.texture,na()),this.node=e,this.width=t,this.height=a,this.pixelRatio=1,this.renderTarget=s,this.textureNeedsUpdate=!0,this.autoUpdate=!0,this._rttNode=null,this._quadMesh=new Rp(new _a),this.updateBeforeType=st.RENDER}get autoSize(){return this.width===null}setup(e){return this._rttNode=this.node.context(e.getSharedContext()),this._quadMesh.material.name="RTT",this._quadMesh.material.needsUpdate=!0,super.setup(e)}setSize(e,t){this.width=e,this.height=t;const a=e*this.pixelRatio,r=t*this.pixelRatio;this.renderTarget.setSize(a,r),this.textureNeedsUpdate=!0}setPixelRatio(e){this.pixelRatio=e,this.setSize(this.width,this.height)}updateBefore({renderer:e}){if(this.textureNeedsUpdate===!1&&this.autoUpdate===!1)return;if(this.textureNeedsUpdate=!1,this.autoSize===!0){this.pixelRatio=e.getPixelRatio();const a=e.getSize(zC);this.setSize(a.width,a.height)}this._quadMesh.material.fragmentNode=this._rttNode;const t=e.getRenderTarget();e.setRenderTarget(this.renderTarget),this._quadMesh.render(e),e.setRenderTarget(t)}clone(){const e=new z0(this.value,this.uvNode,this.levelNode);return e.sampler=this.sampler,e.referenceNode=this,e}}const C7=(n,...e)=>ve(new WC(ve(n),...e)),HC=(n,...e)=>n.isTextureNode?n:n.isPassNode?n.getTextureNode():C7(n,...e),Is=ie(([n,e,t],a)=>{let r;a.renderer.coordinateSystem===oo?(n=ye(n.x,n.y.oneMinus()).mul(2).sub(1),r=Ge(ae(n,e),1)):r=Ge(ae(n.x,n.y.oneMinus(),e).mul(2).sub(1),1);const s=Ge(t.mul(r));return s.xyz.div(s.w)}),jC=ie(([n,e])=>{const t=e.mul(Ge(n,1)),a=t.xy.div(t.w).mul(.5).add(.5).toVar();return ye(a.x,a.y.oneMinus())}),$C=ie(([n,e,t])=>{const a=Zr(ca(e)),r=Ea(n.mul(a)).toVar(),s=ca(e,r).toVar(),o=ca(e,r.sub(Ea(2,0))).toVar(),d=ca(e,r.sub(Ea(1,0))).toVar(),c=ca(e,r.add(Ea(1,0))).toVar(),g=ca(e,r.add(Ea(2,0))).toVar(),D=ca(e,r.add(Ea(0,2))).toVar(),m=ca(e,r.add(Ea(0,1))).toVar(),_=ca(e,r.sub(Ea(0,1))).toVar(),w=ca(e,r.sub(Ea(0,2))).toVar(),x=Qt(wt(V(2).mul(d).sub(o),s)).toVar(),T=Qt(wt(V(2).mul(c).sub(g),s)).toVar(),I=Qt(wt(V(2).mul(m).sub(D),s)).toVar(),N=Qt(wt(V(2).mul(_).sub(w),s)).toVar(),R=Is(n,s,t).toVar(),M=x.lessThan(T).select(R.sub(Is(n.sub(ye(V(1).div(a.x),0)),d,t)),R.negate().add(Is(n.add(ye(V(1).div(a.x),0)),c,t))),B=I.lessThan(N).select(R.sub(Is(n.add(ye(0,V(1).div(a.y))),m,t)),R.negate().add(Is(n.sub(ye(0,V(1).div(a.y))),_,t)));return wr(RA(M,B))});class fl extends $r{constructor(e,t,a=Float32Array){const r=ArrayBuffer.isView(e)?e:new a(e*t);super(r,t),this.isStorageInstancedBufferAttribute=!0}}class QC extends D0{constructor(e,t,a=Float32Array){const r=ArrayBuffer.isView(e)?e:new a(e*t);super(r,t),this.isStorageBufferAttribute=!0}}const YC=(n,e="float")=>{let t,a;e.isStruct===!0?(t=e.layout.getLength(),a=Jl("float")):(t=Ph(e),a=Jl(e));const r=new QC(n,t,a);return U1(r,e,n)},XC=(n,e="float")=>{let t,a;e.isStruct===!0?(t=e.layout.getLength(),a=Jl("float")):(t=Ph(e),a=Jl(e));const r=new fl(n,t,a);return U1(r,e,n)};class KC extends W4{static get type(){return"VertexColorNode"}constructor(e=0){super(null,"vec4"),this.isVertexColorNode=!0,this.index=e}getAttributeName(){const e=this.index;return"color"+(e>0?e:"")}generate(e){const t=this.getAttributeName(e),a=e.hasGeometryAttribute(t);let r;return a===!0?r=super.generate(e):r=e.generateConst(this.nodeType,new Ut(1,1,1,1)),r}serialize(e){super.serialize(e),e.index=this.index}deserialize(e){super.deserialize(e),this.index=e.index}}const ZC=n=>ve(new KC(n));class JC extends ze{static get type(){return"PointUVNode"}constructor(){super("vec2"),this.isPointUVNode=!0}generate(){return"vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y )"}}const eP=Ne(JC),Po=new ui,Ad=new la;class yn extends ze{static get type(){return"SceneNode"}constructor(e=yn.BACKGROUND_BLURRINESS,t=null){super(),this.scope=e,this.scene=t}setup(e){const t=this.scope,a=this.scene!==null?this.scene:e.scene;let r;return t===yn.BACKGROUND_BLURRINESS?r=zt("backgroundBlurriness","float",a):t===yn.BACKGROUND_INTENSITY?r=zt("backgroundIntensity","float",a):t===yn.BACKGROUND_ROTATION?r=Ue("mat4").label("backgroundRotation").setGroup(He).onRenderUpdate(()=>{const s=a.background;return s!==null&&s.isTexture&&s.mapping!==rw?(Po.copy(a.backgroundRotation),Po.x*=-1,Po.y*=-1,Po.z*=-1,Ad.makeRotationFromEuler(Po)):Ad.identity(),Ad}):console.error("THREE.SceneNode: Unknown scope:",t),r}}yn.BACKGROUND_BLURRINESS="backgroundBlurriness";yn.BACKGROUND_INTENSITY="backgroundIntensity";yn.BACKGROUND_ROTATION="backgroundRotation";const P7=Ne(yn,yn.BACKGROUND_BLURRINESS),Xc=Ne(yn,yn.BACKGROUND_INTENSITY),B7=Ne(yn,yn.BACKGROUND_ROTATION);class tP extends z0{static get type(){return"StorageTextureNode"}constructor(e,t,a=null){super(e,t),this.storeNode=a,this.isStorageTextureNode=!0,this.access=Ja.WRITE_ONLY}getInputType(){return"storageTexture"}setup(e){super.setup(e);const t=e.getNodeProperties(this);t.storeNode=this.storeNode}setAccess(e){return this.access=e,this}generate(e,t){let a;return this.storeNode!==null?a=this.generateStore(e):a=super.generate(e,t),a}toReadWrite(){return this.setAccess(Ja.READ_WRITE)}toReadOnly(){return this.setAccess(Ja.READ_ONLY)}toWriteOnly(){return this.setAccess(Ja.WRITE_ONLY)}generateStore(e){const t=e.getNodeProperties(this),{uvNode:a,storeNode:r}=t,s=super.generate(e,"property"),o=a.build(e,"uvec2"),d=r.build(e,"vec4"),c=e.generateTextureStore(e,s,o,d);e.addLineFlowCode(c,this)}}const L7=me(tP).setParameterLength(1,3),aP=(n,e,t)=>{const a=L7(n,e,t);return t!==null&&a.append(),a},nP=ie(({texture:n,uv:e})=>{const a=ae().toVar();return dt(e.x.lessThan(1e-4),()=>{a.assign(ae(1,0,0))}).ElseIf(e.y.lessThan(1e-4),()=>{a.assign(ae(0,1,0))}).ElseIf(e.z.lessThan(1e-4),()=>{a.assign(ae(0,0,1))}).ElseIf(e.x.greaterThan(1-1e-4),()=>{a.assign(ae(-1,0,0))}).ElseIf(e.y.greaterThan(1-1e-4),()=>{a.assign(ae(0,-1,0))}).ElseIf(e.z.greaterThan(1-1e-4),()=>{a.assign(ae(0,0,-1))}).Else(()=>{const s=n.sample(e.add(ae(-.01,0,0))).r.sub(n.sample(e.add(ae(.01,0,0))).r),o=n.sample(e.add(ae(0,-.01,0))).r.sub(n.sample(e.add(ae(0,.01,0))).r),d=n.sample(e.add(ae(0,0,-.01))).r.sub(n.sample(e.add(ae(0,0,.01))).r);a.assign(ae(s,o,d))}),a.normalize()});class rP extends z0{static get type(){return"Texture3DNode"}constructor(e,t=null,a=null){super(e,t,a),this.isTexture3DNode=!0}getInputType(){return"texture3D"}getDefaultUV(){return ae(.5,.5,.5)}setUpdateMatrix(){}setupUV(e,t){const a=this.value;return e.isFlipY()&&(a.isRenderTargetTexture===!0||a.isFramebufferTexture===!0)&&(this.sampler?t=t.flipY():t=t.setY(Q(Zr(this,this.levelNode).y).sub(t.y).sub(1))),t}generateUV(e,t){return t.build(e,"vec3")}normal(e){return nP({texture:this,uv:e})}}const sP=me(rP).setParameterLength(1,3);class oP extends qA{static get type(){return"UserDataNode"}constructor(e,t,a=null){super(e,t,a),this.userData=a}updateReference(e){return this.reference=this.userData!==null?this.userData:e.object.userData,this.reference}}const iP=(n,e,t)=>ve(new oP(n,e,t)),sg=new WeakMap;class lP extends ua{static get type(){return"VelocityNode"}constructor(){super("vec2"),this.projectionMatrix=null,this.updateType=st.OBJECT,this.updateAfterType=st.OBJECT,this.previousModelWorldMatrix=Ue(new la),this.previousProjectionMatrix=Ue(new la).setGroup(He),this.previousCameraViewMatrix=Ue(new la)}setProjectionMatrix(e){this.projectionMatrix=e}update({frameId:e,camera:t,object:a}){const r=og(a);this.previousModelWorldMatrix.value.copy(r);const s=q7(t);s.frameId!==e&&(s.frameId=e,s.previousProjectionMatrix===void 0?(s.previousProjectionMatrix=new la,s.previousCameraViewMatrix=new la,s.currentProjectionMatrix=new la,s.currentCameraViewMatrix=new la,s.previousProjectionMatrix.copy(this.projectionMatrix||t.projectionMatrix),s.previousCameraViewMatrix.copy(t.matrixWorldInverse)):(s.previousProjectionMatrix.copy(s.currentProjectionMatrix),s.previousCameraViewMatrix.copy(s.currentCameraViewMatrix)),s.currentProjectionMatrix.copy(this.projectionMatrix||t.projectionMatrix),s.currentCameraViewMatrix.copy(t.matrixWorldInverse),this.previousProjectionMatrix.value.copy(s.previousProjectionMatrix),this.previousCameraViewMatrix.value.copy(s.previousCameraViewMatrix))}updateAfter({object:e}){og(e).copy(e.matrixWorld)}setup(){const e=this.projectionMatrix===null?Y1:Ue(this.projectionMatrix),t=this.previousCameraViewMatrix.mul(this.previousModelWorldMatrix),a=e.mul(X1).mul(ga),r=this.previousProjectionMatrix.mul(t).mul(oA),s=a.xy.div(a.w),o=r.xy.div(r.w);return wt(s,o)}}function q7(n){let e=sg.get(n);return e===void 0&&(e={},sg.set(n,e)),e}function og(n,e=0){const t=q7(n);let a=t[e];return a===void 0&&(t[e]=a=new la),a}const AP=Ne(lP),F7=ie(([n,e])=>Sn(1,n.oneMinus().div(e)).oneMinus()).setLayout({name:"blendBurn",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),O7=ie(([n,e])=>Sn(n.div(e.oneMinus()),1)).setLayout({name:"blendDodge",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),U7=ie(([n,e])=>n.oneMinus().mul(e.oneMinus()).oneMinus()).setLayout({name:"blendScreen",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),G7=ie(([n,e])=>Rt(n.mul(2).mul(e),n.oneMinus().mul(2).mul(e.oneMinus()).oneMinus(),NA(.5,n))).setLayout({name:"blendOverlay",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),uP=ie(([n,e])=>{const t=e.a.add(n.a.mul(e.a.oneMinus()));return Ge(e.rgb.mul(e.a).add(n.rgb.mul(n.a).mul(e.a.oneMinus())).div(t),t)}).setLayout({name:"blendColor",type:"vec4",inputs:[{name:"base",type:"vec4"},{name:"blend",type:"vec4"}]}),dP=(...n)=>(console.warn('THREE.TSL: "burn" has been renamed. Use "blendBurn" instead.'),F7(n)),cP=(...n)=>(console.warn('THREE.TSL: "dodge" has been renamed. Use "blendDodge" instead.'),O7(n)),hP=(...n)=>(console.warn('THREE.TSL: "screen" has been renamed. Use "blendScreen" instead.'),U7(n)),pP=(...n)=>(console.warn('THREE.TSL: "overlay" has been renamed. Use "blendOverlay" instead.'),G7(n)),gP=ie(([n])=>Mp(n.rgb)),DP=ie(([n,e=V(1)])=>e.mix(Mp(n.rgb),n.rgb)),fP=ie(([n,e=V(1)])=>{const t=ya(n.r,n.g,n.b).div(3),a=n.r.max(n.g.max(n.b)),r=a.sub(t).mul(e).mul(-3);return Rt(n.rgb,a,r)}),vP=ie(([n,e=V(1)])=>{const t=ae(.57735,.57735,.57735),a=e.cos();return ae(n.rgb.mul(a).add(t.cross(n.rgb).mul(e.sin()).add(t.mul(o1(t,n.rgb).mul(a.oneMinus())))))}),Mp=(n,e=ae(N0.getLuminanceCoefficients(new Re)))=>o1(n,e),mP=ie(([n,e=ae(1),t=ae(0),a=ae(1),r=V(1),s=ae(N0.getLuminanceCoefficients(new Re,Yo))])=>{const o=n.rgb.dot(ae(s)),d=fa(n.rgb.mul(e).add(t),0).toVar(),c=d.pow(a).toVar();return dt(d.r.greaterThan(0),()=>{d.r.assign(c.r)}),dt(d.g.greaterThan(0),()=>{d.g.assign(c.g)}),dt(d.b.greaterThan(0),()=>{d.b.assign(c.b)}),d.assign(o.add(d.sub(o).mul(r))),Ge(d.rgb,n.a)});class yP extends ua{static get type(){return"PosterizeNode"}constructor(e,t){super(),this.sourceNode=e,this.stepsNode=t}setup(){const{sourceNode:e,stepsNode:t}=this;return e.mul(t).floor().div(t)}}const _P=me(yP).setParameterLength(2),P2=new Ot;class V7 extends z0{static get type(){return"PassTextureNode"}constructor(e,t){super(t),this.passNode=e,this.setUpdateMatrix(!1)}setup(e){return e.object.isQuadMesh&&this.passNode.build(e),super.setup(e)}clone(){return new this.constructor(this.passNode,this.value)}}class ig extends V7{static get type(){return"PassMultipleTextureNode"}constructor(e,t,a=!1){super(e,null),this.textureName=t,this.previousTexture=a}updateTexture(){this.value=this.previousTexture?this.passNode.getPreviousTexture(this.textureName):this.passNode.getTexture(this.textureName)}setup(e){return this.updateTexture(),super.setup(e)}clone(){return new this.constructor(this.passNode,this.textureName,this.previousTexture)}}class j0 extends ua{static get type(){return"PassNode"}constructor(e,t,a,r={}){super("vec4"),this.scope=e,this.scene=t,this.camera=a,this.options=r,this._pixelRatio=1,this._width=1,this._height=1;const s=new v0;s.isRenderTargetTexture=!0,s.name="depth";const o=new s1(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Xn,...r});o.texture.name="output",o.depthTexture=s,this.renderTarget=o,this._textures={output:o.texture,depth:s},this._textureNodes={},this._linearDepthNodes={},this._viewZNodes={},this._previousTextures={},this._previousTextureNodes={},this._cameraNear=Ue(0),this._cameraFar=Ue(0),this._mrt=null,this._layers=null,this._resolution=1,this.isPassNode=!0,this.updateBeforeType=st.FRAME}setResolution(e){return this._resolution=e,this}getResolution(){return this._resolution}setLayers(e){return this._layers=e,this}getLayers(){return this._layers}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}isGlobal(){return!0}getTexture(e){let t=this._textures[e];return t===void 0&&(t=this.renderTarget.texture.clone(),t.name=e,this._textures[e]=t,this.renderTarget.textures.push(t)),t}getPreviousTexture(e){let t=this._previousTextures[e];return t===void 0&&(t=this.getTexture(e).clone(),this._previousTextures[e]=t),t}toggleTexture(e){const t=this._previousTextures[e];if(t!==void 0){const a=this._textures[e],r=this.renderTarget.textures.indexOf(a);this.renderTarget.textures[r]=t,this._textures[e]=t,this._previousTextures[e]=a,this._textureNodes[e].updateTexture(),this._previousTextureNodes[e].updateTexture()}}getTextureNode(e="output"){let t=this._textureNodes[e];return t===void 0&&(t=ve(new ig(this,e)),t.updateTexture(),this._textureNodes[e]=t),t}getPreviousTextureNode(e="output"){let t=this._previousTextureNodes[e];return t===void 0&&(this._textureNodes[e]===void 0&&this.getTextureNode(e),t=ve(new ig(this,e,!0)),t.updateTexture(),this._previousTextureNodes[e]=t),t}getViewZNode(e="depth"){let t=this._viewZNodes[e];if(t===void 0){const a=this._cameraNear,r=this._cameraFar;this._viewZNodes[e]=t=mp(this.getTextureNode(e),a,r)}return t}getLinearDepthNode(e="depth"){let t=this._linearDepthNodes[e];if(t===void 0){const a=this._cameraNear,r=this._cameraFar,s=this.getViewZNode(e);this._linearDepthNodes[e]=t=Hs(s,a,r)}return t}setup({renderer:e}){return this.renderTarget.samples=this.options.samples===void 0?e.samples:this.options.samples,e.backend.isWebGLBackend===!0&&(this.renderTarget.samples=0),this.renderTarget.texture.type=e.getColorBufferType(),this.scope===j0.COLOR?this.getTextureNode():this.getLinearDepthNode()}updateBefore(e){const{renderer:t}=e,{scene:a}=this;let r,s;const o=t.getOutputRenderTarget();o&&o.isXRRenderTarget===!0?(s=1,r=t.xr.getCamera(),t.xr.updateCamera(r),P2.set(o.width,o.height)):(r=this.camera,s=t.getPixelRatio(),t.getSize(P2)),this._pixelRatio=s,this.setSize(P2.width,P2.height);const d=t.getRenderTarget(),c=t.getMRT(),g=r.layers.mask;this._cameraNear.value=r.near,this._cameraFar.value=r.far,this._layers!==null&&(r.layers.mask=this._layers.mask);for(const D in this._previousTextures)this.toggleTexture(D);t.setRenderTarget(this.renderTarget),t.setMRT(this._mrt),t.render(a,r),t.setRenderTarget(d),t.setMRT(c),r.layers.mask=g}setSize(e,t){this._width=e,this._height=t;const a=this._width*this._pixelRatio*this._resolution,r=this._height*this._pixelRatio*this._resolution;this.renderTarget.setSize(a,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}j0.COLOR="color";j0.DEPTH="depth";const wP=(n,e,t)=>ve(new j0(j0.COLOR,n,e,t)),SP=(n,e)=>ve(new V7(n,e)),xP=(n,e,t)=>ve(new j0(j0.DEPTH,n,e,t));class bP extends j0{static get type(){return"ToonOutlinePassNode"}constructor(e,t,a,r,s){super(j0.COLOR,e,t),this.colorNode=a,this.thicknessNode=r,this.alphaNode=s,this._materialCache=new WeakMap}updateBefore(e){const{renderer:t}=e,a=t.getRenderObjectFunction();t.setRenderObjectFunction((r,s,o,d,c,g,D,m)=>{if((c.isMeshToonMaterial||c.isMeshToonNodeMaterial)&&c.wireframe===!1){const _=this._getOutlineMaterial(c);t.renderObject(r,s,o,d,_,g,D,m)}t.renderObject(r,s,o,d,c,g,D,m)}),super.updateBefore(e),t.setRenderObjectFunction(a)}_createMaterial(){const e=new _a;e.isMeshToonOutlineMaterial=!0,e.name="Toon_Outline",e.side=_n;const t=xn.negate(),a=Y1.mul(X1),r=V(1),s=a.mul(Ge(ga,1)),o=a.mul(Ge(ga.add(t),1)),d=wr(s.sub(o));return e.vertexNode=s.add(d.mul(this.thicknessNode).mul(s.w).mul(r)),e.colorNode=Ge(this.colorNode,this.alphaNode),e}_getOutlineMaterial(e){let t=this._materialCache.get(e);return t===void 0&&(t=this._createMaterial(),this._materialCache.set(e,t)),t}}const TP=(n,e,t=new za(0,0,0),a=.003,r=1)=>ve(new bP(n,e,ve(t),ve(a),ve(r))),z7=ie(([n,e])=>n.mul(e).clamp()).setLayout({name:"linearToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),W7=ie(([n,e])=>(n=n.mul(e),n.div(n.add(1)).clamp())).setLayout({name:"reinhardToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),H7=ie(([n,e])=>{n=n.mul(e),n=n.sub(.004).max(0);const t=n.mul(n.mul(6.2).add(.5)),a=n.mul(n.mul(6.2).add(1.7)).add(.06);return t.div(a).pow(2.2)}).setLayout({name:"cineonToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),IP=ie(([n])=>{const e=n.mul(n.add(.0245786)).sub(90537e-9),t=n.mul(n.add(.432951).mul(.983729)).add(.238081);return e.div(t)}),j7=ie(([n,e])=>{const t=tn(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),a=tn(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return n=n.mul(e).div(.6),n=t.mul(n),n=IP(n),n=a.mul(n),n.clamp()}).setLayout({name:"acesFilmicToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),EP=tn(ae(1.6605,-.1246,-.0182),ae(-.5876,1.1329,-.1006),ae(-.0728,-.0083,1.1187)),kP=tn(ae(.6274,.0691,.0164),ae(.3293,.9195,.088),ae(.0433,.0113,.8956)),NP=ie(([n])=>{const e=ae(n).toVar(),t=ae(e.mul(e)).toVar(),a=ae(t.mul(t)).toVar();return V(15.5).mul(a.mul(t)).sub(ot(40.14,a.mul(e))).add(ot(31.96,a).sub(ot(6.868,t.mul(e))).add(ot(.4298,t).add(ot(.1191,e).sub(.00232))))}),$7=ie(([n,e])=>{const t=ae(n).toVar(),a=tn(ae(.856627153315983,.137318972929847,.11189821299995),ae(.0951212405381588,.761241990602591,.0767994186031903),ae(.0482516061458583,.101439036467562,.811302368396859)),r=tn(ae(1.1271005818144368,-.1413297634984383,-.14132976349843826),ae(-.11060664309660323,1.157823702216272,-.11060664309660294),ae(-.016493938717834573,-.016493938717834257,1.2519364065950405)),s=V(-12.47393),o=V(4.026069);return t.mulAssign(e),t.assign(kP.mul(t)),t.assign(a.mul(t)),t.assign(fa(t,1e-10)),t.assign(L0(t)),t.assign(t.sub(s).div(o.sub(s))),t.assign(U0(t,0,1)),t.assign(NP(t)),t.assign(r.mul(t)),t.assign(g0(fa(ae(0),t),ae(2.2))),t.assign(EP.mul(t)),t.assign(U0(t,0,1)),t}).setLayout({name:"agxToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Q7=ie(([n,e])=>{const t=V(.76),a=V(.15);n=n.mul(e);const r=Sn(n.r,Sn(n.g,n.b)),s=Ga(r.lessThan(.08),r.sub(ot(6.25,r.mul(r))),.04);n.subAssign(s);const o=fa(n.r,fa(n.g,n.b));dt(o.lessThan(t),()=>n);const d=wt(1,t),c=wt(1,d.mul(d).div(o.add(d.sub(t))));n.mulAssign(c.div(o));const g=wt(1,y0(1,a.mul(o.sub(c)).add(1)));return Rt(n,ae(c),g)}).setLayout({name:"neutralToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]});class Sa extends ze{static get type(){return"CodeNode"}constructor(e="",t=[],a=""){super("code"),this.isCodeNode=!0,this.code=e,this.includes=t,this.language=a}isGlobal(){return!0}setIncludes(e){return this.includes=e,this}getIncludes(){return this.includes}generate(e){const t=this.getIncludes(e);for(const r of t)r.build(e);const a=e.getCodeFromNode(this,this.getNodeType(e));return a.code=this.code,a.code}serialize(e){super.serialize(e),e.code=this.code,e.language=this.language}deserialize(e){super.deserialize(e),this.code=e.code,this.language=e.language}}const zA=me(Sa).setParameterLength(1,3),RP=(n,e)=>zA(n,e,"js"),MP=(n,e)=>zA(n,e,"wgsl"),CP=(n,e)=>zA(n,e,"glsl");class Y7 extends Sa{static get type(){return"FunctionNode"}constructor(e="",t=[],a=""){super(e,t,a)}getNodeType(e){return this.getNodeFunction(e).type}getInputs(e){return this.getNodeFunction(e).inputs}getNodeFunction(e){const t=e.getDataFromNode(this);let a=t.nodeFunction;return a===void 0&&(a=e.parser.parseFunction(this.code),t.nodeFunction=a),a}generate(e,t){super.generate(e);const a=this.getNodeFunction(e),r=a.name,s=a.type,o=e.getCodeFromNode(this,s);r!==""&&(o.name=r);const d=e.getPropertyName(o),c=this.getNodeFunction(e).getCode(d);return o.code=c+`
`,t==="property"?d:e.format(`${d}()`,s,t)}}const X7=(n,e=[],t="")=>{for(let s=0;s<e.length;s++){const o=e[s];typeof o=="function"&&(e[s]=o.functionNode)}const a=ve(new Y7(n,e,t)),r=(...s)=>a.call(...s);return r.functionNode=a,r},PP=(n,e)=>X7(n,e,"glsl"),BP=(n,e)=>X7(n,e,"wgsl");class LP extends ze{static get type(){return"ScriptableValueNode"}constructor(e=null){super(),this._value=e,this._cache=null,this.inputType=null,this.outputType=null,this.events=new oh,this.isScriptableValueNode=!0}get isScriptableOutputNode(){return this.outputType!==null}set value(e){this._value!==e&&(this._cache&&this.inputType==="URL"&&this.value.value instanceof ArrayBuffer&&(URL.revokeObjectURL(this._cache),this._cache=null),this._value=e,this.events.dispatchEvent({type:"change"}),this.refresh())}get value(){return this._value}refresh(){this.events.dispatchEvent({type:"refresh"})}getValue(){const e=this.value;if(e&&this._cache===null&&this.inputType==="URL"&&e.value instanceof ArrayBuffer)this._cache=URL.createObjectURL(new Blob([e.value]));else if(e&&e.value!==null&&e.value!==void 0&&((this.inputType==="URL"||this.inputType==="String")&&typeof e.value=="string"||this.inputType==="Number"&&typeof e.value=="number"||this.inputType==="Vector2"&&e.value.isVector2||this.inputType==="Vector3"&&e.value.isVector3||this.inputType==="Vector4"&&e.value.isVector4||this.inputType==="Color"&&e.value.isColor||this.inputType==="Matrix3"&&e.value.isMatrix3||this.inputType==="Matrix4"&&e.value.isMatrix4))return e.value;return this._cache||e}getNodeType(e){return this.value&&this.value.isNode?this.value.getNodeType(e):"float"}setup(){return this.value&&this.value.isNode?this.value:V()}serialize(e){super.serialize(e),this.value!==null?this.inputType==="ArrayBuffer"?e.value=sf(this.value):e.value=this.value?this.value.toJSON(e.meta).uuid:null:e.value=null,e.inputType=this.inputType,e.outputType=this.outputType}deserialize(e){super.deserialize(e);let t=null;e.value!==null&&(e.inputType==="ArrayBuffer"?t=of(e.value):e.inputType==="Texture"?t=e.meta.textures[e.value]:t=e.meta.nodes[e.value]||null),this.value=t,this.inputType=e.inputType,this.outputType=e.outputType}}const vl=me(LP).setParameterLength(1);class K7 extends Map{get(e,t=null,...a){if(this.has(e))return super.get(e);if(t!==null){const r=t(...a);return this.set(e,r),r}}}class qP{constructor(e){this.scriptableNode=e}get parameters(){return this.scriptableNode.parameters}get layout(){return this.scriptableNode.getLayout()}getInputLayout(e){return this.scriptableNode.getInputLayout(e)}get(e){const t=this.parameters[e];return t?t.getValue():null}}const ml=new K7;class FP extends ze{static get type(){return"ScriptableNode"}constructor(e=null,t={}){super(),this.codeNode=e,this.parameters=t,this._local=new K7,this._output=vl(null),this._outputs={},this._source=this.source,this._method=null,this._object=null,this._value=null,this._needsOutputUpdate=!0,this.onRefresh=this.onRefresh.bind(this),this.isScriptableNode=!0}get source(){return this.codeNode?this.codeNode.code:""}setLocal(e,t){return this._local.set(e,t)}getLocal(e){return this._local.get(e)}onRefresh(){this._refresh()}getInputLayout(e){for(const t of this.getLayout())if(t.inputType&&(t.id===e||t.name===e))return t}getOutputLayout(e){for(const t of this.getLayout())if(t.outputType&&(t.id===e||t.name===e))return t}setOutput(e,t){const a=this._outputs;return a[e]===void 0?a[e]=vl(t):a[e].value=t,this}getOutput(e){return this._outputs[e]}getParameter(e){return this.parameters[e]}setParameter(e,t){const a=this.parameters;return t&&t.isScriptableNode?(this.deleteParameter(e),a[e]=t,a[e].getDefaultOutput().events.addEventListener("refresh",this.onRefresh)):t&&t.isScriptableValueNode?(this.deleteParameter(e),a[e]=t,a[e].events.addEventListener("refresh",this.onRefresh)):a[e]===void 0?(a[e]=vl(t),a[e].events.addEventListener("refresh",this.onRefresh)):a[e].value=t,this}getValue(){return this.getDefaultOutput().getValue()}deleteParameter(e){let t=this.parameters[e];return t&&(t.isScriptableNode&&(t=t.getDefaultOutput()),t.events.removeEventListener("refresh",this.onRefresh)),this}clearParameters(){for(const e of Object.keys(this.parameters))this.deleteParameter(e);return this.needsUpdate=!0,this}call(e,...t){const r=this.getObject()[e];if(typeof r=="function")return r(...t)}async callAsync(e,...t){const r=this.getObject()[e];if(typeof r=="function")return r.constructor.name==="AsyncFunction"?await r(...t):r(...t)}getNodeType(e){return this.getDefaultOutputNode().getNodeType(e)}refresh(e=null){e!==null?this.getOutput(e).refresh():this._refresh()}getObject(){if(this.needsUpdate&&this.dispose(),this._object!==null)return this._object;const e=()=>this.refresh(),t=(g,D)=>this.setOutput(g,D),a=new qP(this),r=ml.get("THREE"),s=ml.get("TSL"),o=this.getMethod(),d=[a,this._local,ml,e,t,r,s];this._object=o(...d);const c=this._object.layout;if(c&&(c.cache===!1&&this._local.clear(),this._output.outputType=c.outputType||null,Array.isArray(c.elements)))for(const g of c.elements){const D=g.id||g.name;g.inputType&&(this.getParameter(D)===void 0&&this.setParameter(D,null),this.getParameter(D).inputType=g.inputType),g.outputType&&(this.getOutput(D)===void 0&&this.setOutput(D,null),this.getOutput(D).outputType=g.outputType)}return this._object}deserialize(e){super.deserialize(e);for(const t in this.parameters){let a=this.parameters[t];a.isScriptableNode&&(a=a.getDefaultOutput()),a.events.addEventListener("refresh",this.onRefresh)}}getLayout(){return this.getObject().layout}getDefaultOutputNode(){const e=this.getDefaultOutput().value;return e&&e.isNode?e:V()}getDefaultOutput(){return this._exec()._output}getMethod(){if(this.needsUpdate&&this.dispose(),this._method!==null)return this._method;const e=["parameters","local","global","refresh","setOutput","THREE","TSL"],a=["layout","init","main","dispose"].join(", "),r="var "+a+`; var output = {};
`,s=`
return { ...output, `+a+" };",o=r+this.codeNode.code+s;return this._method=new Function(...e,o),this._method}dispose(){this._method!==null&&(this._object&&typeof this._object.dispose=="function"&&this._object.dispose(),this._method=null,this._object=null,this._source=null,this._value=null,this._needsOutputUpdate=!0,this._output.value=null,this._outputs={})}setup(){return this.getDefaultOutputNode()}getCacheKey(e){const t=[ef(this.source),this.getDefaultOutputNode().getCacheKey(e)];for(const a in this.parameters)t.push(this.parameters[a].getCacheKey(e));return _A(t)}set needsUpdate(e){e===!0&&this.dispose()}get needsUpdate(){return this.source!==this._source}_exec(){return this.codeNode===null?this:(this._needsOutputUpdate===!0&&(this._value=this.call("main"),this._needsOutputUpdate=!1),this._output.value=this._value,this)}_refresh(){this.needsUpdate=!0,this._exec(),this._output.refresh()}}const OP=me(FP).setParameterLength(1,2);function Z7(n){let e;const t=n.context.getViewZ;return t!==void 0&&(e=t(this)),(e||va.z).negate()}const Cp=ie(([n,e],t)=>{const a=Z7(t);return G0(n,e,a)}),Pp=ie(([n],e)=>{const t=Z7(e);return n.mul(n,t,t).negate().exp().oneMinus()}),Bi=ie(([n,e])=>Ge(e.toFloat().mix(zs.rgb,n.toVec3()),zs.a));function UP(n,e,t){return console.warn('THREE.TSL: "rangeFog( color, near, far )" is deprecated. Use "fog( color, rangeFogFactor( near, far ) )" instead.'),Bi(n,Cp(e,t))}function GP(n,e){return console.warn('THREE.TSL: "densityFog( color, density )" is deprecated. Use "fog( color, densityFogFactor( density ) )" instead.'),Bi(n,Pp(e))}let _1=null,w1=null;class VP extends ze{static get type(){return"RangeNode"}constructor(e=V(),t=V()){super(),this.minNode=e,this.maxNode=t}getVectorLength(e){const t=e.getTypeLength(jr(this.minNode.value)),a=e.getTypeLength(jr(this.maxNode.value));return t>a?t:a}getNodeType(e){return e.object.count>1?e.getTypeFromLength(this.getVectorLength(e)):"float"}setup(e){const t=e.object;let a=null;if(t.count>1){const r=this.minNode.value,s=this.maxNode.value,o=e.getTypeLength(jr(r)),d=e.getTypeLength(jr(s));_1=_1||new Ut,w1=w1||new Ut,_1.setScalar(0),w1.setScalar(0),o===1?_1.setScalar(r):r.isColor?_1.set(r.r,r.g,r.b,1):_1.set(r.x,r.y,r.z||0,r.w||0),d===1?w1.setScalar(s):s.isColor?w1.set(s.r,s.g,s.b,1):w1.set(s.x,s.y,s.z||0,s.w||0);const c=4,g=c*t.count,D=new Float32Array(g);for(let _=0;_<g;_++){const w=_%c,x=_1.getComponent(w),T=w1.getComponent(w);D[_]=DA.lerp(x,T,Math.random())}const m=this.getNodeType(e);if(t.count<=4096)a=Qi(D,"vec4",t.count).element(Jr).convert(m);else{const _=new $r(D,4);e.geometry.setAttribute("__range"+this.id,_),a=sA(_).convert(m)}}else a=V(0);return a}}const zP=me(VP).setParameterLength(2);class WP extends ze{static get type(){return"ComputeBuiltinNode"}constructor(e,t){super(t),this._builtinName=e}getHash(e){return this.getBuiltinName(e)}getNodeType(){return this.nodeType}setBuiltinName(e){return this._builtinName=e,this}getBuiltinName(){return this._builtinName}hasBuiltin(e){return e.hasBuiltin(this._builtinName)}generate(e,t){const a=this.getBuiltinName(e),r=this.getNodeType(e);return e.shaderStage==="compute"?e.format(a,r,t):(console.warn(`ComputeBuiltinNode: Compute built-in value ${a} can not be accessed in the ${e.shaderStage} stage`),e.generateConst(r))}serialize(e){super.serialize(e),e.global=this.global,e._builtinName=this._builtinName}deserialize(e){super.deserialize(e),this.global=e.global,this._builtinName=e._builtinName}}const t2=(n,e)=>ve(new WP(n,e)),HP=t2("numWorkgroups","uvec3"),jP=t2("workgroupId","uvec3"),$P=t2("globalId","uvec3"),QP=t2("localId","uvec3"),YP=t2("subgroupSize","uint");class XP extends ze{constructor(e){super(),this.scope=e}generate(e){const{scope:t}=this,{renderer:a}=e;a.backend.isWebGLBackend===!0?e.addFlowCode(`	// ${t}Barrier 
`):e.addLineFlowCode(`${t}Barrier()`,this)}}const Bp=me(XP),KP=()=>Bp("workgroup").append(),ZP=()=>Bp("storage").append(),JP=()=>Bp("texture").append();class eB extends Q1{constructor(e,t){super(e,t),this.isWorkgroupInfoElementNode=!0}generate(e,t){let a;const r=e.context.assign;if(a=super.generate(e),r!==!0){const s=this.getNodeType(e);a=e.format(a,s,t)}return a}}class tB extends ze{constructor(e,t,a=0){super(t),this.bufferType=t,this.bufferCount=a,this.isWorkgroupInfoNode=!0,this.elementType=t,this.scope=e}label(e){return this.name=e,this}setScope(e){return this.scope=e,this}getElementType(){return this.elementType}getInputType(){return`${this.scope}Array`}element(e){return ve(new eB(this,e))}generate(e){return e.getScopedArray(this.name||`${this.scope}Array_${this.id}`,this.scope.toLowerCase(),this.bufferType,this.bufferCount)}}const aB=(n,e)=>ve(new tB("Workgroup",n,e));class ka extends ua{static get type(){return"AtomicFunctionNode"}constructor(e,t,a){super("uint"),this.method=e,this.pointerNode=t,this.valueNode=a}getInputType(e){return this.pointerNode.getNodeType(e)}getNodeType(e){return this.getInputType(e)}generate(e){const t=this.method,a=this.getNodeType(e),r=this.getInputType(e),s=this.pointerNode,o=this.valueNode,d=[];d.push(`&${s.build(e,r)}`),o!==null&&d.push(o.build(e,r));const c=`${e.getMethod(t,a)}( ${d.join(", ")} )`;return o!==null&&e.addLineFlowCode(c,this),c}}ka.ATOMIC_LOAD="atomicLoad";ka.ATOMIC_STORE="atomicStore";ka.ATOMIC_ADD="atomicAdd";ka.ATOMIC_SUB="atomicSub";ka.ATOMIC_MAX="atomicMax";ka.ATOMIC_MIN="atomicMin";ka.ATOMIC_AND="atomicAnd";ka.ATOMIC_OR="atomicOr";ka.ATOMIC_XOR="atomicXor";const nB=me(ka),K0=(n,e,t)=>{const a=nB(n,e,t);return a.append(),a},rB=n=>K0(ka.ATOMIC_LOAD,n,null),sB=(n,e)=>K0(ka.ATOMIC_STORE,n,e),oB=(n,e)=>K0(ka.ATOMIC_ADD,n,e),iB=(n,e)=>K0(ka.ATOMIC_SUB,n,e),lB=(n,e)=>K0(ka.ATOMIC_MAX,n,e),AB=(n,e)=>K0(ka.ATOMIC_MIN,n,e),uB=(n,e)=>K0(ka.ATOMIC_AND,n,e),dB=(n,e)=>K0(ka.ATOMIC_OR,n,e),cB=(n,e)=>K0(ka.ATOMIC_XOR,n,e);let B2;function WA(n){B2=B2||new WeakMap;let e=B2.get(n);return e===void 0&&B2.set(n,e={}),e}function Lp(n){const e=WA(n);return e.shadowMatrix||(e.shadowMatrix=Ue("mat4").setGroup(He).onRenderUpdate(()=>(n.castShadow!==!0&&n.shadow.updateMatrices(n),n.shadow.matrix)))}function J7(n,e=gr){const t=Lp(n).mul(e);return t.xyz.div(t.w)}function qp(n){const e=WA(n);return e.position||(e.position=Ue(new Re).setGroup(He).onRenderUpdate((t,a)=>a.value.setFromMatrixPosition(n.matrixWorld)))}function ev(n){const e=WA(n);return e.targetPosition||(e.targetPosition=Ue(new Re).setGroup(He).onRenderUpdate((t,a)=>a.value.setFromMatrixPosition(n.target.matrixWorld)))}function Fp(n){const e=WA(n);return e.viewPosition||(e.viewPosition=Ue(new Re).setGroup(He).onRenderUpdate(({camera:t},a)=>{a.value=a.value||new Re,a.value.setFromMatrixPosition(n.matrixWorld),a.value.applyMatrix4(t.matrixWorldInverse)}))}const Op=n=>bn.transformDirection(qp(n).sub(ev(n))),hB=n=>n.sort((e,t)=>e.id-t.id),pB=(n,e)=>{for(const t of e)if(t.isAnalyticLightNode&&t.light.id===n)return t;return null},ud=new WeakMap;class Up extends ze{static get type(){return"LightsNode"}constructor(){super("vec3"),this.totalDiffuseNode=ae().toVar(),this.totalSpecularNode=ae().toVar(),this.outgoingLightNode=ae().toVar(),this._lights=[],this._lightNodes=null,this._lightNodesHash=null,this.global=!0}customCacheKey(){const e=[],t=this._lights;for(let a=0;a<t.length;a++)e.push(t[a].id);return _A(e)}getHash(e){if(this._lightNodesHash===null){this._lightNodes===null&&this.setupLightsNode(e);const t=[];for(const a of this._lightNodes)t.push(a.getSelf().getHash());this._lightNodesHash="lights-"+t.join(",")}return this._lightNodesHash}analyze(e){const t=e.getDataFromNode(this);for(const a of t.nodes)a.build(e)}setupLightsNode(e){const t=[],a=this._lightNodes,r=hB(this._lights),s=e.renderer.library;for(const o of r)if(o.isNode)t.push(ve(o));else{let d=null;if(a!==null&&(d=pB(o.id,a)),d===null){const c=s.getLightNodeClass(o.constructor);if(c===null){console.warn(`LightsNode.setupNodeLights: Light node not found for ${o.constructor.name}`);continue}let g=null;ud.has(o)?g=ud.get(o):(g=ve(new c(o)),ud.set(o,g)),t.push(g)}}this._lightNodes=t}setupDirectLight(e,t,a){const{lightingModel:r,reflectedLight:s}=e.context;r.direct({...a,lightNode:t,reflectedLight:s},e)}setupDirectRectAreaLight(e,t,a){const{lightingModel:r,reflectedLight:s}=e.context;r.directRectArea({...a,lightNode:t,reflectedLight:s},e)}setupLights(e,t){for(const a of t)a.build(e)}getLightNodes(e){return this._lightNodes===null&&this.setupLightsNode(e),this._lightNodes}setup(e){const t=e.lightsNode;e.lightsNode=this;let a=this.outgoingLightNode;const r=e.context,s=r.lightingModel,o=e.getDataFromNode(this);if(s){const{totalDiffuseNode:d,totalSpecularNode:c}=this;r.outgoingLight=a;const g=e.addStack();o.nodes=g.nodes,s.start(e);const{backdrop:D,backdropAlpha:m}=r,{directDiffuse:_,directSpecular:w,indirectDiffuse:x,indirectSpecular:T}=r.reflectedLight;let I=_.add(x);D!==null&&(m!==null?I=ae(m.mix(I,D)):I=ae(D),r.material.transparent=!0),d.assign(I),c.assign(w.add(T)),a.assign(d.add(c)),s.finish(e),a=a.bypass(e.removeStack())}else o.nodes=[];return e.lightsNode=t,a}setLights(e){return this._lights=e,this._lightNodes=null,this._lightNodesHash=null,this}getLights(){return this._lights}get hasLights(){return this._lights.length>0}}const gB=(n=[])=>ve(new Up).setLights(n);class DB extends ze{static get type(){return"ShadowBaseNode"}constructor(e){super(),this.light=e,this.updateBeforeType=st.RENDER,this.isShadowBaseNode=!0}setupShadowPosition({context:e,material:t}){Gp.assign(t.shadowPositionNode||e.shadowPositionWorld||gr)}dispose(){this.updateBeforeType=st.NONE}}const Gp=lo("vec3","shadowPositionWorld");function fB(n,e={}){return e.toneMapping=n.toneMapping,e.toneMappingExposure=n.toneMappingExposure,e.outputColorSpace=n.outputColorSpace,e.renderTarget=n.getRenderTarget(),e.activeCubeFace=n.getActiveCubeFace(),e.activeMipmapLevel=n.getActiveMipmapLevel(),e.renderObjectFunction=n.getRenderObjectFunction(),e.pixelRatio=n.getPixelRatio(),e.mrt=n.getMRT(),e.clearColor=n.getClearColor(e.clearColor||new za),e.clearAlpha=n.getClearAlpha(),e.autoClear=n.autoClear,e.scissorTest=n.getScissorTest(),e}function vB(n,e){return e=fB(n,e),n.setMRT(null),n.setRenderObjectFunction(null),n.setClearColor(0,1),n.autoClear=!0,e}function mB(n,e){n.toneMapping=e.toneMapping,n.toneMappingExposure=e.toneMappingExposure,n.outputColorSpace=e.outputColorSpace,n.setRenderTarget(e.renderTarget,e.activeCubeFace,e.activeMipmapLevel),n.setRenderObjectFunction(e.renderObjectFunction),n.setPixelRatio(e.pixelRatio),n.setMRT(e.mrt),n.setClearColor(e.clearColor,e.clearAlpha),n.autoClear=e.autoClear,n.setScissorTest(e.scissorTest)}function yB(n,e={}){return e.background=n.background,e.backgroundNode=n.backgroundNode,e.overrideMaterial=n.overrideMaterial,e}function _B(n,e){return e=yB(n,e),n.background=null,n.backgroundNode=null,n.overrideMaterial=null,e}function wB(n,e){n.background=e.background,n.backgroundNode=e.backgroundNode,n.overrideMaterial=e.overrideMaterial}function SB(n,e,t){return t=vB(n,t),t=_B(e,t),t}function xB(n,e,t){mB(n,t),wB(e,t)}const lg=new WeakMap,bB=ie(([n,e,t])=>{let a=gr.sub(n).length();return a=a.sub(e).div(t.sub(e)),a=a.saturate(),a}),TB=n=>{const e=n.shadow.camera,t=zt("near","float",e).setGroup(He),a=zt("far","float",e).setGroup(He),r=Q4(n);return bB(r,t,a)},IB=n=>{let e=lg.get(n);if(e===void 0){const t=n.isPointLight?TB(n):null;e=new _a,e.colorNode=Ge(0,0,0,1),e.depthNode=t,e.isShadowPassMaterial=!0,e.name="ShadowMaterial",e.fog=!1,lg.set(n,e)}return e},tv=ie(({depthTexture:n,shadowCoord:e})=>ft(n,e.xy).compare(e.z)),av=ie(({depthTexture:n,shadowCoord:e,shadow:t})=>{const a=(T,I)=>ft(n,T).compare(I),r=zt("mapSize","vec2",t).setGroup(He),s=zt("radius","float",t).setGroup(He),o=ye(1).div(r),d=o.x.negate().mul(s),c=o.y.negate().mul(s),g=o.x.mul(s),D=o.y.mul(s),m=d.div(2),_=c.div(2),w=g.div(2),x=D.div(2);return ya(a(e.xy.add(ye(d,c)),e.z),a(e.xy.add(ye(0,c)),e.z),a(e.xy.add(ye(g,c)),e.z),a(e.xy.add(ye(m,_)),e.z),a(e.xy.add(ye(0,_)),e.z),a(e.xy.add(ye(w,_)),e.z),a(e.xy.add(ye(d,0)),e.z),a(e.xy.add(ye(m,0)),e.z),a(e.xy,e.z),a(e.xy.add(ye(w,0)),e.z),a(e.xy.add(ye(g,0)),e.z),a(e.xy.add(ye(m,x)),e.z),a(e.xy.add(ye(0,x)),e.z),a(e.xy.add(ye(w,x)),e.z),a(e.xy.add(ye(d,D)),e.z),a(e.xy.add(ye(0,D)),e.z),a(e.xy.add(ye(g,D)),e.z)).mul(1/17)}),nv=ie(({depthTexture:n,shadowCoord:e,shadow:t})=>{const a=(D,m)=>ft(n,D).compare(m),r=zt("mapSize","vec2",t).setGroup(He),s=ye(1).div(r),o=s.x,d=s.y,c=e.xy,g=xr(c.mul(r).add(.5));return c.subAssign(g.mul(s)),ya(a(c,e.z),a(c.add(ye(o,0)),e.z),a(c.add(ye(0,d)),e.z),a(c.add(s),e.z),Rt(a(c.add(ye(o.negate(),0)),e.z),a(c.add(ye(o.mul(2),0)),e.z),g.x),Rt(a(c.add(ye(o.negate(),d)),e.z),a(c.add(ye(o.mul(2),d)),e.z),g.x),Rt(a(c.add(ye(0,d.negate())),e.z),a(c.add(ye(0,d.mul(2))),e.z),g.y),Rt(a(c.add(ye(o,d.negate())),e.z),a(c.add(ye(o,d.mul(2))),e.z),g.y),Rt(Rt(a(c.add(ye(o.negate(),d.negate())),e.z),a(c.add(ye(o.mul(2),d.negate())),e.z),g.x),Rt(a(c.add(ye(o.negate(),d.mul(2))),e.z),a(c.add(ye(o.mul(2),d.mul(2))),e.z),g.x),g.y)).mul(1/9)}),rv=ie(({depthTexture:n,shadowCoord:e})=>{const t=V(1).toVar(),a=ft(n).sample(e.xy).rg,r=NA(e.z,a.x);return dt(r.notEqual(V(1)),()=>{const s=e.z.sub(a.x),o=fa(0,a.y.mul(a.y));let d=o.div(o.add(s.mul(s)));d=U0(wt(d,.3).div(.95-.3)),t.assign(U0(fa(r,d)))}),t}),EB=ie(({samples:n,radius:e,size:t,shadowPass:a})=>{const r=V(0).toVar(),s=V(0).toVar(),o=n.lessThanEqual(V(1)).select(V(0),V(2).div(n.sub(1))),d=n.lessThanEqual(V(1)).select(V(0),V(-1));Mt({start:Q(0),end:Q(n),type:"int",condition:"<"},({i:g})=>{const D=d.add(V(g).mul(o)),m=a.sample(ya(e2.xy,ye(0,D).mul(e)).div(t)).x;r.addAssign(m),s.addAssign(m.mul(m))}),r.divAssign(n),s.divAssign(n);const c=X0(s.sub(r.mul(r)));return ye(r,c)}),kB=ie(({samples:n,radius:e,size:t,shadowPass:a})=>{const r=V(0).toVar(),s=V(0).toVar(),o=n.lessThanEqual(V(1)).select(V(0),V(2).div(n.sub(1))),d=n.lessThanEqual(V(1)).select(V(0),V(-1));Mt({start:Q(0),end:Q(n),type:"int",condition:"<"},({i:g})=>{const D=d.add(V(g).mul(o)),m=a.sample(ya(e2.xy,ye(D,0).mul(e)).div(t));r.addAssign(m.x),s.addAssign(ya(m.y.mul(m.y),m.x.mul(m.x)))}),r.divAssign(n),s.divAssign(n);const c=X0(s.sub(r.mul(r)));return ye(r,c)}),NB=[tv,av,nv,rv];let dd;const L2=new Rp;class sv extends DB{static get type(){return"ShadowNode"}constructor(e,t=null){super(e),this.shadow=t||e.shadow,this.shadowMap=null,this.vsmShadowMapVertical=null,this.vsmShadowMapHorizontal=null,this.vsmMaterialVertical=null,this.vsmMaterialHorizontal=null,this._node=null,this._cameraFrameId=new WeakMap,this.isShadowNode=!0}setupShadowFilter(e,{filterFn:t,depthTexture:a,shadowCoord:r,shadow:s}){const o=r.x.greaterThanEqual(0).and(r.x.lessThanEqual(1)).and(r.y.greaterThanEqual(0)).and(r.y.lessThanEqual(1)).and(r.z.lessThanEqual(1)),d=t({depthTexture:a,shadowCoord:r,shadow:s});return o.select(d,V(1))}setupShadowCoord(e,t){const{shadow:a}=this,{renderer:r}=e,s=zt("bias","float",a).setGroup(He);let o=t,d;if(a.camera.isOrthographicCamera||r.logarithmicDepthBuffer!==!0)o=o.xyz.div(o.w),d=o.z,r.coordinateSystem===oo&&(d=d.mul(2).sub(1));else{const c=o.w;o=o.xy.div(c);const g=zt("near","float",a.camera).setGroup(He),D=zt("far","float",a.camera).setGroup(He);d=yp(c.negate(),g,D)}return o=ae(o.x,o.y.oneMinus(),d.add(s)),o}getShadowFilterFn(e){return NB[e]}setupShadow(e){const{renderer:t}=e,{light:a,shadow:r}=this,s=t.shadowMap.type,o=new v0(r.mapSize.width,r.mapSize.height);o.compareFunction=Ah;const d=e.createRenderTarget(r.mapSize.width,r.mapSize.height);if(d.depthTexture=o,r.camera.updateProjectionMatrix(),s===h2){o.compareFunction=null,this.vsmShadowMapVertical=e.createRenderTarget(r.mapSize.width,r.mapSize.height,{format:gi,type:Xn}),this.vsmShadowMapHorizontal=e.createRenderTarget(r.mapSize.width,r.mapSize.height,{format:gi,type:Xn});const N=ft(o),R=ft(this.vsmShadowMapVertical.texture),M=zt("blurSamples","float",r).setGroup(He),B=zt("radius","float",r).setGroup(He),F=zt("mapSize","vec2",r).setGroup(He);let L=this.vsmMaterialVertical||(this.vsmMaterialVertical=new _a);L.fragmentNode=EB({samples:M,radius:B,size:F,shadowPass:N}).context(e.getSharedContext()),L.name="VSMVertical",L=this.vsmMaterialHorizontal||(this.vsmMaterialHorizontal=new _a),L.fragmentNode=kB({samples:M,radius:B,size:F,shadowPass:R}).context(e.getSharedContext()),L.name="VSMHorizontal"}const c=zt("intensity","float",r).setGroup(He),g=zt("normalBias","float",r).setGroup(He),D=Lp(a).mul(Gp.add(LA.mul(g))),m=this.setupShadowCoord(e,D),_=r.filterNode||this.getShadowFilterFn(t.shadowMap.type)||null;if(_===null)throw new Error("THREE.WebGPURenderer: Shadow map type not supported yet.");const w=s===h2?this.vsmShadowMapHorizontal.texture:o,x=this.setupShadowFilter(e,{filterFn:_,shadowTexture:d.texture,depthTexture:w,shadowCoord:m,shadow:r}),T=ft(d.texture,m),I=Rt(1,x.rgb.mix(T,1),c.mul(T.a)).toVar();return this.shadowMap=d,this.shadow.map=d,I}setup(e){if(e.renderer.shadowMap.enabled!==!1)return ie(()=>{let t=this._node;return this.setupShadowPosition(e),t===null&&(this._node=t=this.setupShadow(e)),e.material.shadowNode&&console.warn('THREE.NodeMaterial: ".shadowNode" is deprecated. Use ".castShadowNode" instead.'),e.material.receivedShadowNode&&(t=e.material.receivedShadowNode(t)),t})()}renderShadow(e){const{shadow:t,shadowMap:a,light:r}=this,{renderer:s,scene:o}=e;t.updateMatrices(r),a.setSize(t.mapSize.width,t.mapSize.height),s.render(o,t.camera)}updateShadow(e){const{shadowMap:t,light:a,shadow:r}=this,{renderer:s,scene:o,camera:d}=e,c=s.shadowMap.type,g=t.depthTexture.version;this._depthVersionCached=g,r.camera.layers.mask=d.layers.mask;const D=s.getRenderObjectFunction(),m=s.getMRT(),_=m?m.has("velocity"):!1;dd=SB(s,o,dd),o.overrideMaterial=IB(a),s.setRenderObjectFunction((w,x,T,I,N,R,...M)=>{(w.castShadow===!0||w.receiveShadow&&c===h2)&&(_&&(rf(w).useVelocity=!0),w.onBeforeShadow(s,w,d,r.camera,I,x.overrideMaterial,R),s.renderObject(w,x,T,I,N,R,...M),w.onAfterShadow(s,w,d,r.camera,I,x.overrideMaterial,R))}),s.setRenderTarget(t),this.renderShadow(e),s.setRenderObjectFunction(D),a.isPointLight!==!0&&c===h2&&this.vsmPass(s),xB(s,o,dd)}vsmPass(e){const{shadow:t}=this;this.vsmShadowMapVertical.setSize(t.mapSize.width,t.mapSize.height),this.vsmShadowMapHorizontal.setSize(t.mapSize.width,t.mapSize.height),e.setRenderTarget(this.vsmShadowMapVertical),L2.material=this.vsmMaterialVertical,L2.render(e),e.setRenderTarget(this.vsmShadowMapHorizontal),L2.material=this.vsmMaterialHorizontal,L2.render(e)}dispose(){this.shadowMap.dispose(),this.shadowMap=null,this.vsmShadowMapVertical!==null&&(this.vsmShadowMapVertical.dispose(),this.vsmShadowMapVertical=null,this.vsmMaterialVertical.dispose(),this.vsmMaterialVertical=null),this.vsmShadowMapHorizontal!==null&&(this.vsmShadowMapHorizontal.dispose(),this.vsmShadowMapHorizontal=null,this.vsmMaterialHorizontal.dispose(),this.vsmMaterialHorizontal=null),super.dispose()}updateBefore(e){const{shadow:t}=this;let a=t.needsUpdate||t.autoUpdate;a&&(this._cameraFrameId[e.camera]===e.frameId&&(a=!1),this._cameraFrameId[e.camera]=e.frameId),a&&(this.updateShadow(e),this.shadowMap.depthTexture.version===this._depthVersionCached&&(t.needsUpdate=!1))}}const ov=(n,e)=>ve(new sv(n,e)),RB=new za,A0=ie(([n,e])=>{const t=n.toVar(),a=Qt(t),r=y0(1,fa(a.x,fa(a.y,a.z)));a.mulAssign(r),t.mulAssign(r.mul(e.mul(2).oneMinus()));const s=ye(t.xy).toVar(),d=e.mul(1.5).oneMinus();return dt(a.z.greaterThanEqual(d),()=>{dt(t.z.greaterThan(0),()=>{s.x.assign(wt(4,t.x))})}).ElseIf(a.x.greaterThanEqual(d),()=>{const c=Ci(t.x);s.x.assign(t.z.mul(c).add(c.mul(2)))}).ElseIf(a.y.greaterThanEqual(d),()=>{const c=Ci(t.y);s.x.assign(t.x.add(c.mul(2)).add(2)),s.y.assign(t.z.mul(c).sub(2))}),ye(.125,.25).mul(s).add(ye(.375,.75)).flipY()}).setLayout({name:"cubeToUV",type:"vec2",inputs:[{name:"pos",type:"vec3"},{name:"texelSizeY",type:"float"}]}),iv=ie(({depthTexture:n,bd3D:e,dp:t,texelSize:a})=>ft(n,A0(e,a.y)).compare(t)),lv=ie(({depthTexture:n,bd3D:e,dp:t,texelSize:a,shadow:r})=>{const s=zt("radius","float",r).setGroup(He),o=ye(-1,1).mul(s).mul(a.y);return ft(n,A0(e.add(o.xyy),a.y)).compare(t).add(ft(n,A0(e.add(o.yyy),a.y)).compare(t)).add(ft(n,A0(e.add(o.xyx),a.y)).compare(t)).add(ft(n,A0(e.add(o.yyx),a.y)).compare(t)).add(ft(n,A0(e,a.y)).compare(t)).add(ft(n,A0(e.add(o.xxy),a.y)).compare(t)).add(ft(n,A0(e.add(o.yxy),a.y)).compare(t)).add(ft(n,A0(e.add(o.xxx),a.y)).compare(t)).add(ft(n,A0(e.add(o.yxx),a.y)).compare(t)).mul(1/9)}),MB=ie(({filterFn:n,depthTexture:e,shadowCoord:t,shadow:a})=>{const r=t.xyz.toVar(),s=r.length(),o=Ue("float").setGroup(He).onRenderUpdate(()=>a.camera.near),d=Ue("float").setGroup(He).onRenderUpdate(()=>a.camera.far),c=zt("bias","float",a).setGroup(He),g=Ue(a.mapSize).setGroup(He),D=V(1).toVar();return dt(s.sub(d).lessThanEqual(0).and(s.sub(o).greaterThanEqual(0)),()=>{const m=s.sub(o).div(d.sub(o)).toVar();m.addAssign(c);const _=r.normalize(),w=ye(1).div(g.mul(ye(4,2)));D.assign(n({depthTexture:e,bd3D:_,dp:m,texelSize:w,shadow:a}))}),D}),Ag=new Ut,vs=new Ot,Bo=new Ot;class CB extends sv{static get type(){return"PointShadowNode"}constructor(e,t=null){super(e,t)}getShadowFilterFn(e){return e===tw?iv:lv}setupShadowCoord(e,t){return t}setupShadowFilter(e,{filterFn:t,shadowTexture:a,depthTexture:r,shadowCoord:s,shadow:o}){return MB({filterFn:t,shadowTexture:a,depthTexture:r,shadowCoord:s,shadow:o})}renderShadow(e){const{shadow:t,shadowMap:a,light:r}=this,{renderer:s,scene:o}=e,d=t.getFrameExtents();Bo.copy(t.mapSize),Bo.multiply(d),a.setSize(Bo.width,Bo.height),vs.copy(t.mapSize);const c=s.autoClear,g=s.getClearColor(RB),D=s.getClearAlpha();s.autoClear=!1,s.setClearColor(t.clearColor,t.clearAlpha),s.clear();const m=t.getViewportCount();for(let _=0;_<m;_++){const w=t.getViewport(_),x=vs.x*w.x,T=Bo.y-vs.y-vs.y*w.y;Ag.set(x,T,vs.x*w.z,vs.y*w.w),a.viewport.copy(Ag),t.updateMatrices(r,_),s.render(o,t.camera)}s.autoClear=c,s.setClearColor(g,D)}}const Av=(n,e)=>ve(new CB(n,e));class Z1 extends Ao{static get type(){return"AnalyticLightNode"}constructor(e=null){super(),this.light=e,this.color=new za,this.colorNode=e&&e.colorNode||Ue(this.color).setGroup(He),this.baseColorNode=null,this.shadowNode=null,this.shadowColorNode=null,this.isAnalyticLightNode=!0,this.updateType=st.FRAME}customCacheKey(){return Ti(this.light.id,this.light.castShadow?1:0)}getHash(){return this.light.uuid}getLightVector(e){return Fp(this.light).sub(e.context.positionView||va)}setupDirect(){}setupDirectRectArea(){}setupShadowNode(){return ov(this.light)}setupShadow(e){const{renderer:t}=e;if(t.shadowMap.enabled===!1)return;let a=this.shadowColorNode;if(a===null){const r=this.light.shadow.shadowNode;let s;r!==void 0?s=ve(r):s=this.setupShadowNode(),this.shadowNode=s,this.shadowColorNode=a=this.colorNode.mul(s),this.baseColorNode=this.colorNode}this.colorNode=a}setup(e){this.colorNode=this.baseColorNode||this.colorNode,this.light.castShadow?e.object.receiveShadow&&this.setupShadow(e):this.shadowNode!==null&&(this.shadowNode.dispose(),this.shadowNode=null,this.shadowColorNode=null);const t=this.setupDirect(e),a=this.setupDirectRectArea(e);t&&e.lightsNode.setupDirectLight(e,this,t),a&&e.lightsNode.setupDirectRectAreaLight(e,this,a)}update(){const{light:e}=this;this.color.copy(e.color).multiplyScalar(e.intensity)}}const Vp=ie(({lightDistance:n,cutoffDistance:e,decayExponent:t})=>{const a=n.pow(t).max(.01).reciprocal();return e.greaterThan(0).select(a.mul(n.div(e).pow4().oneMinus().clamp().pow2()),a)}),uv=({color:n,lightVector:e,cutoffDistance:t,decayExponent:a})=>{const r=e.normalize(),s=e.length(),o=Vp({lightDistance:s,cutoffDistance:t,decayExponent:a}),d=n.mul(o);return{lightDirection:r,lightColor:d}};class PB extends Z1{static get type(){return"PointLightNode"}constructor(e=null){super(e),this.cutoffDistanceNode=Ue(0).setGroup(He),this.decayExponentNode=Ue(2).setGroup(He)}update(e){const{light:t}=this;super.update(e),this.cutoffDistanceNode.value=t.distance,this.decayExponentNode.value=t.decay}setupShadowNode(){return Av(this.light)}setupDirect(e){return uv({color:this.colorNode,lightVector:this.getLightVector(e),cutoffDistance:this.cutoffDistanceNode,decayExponent:this.decayExponentNode})}}const BB=ie(([n=na()])=>{const e=n.mul(2),t=e.x.floor(),a=e.y.floor();return t.add(a).mod(2).sign()}),LB=ie(([n=na()],{renderer:e,material:t})=>{const a=V(1).toVar(),r=np(n.mul(2).sub(1));if(t.alphaToCoverage&&e.samples>1){const s=V(r.fwidth()).toVar();a.assign(G0(s.oneMinus(),s.add(1),r).oneMinus())}else r.greaterThan(1).discard();return a}),li=ie(([n,e,t])=>{const a=V(t).toVar(),r=V(e).toVar(),s=_r(n).toVar();return Ga(s,r,a)}).setLayout({name:"mx_select",type:"float",inputs:[{name:"b",type:"bool"},{name:"t",type:"float"},{name:"f",type:"float"}]}),AA=ie(([n,e])=>{const t=_r(e).toVar(),a=V(n).toVar();return Ga(t,a.negate(),a)}).setLayout({name:"mx_negate_if",type:"float",inputs:[{name:"val",type:"float"},{name:"b",type:"bool"}]}),ma=ie(([n])=>{const e=V(n).toVar();return Q(q0(e))}).setLayout({name:"mx_floor",type:"int",inputs:[{name:"x",type:"float"}]}),aa=ie(([n,e])=>{const t=V(n).toVar();return e.assign(ma(t)),t.sub(V(e))}),qB=ie(([n,e,t,a,r,s])=>{const o=V(s).toVar(),d=V(r).toVar(),c=V(a).toVar(),g=V(t).toVar(),D=V(e).toVar(),m=V(n).toVar(),_=V(wt(1,d)).toVar();return wt(1,o).mul(m.mul(_).add(D.mul(d))).add(o.mul(g.mul(_).add(c.mul(d))))}).setLayout({name:"mx_bilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"}]}),FB=ie(([n,e,t,a,r,s])=>{const o=V(s).toVar(),d=V(r).toVar(),c=ae(a).toVar(),g=ae(t).toVar(),D=ae(e).toVar(),m=ae(n).toVar(),_=V(wt(1,d)).toVar();return wt(1,o).mul(m.mul(_).add(D.mul(d))).add(o.mul(g.mul(_).add(c.mul(d))))}).setLayout({name:"mx_bilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"}]}),dv=ja([qB,FB]),OB=ie(([n,e,t,a,r,s,o,d,c,g,D])=>{const m=V(D).toVar(),_=V(g).toVar(),w=V(c).toVar(),x=V(d).toVar(),T=V(o).toVar(),I=V(s).toVar(),N=V(r).toVar(),R=V(a).toVar(),M=V(t).toVar(),B=V(e).toVar(),F=V(n).toVar(),L=V(wt(1,w)).toVar(),O=V(wt(1,_)).toVar();return V(wt(1,m)).toVar().mul(O.mul(F.mul(L).add(B.mul(w))).add(_.mul(M.mul(L).add(R.mul(w))))).add(m.mul(O.mul(N.mul(L).add(I.mul(w))).add(_.mul(T.mul(L).add(x.mul(w))))))}).setLayout({name:"mx_trilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"v4",type:"float"},{name:"v5",type:"float"},{name:"v6",type:"float"},{name:"v7",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]}),UB=ie(([n,e,t,a,r,s,o,d,c,g,D])=>{const m=V(D).toVar(),_=V(g).toVar(),w=V(c).toVar(),x=ae(d).toVar(),T=ae(o).toVar(),I=ae(s).toVar(),N=ae(r).toVar(),R=ae(a).toVar(),M=ae(t).toVar(),B=ae(e).toVar(),F=ae(n).toVar(),L=V(wt(1,w)).toVar(),O=V(wt(1,_)).toVar();return V(wt(1,m)).toVar().mul(O.mul(F.mul(L).add(B.mul(w))).add(_.mul(M.mul(L).add(R.mul(w))))).add(m.mul(O.mul(N.mul(L).add(I.mul(w))).add(_.mul(T.mul(L).add(x.mul(w))))))}).setLayout({name:"mx_trilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"v4",type:"vec3"},{name:"v5",type:"vec3"},{name:"v6",type:"vec3"},{name:"v7",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]}),cv=ja([OB,UB]),GB=ie(([n,e,t])=>{const a=V(t).toVar(),r=V(e).toVar(),s=Me(n).toVar(),o=Me(s.bitAnd(Me(7))).toVar(),d=V(li(o.lessThan(Me(4)),r,a)).toVar(),c=V(ot(2,li(o.lessThan(Me(4)),a,r))).toVar();return AA(d,_r(o.bitAnd(Me(1)))).add(AA(c,_r(o.bitAnd(Me(2)))))}).setLayout({name:"mx_gradient_float_0",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"}]}),VB=ie(([n,e,t,a])=>{const r=V(a).toVar(),s=V(t).toVar(),o=V(e).toVar(),d=Me(n).toVar(),c=Me(d.bitAnd(Me(15))).toVar(),g=V(li(c.lessThan(Me(8)),o,s)).toVar(),D=V(li(c.lessThan(Me(4)),s,li(c.equal(Me(12)).or(c.equal(Me(14))),o,r))).toVar();return AA(g,_r(c.bitAnd(Me(1)))).add(AA(D,_r(c.bitAnd(Me(2)))))}).setLayout({name:"mx_gradient_float_1",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]}),Pa=ja([GB,VB]),zB=ie(([n,e,t])=>{const a=V(t).toVar(),r=V(e).toVar(),s=io(n).toVar();return ae(Pa(s.x,r,a),Pa(s.y,r,a),Pa(s.z,r,a))}).setLayout({name:"mx_gradient_vec3_0",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"}]}),WB=ie(([n,e,t,a])=>{const r=V(a).toVar(),s=V(t).toVar(),o=V(e).toVar(),d=io(n).toVar();return ae(Pa(d.x,o,s,r),Pa(d.y,o,s,r),Pa(d.z,o,s,r))}).setLayout({name:"mx_gradient_vec3_1",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]}),Wn=ja([zB,WB]),HB=ie(([n])=>{const e=V(n).toVar();return ot(.6616,e)}).setLayout({name:"mx_gradient_scale2d_0",type:"float",inputs:[{name:"v",type:"float"}]}),jB=ie(([n])=>{const e=V(n).toVar();return ot(.982,e)}).setLayout({name:"mx_gradient_scale3d_0",type:"float",inputs:[{name:"v",type:"float"}]}),$B=ie(([n])=>{const e=ae(n).toVar();return ot(.6616,e)}).setLayout({name:"mx_gradient_scale2d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]}),hv=ja([HB,$B]),QB=ie(([n])=>{const e=ae(n).toVar();return ot(.982,e)}).setLayout({name:"mx_gradient_scale3d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]}),pv=ja([jB,QB]),Mn=ie(([n,e])=>{const t=Q(e).toVar(),a=Me(n).toVar();return a.shiftLeft(t).bitOr(a.shiftRight(Q(32).sub(t)))}).setLayout({name:"mx_rotl32",type:"uint",inputs:[{name:"x",type:"uint"},{name:"k",type:"int"}]}),gv=ie(([n,e,t])=>{n.subAssign(t),n.bitXorAssign(Mn(t,Q(4))),t.addAssign(e),e.subAssign(n),e.bitXorAssign(Mn(n,Q(6))),n.addAssign(t),t.subAssign(e),t.bitXorAssign(Mn(e,Q(8))),e.addAssign(n),n.subAssign(t),n.bitXorAssign(Mn(t,Q(16))),t.addAssign(e),e.subAssign(n),e.bitXorAssign(Mn(n,Q(19))),n.addAssign(t),t.subAssign(e),t.bitXorAssign(Mn(e,Q(4))),e.addAssign(n)}),a2=ie(([n,e,t])=>{const a=Me(t).toVar(),r=Me(e).toVar(),s=Me(n).toVar();return a.bitXorAssign(r),a.subAssign(Mn(r,Q(14))),s.bitXorAssign(a),s.subAssign(Mn(a,Q(11))),r.bitXorAssign(s),r.subAssign(Mn(s,Q(25))),a.bitXorAssign(r),a.subAssign(Mn(r,Q(16))),s.bitXorAssign(a),s.subAssign(Mn(a,Q(4))),r.bitXorAssign(s),r.subAssign(Mn(s,Q(14))),a.bitXorAssign(r),a.subAssign(Mn(r,Q(24))),a}).setLayout({name:"mx_bjfinal",type:"uint",inputs:[{name:"a",type:"uint"},{name:"b",type:"uint"},{name:"c",type:"uint"}]}),en=ie(([n])=>{const e=Me(n).toVar();return V(e).div(V(Me(Q(4294967295))))}).setLayout({name:"mx_bits_to_01",type:"float",inputs:[{name:"bits",type:"uint"}]}),F0=ie(([n])=>{const e=V(n).toVar();return e.mul(e).mul(e).mul(e.mul(e.mul(6).sub(15)).add(10))}).setLayout({name:"mx_fade",type:"float",inputs:[{name:"t",type:"float"}]}),YB=ie(([n])=>{const e=Q(n).toVar(),t=Me(Me(1)).toVar(),a=Me(Me(Q(3735928559)).add(t.shiftLeft(Me(2))).add(Me(13))).toVar();return a2(a.add(Me(e)),a,a)}).setLayout({name:"mx_hash_int_0",type:"uint",inputs:[{name:"x",type:"int"}]}),XB=ie(([n,e])=>{const t=Q(e).toVar(),a=Q(n).toVar(),r=Me(Me(2)).toVar(),s=Me().toVar(),o=Me().toVar(),d=Me().toVar();return s.assign(o.assign(d.assign(Me(Q(3735928559)).add(r.shiftLeft(Me(2))).add(Me(13))))),s.addAssign(Me(a)),o.addAssign(Me(t)),a2(s,o,d)}).setLayout({name:"mx_hash_int_1",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]}),KB=ie(([n,e,t])=>{const a=Q(t).toVar(),r=Q(e).toVar(),s=Q(n).toVar(),o=Me(Me(3)).toVar(),d=Me().toVar(),c=Me().toVar(),g=Me().toVar();return d.assign(c.assign(g.assign(Me(Q(3735928559)).add(o.shiftLeft(Me(2))).add(Me(13))))),d.addAssign(Me(s)),c.addAssign(Me(r)),g.addAssign(Me(a)),a2(d,c,g)}).setLayout({name:"mx_hash_int_2",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]}),ZB=ie(([n,e,t,a])=>{const r=Q(a).toVar(),s=Q(t).toVar(),o=Q(e).toVar(),d=Q(n).toVar(),c=Me(Me(4)).toVar(),g=Me().toVar(),D=Me().toVar(),m=Me().toVar();return g.assign(D.assign(m.assign(Me(Q(3735928559)).add(c.shiftLeft(Me(2))).add(Me(13))))),g.addAssign(Me(d)),D.addAssign(Me(o)),m.addAssign(Me(s)),gv(g,D,m),g.addAssign(Me(r)),a2(g,D,m)}).setLayout({name:"mx_hash_int_3",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"}]}),JB=ie(([n,e,t,a,r])=>{const s=Q(r).toVar(),o=Q(a).toVar(),d=Q(t).toVar(),c=Q(e).toVar(),g=Q(n).toVar(),D=Me(Me(5)).toVar(),m=Me().toVar(),_=Me().toVar(),w=Me().toVar();return m.assign(_.assign(w.assign(Me(Q(3735928559)).add(D.shiftLeft(Me(2))).add(Me(13))))),m.addAssign(Me(g)),_.addAssign(Me(c)),w.addAssign(Me(d)),gv(m,_,w),m.addAssign(Me(o)),_.addAssign(Me(s)),a2(m,_,w)}).setLayout({name:"mx_hash_int_4",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"},{name:"yy",type:"int"}]}),Lt=ja([YB,XB,KB,ZB,JB]),eL=ie(([n,e])=>{const t=Q(e).toVar(),a=Q(n).toVar(),r=Me(Lt(a,t)).toVar(),s=io().toVar();return s.x.assign(r.bitAnd(Q(255))),s.y.assign(r.shiftRight(Q(8)).bitAnd(Q(255))),s.z.assign(r.shiftRight(Q(16)).bitAnd(Q(255))),s}).setLayout({name:"mx_hash_vec3_0",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]}),tL=ie(([n,e,t])=>{const a=Q(t).toVar(),r=Q(e).toVar(),s=Q(n).toVar(),o=Me(Lt(s,r,a)).toVar(),d=io().toVar();return d.x.assign(o.bitAnd(Q(255))),d.y.assign(o.shiftRight(Q(8)).bitAnd(Q(255))),d.z.assign(o.shiftRight(Q(16)).bitAnd(Q(255))),d}).setLayout({name:"mx_hash_vec3_1",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]}),Hn=ja([eL,tL]),aL=ie(([n])=>{const e=ye(n).toVar(),t=Q().toVar(),a=Q().toVar(),r=V(aa(e.x,t)).toVar(),s=V(aa(e.y,a)).toVar(),o=V(F0(r)).toVar(),d=V(F0(s)).toVar(),c=V(dv(Pa(Lt(t,a),r,s),Pa(Lt(t.add(Q(1)),a),r.sub(1),s),Pa(Lt(t,a.add(Q(1))),r,s.sub(1)),Pa(Lt(t.add(Q(1)),a.add(Q(1))),r.sub(1),s.sub(1)),o,d)).toVar();return hv(c)}).setLayout({name:"mx_perlin_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"}]}),nL=ie(([n])=>{const e=ae(n).toVar(),t=Q().toVar(),a=Q().toVar(),r=Q().toVar(),s=V(aa(e.x,t)).toVar(),o=V(aa(e.y,a)).toVar(),d=V(aa(e.z,r)).toVar(),c=V(F0(s)).toVar(),g=V(F0(o)).toVar(),D=V(F0(d)).toVar(),m=V(cv(Pa(Lt(t,a,r),s,o,d),Pa(Lt(t.add(Q(1)),a,r),s.sub(1),o,d),Pa(Lt(t,a.add(Q(1)),r),s,o.sub(1),d),Pa(Lt(t.add(Q(1)),a.add(Q(1)),r),s.sub(1),o.sub(1),d),Pa(Lt(t,a,r.add(Q(1))),s,o,d.sub(1)),Pa(Lt(t.add(Q(1)),a,r.add(Q(1))),s.sub(1),o,d.sub(1)),Pa(Lt(t,a.add(Q(1)),r.add(Q(1))),s,o.sub(1),d.sub(1)),Pa(Lt(t.add(Q(1)),a.add(Q(1)),r.add(Q(1))),s.sub(1),o.sub(1),d.sub(1)),c,g,D)).toVar();return pv(m)}).setLayout({name:"mx_perlin_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"}]}),zp=ja([aL,nL]),rL=ie(([n])=>{const e=ye(n).toVar(),t=Q().toVar(),a=Q().toVar(),r=V(aa(e.x,t)).toVar(),s=V(aa(e.y,a)).toVar(),o=V(F0(r)).toVar(),d=V(F0(s)).toVar(),c=ae(dv(Wn(Hn(t,a),r,s),Wn(Hn(t.add(Q(1)),a),r.sub(1),s),Wn(Hn(t,a.add(Q(1))),r,s.sub(1)),Wn(Hn(t.add(Q(1)),a.add(Q(1))),r.sub(1),s.sub(1)),o,d)).toVar();return hv(c)}).setLayout({name:"mx_perlin_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"}]}),sL=ie(([n])=>{const e=ae(n).toVar(),t=Q().toVar(),a=Q().toVar(),r=Q().toVar(),s=V(aa(e.x,t)).toVar(),o=V(aa(e.y,a)).toVar(),d=V(aa(e.z,r)).toVar(),c=V(F0(s)).toVar(),g=V(F0(o)).toVar(),D=V(F0(d)).toVar(),m=ae(cv(Wn(Hn(t,a,r),s,o,d),Wn(Hn(t.add(Q(1)),a,r),s.sub(1),o,d),Wn(Hn(t,a.add(Q(1)),r),s,o.sub(1),d),Wn(Hn(t.add(Q(1)),a.add(Q(1)),r),s.sub(1),o.sub(1),d),Wn(Hn(t,a,r.add(Q(1))),s,o,d.sub(1)),Wn(Hn(t.add(Q(1)),a,r.add(Q(1))),s.sub(1),o,d.sub(1)),Wn(Hn(t,a.add(Q(1)),r.add(Q(1))),s,o.sub(1),d.sub(1)),Wn(Hn(t.add(Q(1)),a.add(Q(1)),r.add(Q(1))),s.sub(1),o.sub(1),d.sub(1)),c,g,D)).toVar();return pv(m)}).setLayout({name:"mx_perlin_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),Wp=ja([rL,sL]),oL=ie(([n])=>{const e=V(n).toVar(),t=Q(ma(e)).toVar();return en(Lt(t))}).setLayout({name:"mx_cell_noise_float_0",type:"float",inputs:[{name:"p",type:"float"}]}),iL=ie(([n])=>{const e=ye(n).toVar(),t=Q(ma(e.x)).toVar(),a=Q(ma(e.y)).toVar();return en(Lt(t,a))}).setLayout({name:"mx_cell_noise_float_1",type:"float",inputs:[{name:"p",type:"vec2"}]}),lL=ie(([n])=>{const e=ae(n).toVar(),t=Q(ma(e.x)).toVar(),a=Q(ma(e.y)).toVar(),r=Q(ma(e.z)).toVar();return en(Lt(t,a,r))}).setLayout({name:"mx_cell_noise_float_2",type:"float",inputs:[{name:"p",type:"vec3"}]}),AL=ie(([n])=>{const e=Ge(n).toVar(),t=Q(ma(e.x)).toVar(),a=Q(ma(e.y)).toVar(),r=Q(ma(e.z)).toVar(),s=Q(ma(e.w)).toVar();return en(Lt(t,a,r,s))}).setLayout({name:"mx_cell_noise_float_3",type:"float",inputs:[{name:"p",type:"vec4"}]}),uL=ja([oL,iL,lL,AL]),dL=ie(([n])=>{const e=V(n).toVar(),t=Q(ma(e)).toVar();return ae(en(Lt(t,Q(0))),en(Lt(t,Q(1))),en(Lt(t,Q(2))))}).setLayout({name:"mx_cell_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"float"}]}),cL=ie(([n])=>{const e=ye(n).toVar(),t=Q(ma(e.x)).toVar(),a=Q(ma(e.y)).toVar();return ae(en(Lt(t,a,Q(0))),en(Lt(t,a,Q(1))),en(Lt(t,a,Q(2))))}).setLayout({name:"mx_cell_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec2"}]}),hL=ie(([n])=>{const e=ae(n).toVar(),t=Q(ma(e.x)).toVar(),a=Q(ma(e.y)).toVar(),r=Q(ma(e.z)).toVar();return ae(en(Lt(t,a,r,Q(0))),en(Lt(t,a,r,Q(1))),en(Lt(t,a,r,Q(2))))}).setLayout({name:"mx_cell_noise_vec3_2",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),pL=ie(([n])=>{const e=Ge(n).toVar(),t=Q(ma(e.x)).toVar(),a=Q(ma(e.y)).toVar(),r=Q(ma(e.z)).toVar(),s=Q(ma(e.w)).toVar();return ae(en(Lt(t,a,r,s,Q(0))),en(Lt(t,a,r,s,Q(1))),en(Lt(t,a,r,s,Q(2))))}).setLayout({name:"mx_cell_noise_vec3_3",type:"vec3",inputs:[{name:"p",type:"vec4"}]}),Dv=ja([dL,cL,hL,pL]),uA=ie(([n,e,t,a])=>{const r=V(a).toVar(),s=V(t).toVar(),o=Q(e).toVar(),d=ae(n).toVar(),c=V(0).toVar(),g=V(1).toVar();return Mt(o,()=>{c.addAssign(g.mul(zp(d))),g.mulAssign(r),d.mulAssign(s)}),c}).setLayout({name:"mx_fractal_noise_float",type:"float",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),fv=ie(([n,e,t,a])=>{const r=V(a).toVar(),s=V(t).toVar(),o=Q(e).toVar(),d=ae(n).toVar(),c=ae(0).toVar(),g=V(1).toVar();return Mt(o,()=>{c.addAssign(g.mul(Wp(d))),g.mulAssign(r),d.mulAssign(s)}),c}).setLayout({name:"mx_fractal_noise_vec3",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),gL=ie(([n,e,t,a])=>{const r=V(a).toVar(),s=V(t).toVar(),o=Q(e).toVar(),d=ae(n).toVar();return ye(uA(d,o,s,r),uA(d.add(ae(Q(19),Q(193),Q(17))),o,s,r))}).setLayout({name:"mx_fractal_noise_vec2",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),DL=ie(([n,e,t,a])=>{const r=V(a).toVar(),s=V(t).toVar(),o=Q(e).toVar(),d=ae(n).toVar(),c=ae(fv(d,o,s,r)).toVar(),g=V(uA(d.add(ae(Q(19),Q(193),Q(17))),o,s,r)).toVar();return Ge(c,g)}).setLayout({name:"mx_fractal_noise_vec4",type:"vec4",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),fL=ie(([n,e,t,a,r,s,o])=>{const d=Q(o).toVar(),c=V(s).toVar(),g=Q(r).toVar(),D=Q(a).toVar(),m=Q(t).toVar(),_=Q(e).toVar(),w=ye(n).toVar(),x=ae(Dv(ye(_.add(D),m.add(g)))).toVar(),T=ye(x.x,x.y).toVar();T.subAssign(.5),T.mulAssign(c),T.addAssign(.5);const I=ye(ye(V(_),V(m)).add(T)).toVar(),N=ye(I.sub(w)).toVar();return dt(d.equal(Q(2)),()=>Qt(N.x).add(Qt(N.y))),dt(d.equal(Q(3)),()=>fa(Qt(N.x),Qt(N.y))),o1(N,N)}).setLayout({name:"mx_worley_distance_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),vL=ie(([n,e,t,a,r,s,o,d,c])=>{const g=Q(c).toVar(),D=V(d).toVar(),m=Q(o).toVar(),_=Q(s).toVar(),w=Q(r).toVar(),x=Q(a).toVar(),T=Q(t).toVar(),I=Q(e).toVar(),N=ae(n).toVar(),R=ae(Dv(ae(I.add(w),T.add(_),x.add(m)))).toVar();R.subAssign(.5),R.mulAssign(D),R.addAssign(.5);const M=ae(ae(V(I),V(T),V(x)).add(R)).toVar(),B=ae(M.sub(N)).toVar();return dt(g.equal(Q(2)),()=>Qt(B.x).add(Qt(B.y)).add(Qt(B.z))),dt(g.equal(Q(3)),()=>fa(fa(Qt(B.x),Qt(B.y)),Qt(B.z))),o1(B,B)}).setLayout({name:"mx_worley_distance_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"zoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),uo=ja([fL,vL]),mL=ie(([n,e,t])=>{const a=Q(t).toVar(),r=V(e).toVar(),s=ye(n).toVar(),o=Q().toVar(),d=Q().toVar(),c=ye(aa(s.x,o),aa(s.y,d)).toVar(),g=V(1e6).toVar();return Mt({start:-1,end:Q(1),name:"x",condition:"<="},({x:D})=>{Mt({start:-1,end:Q(1),name:"y",condition:"<="},({y:m})=>{const _=V(uo(c,D,m,o,d,r,a)).toVar();g.assign(Sn(g,_))})}),dt(a.equal(Q(0)),()=>{g.assign(X0(g))}),g}).setLayout({name:"mx_worley_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),yL=ie(([n,e,t])=>{const a=Q(t).toVar(),r=V(e).toVar(),s=ye(n).toVar(),o=Q().toVar(),d=Q().toVar(),c=ye(aa(s.x,o),aa(s.y,d)).toVar(),g=ye(1e6,1e6).toVar();return Mt({start:-1,end:Q(1),name:"x",condition:"<="},({x:D})=>{Mt({start:-1,end:Q(1),name:"y",condition:"<="},({y:m})=>{const _=V(uo(c,D,m,o,d,r,a)).toVar();dt(_.lessThan(g.x),()=>{g.y.assign(g.x),g.x.assign(_)}).ElseIf(_.lessThan(g.y),()=>{g.y.assign(_)})})}),dt(a.equal(Q(0)),()=>{g.assign(X0(g))}),g}).setLayout({name:"mx_worley_noise_vec2_0",type:"vec2",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),_L=ie(([n,e,t])=>{const a=Q(t).toVar(),r=V(e).toVar(),s=ye(n).toVar(),o=Q().toVar(),d=Q().toVar(),c=ye(aa(s.x,o),aa(s.y,d)).toVar(),g=ae(1e6,1e6,1e6).toVar();return Mt({start:-1,end:Q(1),name:"x",condition:"<="},({x:D})=>{Mt({start:-1,end:Q(1),name:"y",condition:"<="},({y:m})=>{const _=V(uo(c,D,m,o,d,r,a)).toVar();dt(_.lessThan(g.x),()=>{g.z.assign(g.y),g.y.assign(g.x),g.x.assign(_)}).ElseIf(_.lessThan(g.y),()=>{g.z.assign(g.y),g.y.assign(_)}).ElseIf(_.lessThan(g.z),()=>{g.z.assign(_)})})}),dt(a.equal(Q(0)),()=>{g.assign(X0(g))}),g}).setLayout({name:"mx_worley_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),wL=ie(([n,e,t])=>{const a=Q(t).toVar(),r=V(e).toVar(),s=ae(n).toVar(),o=Q().toVar(),d=Q().toVar(),c=Q().toVar(),g=ae(aa(s.x,o),aa(s.y,d),aa(s.z,c)).toVar(),D=V(1e6).toVar();return Mt({start:-1,end:Q(1),name:"x",condition:"<="},({x:m})=>{Mt({start:-1,end:Q(1),name:"y",condition:"<="},({y:_})=>{Mt({start:-1,end:Q(1),name:"z",condition:"<="},({z:w})=>{const x=V(uo(g,m,_,w,o,d,c,r,a)).toVar();D.assign(Sn(D,x))})})}),dt(a.equal(Q(0)),()=>{D.assign(X0(D))}),D}).setLayout({name:"mx_worley_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),SL=ja([mL,wL]),xL=ie(([n,e,t])=>{const a=Q(t).toVar(),r=V(e).toVar(),s=ae(n).toVar(),o=Q().toVar(),d=Q().toVar(),c=Q().toVar(),g=ae(aa(s.x,o),aa(s.y,d),aa(s.z,c)).toVar(),D=ye(1e6,1e6).toVar();return Mt({start:-1,end:Q(1),name:"x",condition:"<="},({x:m})=>{Mt({start:-1,end:Q(1),name:"y",condition:"<="},({y:_})=>{Mt({start:-1,end:Q(1),name:"z",condition:"<="},({z:w})=>{const x=V(uo(g,m,_,w,o,d,c,r,a)).toVar();dt(x.lessThan(D.x),()=>{D.y.assign(D.x),D.x.assign(x)}).ElseIf(x.lessThan(D.y),()=>{D.y.assign(x)})})})}),dt(a.equal(Q(0)),()=>{D.assign(X0(D))}),D}).setLayout({name:"mx_worley_noise_vec2_1",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),bL=ja([yL,xL]),TL=ie(([n,e,t])=>{const a=Q(t).toVar(),r=V(e).toVar(),s=ae(n).toVar(),o=Q().toVar(),d=Q().toVar(),c=Q().toVar(),g=ae(aa(s.x,o),aa(s.y,d),aa(s.z,c)).toVar(),D=ae(1e6,1e6,1e6).toVar();return Mt({start:-1,end:Q(1),name:"x",condition:"<="},({x:m})=>{Mt({start:-1,end:Q(1),name:"y",condition:"<="},({y:_})=>{Mt({start:-1,end:Q(1),name:"z",condition:"<="},({z:w})=>{const x=V(uo(g,m,_,w,o,d,c,r,a)).toVar();dt(x.lessThan(D.x),()=>{D.z.assign(D.y),D.y.assign(D.x),D.x.assign(x)}).ElseIf(x.lessThan(D.y),()=>{D.z.assign(D.y),D.y.assign(x)}).ElseIf(x.lessThan(D.z),()=>{D.z.assign(x)})})})}),dt(a.equal(Q(0)),()=>{D.assign(X0(D))}),D}).setLayout({name:"mx_worley_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),IL=ja([_L,TL]),EL=ie(([n])=>{const e=n.y,t=n.z,a=ae().toVar();return dt(e.lessThan(1e-4),()=>{a.assign(ae(t,t,t))}).Else(()=>{let r=n.x;r=r.sub(q0(r)).mul(6).toVar();const s=Q(tp(r)),o=r.sub(V(s)),d=t.mul(e.oneMinus()),c=t.mul(e.mul(o).oneMinus()),g=t.mul(e.mul(o.oneMinus()).oneMinus());dt(s.equal(Q(0)),()=>{a.assign(ae(t,g,d))}).ElseIf(s.equal(Q(1)),()=>{a.assign(ae(c,t,d))}).ElseIf(s.equal(Q(2)),()=>{a.assign(ae(d,t,g))}).ElseIf(s.equal(Q(3)),()=>{a.assign(ae(d,c,t))}).ElseIf(s.equal(Q(4)),()=>{a.assign(ae(g,d,t))}).Else(()=>{a.assign(ae(t,d,c))})}),a}).setLayout({name:"mx_hsvtorgb",type:"vec3",inputs:[{name:"hsv",type:"vec3"}]}),kL=ie(([n])=>{const e=ae(n).toVar(),t=V(e.x).toVar(),a=V(e.y).toVar(),r=V(e.z).toVar(),s=V(Sn(t,Sn(a,r))).toVar(),o=V(fa(t,fa(a,r))).toVar(),d=V(o.sub(s)).toVar(),c=V().toVar(),g=V().toVar(),D=V().toVar();return D.assign(o),dt(o.greaterThan(0),()=>{g.assign(d.div(o))}).Else(()=>{g.assign(0)}),dt(g.lessThanEqual(0),()=>{c.assign(0)}).Else(()=>{dt(t.greaterThanEqual(o),()=>{c.assign(a.sub(r).div(d))}).ElseIf(a.greaterThanEqual(o),()=>{c.assign(ya(2,r.sub(t).div(d)))}).Else(()=>{c.assign(ya(4,t.sub(a).div(d)))}),c.mulAssign(1/6),dt(c.lessThan(0),()=>{c.addAssign(1)})}),ae(c,g,D)}).setLayout({name:"mx_rgbtohsv",type:"vec3",inputs:[{name:"c",type:"vec3"}]}),NL=ie(([n])=>{const e=ae(n).toVar(),t=Uh(Yh(e,ae(.04045))).toVar(),a=ae(e.div(12.92)).toVar(),r=ae(g0(fa(e.add(ae(.055)),ae(0)).div(1.055),ae(2.4))).toVar();return Rt(a,r,t)}).setLayout({name:"mx_srgb_texture_to_lin_rec709",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),vv=(n,e)=>{n=V(n),e=V(e);const t=ye(e.dFdx(),e.dFdy()).length().mul(.7071067811865476);return G0(n.sub(t),n.add(t),e)},mv=(n,e,t,a)=>Rt(n,e,t[a].clamp()),RL=(n,e,t=na())=>mv(n,e,t,"x"),ML=(n,e,t=na())=>mv(n,e,t,"y"),yv=(n,e,t,a,r)=>Rt(n,e,vv(t,a[r])),CL=(n,e,t,a=na())=>yv(n,e,t,a,"x"),PL=(n,e,t,a=na())=>yv(n,e,t,a,"y"),BL=(n=1,e=0,t=na())=>t.mul(n).add(e),LL=(n,e=1)=>(n=V(n),n.abs().pow(e).mul(n.sign())),qL=(n,e=1,t=.5)=>V(n).sub(t).mul(e).add(t),FL=(n=na(),e=1,t=0)=>zp(n.convert("vec2|vec3")).mul(e).add(t),OL=(n=na(),e=1,t=0)=>Wp(n.convert("vec2|vec3")).mul(e).add(t),UL=(n=na(),e=1,t=0)=>(n=n.convert("vec2|vec3"),Ge(Wp(n),zp(n.add(ye(19,73)))).mul(e).add(t)),GL=(n=na(),e=1)=>SL(n.convert("vec2|vec3"),e,Q(1)),VL=(n=na(),e=1)=>bL(n.convert("vec2|vec3"),e,Q(1)),zL=(n=na(),e=1)=>IL(n.convert("vec2|vec3"),e,Q(1)),WL=(n=na())=>uL(n.convert("vec2|vec3")),HL=(n=na(),e=3,t=2,a=.5,r=1)=>uA(n,Q(e),t,a).mul(r),jL=(n=na(),e=3,t=2,a=.5,r=1)=>gL(n,Q(e),t,a).mul(r),$L=(n=na(),e=3,t=2,a=.5,r=1)=>fv(n,Q(e),t,a).mul(r),QL=(n=na(),e=3,t=2,a=.5,r=1)=>DL(n,Q(e),t,a).mul(r),YL=ie(([n,e,t])=>{const a=wr(n).toVar(),r=wt(V(.5).mul(e.sub(t)),gr).div(a).toVar(),s=wt(V(-.5).mul(e.sub(t)),gr).div(a).toVar(),o=ae().toVar();o.x=a.x.greaterThan(V(0)).select(r.x,s.x),o.y=a.y.greaterThan(V(0)).select(r.y,s.y),o.z=a.z.greaterThan(V(0)).select(r.z,s.z);const d=Sn(Sn(o.x,o.y),o.z).toVar();return gr.add(a.mul(d)).toVar().sub(t)}),_v=ie(([n,e])=>{const t=n.x,a=n.y,r=n.z;let s=e.element(0).mul(.886227);return s=s.add(e.element(1).mul(2*.511664).mul(a)),s=s.add(e.element(2).mul(2*.511664).mul(r)),s=s.add(e.element(3).mul(2*.511664).mul(t)),s=s.add(e.element(4).mul(2*.429043).mul(t).mul(a)),s=s.add(e.element(5).mul(2*.429043).mul(a).mul(r)),s=s.add(e.element(6).mul(r.mul(r).mul(.743125).sub(.247708))),s=s.add(e.element(7).mul(2*.429043).mul(t).mul(r)),s=s.add(e.element(8).mul(.429043).mul(ot(t,t).sub(ot(a,a)))),s});var E=Object.freeze({__proto__:null,BRDF_GGX:Wc,BRDF_Lambert:H1,BasicPointShadowFilter:iv,BasicShadowFilter:tv,Break:Y9,Const:S4,Continue:HN,DFGApprox:bp,D_GGX:u7,Discard:G4,EPSILON:jf,F_Schlick:no,Fn:ie,INFINITY:kk,If:dt,Loop:Mt,NodeAccess:Ja,NodeShaderStage:Cc,NodeType:nk,NodeUpdateType:st,PCFShadowFilter:av,PCFSoftShadowFilter:nv,PI:rA,PI2:Nk,PointShadowFilter:lv,Return:Hk,Schlick_to_F0:c7,ScriptableNodeResources:ml,ShaderNode:ai,TBNViewMatrix:P1,VSMShadowFilter:rv,V_GGX_SmithCorrelated:A7,Var:w4,abs:Qt,acesFilmicToneMapping:j7,acos:Jf,add:ya,addMethodChaining:fe,addNodeElement:Qk,agxToneMapping:$7,all:$f,alphaT:tA,and:Pf,anisotropy:Ur,anisotropyB:O1,anisotropyT:ni,any:Qf,append:pf,array:xf,arrayBuffer:xk,asin:Zf,assign:Ef,atan:Zh,atan2:v4,atomicAdd:oB,atomicAnd:uB,atomicFunc:K0,atomicLoad:rB,atomicMax:lB,atomicMin:AB,atomicOr:dB,atomicStore:sB,atomicSub:iB,atomicXor:cB,attenuationColor:jh,attenuationDistance:Hh,attribute:V0,attributeArray:YC,backgroundBlurriness:P7,backgroundIntensity:Xc,backgroundRotation:B7,batch:j9,billboarding:MC,bitAnd:Ff,bitNot:Of,bitOr:Uf,bitXor:Gf,bitangentGeometry:wN,bitangentLocal:SN,bitangentView:o9,bitangentWorld:xN,bitcast:Rk,blendBurn:F7,blendColor:uP,blendDodge:O7,blendOverlay:G7,blendScreen:U7,blur:m7,bool:_r,buffer:Qi,bufferAttribute:$i,bumpMap:u9,burn:dP,bvec2:ff,bvec3:Uh,bvec4:_f,bypass:q4,cache:si,call:kf,cameraFar:zr,cameraIndex:Ap,cameraNear:Vr,cameraNormalMatrix:nN,cameraPosition:$4,cameraProjectionMatrix:Y1,cameraProjectionMatrixInverse:tN,cameraViewMatrix:bn,cameraWorldMatrix:aN,cbrt:h4,cdl:mP,ceil:kA,checker:BB,cineonToneMapping:H7,clamp:U0,clearcoat:eA,clearcoatRoughness:Ri,code:zA,color:gf,colorSpaceToWorking:CA,colorToDirection:yR,compute:L4,computeSkinning:zN,cond:m4,context:MA,convert:Sf,convertColorSpace:Lk,convertToTexture:HC,cos:or,cross:RA,cubeTexture:ao,cubeToUV:A0,dFdx:Jh,dFdy:ep,dashSize:dl,debug:z4,defaultBuildStages:Pc,defaultShaderStages:lf,defined:Ii,degrees:Xf,deltaTime:R7,densityFog:GP,densityFogFactor:Pp,depth:_p,depthPass:xP,difference:A4,diffuseColor:kt,directPointLight:uv,directionToColor:a7,dispersion:$h,distance:l4,div:y0,dodge:cP,dot:o1,drawIndex:z9,dynamicBufferAttribute:B4,element:wf,emissive:Fc,equal:Qh,equals:o4,equirectUV:wp,exp:Xh,exp2:to,expression:n1,faceDirection:Xi,faceForward:sp,faceforward:Mk,float:V,floor:q0,fog:Bi,fract:xr,frameGroup:If,frameId:wC,frontFacing:K4,fwidth:r4,gain:gC,gapSize:Oc,getConstNodeType:hf,getCurrentStack:Oh,getDirection:f7,getDistanceAttenuation:Vp,getGeometryRoughness:l7,getNormalFromDepth:$C,getParallaxCorrectNormal:YL,getRoughness:xp,getScreenPosition:jC,getShIrradianceAt:_v,getTextureIndex:k7,getViewPosition:Is,globalId:$P,glsl:CP,glslFn:PP,grayscale:gP,greaterThan:Yh,greaterThanEqual:Cf,hash:pC,highpModelNormalViewMatrix:DN,highpModelViewMatrix:gN,hue:vP,instance:LN,instanceIndex:Jr,instancedArray:XC,instancedBufferAttribute:sA,instancedDynamicBufferAttribute:Uc,instancedMesh:H9,int:Q,inverseSqrt:Kh,inversesqrt:Ck,invocationLocalIndex:BN,invocationSubgroupIndex:PN,ior:ri,iridescence:IA,iridescenceIOR:Vh,iridescenceThickness:zh,ivec2:Ea,ivec3:vf,ivec4:mf,js:RP,label:_4,length:pr,lengthSq:np,lessThan:Rf,lessThanEqual:Mf,lightPosition:qp,lightProjectionUV:J7,lightShadowMatrix:Lp,lightTargetDirection:Op,lightTargetPosition:ev,lightViewPosition:Fp,lightingContext:K9,lights:gB,linearDepth:iA,linearToneMapping:z7,localId:QP,log:EA,log2:L0,logarithmicDepthToViewZ:sR,loop:jN,luminance:Mp,mat2:xA,mat3:tn,mat4:F1,matcapUV:w7,materialAO:G9,materialAlphaTest:d9,materialAnisotropy:T9,materialAnisotropyVector:Ts,materialAttenuationColor:P9,materialAttenuationDistance:C9,materialClearcoat:y9,materialClearcoatNormal:w9,materialClearcoatRoughness:_9,materialColor:c9,materialDispersion:U9,materialEmissive:p9,materialEnvIntensity:pl,materialEnvRotation:cp,materialIOR:M9,materialIridescence:I9,materialIridescenceIOR:E9,materialIridescenceThickness:k9,materialLightMap:gp,materialLineDashOffset:F9,materialLineDashSize:L9,materialLineGapSize:q9,materialLineScale:B9,materialLineWidth:MN,materialMetalness:v9,materialNormal:m9,materialOpacity:pp,materialPointSize:O9,materialReference:ur,materialReflectivity:gl,materialRefractionRatio:e9,materialRotation:S9,materialRoughness:f9,materialSheen:x9,materialSheenRoughness:b9,materialShininess:h9,materialSpecular:g9,materialSpecularColor:D9,materialSpecularIntensity:zc,materialSpecularStrength:oi,materialThickness:R9,materialTransmission:N9,max:fa,maxMipLevel:H4,mediumpModelViewMatrix:X4,metalness:Ni,min:Sn,mix:Rt,mixElement:D4,mod:Wi,modInt:Hf,modelDirection:AN,modelNormalMatrix:Y4,modelPosition:uN,modelRadius:hN,modelScale:dN,modelViewMatrix:X1,modelViewPosition:cN,modelViewProjection:Dp,modelWorldMatrix:Qn,modelWorldMatrixInverse:pN,morphReference:X9,mrt:N7,mul:ot,mx_aastep:vv,mx_cell_noise_float:WL,mx_contrast:qL,mx_fractal_noise_float:HL,mx_fractal_noise_vec2:jL,mx_fractal_noise_vec3:$L,mx_fractal_noise_vec4:QL,mx_hsvtorgb:EL,mx_noise_float:FL,mx_noise_vec3:OL,mx_noise_vec4:UL,mx_ramplr:RL,mx_ramptb:ML,mx_rgbtohsv:kL,mx_safepower:LL,mx_splitlr:CL,mx_splittb:PL,mx_srgb_texture_to_lin_rec709:NL,mx_transform_uv:BL,mx_worley_noise_float:GL,mx_worley_noise_vec2:VL,mx_worley_noise_vec3:zL,negate:e4,neutralToneMapping:Q7,nodeArray:q1,nodeImmutable:Ne,nodeObject:ve,nodeObjects:Vi,nodeProxy:me,normalFlat:Z4,normalGeometry:PA,normalLocal:xn,normalMap:Vc,normalView:e0,normalWorld:BA,normalize:wr,not:Lf,notEqual:Nf,numWorkgroups:HP,objectDirection:rN,objectGroup:Gh,objectPosition:Q4,objectRadius:lN,objectScale:oN,objectViewPosition:iN,objectWorldMatrix:sN,oneMinus:t4,or:Bf,orthographicDepthToViewZ:rR,oscSawtooth:kC,oscSine:TC,oscSquare:IC,oscTriangle:EC,output:zs,outputStruct:cC,overlay:pP,overloadingFn:ja,parabola:Yc,parallaxDirection:l9,parallaxUV:TN,parameter:oC,pass:wP,passTexture:SP,pcurve:DC,perspectiveDepthToViewZ:mp,pmremTexture:Ep,pointShadow:Av,pointUV:eP,pointWidth:Tk,positionGeometry:Yi,positionLocal:ga,positionPrevious:oA,positionView:va,positionViewDirection:Jt,positionWorld:gr,positionWorldDirection:up,posterize:_P,pow:g0,pow2:ap,pow3:u4,pow4:d4,property:lo,radians:Yf,rand:g4,range:zP,rangeFog:UP,rangeFogFactor:Cp,reciprocal:n4,reference:zt,referenceBuffer:Gc,reflect:i4,reflectVector:n9,reflectView:t9,reflector:UC,refract:rp,refractVector:r9,refractView:a9,reinhardToneMapping:W7,remainder:Wf,remap:O4,remapClamp:U4,renderGroup:He,renderOutput:V4,rendererReference:M4,rotate:VA,rotateUV:NC,roughness:C0,round:a4,rtt:C7,sRGBTransferEOTF:T4,sRGBTransferOETF:I4,sampler:Kk,samplerComparison:Zk,saturate:p4,saturation:DP,screen:hP,screenCoordinate:e2,screenSize:Pi,screenUV:W0,scriptable:OP,scriptableValue:vl,select:Ga,setCurrentStack:Ei,shaderStages:Bc,shadow:ov,shadowPositionWorld:Gp,shapeCircle:LB,sharedUniformGroup:bA,sheen:C1,sheenRoughness:TA,shiftLeft:Vf,shiftRight:zf,shininess:aA,sign:Ci,sin:Pn,sinc:fC,skinning:Q9,smoothstep:G0,smoothstepElement:f4,specularColor:gn,specularF90:Mi,spherizeUV:RC,split:bk,spritesheetUV:BC,sqrt:X0,stack:Dl,step:NA,storage:U1,storageBarrier:ZP,storageObject:VN,storageTexture:L7,string:Sk,struct:dC,sub:wt,subgroupIndex:CN,subgroupSize:YP,tan:Kf,tangentGeometry:FA,tangentLocal:Ki,tangentView:Zi,tangentWorld:s9,temp:x4,texture:ft,texture3D:sP,textureBarrier:JP,textureBicubic:g7,textureCubeUV:v7,textureLoad:ca,textureSize:Zr,textureStore:aP,thickness:Wh,time:K1,timerDelta:bC,timerGlobal:xC,timerLocal:SC,toOutputColorSpace:E4,toWorkingColorSpace:k4,toneMapping:C4,toneMappingExposure:P4,toonOutlinePass:TP,transformDirection:c4,transformNormal:J4,transformNormalToView:dp,transformedBentNormalView:A9,transformedBitangentView:i9,transformedBitangentWorld:bN,transformedClearcoatNormalView:Bs,transformedNormalView:pa,transformedNormalWorld:LA,transformedTangentView:hp,transformedTangentWorld:_N,transmission:nA,transpose:s4,triNoise3D:mC,triplanarTexture:qC,triplanarTextures:M7,trunc:tp,tslFn:wk,uint:Me,uniform:Ue,uniformArray:d0,uniformGroup:Tf,uniforms:eN,userData:iP,uv:na,uvec2:Df,uvec3:io,uvec4:yf,varying:nn,varyingProperty:ki,vec2:ye,vec3:ae,vec4:Ge,vectorComponents:$1,velocity:AP,vertexColor:ZC,vertexIndex:V9,vertexStage:b4,vibrance:fP,viewZToLogarithmicDepth:yp,viewZToOrthographicDepth:Hs,viewZToPerspectiveDepth:e7,viewport:Ws,viewportBottomLeft:tR,viewportCoordinate:J9,viewportDepthTexture:vp,viewportLinearDepth:oR,viewportMipTexture:fp,viewportResolution:JN,viewportSafeUV:CC,viewportSharedTexture:mR,viewportSize:Z9,viewportTexture:aR,viewportTopLeft:eR,viewportUV:ZN,wgsl:MP,wgslFn:BP,workgroupArray:aB,workgroupBarrier:KP,workgroupId:jP,workingToColorSpace:N4,xor:qf});const r0=new kp;class XL extends i1{constructor(e,t){super(),this.renderer=e,this.nodes=t}update(e,t,a){const r=this.renderer,s=this.nodes.getBackgroundNode(e)||e.background;let o=!1;if(s===null)r._clearColor.getRGB(r0),r0.a=r._clearColor.a;else if(s.isColor===!0)s.getRGB(r0),r0.a=1,o=!0;else if(s.isNode===!0){const c=this.get(e),g=s;r0.copy(r._clearColor);let D=c.backgroundMesh;if(D===void 0){const _=MA(Ge(g).mul(Xc),{getUV:()=>B7.mul(BA),getTextureLevel:()=>P7});let w=Dp;w=w.setZ(w.w);const x=new _a;x.name="Background.material",x.side=_n,x.depthTest=!1,x.depthWrite=!1,x.allowOverride=!1,x.fog=!1,x.lights=!1,x.vertexNode=w,x.colorNode=_,c.backgroundMeshNode=_,c.backgroundMesh=D=new Da(new j1(1,32,32),x),D.frustumCulled=!1,D.name="Background.mesh",D.onBeforeRender=function(T,I,N){this.matrixWorld.copyPosition(N.matrixWorld)}}const m=g.getCacheKey();c.backgroundCacheKey!==m&&(c.backgroundMeshNode.node=Ge(g).mul(Xc),c.backgroundMeshNode.needsUpdate=!0,D.material.needsUpdate=!0,c.backgroundCacheKey=m),t.unshift(D,D.geometry,D.material,0,0,null,null)}else console.error("THREE.Renderer: Unsupported background configuration.",s);const d=r.xr.getEnvironmentBlendMode();if(d==="additive"?r0.set(0,0,0,1):d==="alpha-blend"&&r0.set(0,0,0,0),r.autoClear===!0||o===!0){const c=a.clearColorValue;c.r=r0.r,c.g=r0.g,c.b=r0.b,c.a=r0.a,(r.backend.isWebGLBackend===!0||r.alpha===!0)&&(c.r*=c.a,c.g*=c.a,c.b*=c.a),a.depthClearValue=r._clearDepth,a.stencilClearValue=r._clearStencil,a.clearColor=r.autoClearColor===!0,a.clearDepth=r.autoClearDepth===!0,a.clearStencil=r.autoClearStencil===!0}else a.clearColor=!1,a.clearDepth=!1,a.clearStencil=!1}}let KL=0;class Kc{constructor(e="",t=[],a=0,r=[]){this.name=e,this.bindings=t,this.index=a,this.bindingsReference=r,this.id=KL++}}class ZL{constructor(e,t,a,r,s,o,d,c,g,D=[]){this.vertexShader=e,this.fragmentShader=t,this.computeShader=a,this.transforms=D,this.nodeAttributes=r,this.bindings=s,this.updateNodes=o,this.updateBeforeNodes=d,this.updateAfterNodes=c,this.observer=g,this.usedTimes=0}createBindings(){const e=[];for(const t of this.bindings)if(t.bindings[0].groupNode.shared!==!0){const r=new Kc(t.name,[],t.index,t);e.push(r);for(const s of t.bindings)r.bindings.push(s.clone())}else e.push(t);return e}}class ug{constructor(e,t,a=null){this.isNodeAttribute=!0,this.name=e,this.type=t,this.node=a}}class JL{constructor(e,t,a){this.isNodeUniform=!0,this.name=e,this.type=t,this.node=a.getSelf()}get value(){return this.node.value}set value(e){this.node.value=e}get id(){return this.node.id}get groupNode(){return this.node.groupNode}}class wv{constructor(e,t,a=!1,r=null){this.isNodeVar=!0,this.name=e,this.type=t,this.readOnly=a,this.count=r}}class eq extends wv{constructor(e,t){super(e,t),this.needsInterpolation=!1,this.isNodeVarying=!0}}class tq{constructor(e,t,a=""){this.name=e,this.type=t,this.code=a,Object.defineProperty(this,"isNodeCode",{value:!0})}}let aq=0;class cd{constructor(e=null){this.id=aq++,this.nodesData=new WeakMap,this.parent=e}getData(e){let t=this.nodesData.get(e);return t===void 0&&this.parent!==null&&(t=this.parent.getData(e)),t}setData(e,t){this.nodesData.set(e,t)}}class nq{constructor(e,t){this.name=e,this.members=t,this.output=!1}}class l1{constructor(e,t){this.name=e,this.value=t,this.boundary=0,this.itemSize=0,this.offset=0}setValue(e){this.value=e}getValue(){return this.value}}class rq extends l1{constructor(e,t=0){super(e,t),this.isNumberUniform=!0,this.boundary=4,this.itemSize=1}}class sq extends l1{constructor(e,t=new Ot){super(e,t),this.isVector2Uniform=!0,this.boundary=8,this.itemSize=2}}class oq extends l1{constructor(e,t=new Re){super(e,t),this.isVector3Uniform=!0,this.boundary=16,this.itemSize=3}}class iq extends l1{constructor(e,t=new Ut){super(e,t),this.isVector4Uniform=!0,this.boundary=16,this.itemSize=4}}class lq extends l1{constructor(e,t=new za){super(e,t),this.isColorUniform=!0,this.boundary=16,this.itemSize=3}}class Aq extends l1{constructor(e,t=new F8){super(e,t),this.isMatrix2Uniform=!0,this.boundary=16,this.itemSize=4}}class uq extends l1{constructor(e,t=new qi){super(e,t),this.isMatrix3Uniform=!0,this.boundary=48,this.itemSize=12}}class dq extends l1{constructor(e,t=new la){super(e,t),this.isMatrix4Uniform=!0,this.boundary=64,this.itemSize=16}}class cq extends rq{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class hq extends sq{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class pq extends oq{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class gq extends iq{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class Dq extends lq{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class fq extends Aq{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class vq extends uq{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class mq extends dq{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}const dg=new WeakMap,yq=new Map([[Int8Array,"int"],[Int16Array,"int"],[Int32Array,"int"],[Uint8Array,"uint"],[Uint16Array,"uint"],[Uint32Array,"uint"],[Float32Array,"float"]]),q2=n=>/e/g.test(n)?String(n).replace(/\+/g,""):(n=Number(n),n+(n%1?"":".0"));class Sv{constructor(e,t,a){this.object=e,this.material=e&&e.material||null,this.geometry=e&&e.geometry||null,this.renderer=t,this.parser=a,this.scene=null,this.camera=null,this.nodes=[],this.sequentialNodes=[],this.updateNodes=[],this.updateBeforeNodes=[],this.updateAfterNodes=[],this.hashNodes={},this.observer=null,this.lightsNode=null,this.environmentNode=null,this.fogNode=null,this.clippingContext=null,this.vertexShader=null,this.fragmentShader=null,this.computeShader=null,this.flowNodes={vertex:[],fragment:[],compute:[]},this.flowCode={vertex:"",fragment:"",compute:""},this.uniforms={vertex:[],fragment:[],compute:[],index:0},this.structs={vertex:[],fragment:[],compute:[],index:0},this.bindings={vertex:{},fragment:{},compute:{}},this.bindingsIndexes={},this.bindGroups=null,this.attributes=[],this.bufferAttributes=[],this.varyings=[],this.codes={},this.vars={},this.declarations={},this.flow={code:""},this.chaining=[],this.stack=Dl(),this.stacks=[],this.tab="	",this.currentFunctionNode=null,this.context={material:this.material},this.cache=new cd,this.globalCache=this.cache,this.flowsData=new WeakMap,this.shaderStage=null,this.buildStage=null}getBindGroupsCache(){let e=dg.get(this.renderer);return e===void 0&&(e=new H0,dg.set(this.renderer,e)),e}createRenderTarget(e,t,a){return new s1(e,t,a)}createCubeRenderTarget(e,t){return new n7(e,t)}includes(e){return this.nodes.includes(e)}getOutputStructName(){}_getBindGroup(e,t){const a=this.getBindGroupsCache(),r=[];let s=!0;for(const d of t)r.push(d),s=s&&d.groupNode.shared!==!0;let o;return s?(o=a.get(r),o===void 0&&(o=new Kc(e,r,this.bindingsIndexes[e].group,r),a.set(r,o))):o=new Kc(e,r,this.bindingsIndexes[e].group,r),o}getBindGroupArray(e,t){const a=this.bindings[t];let r=a[e];return r===void 0&&(this.bindingsIndexes[e]===void 0&&(this.bindingsIndexes[e]={binding:0,group:Object.keys(this.bindingsIndexes).length}),a[e]=r=[]),r}getBindings(){let e=this.bindGroups;if(e===null){const t={},a=this.bindings;for(const r of Bc)for(const s in a[r]){const o=a[r][s];(t[s]||(t[s]=[])).push(...o)}e=[];for(const r in t){const s=t[r],o=this._getBindGroup(r,s);e.push(o)}this.bindGroups=e}return e}sortBindingGroups(){const e=this.getBindings();e.sort((t,a)=>t.bindings[0].groupNode.order-a.bindings[0].groupNode.order);for(let t=0;t<e.length;t++){const a=e[t];this.bindingsIndexes[a.name].group=t,a.index=t}}setHashNode(e,t){this.hashNodes[t]=e}addNode(e){this.nodes.includes(e)===!1&&(this.nodes.push(e),this.setHashNode(e,e.getHash(this)))}addSequentialNode(e){this.sequentialNodes.includes(e)===!1&&this.sequentialNodes.push(e)}buildUpdateNodes(){for(const e of this.nodes)e.getUpdateType()!==st.NONE&&this.updateNodes.push(e.getSelf());for(const e of this.sequentialNodes){const t=e.getUpdateBeforeType(),a=e.getUpdateAfterType();t!==st.NONE&&this.updateBeforeNodes.push(e.getSelf()),a!==st.NONE&&this.updateAfterNodes.push(e.getSelf())}}get currentNode(){return this.chaining[this.chaining.length-1]}isFilteredTexture(e){return e.magFilter===Dr||e.magFilter===Bd||e.magFilter===ci||e.magFilter===B1||e.minFilter===Dr||e.minFilter===Bd||e.minFilter===ci||e.minFilter===B1}addChain(e){this.chaining.push(e)}removeChain(e){if(this.chaining.pop()!==e)throw new Error("NodeBuilder: Invalid node chaining!")}getMethod(e){return e}getNodeFromHash(e){return this.hashNodes[e]}addFlow(e,t){return this.flowNodes[e].push(t),t}setContext(e){this.context=e}getContext(){return this.context}getSharedContext(){return{...this.context},this.context}setCache(e){this.cache=e}getCache(){return this.cache}getCacheFromNode(e,t=!0){const a=this.getDataFromNode(e);return a.cache===void 0&&(a.cache=new cd(t?this.getCache():null)),a.cache}isAvailable(){return!1}getVertexIndex(){console.warn("Abstract function.")}getInstanceIndex(){console.warn("Abstract function.")}getDrawIndex(){console.warn("Abstract function.")}getFrontFacing(){console.warn("Abstract function.")}getFragCoord(){console.warn("Abstract function.")}isFlipY(){return!1}increaseUsage(e){const t=this.getDataFromNode(e);return t.usageCount=t.usageCount===void 0?1:t.usageCount+1,t.usageCount}generateTexture(){console.warn("Abstract function.")}generateTextureLod(){console.warn("Abstract function.")}generateArrayDeclaration(e,t){return this.getType(e)+"[ "+t+" ]"}generateArray(e,t,a=null){let r=this.generateArrayDeclaration(e,t)+"( ";for(let s=0;s<t;s++){const o=a?a[s]:null;o!==null?r+=o.build(this,e):r+=this.generateConst(e),s<t-1&&(r+=", ")}return r+=" )",r}generateStruct(e,t,a=null){const r=[];for(const s of t){const{name:o,type:d}=s;a&&a[o]&&a[o].isNode?r.push(a[o].build(this,d)):r.push(this.generateConst(d))}return e+"( "+r.join(", ")+" )"}generateConst(e,t=null){if(t===null&&(e==="float"||e==="int"||e==="uint"?t=0:e==="bool"?t=!1:e==="color"?t=new za:e==="vec2"?t=new Ot:e==="vec3"?t=new Re:e==="vec4"&&(t=new Ut)),e==="float")return q2(t);if(e==="int")return`${Math.round(t)}`;if(e==="uint")return t>=0?`${Math.round(t)}u`:"0u";if(e==="bool")return t?"true":"false";if(e==="color")return`${this.getType("vec3")}( ${q2(t.r)}, ${q2(t.g)}, ${q2(t.b)} )`;const a=this.getTypeLength(e),r=this.getComponentType(e),s=o=>this.generateConst(r,o);if(a===2)return`${this.getType(e)}( ${s(t.x)}, ${s(t.y)} )`;if(a===3)return`${this.getType(e)}( ${s(t.x)}, ${s(t.y)}, ${s(t.z)} )`;if(a===4&&e!=="mat2")return`${this.getType(e)}( ${s(t.x)}, ${s(t.y)}, ${s(t.z)}, ${s(t.w)} )`;if(a>=4&&t&&(t.isMatrix2||t.isMatrix3||t.isMatrix4))return`${this.getType(e)}( ${t.elements.map(s).join(", ")} )`;if(a>4)return`${this.getType(e)}()`;throw new Error(`NodeBuilder: Type '${e}' not found in generate constant attempt.`)}getType(e){return e==="color"?"vec3":e}hasGeometryAttribute(e){return this.geometry&&this.geometry.getAttribute(e)!==void 0}getAttribute(e,t){const a=this.attributes;for(const s of a)if(s.name===e)return s;const r=new ug(e,t);return this.registerDeclaration(r),a.push(r),r}getPropertyName(e){return e.name}isVector(e){return/vec\d/.test(e)}isMatrix(e){return/mat\d/.test(e)}isReference(e){return e==="void"||e==="property"||e==="sampler"||e==="samplerComparison"||e==="texture"||e==="cubeTexture"||e==="storageTexture"||e==="depthTexture"||e==="texture3D"}needsToWorkingColorSpace(){return!1}getComponentTypeFromTexture(e){const t=e.type;if(e.isDataTexture){if(t===ln)return"int";if(t===xa)return"uint"}return"float"}getElementType(e){return e==="mat2"?"vec2":e==="mat3"?"vec3":e==="mat4"?"vec4":this.getComponentType(e)}getComponentType(e){if(e=this.getVectorType(e),e==="float"||e==="bool"||e==="int"||e==="uint")return e;const t=/(b|i|u|)(vec|mat)([2-4])/.exec(e);return t===null?null:t[1]==="b"?"bool":t[1]==="i"?"int":t[1]==="u"?"uint":"float"}getVectorType(e){return e==="color"?"vec3":e==="texture"||e==="cubeTexture"||e==="storageTexture"||e==="texture3D"?"vec4":e}getTypeFromLength(e,t="float"){if(e===1)return t;let a=af(e);const r=t==="float"?"":t[0];return/mat2/.test(t)===!0&&(a=a.replace("vec","mat")),r+a}getTypeFromArray(e){return yq.get(e.constructor)}isInteger(e){return/int|uint|(i|u)vec/.test(e)}getTypeFromAttribute(e){let t=e;e.isInterleavedBufferAttribute&&(t=e.data);const a=t.array,r=e.itemSize,s=e.normalized;let o;return!(e instanceof G8)&&s!==!0&&(o=this.getTypeFromArray(a)),this.getTypeFromLength(r,o)}getTypeLength(e){const t=this.getVectorType(e),a=/vec([2-4])/.exec(t);return a!==null?Number(a[1]):t==="float"||t==="bool"||t==="int"||t==="uint"?1:/mat2/.test(e)===!0?4:/mat3/.test(e)===!0?9:/mat4/.test(e)===!0?16:0}getVectorFromMatrix(e){return e.replace("mat","vec")}changeComponentType(e,t){return this.getTypeFromLength(this.getTypeLength(e),t)}getIntegerType(e){const t=this.getComponentType(e);return t==="int"||t==="uint"?e:this.changeComponentType(e,"int")}addStack(){return this.stack=Dl(this.stack),this.stacks.push(Oh()||this.stack),Ei(this.stack),this.stack}removeStack(){const e=this.stack;return this.stack=e.parent,Ei(this.stacks.pop()),e}getDataFromNode(e,t=this.shaderStage,a=null){a=a===null?e.isGlobal(this)?this.globalCache:this.cache:a;let r=a.getData(e);return r===void 0&&(r={},a.setData(e,r)),r[t]===void 0&&(r[t]={}),r[t]}getNodeProperties(e,t="any"){const a=this.getDataFromNode(e,t);return a.properties||(a.properties={outputNode:null})}getBufferAttributeFromNode(e,t){const a=this.getDataFromNode(e);let r=a.bufferAttribute;if(r===void 0){const s=this.uniforms.index++;r=new ug("nodeAttribute"+s,t,e),this.bufferAttributes.push(r),a.bufferAttribute=r}return r}getStructTypeFromNode(e,t,a=null,r=this.shaderStage){const s=this.getDataFromNode(e,r,this.globalCache);let o=s.structType;if(o===void 0){const d=this.structs.index++;a===null&&(a="StructType"+d),o=new nq(a,t),this.structs[r].push(o),s.structType=o}return o}getOutputStructTypeFromNode(e,t){const a=this.getStructTypeFromNode(e,t,"OutputType","fragment");return a.output=!0,a}getUniformFromNode(e,t,a=this.shaderStage,r=null){const s=this.getDataFromNode(e,a,this.globalCache);let o=s.uniform;if(o===void 0){const d=this.uniforms.index++;o=new JL(r||"nodeUniform"+d,t,e),this.uniforms[a].push(o),this.registerDeclaration(o),s.uniform=o}return o}getArrayCount(e){let t=null;return e.isArrayNode?t=e.count:e.isVarNode&&e.node.isArrayNode&&(t=e.node.count),t}getVarFromNode(e,t=null,a=e.getNodeType(this),r=this.shaderStage,s=!1){const o=this.getDataFromNode(e,r);let d=o.variable;if(d===void 0){const c=s?"_const":"_var",g=this.vars[r]||(this.vars[r]=[]),D=this.vars[c]||(this.vars[c]=0);t===null&&(t=(s?"nodeConst":"nodeVar")+D,this.vars[c]++);const m=this.getArrayCount(e);d=new wv(t,a,s,m),s||g.push(d),this.registerDeclaration(d),o.variable=d}return d}isDeterministic(e){if(e.isMathNode)return this.isDeterministic(e.aNode)&&(e.bNode?this.isDeterministic(e.bNode):!0)&&(e.cNode?this.isDeterministic(e.cNode):!0);if(e.isOperatorNode)return this.isDeterministic(e.aNode)&&(e.bNode?this.isDeterministic(e.bNode):!0);if(e.isArrayNode){if(e.values!==null){for(const t of e.values)if(!this.isDeterministic(t))return!1}return!0}else if(e.isConstNode)return!0;return!1}getVaryingFromNode(e,t=null,a=e.getNodeType(this)){const r=this.getDataFromNode(e,"any");let s=r.varying;if(s===void 0){const o=this.varyings,d=o.length;t===null&&(t="nodeVarying"+d),s=new eq(t,a),o.push(s),this.registerDeclaration(s),r.varying=s}return s}registerDeclaration(e){const t=this.shaderStage,a=this.declarations[t]||(this.declarations[t]={}),r=this.getPropertyName(e);let s=1,o=r;for(;a[o]!==void 0;)o=r+"_"+s++;a[o]=e,s>1&&(e.name=o,console.warn(`THREE.TSL: Declaration name '${r}' of '${e.type}' already in use. Renamed to '${o}'.`))}getCodeFromNode(e,t,a=this.shaderStage){const r=this.getDataFromNode(e);let s=r.code;if(s===void 0){const o=this.codes[a]||(this.codes[a]=[]),d=o.length;s=new tq("nodeCode"+d,t),o.push(s),r.code=s}return s}addFlowCodeHierarchy(e,t){const{flowCodes:a,flowCodeBlock:r}=this.getDataFromNode(e);let s=!0,o=t;for(;o;){if(r.get(o)===!0){s=!1;break}o=this.getDataFromNode(o).parentNodeBlock}if(s)for(const d of a)this.addLineFlowCode(d)}addLineFlowCodeBlock(e,t,a){const r=this.getDataFromNode(e),s=r.flowCodes||(r.flowCodes=[]),o=r.flowCodeBlock||(r.flowCodeBlock=new WeakMap);s.push(t),o.set(a,!0)}addLineFlowCode(e,t=null){return e===""?this:(t!==null&&this.context.nodeBlock&&this.addLineFlowCodeBlock(t,e,this.context.nodeBlock),e=this.tab+e,/;\s*$/.test(e)||(e=e+`;
`),this.flow.code+=e,this)}addFlowCode(e){return this.flow.code+=e,this}addFlowTab(){return this.tab+="	",this}removeFlowTab(){return this.tab=this.tab.slice(0,-1),this}getFlowData(e){return this.flowsData.get(e)}flowNode(e){const t=e.getNodeType(this),a=this.flowChildNode(e,t);return this.flowsData.set(e,a),a}addInclude(e){this.currentFunctionNode!==null&&this.currentFunctionNode.includes.push(e)}buildFunctionNode(e){const t=new Y7,a=this.currentFunctionNode;return this.currentFunctionNode=t,t.code=this.buildFunctionCode(e),this.currentFunctionNode=a,t}flowShaderNode(e){const t=e.layout,a={[Symbol.iterator](){let o=0;const d=Object.values(this);return{next:()=>({value:d[o],done:o++>=d.length})}}};for(const o of t.inputs)a[o.name]=new I7(o.type,o.name);e.layout=null;const r=e.call(a),s=this.flowStagesNode(r,t.type);return e.layout=t,s}flowStagesNode(e,t=null){const a=this.flow,r=this.vars,s=this.declarations,o=this.cache,d=this.buildStage,c=this.stack,g={code:""};this.flow=g,this.vars={},this.declarations={},this.cache=new cd,this.stack=Dl();for(const D of Pc)this.setBuildStage(D),g.result=e.build(this,t);return g.vars=this.getVars(this.shaderStage),this.flow=a,this.vars=r,this.declarations=s,this.cache=o,this.stack=c,this.setBuildStage(d),g}getFunctionOperator(){return null}buildFunctionCode(){console.warn("Abstract function.")}flowChildNode(e,t=null){const a=this.flow,r={code:""};return this.flow=r,r.result=e.build(this,t),this.flow=a,r}flowNodeFromShaderStage(e,t,a=null,r=null){const s=this.shaderStage;this.setShaderStage(e);const o=this.flowChildNode(t,a);return r!==null&&(o.code+=`${this.tab+r} = ${o.result};
`),this.flowCode[e]=this.flowCode[e]+o.code,this.setShaderStage(s),o}getAttributesArray(){return this.attributes.concat(this.bufferAttributes)}getAttributes(){console.warn("Abstract function.")}getVaryings(){console.warn("Abstract function.")}getVar(e,t,a=null){return`${a!==null?this.generateArrayDeclaration(e,a):this.getType(e)} ${t}`}getVars(e){let t="";const a=this.vars[e];if(a!==void 0)for(const r of a)t+=`${this.getVar(r.type,r.name)}; `;return t}getUniforms(){console.warn("Abstract function.")}getCodes(e){const t=this.codes[e];let a="";if(t!==void 0)for(const r of t)a+=r.code+`
`;return a}getHash(){return this.vertexShader+this.fragmentShader+this.computeShader}setShaderStage(e){this.shaderStage=e}getShaderStage(){return this.shaderStage}setBuildStage(e){this.buildStage=e}getBuildStage(){return this.buildStage}buildCode(){console.warn("Abstract function.")}build(){const{object:e,material:t,renderer:a}=this;if(t!==null){let r=a.library.fromMaterial(t);r===null&&(console.error(`NodeMaterial: Material "${t.type}" is not compatible.`),r=new _a),r.build(this)}else this.addFlow("compute",e);for(const r of Pc){this.setBuildStage(r),this.context.vertex&&this.context.vertex.isNode&&this.flowNodeFromShaderStage("vertex",this.context.vertex);for(const s of Bc){this.setShaderStage(s);const o=this.flowNodes[s];for(const d of o)r==="generate"?this.flowNode(d):d.build(this)}}return this.setBuildStage(null),this.setShaderStage(null),this.buildCode(),this.buildUpdateNodes(),this}getNodeUniform(e,t){if(t==="float"||t==="int"||t==="uint")return new cq(e);if(t==="vec2"||t==="ivec2"||t==="uvec2")return new hq(e);if(t==="vec3"||t==="ivec3"||t==="uvec3")return new pq(e);if(t==="vec4"||t==="ivec4"||t==="uvec4")return new gq(e);if(t==="color")return new Dq(e);if(t==="mat2")return new fq(e);if(t==="mat3")return new vq(e);if(t==="mat4")return new mq(e);throw new Error(`Uniform "${t}" not declared.`)}format(e,t,a){if(t=this.getVectorType(t),a=this.getVectorType(a),t===a||a===null||this.isReference(a))return e;const r=this.getTypeLength(t),s=this.getTypeLength(a);return r===16&&s===9?`${this.getType(a)}( ${e}[ 0 ].xyz, ${e}[ 1 ].xyz, ${e}[ 2 ].xyz )`:r===9&&s===4?`${this.getType(a)}( ${e}[ 0 ].xy, ${e}[ 1 ].xy )`:r>4||s>4||s===0?e:r===s?`${this.getType(a)}( ${e} )`:r>s?this.format(`${e}.${"xyz".slice(0,s)}`,this.getTypeFromLength(s,this.getComponentType(t)),a):s===4&&r>1?`${this.getType(a)}( ${this.format(e,t,"vec3")}, 1.0 )`:r===2?`${this.getType(a)}( ${this.format(e,t,"vec2")}, 0.0 )`:(r===1&&s>1&&t!==this.getComponentType(a)&&(e=`${this.getType(this.getComponentType(a))}( ${e} )`),`${this.getType(a)}( ${e} )`)}getSignature(){return`// Three.js r${r8} - Node System
`}createNodeMaterial(e="NodeMaterial"){throw new Error(`THREE.NodeBuilder: createNodeMaterial() was deprecated. Use new ${e}() instead.`)}}class cg{constructor(){this.time=0,this.deltaTime=0,this.frameId=0,this.renderId=0,this.updateMap=new WeakMap,this.updateBeforeMap=new WeakMap,this.updateAfterMap=new WeakMap,this.renderer=null,this.material=null,this.camera=null,this.object=null,this.scene=null}_getMaps(e,t){let a=e.get(t);return a===void 0&&(a={renderMap:new WeakMap,frameMap:new WeakMap},e.set(t,a)),a}updateBeforeNode(e){const t=e.getUpdateBeforeType(),a=e.updateReference(this);if(t===st.FRAME){const{frameMap:r}=this._getMaps(this.updateBeforeMap,a);r.get(a)!==this.frameId&&e.updateBefore(this)!==!1&&r.set(a,this.frameId)}else if(t===st.RENDER){const{renderMap:r}=this._getMaps(this.updateBeforeMap,a);r.get(a)!==this.renderId&&e.updateBefore(this)!==!1&&r.set(a,this.renderId)}else t===st.OBJECT&&e.updateBefore(this)}updateAfterNode(e){const t=e.getUpdateAfterType(),a=e.updateReference(this);if(t===st.FRAME){const{frameMap:r}=this._getMaps(this.updateAfterMap,a);r.get(a)!==this.frameId&&e.updateAfter(this)!==!1&&r.set(a,this.frameId)}else if(t===st.RENDER){const{renderMap:r}=this._getMaps(this.updateAfterMap,a);r.get(a)!==this.renderId&&e.updateAfter(this)!==!1&&r.set(a,this.renderId)}else t===st.OBJECT&&e.updateAfter(this)}updateNode(e){const t=e.getUpdateType(),a=e.updateReference(this);if(t===st.FRAME){const{frameMap:r}=this._getMaps(this.updateMap,a);r.get(a)!==this.frameId&&e.update(this)!==!1&&r.set(a,this.frameId)}else if(t===st.RENDER){const{renderMap:r}=this._getMaps(this.updateMap,a);r.get(a)!==this.renderId&&e.update(this)!==!1&&r.set(a,this.renderId)}else t===st.OBJECT&&e.update(this)}update(){this.frameId++,this.lastTime===void 0&&(this.lastTime=performance.now()),this.deltaTime=(performance.now()-this.lastTime)/1e3,this.lastTime=performance.now(),this.time+=this.deltaTime}}class Hp{constructor(e,t,a=null,r="",s=!1){this.type=e,this.name=t,this.count=a,this.qualifier=r,this.isConst=s}}Hp.isNodeFunctionInput=!0;class _q extends Z1{static get type(){return"DirectionalLightNode"}constructor(e=null){super(e)}setupDirect(){const e=this.colorNode;return{lightDirection:Op(this.light),lightColor:e}}}const hd=new la,F2=new la;let Lo=null;class wq extends Z1{static get type(){return"RectAreaLightNode"}constructor(e=null){super(e),this.halfHeight=Ue(new Re).setGroup(He),this.halfWidth=Ue(new Re).setGroup(He),this.updateType=st.RENDER}update(e){super.update(e);const{light:t}=this,a=e.camera.matrixWorldInverse;F2.identity(),hd.copy(t.matrixWorld),hd.premultiply(a),F2.extractRotation(hd),this.halfWidth.value.set(t.width*.5,0,0),this.halfHeight.value.set(0,t.height*.5,0),this.halfWidth.value.applyMatrix4(F2),this.halfHeight.value.applyMatrix4(F2)}setupDirectRectArea(e){let t,a;e.isAvailable("float32Filterable")?(t=ft(Lo.LTC_FLOAT_1),a=ft(Lo.LTC_FLOAT_2)):(t=ft(Lo.LTC_HALF_1),a=ft(Lo.LTC_HALF_2));const{colorNode:r,light:s}=this,o=Fp(s);return{lightColor:r,lightPosition:o,halfWidth:this.halfWidth,halfHeight:this.halfHeight,ltc_1:t,ltc_2:a}}static setLTC(e){Lo=e}}class xv extends Z1{static get type(){return"SpotLightNode"}constructor(e=null){super(e),this.coneCosNode=Ue(0).setGroup(He),this.penumbraCosNode=Ue(0).setGroup(He),this.cutoffDistanceNode=Ue(0).setGroup(He),this.decayExponentNode=Ue(0).setGroup(He)}update(e){super.update(e);const{light:t}=this;this.coneCosNode.value=Math.cos(t.angle),this.penumbraCosNode.value=Math.cos(t.angle*(1-t.penumbra)),this.cutoffDistanceNode.value=t.distance,this.decayExponentNode.value=t.decay}getSpotAttenuation(e){const{coneCosNode:t,penumbraCosNode:a}=this;return G0(t,a,e)}setupDirect(e){const{colorNode:t,cutoffDistanceNode:a,decayExponentNode:r,light:s}=this,o=this.getLightVector(e),d=o.normalize(),c=d.dot(Op(s)),g=this.getSpotAttenuation(c),D=o.length(),m=Vp({lightDistance:D,cutoffDistance:a,decayExponent:r});let _=t.mul(g).mul(m);if(s.map){const w=J7(s,e.context.positionWorld),x=ft(s.map,w.xy).onRenderUpdate(()=>s.map);_=w.mul(2).sub(1).abs().lessThan(1).all().select(_.mul(x),_)}return{lightColor:_,lightDirection:d}}}class Sq extends xv{static get type(){return"IESSpotLightNode"}getSpotAttenuation(e){const t=this.light.iesMap;let a=null;if(t&&t.isTexture===!0){const r=e.acos().mul(1/Math.PI);a=ft(t,ye(r,0),0).r}else a=super.getSpotAttenuation(e);return a}}class xq extends Z1{static get type(){return"AmbientLightNode"}constructor(e=null){super(e)}setup({context:e}){e.irradiance.addAssign(this.colorNode)}}class bq extends Z1{static get type(){return"HemisphereLightNode"}constructor(e=null){super(e),this.lightPositionNode=qp(e),this.lightDirectionNode=this.lightPositionNode.normalize(),this.groundColorNode=Ue(new za).setGroup(He)}update(e){const{light:t}=this;super.update(e),this.lightPositionNode.object3d=t,this.groundColorNode.value.copy(t.groundColor).multiplyScalar(t.intensity)}setup(e){const{colorNode:t,groundColorNode:a,lightDirectionNode:r}=this,o=e0.dot(r).mul(.5).add(.5),d=Rt(a,t,o);e.context.irradiance.addAssign(d)}}class Tq extends Z1{static get type(){return"LightProbeNode"}constructor(e=null){super(e);const t=[];for(let a=0;a<9;a++)t.push(new Re);this.lightProbe=d0(t)}update(e){const{light:t}=this;super.update(e);for(let a=0;a<9;a++)this.lightProbe.array[a].copy(t.sh.coefficients[a]).multiplyScalar(t.intensity)}setup(e){const t=_v(BA,this.lightProbe);e.context.irradiance.addAssign(t)}}class bv{parseFunction(){console.warn("Abstract function.")}}class jp{constructor(e,t,a="",r=""){this.type=e,this.inputs=t,this.name=a,this.precision=r}getCode(){console.warn("Abstract function.")}}jp.isNodeFunction=!0;const Iq=/^\s*(highp|mediump|lowp)?\s*([a-z_0-9]+)\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)/i,Eq=/[a-z_0-9]+/ig,hg="#pragma main",kq=n=>{n=n.trim();const e=n.indexOf(hg),t=e!==-1?n.slice(e+hg.length):n,a=t.match(Iq);if(a!==null&&a.length===5){const r=a[4],s=[];let o=null;for(;(o=Eq.exec(r))!==null;)s.push(o);const d=[];let c=0;for(;c<s.length;){const x=s[c][0]==="const";x===!0&&c++;let T=s[c][0];T==="in"||T==="out"||T==="inout"?c++:T="";const I=s[c++][0];let N=Number.parseInt(s[c][0]);Number.isNaN(N)===!1?c++:N=null;const R=s[c++][0];d.push(new Hp(I,R,N,T,x))}const g=t.substring(a[0].length),D=a[3]!==void 0?a[3]:"",m=a[2],_=a[1]!==void 0?a[1]:"",w=e!==-1?n.slice(0,e):"";return{type:m,inputs:d,name:D,precision:_,inputsCode:r,blockCode:g,headerCode:w}}else throw new Error("FunctionNode: Function is not a GLSL code.")};class Nq extends jp{constructor(e){const{type:t,inputs:a,name:r,precision:s,inputsCode:o,blockCode:d,headerCode:c}=kq(e);super(t,a,r,s),this.inputsCode=o,this.blockCode=d,this.headerCode=c}getCode(e=this.name){let t;const a=this.blockCode;if(a!==""){const{type:r,inputsCode:s,headerCode:o,precision:d}=this;let c=`${r} ${e} ( ${s.trim()} )`;d!==""&&(c=`${d} ${c}`),t=o+c+a}else t="";return t}}class Rq extends bv{parseFunction(e){return new Nq(e)}}const pg=new WeakMap,T0=[],ms=[];class Mq extends i1{constructor(e,t){super(),this.renderer=e,this.backend=t,this.nodeFrame=new cg,this.nodeBuilderCache=new Map,this.callHashCache=new H0,this.groupsData=new H0,this.cacheLib={}}updateGroup(e){const t=e.groupNode,a=t.name;if(a===Gh.name)return!0;if(a===He.name){const s=this.get(e),o=this.nodeFrame.renderId;return s.renderId!==o?(s.renderId=o,!0):!1}if(a===If.name){const s=this.get(e),o=this.nodeFrame.frameId;return s.frameId!==o?(s.frameId=o,!0):!1}T0[0]=t,T0[1]=e;let r=this.groupsData.get(T0);return r===void 0&&this.groupsData.set(T0,r={}),T0.length=0,r.version!==t.version?(r.version=t.version,!0):!1}getForRenderCacheKey(e){return e.initialCacheKey}getForRender(e){const t=this.get(e);let a=t.nodeBuilderState;if(a===void 0){const{nodeBuilderCache:r}=this,s=this.getForRenderCacheKey(e);if(a=r.get(s),a===void 0){const o=this.backend.createNodeBuilder(e.object,this.renderer);o.scene=e.scene,o.material=e.material,o.camera=e.camera,o.context.material=e.material,o.lightsNode=e.lightsNode,o.environmentNode=this.getEnvironmentNode(e.scene),o.fogNode=this.getFogNode(e.scene),o.clippingContext=e.clippingContext,o.build(),a=this._createNodeBuilderState(o),r.set(s,a)}a.usedTimes++,t.nodeBuilderState=a}return a}delete(e){if(e.isRenderObject){const t=this.get(e).nodeBuilderState;t.usedTimes--,t.usedTimes===0&&this.nodeBuilderCache.delete(this.getForRenderCacheKey(e))}return super.delete(e)}getForCompute(e){const t=this.get(e);let a=t.nodeBuilderState;if(a===void 0){const r=this.backend.createNodeBuilder(e,this.renderer);r.build(),a=this._createNodeBuilderState(r),t.nodeBuilderState=a}return a}_createNodeBuilderState(e){return new ZL(e.vertexShader,e.fragmentShader,e.computeShader,e.getAttributesArray(),e.getBindings(),e.updateNodes,e.updateBeforeNodes,e.updateAfterNodes,e.observer,e.transforms)}getEnvironmentNode(e){this.updateEnvironment(e);let t=null;if(e.environmentNode&&e.environmentNode.isNode)t=e.environmentNode;else{const a=this.get(e);a.environmentNode&&(t=a.environmentNode)}return t}getBackgroundNode(e){this.updateBackground(e);let t=null;if(e.backgroundNode&&e.backgroundNode.isNode)t=e.backgroundNode;else{const a=this.get(e);a.backgroundNode&&(t=a.backgroundNode)}return t}getFogNode(e){return this.updateFog(e),e.fogNode||this.get(e).fogNode||null}getCacheKey(e,t){T0[0]=e,T0[1]=t;const a=this.renderer.info.calls,r=this.callHashCache.get(T0)||{};if(r.callId!==a){const s=this.getEnvironmentNode(e),o=this.getFogNode(e);t&&ms.push(t.getCacheKey(!0)),s&&ms.push(s.getCacheKey()),o&&ms.push(o.getCacheKey()),ms.push(this.renderer.shadowMap.enabled?1:0),r.callId=a,r.cacheKey=_A(ms),this.callHashCache.set(T0,r),ms.length=0}return T0.length=0,r.cacheKey}get isToneMappingState(){return!this.renderer.getRenderTarget()}updateBackground(e){const t=this.get(e),a=e.background;if(a){const r=e.backgroundBlurriness===0&&t.backgroundBlurriness>0||e.backgroundBlurriness>0&&t.backgroundBlurriness===0;if(t.background!==a||r){const s=this.getCacheNode("background",a,()=>{if(a.isCubeTexture===!0||a.mapping===Fi||a.mapping===Oi||a.mapping===Pd){if(e.backgroundBlurriness>0||a.mapping===Pd)return Ep(a);{let o;return a.isCubeTexture===!0?o=ao(a):o=ft(a),s7(o)}}else{if(a.isTexture===!0)return ft(a,W0.flipY()).setUpdateMatrix(!0);a.isColor!==!0&&console.error("WebGPUNodes: Unsupported background configuration.",a)}},r);t.backgroundNode=s,t.background=a,t.backgroundBlurriness=e.backgroundBlurriness}}else t.backgroundNode&&(delete t.backgroundNode,delete t.background)}getCacheNode(e,t,a,r=!1){const s=this.cacheLib[e]||(this.cacheLib[e]=new WeakMap);let o=s.get(t);return(o===void 0||r)&&(o=a(),s.set(t,o)),o}updateFog(e){const t=this.get(e),a=e.fog;if(a){if(t.fog!==a){const r=this.getCacheNode("fog",a,()=>{if(a.isFogExp2){const s=zt("color","color",a).setGroup(He),o=zt("density","float",a).setGroup(He);return Bi(s,Pp(o))}else if(a.isFog){const s=zt("color","color",a).setGroup(He),o=zt("near","float",a).setGroup(He),d=zt("far","float",a).setGroup(He);return Bi(s,Cp(o,d))}else console.error("THREE.Renderer: Unsupported fog configuration.",a)});t.fogNode=r,t.fog=a}}else delete t.fogNode,delete t.fog}updateEnvironment(e){const t=this.get(e),a=e.environment;if(a){if(t.environment!==a){const r=this.getCacheNode("environment",a,()=>{if(a.isCubeTexture===!0)return ao(a);if(a.isTexture===!0)return ft(a);console.error("Nodes: Unsupported environment configuration.",a)});t.environmentNode=r,t.environment=a}}else t.environmentNode&&(delete t.environmentNode,delete t.environment)}getNodeFrame(e=this.renderer,t=null,a=null,r=null,s=null){const o=this.nodeFrame;return o.renderer=e,o.scene=t,o.object=a,o.camera=r,o.material=s,o}getNodeFrameForRender(e){return this.getNodeFrame(e.renderer,e.scene,e.object,e.camera,e.material)}getOutputCacheKey(){const e=this.renderer;return e.toneMapping+","+e.currentColorSpace}hasOutputChange(e){return pg.get(e)!==this.getOutputCacheKey()}getOutputNode(e){const t=this.renderer,a=this.getOutputCacheKey(),r=ft(e,W0).renderOutput(t.toneMapping,t.currentColorSpace);return pg.set(e,a),r}updateBefore(e){const t=e.getNodeBuilderState();for(const a of t.updateBeforeNodes)this.getNodeFrameForRender(e).updateBeforeNode(a)}updateAfter(e){const t=e.getNodeBuilderState();for(const a of t.updateAfterNodes)this.getNodeFrameForRender(e).updateAfterNode(a)}updateForCompute(e){const t=this.getNodeFrame(),a=this.getForCompute(e);for(const r of a.updateNodes)t.updateNode(r)}updateForRender(e){const t=this.getNodeFrameForRender(e),a=e.getNodeBuilderState();for(const r of a.updateNodes)t.updateNode(r)}needsRefresh(e){const t=this.getNodeFrameForRender(e);return e.getMonitor().needsRefresh(e,t)}dispose(){super.dispose(),this.nodeFrame=new cg,this.nodeBuilderCache=new Map,this.cacheLib={}}}const pd=new ih;class dA{constructor(e=null){this.version=0,this.clipIntersection=null,this.cacheKey="",this.shadowPass=!1,this.viewNormalMatrix=new qi,this.clippingGroupContexts=new WeakMap,this.intersectionPlanes=[],this.unionPlanes=[],this.parentVersion=null,e!==null&&(this.viewNormalMatrix=e.viewNormalMatrix,this.clippingGroupContexts=e.clippingGroupContexts,this.shadowPass=e.shadowPass,this.viewMatrix=e.viewMatrix)}projectPlanes(e,t,a){const r=e.length;for(let s=0;s<r;s++){pd.copy(e[s]).applyMatrix4(this.viewMatrix,this.viewNormalMatrix);const o=t[a+s],d=pd.normal;o.x=-d.x,o.y=-d.y,o.z=-d.z,o.w=pd.constant}}updateGlobal(e,t){this.shadowPass=e.overrideMaterial!==null&&e.overrideMaterial.isShadowPassMaterial,this.viewMatrix=t.matrixWorldInverse,this.viewNormalMatrix.getNormalMatrix(this.viewMatrix)}update(e,t){let a=!1;e.version!==this.parentVersion&&(this.intersectionPlanes=Array.from(e.intersectionPlanes),this.unionPlanes=Array.from(e.unionPlanes),this.parentVersion=e.version),this.clipIntersection!==t.clipIntersection&&(this.clipIntersection=t.clipIntersection,this.clipIntersection?this.unionPlanes.length=e.unionPlanes.length:this.intersectionPlanes.length=e.intersectionPlanes.length);const r=t.clippingPlanes,s=r.length;let o,d;if(this.clipIntersection?(o=this.intersectionPlanes,d=e.intersectionPlanes.length):(o=this.unionPlanes,d=e.unionPlanes.length),o.length!==d+s){o.length=d+s;for(let c=0;c<s;c++)o[d+c]=new Ut;a=!0}this.projectPlanes(r,o,d),a&&(this.version++,this.cacheKey=`${this.intersectionPlanes.length}:${this.unionPlanes.length}`)}getGroupContext(e){if(this.shadowPass&&!e.clipShadows)return this;let t=this.clippingGroupContexts.get(e);return t===void 0&&(t=new dA(this),this.clippingGroupContexts.set(e,t)),t.update(this,e),t}get unionClippingCount(){return this.unionPlanes.length}}class Cq{constructor(e,t){this.bundleGroup=e,this.camera=t}}const qo=[];class Pq{constructor(){this.bundles=new H0}get(e,t){const a=this.bundles;qo[0]=e,qo[1]=t;let r=a.get(qo);return r===void 0&&(r=new Cq(e,t),a.set(qo,r)),qo.length=0,r}dispose(){this.bundles=new H0}}class Tv{constructor(){this.lightNodes=new WeakMap,this.materialNodes=new Map,this.toneMappingNodes=new Map}fromMaterial(e){if(e.isNodeMaterial)return e;let t=null;const a=this.getMaterialNodeClass(e.type);if(a!==null){t=new a;for(const r in e)t[r]=e[r]}return t}addToneMapping(e,t){this.addType(e,t,this.toneMappingNodes)}getToneMappingFunction(e){return this.toneMappingNodes.get(e)||null}getMaterialNodeClass(e){return this.materialNodes.get(e)||null}addMaterial(e,t){this.addType(e,t,this.materialNodes)}getLightNodeClass(e){return this.lightNodes.get(e)||null}addLight(e,t){this.addClass(e,t,this.lightNodes)}addType(e,t,a){if(a.has(t)){console.warn(`Redefinition of node ${t}`);return}if(typeof e!="function")throw new Error(`Node class ${e.name} is not a class.`);if(typeof t=="function"||typeof t=="object")throw new Error(`Base class ${t} is not a class.`);a.set(t,e)}addClass(e,t,a){if(a.has(t)){console.warn(`Redefinition of node ${t.name}`);return}if(typeof e!="function")throw new Error(`Node class ${e.name} is not a class.`);if(typeof t!="function")throw new Error(`Base class ${t.name} is not a class.`);a.set(t,e)}}const Bq=new Up,Fo=[];class Lq extends H0{constructor(){super()}createNode(e=[]){return new Up().setLights(e)}getNode(e,t){if(e.isQuadMesh)return Bq;Fo[0]=e,Fo[1]=t;let a=this.get(Fo);return a===void 0&&(a=this.createNode(),this.set(Fo,a)),Fo.length=0,a}}class $o extends s1{constructor(e=1,t=1,a={}){super(e,t,a),this.isXRRenderTarget=!0,this.hasExternalTextures=!1,this.autoAllocateDepthBuffer=!0}copy(e){return super.copy(e),this.hasExternalTextures=e.hasExternalTextures,this.autoAllocateDepthBuffer=e.autoAllocateDepthBuffer,this}}const gg=new Re,Dg=new Re;class qq extends oh{constructor(e){super(),this.enabled=!1,this.isPresenting=!1,this.cameraAutoUpdate=!0,this._renderer=e,this._cameraL=new di,this._cameraL.viewport=new Ut,this._cameraR=new di,this._cameraR.viewport=new Ut,this._cameras=[this._cameraL,this._cameraR],this._cameraXR=new P_,this._currentDepthNear=null,this._currentDepthFar=null,this._controllers=[],this._controllerInputSources=[],this._xrRenderTarget=null,this._layers=[],this._supportsLayers=!1,this._createXRLayer=zq.bind(this),this._gl=null,this._currentAnimationContext=null,this._currentAnimationLoop=null,this._currentPixelRatio=null,this._currentSize=new Ot,this._onSessionEvent=Uq.bind(this),this._onSessionEnd=Gq.bind(this),this._onInputSourcesChange=Vq.bind(this),this._onAnimationFrame=Wq.bind(this),this._referenceSpace=null,this._referenceSpaceType="local-floor",this._customReferenceSpace=null,this._framebufferScaleFactor=1,this._foveation=1,this._session=null,this._glBaseLayer=null,this._glBinding=null,this._glProjLayer=null,this._xrFrame=null,this._useLayers=typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype}getController(e){return this._getController(e).getTargetRaySpace()}getControllerGrip(e){return this._getController(e).getGripSpace()}getHand(e){return this._getController(e).getHandSpace()}getFoveation(){if(!(this._glProjLayer===null&&this._glBaseLayer===null))return this._foveation}setFoveation(e){this._foveation=e,this._glProjLayer!==null&&(this._glProjLayer.fixedFoveation=e),this._glBaseLayer!==null&&this._glBaseLayer.fixedFoveation!==void 0&&(this._glBaseLayer.fixedFoveation=e)}getFramebufferScaleFactor(){return this._framebufferScaleFactor}setFramebufferScaleFactor(e){this._framebufferScaleFactor=e,this.isPresenting===!0&&console.warn("THREE.XRManager: Cannot change framebuffer scale while presenting.")}getReferenceSpaceType(){return this._referenceSpaceType}setReferenceSpaceType(e){this._referenceSpaceType=e,this.isPresenting===!0&&console.warn("THREE.XRManager: Cannot change reference space type while presenting.")}getReferenceSpace(){return this._customReferenceSpace||this._referenceSpace}setReferenceSpace(e){this._customReferenceSpace=e}getCamera(){return this._cameraXR}getEnvironmentBlendMode(){if(this._session!==null)return this._session.environmentBlendMode}getFrame(){return this._xrFrame}createQuadLayer(e,t,a,r,s,o,d,c=[]){const g=new B_(e,t),D=new $o(s,o,{format:c0,type:Bn,depthTexture:new v0(s,o,c.stencil?Yr:xa,void 0,void 0,void 0,void 0,void 0,void 0,c.stencil?Xr:Kr),stencilBuffer:c.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1}),m=new lr({color:16777215,side:Os});m.map=D.texture,m.map.offset.y=1,m.map.repeat.y=-1;const _=new Da(g,m);_.position.copy(a),_.quaternion.copy(r);const w={type:"quad",width:e,height:t,translation:a,quaternion:r,pixelwidth:s,pixelheight:o,plane:_,material:m,rendercall:d,renderTarget:D};if(this._layers.push(w),this._session!==null){w.plane.material=new lr({color:16777215,side:Os}),w.plane.material.blending=Xo,w.plane.material.blendEquation=Ar,w.plane.material.blendSrc=Fr,w.plane.material.blendDst=Fr,w.xrlayer=this._createXRLayer(w);const x=this._session.renderState.layers;x.unshift(w.xrlayer),this._session.updateRenderState({layers:x})}else D.isXRRenderTarget=!1;return _}createCylinderLayer(e,t,a,r,s,o,d,c,g=[]){const D=new n8(e,e,e*t/a,64,64,!0,Math.PI-t/2,t),m=new $o(o,d,{format:c0,type:Bn,depthTexture:new v0(o,d,g.stencil?Yr:xa,void 0,void 0,void 0,void 0,void 0,void 0,g.stencil?Xr:Kr),stencilBuffer:g.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1}),_=new lr({color:16777215,side:_n});_.map=m.texture,_.map.offset.y=1,_.map.repeat.y=-1;const w=new Da(D,_);w.position.copy(r),w.quaternion.copy(s);const x={type:"cylinder",radius:e,centralAngle:t,aspectratio:a,translation:r,quaternion:s,pixelwidth:o,pixelheight:d,plane:w,material:_,rendercall:c,renderTarget:m};if(this._layers.push(x),this._session!==null){x.plane.material=new lr({color:16777215,side:_n}),x.plane.material.blending=Xo,x.plane.material.blendEquation=Ar,x.plane.material.blendSrc=Fr,x.plane.material.blendDst=Fr,x.xrlayer=this._createXRLayer(x);const T=this._session.renderState.layers;T.unshift(x.xrlayer),this._session.updateRenderState({layers:T})}else m.isXRRenderTarget=!1;return w}renderLayers(){const e=new Re,t=new Cd,a=this.isPresenting;this.isPresenting=!1;for(const r of this._layers){if(r.renderTarget.isXRRenderTarget=this._session!==null,r.renderTarget.hasExternalTextures=r.renderTarget.isXRRenderTarget,r.renderTarget.autoAllocateDepthBuffer=!r.renderTarget.isXRRenderTarget,r.renderTarget.isXRRenderTarget&&this._supportsLayers){r.xrlayer.transform=new XRRigidTransform(r.plane.getWorldPosition(e),r.plane.getWorldQuaternion(t));const s=this._glBinding.getSubImage(r.xrlayer,this._xrFrame);this._renderer.backend.setXRRenderTargetTextures(r.renderTarget,s.colorTexture,s.depthStencilTexture)}this._renderer.setRenderTarget(r.renderTarget),r.rendercall()}this.isPresenting=a,this._renderer.setRenderTarget(null)}getSession(){return this._session}async setSession(e){const t=this._renderer,a=t.backend;this._gl=t.getContext();const r=this._gl,s=r.getContextAttributes();if(this._session=e,e!==null){if(a.isWebGPUBackend===!0)throw new Error('THREE.XRManager: XR is currently not supported with a WebGPU backend. Use WebGL by passing "{ forceWebGL: true }" to the constructor of the renderer.');if(e.addEventListener("select",this._onSessionEvent),e.addEventListener("selectstart",this._onSessionEvent),e.addEventListener("selectend",this._onSessionEvent),e.addEventListener("squeeze",this._onSessionEvent),e.addEventListener("squeezestart",this._onSessionEvent),e.addEventListener("squeezeend",this._onSessionEvent),e.addEventListener("end",this._onSessionEnd),e.addEventListener("inputsourceschange",this._onInputSourcesChange),await a.makeXRCompatible(),this._currentPixelRatio=t.getPixelRatio(),t.getSize(this._currentSize),this._currentAnimationContext=t._animation.getContext(),this._currentAnimationLoop=t._animation.getAnimationLoop(),t._animation.stop(),this._useLayers===!0){let o=null,d=null,c=null;t.depth&&(c=t.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,o=t.stencil?Xr:Kr,d=t.stencil?Yr:xa);const g={colorFormat:r.RGBA8,depthFormat:c,scaleFactor:this._framebufferScaleFactor},D=new XRWebGLBinding(e,r),m=D.createProjectionLayer(g),_=[m];if(this._glBinding=D,this._glProjLayer=m,t.setPixelRatio(1),t.setSize(m.textureWidth,m.textureHeight,!1),this._xrRenderTarget=new $o(m.textureWidth,m.textureHeight,{format:c0,type:Bn,colorSpace:t.outputColorSpace,depthTexture:new v0(m.textureWidth,m.textureHeight,d,void 0,void 0,void 0,void 0,void 0,void 0,o),stencilBuffer:t.stencil,samples:s.antialias?4:0,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1}),this._xrRenderTarget.hasExternalTextures=!0,this._referenceSpace=await e.requestReferenceSpace(this.getReferenceSpaceType()),this._supportsLayers=e.enabledFeatures.includes("layers"),this._supportsLayers)for(const w of this._layers)w.plane.material=new lr({color:16777215,side:w.type==="cylinder"?_n:Os}),w.plane.material.blending=Xo,w.plane.material.blendEquation=Ar,w.plane.material.blendSrc=Fr,w.plane.material.blendDst=Fr,w.xrlayer=this._createXRLayer(w),_.unshift(w.xrlayer);e.updateRenderState({layers:_})}else{const o={antialias:t.samples>0,alpha:!0,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:this.getFramebufferScaleFactor()},d=new XRWebGLLayer(e,r,o);this._glBaseLayer=d,e.updateRenderState({baseLayer:d}),t.setPixelRatio(1),t.setSize(d.framebufferWidth,d.framebufferHeight,!1),this._xrRenderTarget=new $o(d.framebufferWidth,d.framebufferHeight,{format:c0,type:Bn,colorSpace:t.outputColorSpace,stencilBuffer:t.stencil,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}this.setFoveation(this.getFoveation()),t._animation.setAnimationLoop(this._onAnimationFrame),t._animation.setContext(e),t._animation.start(),this.isPresenting=!0,this.dispatchEvent({type:"sessionstart"})}}updateCamera(e){const t=this._session;if(t===null)return;const a=e.near,r=e.far,s=this._cameraXR,o=this._cameraL,d=this._cameraR;s.near=d.near=o.near=a,s.far=d.far=o.far=r,(this._currentDepthNear!==s.near||this._currentDepthFar!==s.far)&&(t.updateRenderState({depthNear:s.near,depthFar:s.far}),this._currentDepthNear=s.near,this._currentDepthFar=s.far),o.layers.mask=e.layers.mask|2,d.layers.mask=e.layers.mask|4,s.layers.mask=o.layers.mask|d.layers.mask;const c=e.parent,g=s.cameras;fg(s,c);for(let D=0;D<g.length;D++)fg(g[D],c);g.length===2?Fq(s,o,d):s.projectionMatrix.copy(o.projectionMatrix),Oq(e,s,c)}_getController(e){let t=this._controllers[e];return t===void 0&&(t=new L_,this._controllers[e]=t),t}}function Fq(n,e,t){gg.setFromMatrixPosition(e.matrixWorld),Dg.setFromMatrixPosition(t.matrixWorld);const a=gg.distanceTo(Dg),r=e.projectionMatrix.elements,s=t.projectionMatrix.elements,o=r[14]/(r[10]-1),d=r[14]/(r[10]+1),c=(r[9]+1)/r[5],g=(r[9]-1)/r[5],D=(r[8]-1)/r[0],m=(s[8]+1)/s[0],_=o*D,w=o*m,x=a/(-D+m),T=x*-D;if(e.matrixWorld.decompose(n.position,n.quaternion,n.scale),n.translateX(T),n.translateZ(x),n.matrixWorld.compose(n.position,n.quaternion,n.scale),n.matrixWorldInverse.copy(n.matrixWorld).invert(),r[10]===-1)n.projectionMatrix.copy(e.projectionMatrix),n.projectionMatrixInverse.copy(e.projectionMatrixInverse);else{const I=o+x,N=d+x,R=_-T,M=w+(a-T),B=c*d/N*I,F=g*d/N*I;n.projectionMatrix.makePerspective(R,M,B,F,I,N),n.projectionMatrixInverse.copy(n.projectionMatrix).invert()}}function fg(n,e){e===null?n.matrixWorld.copy(n.matrix):n.matrixWorld.multiplyMatrices(e.matrixWorld,n.matrix),n.matrixWorldInverse.copy(n.matrixWorld).invert()}function Oq(n,e,t){t===null?n.matrix.copy(e.matrixWorld):(n.matrix.copy(t.matrixWorld),n.matrix.invert(),n.matrix.multiply(e.matrixWorld)),n.matrix.decompose(n.position,n.quaternion,n.scale),n.updateMatrixWorld(!0),n.projectionMatrix.copy(e.projectionMatrix),n.projectionMatrixInverse.copy(e.projectionMatrixInverse),n.isPerspectiveCamera&&(n.fov=sw*2*Math.atan(1/n.projectionMatrix.elements[5]),n.zoom=1)}function Uq(n){const e=this._controllerInputSources.indexOf(n.inputSource);if(e===-1)return;const t=this._controllers[e];if(t!==void 0){const a=this.getReferenceSpace();t.update(n.inputSource,n.frame,a),t.dispatchEvent({type:n.type,data:n.inputSource})}}function Gq(){const n=this._session,e=this._renderer;n.removeEventListener("select",this._onSessionEvent),n.removeEventListener("selectstart",this._onSessionEvent),n.removeEventListener("selectend",this._onSessionEvent),n.removeEventListener("squeeze",this._onSessionEvent),n.removeEventListener("squeezestart",this._onSessionEvent),n.removeEventListener("squeezeend",this._onSessionEvent),n.removeEventListener("end",this._onSessionEnd),n.removeEventListener("inputsourceschange",this._onInputSourcesChange);for(let t=0;t<this._controllers.length;t++){const a=this._controllerInputSources[t];a!==null&&(this._controllerInputSources[t]=null,this._controllers[t].disconnect(a))}if(this._currentDepthNear=null,this._currentDepthFar=null,e.backend.setXRTarget(null),e.setOutputRenderTarget(null),e.setRenderTarget(null),this._session=null,this._xrRenderTarget=null,this._supportsLayers===!0)for(const t of this._layers)t.renderTarget=new $o(t.pixelwidth,t.pixelheight,{format:c0,type:Bn,depthTexture:new v0(t.pixelwidth,t.pixelheight,t.stencilBuffer?Yr:xa,void 0,void 0,void 0,void 0,void 0,void 0,t.stencilBuffer?Xr:Kr),stencilBuffer:t.stencilBuffer,resolveDepthBuffer:!1,resolveStencilBuffer:!1}),t.renderTarget.isXRRenderTarget=!1,t.plane.material=t.material,t.material.map=t.renderTarget.texture,delete t.xrlayer;this.isPresenting=!1,e._animation.stop(),e._animation.setAnimationLoop(this._currentAnimationLoop),e._animation.setContext(this._currentAnimationContext),e._animation.start(),e.setPixelRatio(this._currentPixelRatio),e.setSize(this._currentSize.width,this._currentSize.height,!1),this.dispatchEvent({type:"sessionend"})}function Vq(n){const e=this._controllers,t=this._controllerInputSources;for(let a=0;a<n.removed.length;a++){const r=n.removed[a],s=t.indexOf(r);s>=0&&(t[s]=null,e[s].disconnect(r))}for(let a=0;a<n.added.length;a++){const r=n.added[a];let s=t.indexOf(r);if(s===-1){for(let d=0;d<e.length;d++)if(d>=t.length){t.push(r),s=d;break}else if(t[d]===null){t[d]=r,s=d;break}if(s===-1)break}const o=e[s];o&&o.connect(r)}}function zq(n){return n.type==="quad"?this._glBinding.createQuadLayer({transform:new XRRigidTransform(n.translation,n.quaternion),depthFormat:this._gl.DEPTH_COMPONENT,width:n.width/2,height:n.height/2,space:this._referenceSpace,viewPixelWidth:n.pixelwidth,viewPixelHeight:n.pixelheight}):this._glBinding.createCylinderLayer({transform:new XRRigidTransform(n.translation,n.quaternion),depthFormat:this._gl.DEPTH_COMPONENT,radius:n.radius,centralAngle:n.centralAngle,aspectRatio:n.aspectRatio,space:this._referenceSpace,viewPixelWidth:n.pixelwidth,viewPixelHeight:n.pixelheight})}function Wq(n,e){if(e===void 0)return;const t=this._cameraXR,a=this._renderer,r=a.backend,s=this._glBaseLayer,o=this.getReferenceSpace(),d=e.getViewerPose(o);if(this._xrFrame=e,d!==null){const c=d.views;this._glBaseLayer!==null&&r.setXRTarget(s.framebuffer);let g=!1;c.length!==t.cameras.length&&(t.cameras.length=0,g=!0);for(let D=0;D<c.length;D++){const m=c[D];let _;if(this._useLayers===!0){const x=this._glBinding.getViewSubImage(this._glProjLayer,m);_=x.viewport,D===0&&r.setXRRenderTargetTextures(this._xrRenderTarget,x.colorTexture,this._glProjLayer.ignoreDepthValues?void 0:x.depthStencilTexture)}else _=s.getViewport(m);let w=this._cameras[D];w===void 0&&(w=new di,w.layers.enable(D),w.viewport=new Ut,this._cameras[D]=w),w.matrix.fromArray(m.transform.matrix),w.matrix.decompose(w.position,w.quaternion,w.scale),w.projectionMatrix.fromArray(m.projectionMatrix),w.projectionMatrixInverse.copy(w.projectionMatrix).invert(),w.viewport.set(_.x,_.y,_.width,_.height),D===0&&(t.matrix.copy(w.matrix),t.matrix.decompose(t.position,t.quaternion,t.scale)),g===!0&&t.cameras.push(w)}a.setOutputRenderTarget(this._xrRenderTarget)}for(let c=0;c<this._controllers.length;c++){const g=this._controllerInputSources[c],D=this._controllers[c];g!==null&&D!==void 0&&D.update(g,e,o)}this._currentAnimationLoop&&this._currentAnimationLoop(n,e),e.detectedPlanes&&this.dispatchEvent({type:"planesdetected",data:e}),this._xrFrame=null}const vg=new cA,O2=new Ot,gd=new Ut,Dd=new Xg,U2=new la,Pr=new Ut;class Hq{constructor(e,t={}){this.isRenderer=!0;const{logarithmicDepthBuffer:a=!1,alpha:r=!0,depth:s=!0,stencil:o=!1,antialias:d=!1,samples:c=0,getFallback:g=null,colorBufferType:D=Xn}=t;this.domElement=e.getDomElement(),this.backend=e,this.samples=c||d===!0?4:0,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.alpha=r,this.logarithmicDepthBuffer=a,this.outputColorSpace=ut,this.toneMapping=Fs,this.toneMappingExposure=1,this.sortObjects=!0,this.depth=s,this.stencil=o,this.info=new WM,this.nodes={modelViewMatrix:null,modelNormalViewMatrix:null},this.library=new Tv,this.lighting=new Lq,this._getFallback=g,this._pixelRatio=1,this._width=this.domElement.width,this._height=this.domElement.height,this._viewport=new Ut(0,0,this._width,this._height),this._scissor=new Ut(0,0,this._width,this._height),this._scissorTest=!1,this._attributes=null,this._geometries=null,this._nodes=null,this._animation=null,this._bindings=null,this._objects=null,this._pipelines=null,this._bundles=null,this._renderLists=null,this._renderContexts=null,this._textures=null,this._background=null,this._quad=new Rp(new _a),this._quad.material.name="Renderer_output",this._currentRenderContext=null,this._opaqueSort=null,this._transparentSort=null,this._frameBufferTarget=null;const m=this.alpha===!0?0:1;this._clearColor=new kp(0,0,0,m),this._clearDepth=1,this._clearStencil=0,this._renderTarget=null,this._activeCubeFace=0,this._activeMipmapLevel=0,this._outputRenderTarget=null,this._mrt=null,this._renderObjectFunction=null,this._currentRenderObjectFunction=null,this._currentRenderBundle=null,this._handleObjectFunction=this._renderObjectDirect,this._isDeviceLost=!1,this.onDeviceLost=this._onDeviceLost,this._colorBufferType=D,this._initialized=!1,this._initPromise=null,this._compilationPromises=null,this.transparent=!0,this.opaque=!0,this.shadowMap={enabled:!1,type:S_},this.xr=new qq(this),this.debug={checkShaderErrors:!0,onShaderError:null,getShaderAsync:async(_,w,x)=>{await this.compileAsync(_,w);const T=this._renderLists.get(_,w),I=this._renderContexts.get(_,w,this._renderTarget),N=_.overrideMaterial||x.material,R=this._objects.get(x,N,_,w,T.lightsNode,I,I.clippingContext),{fragmentShader:M,vertexShader:B}=R.getNodeBuilderState();return{fragmentShader:M,vertexShader:B}}}}async init(){if(this._initialized)throw new Error("Renderer: Backend has already been initialized.");return this._initPromise!==null?this._initPromise:(this._initPromise=new Promise(async(e,t)=>{let a=this.backend;try{await a.init(this)}catch(r){if(this._getFallback!==null)try{this.backend=a=this._getFallback(r),await a.init(this)}catch(s){t(s);return}else{t(r);return}}this._nodes=new Mq(this,a),this._animation=new BM(this._nodes,this.info),this._attributes=new VM(a),this._background=new XL(this,this._nodes),this._geometries=new zM(this._attributes,this.info),this._textures=new sC(this,a,this.info),this._pipelines=new QM(a,this._nodes),this._bindings=new YM(a,this._nodes,this._textures,this._attributes,this._pipelines,this.info),this._objects=new OM(this,this._nodes,this._geometries,this._pipelines,this._bindings,this.info),this._renderLists=new ZM(this.lighting),this._bundles=new Pq,this._renderContexts=new nC,this._animation.start(),this._initialized=!0,e(this)}),this._initPromise)}get coordinateSystem(){return this.backend.coordinateSystem}async compileAsync(e,t,a=null){if(this._isDeviceLost===!0)return;this._initialized===!1&&await this.init();const r=this._nodes.nodeFrame,s=r.renderId,o=this._currentRenderContext,d=this._currentRenderObjectFunction,c=this._compilationPromises,g=e.isScene===!0?e:vg;a===null&&(a=e);const D=this._renderTarget,m=this._renderContexts.get(a,t,D),_=this._activeMipmapLevel,w=[];this._currentRenderContext=m,this._currentRenderObjectFunction=this.renderObject,this._handleObjectFunction=this._createObjectPipeline,this._compilationPromises=w,r.renderId++,r.update(),m.depth=this.depth,m.stencil=this.stencil,m.clippingContext||(m.clippingContext=new dA),m.clippingContext.updateGlobal(g,t),g.onBeforeRender(this,e,t,D);const x=this._renderLists.get(e,t);if(x.begin(),this._projectObject(e,t,0,x,m.clippingContext),a!==e&&a.traverseVisible(function(M){M.isLight&&M.layers.test(t.layers)&&x.pushLight(M)}),x.finish(),D!==null){this._textures.updateRenderTarget(D,_);const M=this._textures.get(D);m.textures=M.textures,m.depthTexture=M.depthTexture}else m.textures=null,m.depthTexture=null;this._background.update(g,x,m);const T=x.opaque,I=x.transparent,N=x.transparentDoublePass,R=x.lightsNode;this.opaque===!0&&T.length>0&&this._renderObjects(T,t,g,R),this.transparent===!0&&I.length>0&&this._renderTransparents(I,N,t,g,R),r.renderId=s,this._currentRenderContext=o,this._currentRenderObjectFunction=d,this._compilationPromises=c,this._handleObjectFunction=this._renderObjectDirect,await Promise.all(w)}async renderAsync(e,t){this._initialized===!1&&await this.init(),this._renderScene(e,t)}async waitForGPU(){await this.backend.waitForGPU()}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}getColorBufferType(){return this._colorBufferType}_onDeviceLost(e){let t=`THREE.WebGPURenderer: ${e.api} Device Lost:

Message: ${e.message}`;e.reason&&(t+=`
Reason: ${e.reason}`),console.error(t),this._isDeviceLost=!0}_renderBundle(e,t,a){const{bundleGroup:r,camera:s,renderList:o}=e,d=this._currentRenderContext,c=this._bundles.get(r,s),g=this.backend.get(c);g.renderContexts===void 0&&(g.renderContexts=new Set);const D=r.version!==g.version,m=g.renderContexts.has(d)===!1||D;if(g.renderContexts.add(d),m){this.backend.beginBundle(d),(g.renderObjects===void 0||D)&&(g.renderObjects=[]),this._currentRenderBundle=c;const{transparentDoublePass:_,transparent:w,opaque:x}=o;this.opaque===!0&&x.length>0&&this._renderObjects(x,s,t,a),this.transparent===!0&&w.length>0&&this._renderTransparents(w,_,s,t,a),this._currentRenderBundle=null,this.backend.finishBundle(d,c),g.version=r.version}else{const{renderObjects:_}=g;for(let w=0,x=_.length;w<x;w++){const T=_[w];this._nodes.needsRefresh(T)&&(this._nodes.updateBefore(T),this._nodes.updateForRender(T),this._bindings.updateForRender(T),this._nodes.updateAfter(T))}}this.backend.addBundle(d,c)}render(e,t){if(this._initialized===!1)return console.warn("THREE.Renderer: .render() called before the backend is initialized. Try using .renderAsync() instead."),this.renderAsync(e,t);this._renderScene(e,t)}_getFrameBufferTarget(){const{currentToneMapping:e,currentColorSpace:t}=this;if(e!==Fs===!1&&t!==Yo===!1)return null;const{width:s,height:o}=this.getDrawingBufferSize(O2),{depth:d,stencil:c}=this;let g=this._frameBufferTarget;return g===null&&(g=new s1(s,o,{depthBuffer:d,stencilBuffer:c,type:this._colorBufferType,format:c0,colorSpace:Yo,generateMipmaps:!1,minFilter:Dr,magFilter:Dr,samples:this.samples}),g.isPostProcessingRenderTarget=!0,this._frameBufferTarget=g),g.depthBuffer=d,g.stencilBuffer=c,g.setSize(s,o),g.viewport.copy(this._viewport),g.scissor.copy(this._scissor),g.viewport.multiplyScalar(this._pixelRatio),g.scissor.multiplyScalar(this._pixelRatio),g.scissorTest=this._scissorTest,g}_renderScene(e,t,a=!0){if(this._isDeviceLost===!0)return;const r=a?this._getFrameBufferTarget():null,s=this._nodes.nodeFrame,o=s.renderId,d=this._currentRenderContext,c=this._currentRenderObjectFunction,g=e.isScene===!0?e:vg,D=this._renderTarget||this._outputRenderTarget,m=this._activeCubeFace,_=this._activeMipmapLevel;let w;r!==null?(w=r,this.setRenderTarget(w)):w=D;const x=this._renderContexts.get(e,t,w);this._currentRenderContext=x,this._currentRenderObjectFunction=this._renderObjectFunction||this.renderObject,this.info.calls++,this.info.render.calls++,this.info.render.frameCalls++,s.renderId=this.info.calls;const T=this.coordinateSystem,I=this.xr;if(t.coordinateSystem!==T&&I.isPresenting===!1&&(t.coordinateSystem=T,t.updateProjectionMatrix(),t.isArrayCamera))for(const Z of t.cameras)Z.coordinateSystem=T,Z.updateProjectionMatrix();e.matrixWorldAutoUpdate===!0&&e.updateMatrixWorld(),t.parent===null&&t.matrixWorldAutoUpdate===!0&&t.updateMatrixWorld(),I.enabled===!0&&I.isPresenting===!0&&(I.cameraAutoUpdate===!0&&I.updateCamera(t),t=I.getCamera());let N=this._viewport,R=this._scissor,M=this._pixelRatio;w!==null&&(N=w.viewport,R=w.scissor,M=1),this.getDrawingBufferSize(O2),gd.set(0,0,O2.width,O2.height);const B=N.minDepth===void 0?0:N.minDepth,F=N.maxDepth===void 0?1:N.maxDepth;x.viewportValue.copy(N).multiplyScalar(M).floor(),x.viewportValue.width>>=_,x.viewportValue.height>>=_,x.viewportValue.minDepth=B,x.viewportValue.maxDepth=F,x.viewport=x.viewportValue.equals(gd)===!1,x.scissorValue.copy(R).multiplyScalar(M).floor(),x.scissor=this._scissorTest&&x.scissorValue.equals(gd)===!1,x.scissorValue.width>>=_,x.scissorValue.height>>=_,x.clippingContext||(x.clippingContext=new dA),x.clippingContext.updateGlobal(g,t),g.onBeforeRender(this,e,t,w),U2.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Dd.setFromProjectionMatrix(U2,T);const L=this._renderLists.get(e,t);if(L.begin(),this._projectObject(e,t,0,L,x.clippingContext),L.finish(),this.sortObjects===!0&&L.sort(this._opaqueSort,this._transparentSort),w!==null){this._textures.updateRenderTarget(w,_);const Z=this._textures.get(w);x.textures=Z.textures,x.depthTexture=Z.depthTexture,x.width=Z.width,x.height=Z.height,x.renderTarget=w,x.depth=w.depthBuffer,x.stencil=w.stencilBuffer}else x.textures=null,x.depthTexture=null,x.width=this.domElement.width,x.height=this.domElement.height,x.depth=this.depth,x.stencil=this.stencil;x.width>>=_,x.height>>=_,x.activeCubeFace=m,x.activeMipmapLevel=_,x.occlusionQueryCount=L.occlusionQueryCount,this._background.update(g,L,x),this.backend.beginRender(x);const{bundles:O,lightsNode:G,transparentDoublePass:j,transparent:ne,opaque:Y}=L;return O.length>0&&this._renderBundles(O,g,G),this.opaque===!0&&Y.length>0&&this._renderObjects(Y,t,g,G),this.transparent===!0&&ne.length>0&&this._renderTransparents(ne,j,t,g,G),this.backend.finishRender(x),s.renderId=o,this._currentRenderContext=d,this._currentRenderObjectFunction=c,r!==null&&(this.setRenderTarget(D,m,_),this._renderOutput(w)),g.onAfterRender(this,e,t,w),x}_renderOutput(e){const t=this._quad;this._nodes.hasOutputChange(e.texture)&&(t.material.fragmentNode=this._nodes.getOutputNode(e.texture),t.material.needsUpdate=!0);const a=this.autoClear,r=this.xr.enabled;this.autoClear=!1,this.xr.enabled=!1,this._renderScene(t,t.camera,!1),this.autoClear=a,this.xr.enabled=r}getMaxAnisotropy(){return this.backend.getMaxAnisotropy()}getActiveCubeFace(){return this._activeCubeFace}getActiveMipmapLevel(){return this._activeMipmapLevel}async setAnimationLoop(e){this._initialized===!1&&await this.init(),this._animation.setAnimationLoop(e)}async getArrayBufferAsync(e){return await this.backend.getArrayBufferAsync(e)}getContext(){return this.backend.getContext()}getPixelRatio(){return this._pixelRatio}getDrawingBufferSize(e){return e.set(this._width*this._pixelRatio,this._height*this._pixelRatio).floor()}getSize(e){return e.set(this._width,this._height)}setPixelRatio(e=1){this._pixelRatio!==e&&(this._pixelRatio=e,this.setSize(this._width,this._height,!1))}setDrawingBufferSize(e,t,a){this.xr&&this.xr.isPresenting||(this._width=e,this._height=t,this._pixelRatio=a,this.domElement.width=Math.floor(e*a),this.domElement.height=Math.floor(t*a),this.setViewport(0,0,e,t),this._initialized&&this.backend.updateSize())}setSize(e,t,a=!0){this.xr&&this.xr.isPresenting||(this._width=e,this._height=t,this.domElement.width=Math.floor(e*this._pixelRatio),this.domElement.height=Math.floor(t*this._pixelRatio),a===!0&&(this.domElement.style.width=e+"px",this.domElement.style.height=t+"px"),this.setViewport(0,0,e,t),this._initialized&&this.backend.updateSize())}setOpaqueSort(e){this._opaqueSort=e}setTransparentSort(e){this._transparentSort=e}getScissor(e){const t=this._scissor;return e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e}setScissor(e,t,a,r){const s=this._scissor;e.isVector4?s.copy(e):s.set(e,t,a,r)}getScissorTest(){return this._scissorTest}setScissorTest(e){this._scissorTest=e,this.backend.setScissorTest(e)}getViewport(e){return e.copy(this._viewport)}setViewport(e,t,a,r,s=0,o=1){const d=this._viewport;e.isVector4?d.copy(e):d.set(e,t,a,r),d.minDepth=s,d.maxDepth=o}getClearColor(e){return e.copy(this._clearColor)}setClearColor(e,t=1){this._clearColor.set(e),this._clearColor.a=t}getClearAlpha(){return this._clearColor.a}setClearAlpha(e){this._clearColor.a=e}getClearDepth(){return this._clearDepth}setClearDepth(e){this._clearDepth=e}getClearStencil(){return this._clearStencil}setClearStencil(e){this._clearStencil=e}isOccluded(e){const t=this._currentRenderContext;return t&&this.backend.isOccluded(t,e)}clear(e=!0,t=!0,a=!0){if(this._initialized===!1)return console.warn("THREE.Renderer: .clear() called before the backend is initialized. Try using .clearAsync() instead."),this.clearAsync(e,t,a);const r=this._renderTarget||this._getFrameBufferTarget();let s=null;if(r!==null){this._textures.updateRenderTarget(r);const o=this._textures.get(r);s=this._renderContexts.getForClear(r),s.textures=o.textures,s.depthTexture=o.depthTexture,s.width=o.width,s.height=o.height,s.renderTarget=r,s.depth=r.depthBuffer,s.stencil=r.stencilBuffer,s.clearColorValue=this.backend.getClearColor(),s.activeCubeFace=this.getActiveCubeFace(),s.activeMipmapLevel=this.getActiveMipmapLevel()}this.backend.clear(e,t,a,s),r!==null&&this._renderTarget===null&&this._renderOutput(r)}clearColor(){return this.clear(!0,!1,!1)}clearDepth(){return this.clear(!1,!0,!1)}clearStencil(){return this.clear(!1,!1,!0)}async clearAsync(e=!0,t=!0,a=!0){this._initialized===!1&&await this.init(),this.clear(e,t,a)}async clearColorAsync(){this.clearAsync(!0,!1,!1)}async clearDepthAsync(){this.clearAsync(!1,!0,!1)}async clearStencilAsync(){this.clearAsync(!1,!1,!0)}get currentToneMapping(){return this.isOutputTarget?this.toneMapping:Fs}get currentColorSpace(){return this.isOutputTarget?this.outputColorSpace:Yo}get isOutputTarget(){return this._renderTarget===this._outputRenderTarget||this._renderTarget===null}dispose(){this.info.dispose(),this.backend.dispose(),this._animation.dispose(),this._objects.dispose(),this._pipelines.dispose(),this._nodes.dispose(),this._bindings.dispose(),this._renderLists.dispose(),this._renderContexts.dispose(),this._textures.dispose(),this._frameBufferTarget!==null&&this._frameBufferTarget.dispose(),Object.values(this.backend.timestampQueryPool).forEach(e=>{e!==null&&e.dispose()}),this.setRenderTarget(null),this.setAnimationLoop(null)}setRenderTarget(e,t=0,a=0){this._renderTarget=e,this._activeCubeFace=t,this._activeMipmapLevel=a}getRenderTarget(){return this._renderTarget}setOutputRenderTarget(e){this._outputRenderTarget=e}getOutputRenderTarget(){return this._outputRenderTarget}setRenderObjectFunction(e){this._renderObjectFunction=e}getRenderObjectFunction(){return this._renderObjectFunction}compute(e){if(this._isDeviceLost===!0)return;if(this._initialized===!1)return console.warn("THREE.Renderer: .compute() called before the backend is initialized. Try using .computeAsync() instead."),this.computeAsync(e);const t=this._nodes.nodeFrame,a=t.renderId;this.info.calls++,this.info.compute.calls++,this.info.compute.frameCalls++,t.renderId=this.info.calls;const r=this.backend,s=this._pipelines,o=this._bindings,d=this._nodes,c=Array.isArray(e)?e:[e];if(c[0]===void 0||c[0].isComputeNode!==!0)throw new Error("THREE.Renderer: .compute() expects a ComputeNode.");r.beginCompute(e);for(const g of c){if(s.has(g)===!1){const _=()=>{g.removeEventListener("dispose",_),s.delete(g),o.delete(g),d.delete(g)};g.addEventListener("dispose",_);const w=g.onInitFunction;w!==null&&w.call(g,{renderer:this})}d.updateForCompute(g),o.updateForCompute(g);const D=o.getForCompute(g),m=s.getForCompute(g,D);r.compute(e,g,D,m)}r.finishCompute(e),t.renderId=a}async computeAsync(e){this._initialized===!1&&await this.init(),this.compute(e)}async hasFeatureAsync(e){return this._initialized===!1&&await this.init(),this.backend.hasFeature(e)}async resolveTimestampsAsync(e="render"){return this._initialized===!1&&await this.init(),this.backend.resolveTimestampsAsync(e)}hasFeature(e){return this._initialized===!1?(console.warn("THREE.Renderer: .hasFeature() called before the backend is initialized. Try using .hasFeatureAsync() instead."),!1):this.backend.hasFeature(e)}hasInitialized(){return this._initialized}async initTextureAsync(e){this._initialized===!1&&await this.init(),this._textures.updateTexture(e)}initTexture(e){this._initialized===!1&&console.warn("THREE.Renderer: .initTexture() called before the backend is initialized. Try using .initTextureAsync() instead."),this._textures.updateTexture(e)}copyFramebufferToTexture(e,t=null){if(t!==null)if(t.isVector2)t=Pr.set(t.x,t.y,e.image.width,e.image.height).floor();else if(t.isVector4)t=Pr.copy(t).floor();else{console.error("THREE.Renderer.copyFramebufferToTexture: Invalid rectangle.");return}else t=Pr.set(0,0,e.image.width,e.image.height);let a=this._currentRenderContext,r;a!==null?r=a.renderTarget:(r=this._renderTarget||this._getFrameBufferTarget(),r!==null&&(this._textures.updateRenderTarget(r),a=this._textures.get(r))),this._textures.updateTexture(e,{renderTarget:r}),this.backend.copyFramebufferToTexture(e,a,t)}copyTextureToTexture(e,t,a=null,r=null,s=0,o=0){this._textures.updateTexture(e),this._textures.updateTexture(t),this.backend.copyTextureToTexture(e,t,a,r,s,o)}async readRenderTargetPixelsAsync(e,t,a,r,s,o=0,d=0){return this.backend.copyTextureToBuffer(e.textures[o],t,a,r,s,d)}_projectObject(e,t,a,r,s){if(e.visible===!1)return;if(e.layers.test(t.layers)){if(e.isGroup)a=e.renderOrder,e.isClippingGroup&&e.enabled&&(s=s.getGroupContext(e));else if(e.isLOD)e.autoUpdate===!0&&e.update(t);else if(e.isLight)r.pushLight(e);else if(e.isSprite){if(!e.frustumCulled||Dd.intersectsSprite(e)){this.sortObjects===!0&&Pr.setFromMatrixPosition(e.matrixWorld).applyMatrix4(U2);const{geometry:c,material:g}=e;g.visible&&r.push(e,c,g,a,Pr.z,null,s)}}else if(e.isLineLoop)console.error("THREE.Renderer: Objects of type THREE.LineLoop are not supported. Please use THREE.Line or THREE.LineSegments.");else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||Dd.intersectsObject(e))){const{geometry:c,material:g}=e;if(this.sortObjects===!0&&(c.boundingSphere===null&&c.computeBoundingSphere(),Pr.copy(c.boundingSphere.center).applyMatrix4(e.matrixWorld).applyMatrix4(U2)),Array.isArray(g)){const D=c.groups;for(let m=0,_=D.length;m<_;m++){const w=D[m],x=g[w.materialIndex];x&&x.visible&&r.push(e,c,x,a,Pr.z,w,s)}}else g.visible&&r.push(e,c,g,a,Pr.z,null,s)}}if(e.isBundleGroup===!0&&this.backend.beginBundle!==void 0){const c=r;r=this._renderLists.get(e,t),r.begin(),c.pushBundle({bundleGroup:e,camera:t,renderList:r}),r.finish()}const d=e.children;for(let c=0,g=d.length;c<g;c++)this._projectObject(d[c],t,a,r,s)}_renderBundles(e,t,a){for(const r of e)this._renderBundle(r,t,a)}_renderTransparents(e,t,a,r,s){if(t.length>0){for(const{material:o}of t)o.side=_n;this._renderObjects(t,a,r,s,"backSide");for(const{material:o}of t)o.side=Os;this._renderObjects(e,a,r,s);for(const{material:o}of t)o.side=f0}else this._renderObjects(e,a,r,s)}_renderObjects(e,t,a,r,s=null){for(let o=0,d=e.length;o<d;o++){const{object:c,geometry:g,material:D,group:m,clippingContext:_}=e[o];this._currentRenderObjectFunction(c,a,t,g,D,m,r,_,s)}}renderObject(e,t,a,r,s,o,d,c=null,g=null){let D,m,_;if(e.onBeforeRender(this,t,a,r,s,o),s.allowOverride===!0&&t.overrideMaterial!==null){const w=t.overrideMaterial;s.positionNode&&s.positionNode.isNode&&(D=w.positionNode,w.positionNode=s.positionNode),w.alphaTest=s.alphaTest,w.alphaMap=s.alphaMap,w.transparent=s.transparent||s.transmission>0,w.isShadowPassMaterial&&(w.side=s.shadowSide===null?s.side:s.shadowSide,s.depthNode&&s.depthNode.isNode&&(_=w.depthNode,w.depthNode=s.depthNode),s.castShadowNode&&s.castShadowNode.isNode&&(m=w.colorNode,w.colorNode=s.castShadowNode)),s=w}s.transparent===!0&&s.side===f0&&s.forceSinglePass===!1?(s.side=_n,this._handleObjectFunction(e,s,t,a,d,o,c,"backSide"),s.side=Os,this._handleObjectFunction(e,s,t,a,d,o,c,g),s.side=f0):this._handleObjectFunction(e,s,t,a,d,o,c,g),D!==void 0&&(t.overrideMaterial.positionNode=D),_!==void 0&&(t.overrideMaterial.depthNode=_),m!==void 0&&(t.overrideMaterial.colorNode=m),e.onAfterRender(this,t,a,r,s,o)}_renderObjectDirect(e,t,a,r,s,o,d,c){const g=this._objects.get(e,t,a,r,s,this._currentRenderContext,d,c);g.drawRange=e.geometry.drawRange,g.group=o;const D=this._nodes.needsRefresh(g);D&&(this._nodes.updateBefore(g),this._geometries.updateForRender(g),this._nodes.updateForRender(g),this._bindings.updateForRender(g)),this._pipelines.updateForRender(g),this._currentRenderBundle!==null&&(this.backend.get(this._currentRenderBundle).renderObjects.push(g),g.bundle=this._currentRenderBundle.bundleGroup),this.backend.draw(g,this.info),D&&this._nodes.updateAfter(g)}_createObjectPipeline(e,t,a,r,s,o,d,c){const g=this._objects.get(e,t,a,r,s,this._currentRenderContext,d,c);g.drawRange=e.geometry.drawRange,g.group=o,this._nodes.updateBefore(g),this._geometries.updateForRender(g),this._nodes.updateForRender(g),this._bindings.updateForRender(g),this._pipelines.getForRender(g,this._compilationPromises),this._nodes.updateAfter(g)}get compile(){return this.compileAsync}}class $p{constructor(e=""){this.name=e,this.visibility=0}setVisibility(e){this.visibility|=e}clone(){return Object.assign(new this.constructor,this)}}function jq(n){return n+(Wr-n%Wr)%Wr}class Iv extends $p{constructor(e,t=null){super(e),this.isBuffer=!0,this.bytesPerElement=Float32Array.BYTES_PER_ELEMENT,this._buffer=t}get byteLength(){return jq(this._buffer.byteLength)}get buffer(){return this._buffer}update(){return!0}}class Ev extends Iv{constructor(e,t=null){super(e,t),this.isUniformBuffer=!0}}let $q=0;class kv extends Ev{constructor(e,t){super("UniformBuffer_"+$q++,e?e.value:null),this.nodeUniform=e,this.groupNode=t}get buffer(){return this.nodeUniform.value}}class Qq extends Ev{constructor(e){super(e),this.isUniformsGroup=!0,this._values=null,this.uniforms=[]}addUniform(e){return this.uniforms.push(e),this}removeUniform(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}get values(){return this._values===null&&(this._values=Array.from(this.buffer)),this._values}get buffer(){let e=this._buffer;if(e===null){const t=this.byteLength;e=new Float32Array(new ArrayBuffer(t)),this._buffer=e}return e}get byteLength(){let e=0;for(let t=0,a=this.uniforms.length;t<a;t++){const r=this.uniforms[t],{boundary:s,itemSize:o}=r,d=e%Wr,c=Wr-d;d!==0&&c-s<0?e+=Wr-d:d%s!==0&&(e+=d%s),r.offset=e/this.bytesPerElement,e+=o*this.bytesPerElement}return Math.ceil(e/Wr)*Wr}update(){let e=!1;for(const t of this.uniforms)this.updateByType(t)===!0&&(e=!0);return e}updateByType(e){if(e.isNumberUniform)return this.updateNumber(e);if(e.isVector2Uniform)return this.updateVector2(e);if(e.isVector3Uniform)return this.updateVector3(e);if(e.isVector4Uniform)return this.updateVector4(e);if(e.isColorUniform)return this.updateColor(e);if(e.isMatrix3Uniform)return this.updateMatrix3(e);if(e.isMatrix4Uniform)return this.updateMatrix4(e);console.error("THREE.WebGPUUniformsGroup: Unsupported uniform type.",e)}updateNumber(e){let t=!1;const a=this.values,r=e.getValue(),s=e.offset,o=e.getType();if(a[s]!==r){const d=this._getBufferForType(o);d[s]=a[s]=r,t=!0}return t}updateVector2(e){let t=!1;const a=this.values,r=e.getValue(),s=e.offset,o=e.getType();if(a[s+0]!==r.x||a[s+1]!==r.y){const d=this._getBufferForType(o);d[s+0]=a[s+0]=r.x,d[s+1]=a[s+1]=r.y,t=!0}return t}updateVector3(e){let t=!1;const a=this.values,r=e.getValue(),s=e.offset,o=e.getType();if(a[s+0]!==r.x||a[s+1]!==r.y||a[s+2]!==r.z){const d=this._getBufferForType(o);d[s+0]=a[s+0]=r.x,d[s+1]=a[s+1]=r.y,d[s+2]=a[s+2]=r.z,t=!0}return t}updateVector4(e){let t=!1;const a=this.values,r=e.getValue(),s=e.offset,o=e.getType();if(a[s+0]!==r.x||a[s+1]!==r.y||a[s+2]!==r.z||a[s+4]!==r.w){const d=this._getBufferForType(o);d[s+0]=a[s+0]=r.x,d[s+1]=a[s+1]=r.y,d[s+2]=a[s+2]=r.z,d[s+3]=a[s+3]=r.w,t=!0}return t}updateColor(e){let t=!1;const a=this.values,r=e.getValue(),s=e.offset;if(a[s+0]!==r.r||a[s+1]!==r.g||a[s+2]!==r.b){const o=this.buffer;o[s+0]=a[s+0]=r.r,o[s+1]=a[s+1]=r.g,o[s+2]=a[s+2]=r.b,t=!0}return t}updateMatrix3(e){let t=!1;const a=this.values,r=e.getValue().elements,s=e.offset;if(a[s+0]!==r[0]||a[s+1]!==r[1]||a[s+2]!==r[2]||a[s+4]!==r[3]||a[s+5]!==r[4]||a[s+6]!==r[5]||a[s+8]!==r[6]||a[s+9]!==r[7]||a[s+10]!==r[8]){const o=this.buffer;o[s+0]=a[s+0]=r[0],o[s+1]=a[s+1]=r[1],o[s+2]=a[s+2]=r[2],o[s+4]=a[s+4]=r[3],o[s+5]=a[s+5]=r[4],o[s+6]=a[s+6]=r[5],o[s+8]=a[s+8]=r[6],o[s+9]=a[s+9]=r[7],o[s+10]=a[s+10]=r[8],t=!0}return t}updateMatrix4(e){let t=!1;const a=this.values,r=e.getValue().elements,s=e.offset;return Xq(a,r,s)===!1&&(this.buffer.set(r,s),Yq(a,r,s),t=!0),t}_getBufferForType(e){return e==="int"||e==="ivec2"||e==="ivec3"||e==="ivec4"?new Int32Array(this.buffer.buffer):e==="uint"||e==="uvec2"||e==="uvec3"||e==="uvec4"?new Uint32Array(this.buffer.buffer):this.buffer}}function Yq(n,e,t){for(let a=0,r=e.length;a<r;a++)n[t+a]=e[a]}function Xq(n,e,t){for(let a=0,r=e.length;a<r;a++)if(n[t+a]!==e[a])return!1;return!0}let Kq=0;class Nv extends Qq{constructor(e,t){super(e),this.id=Kq++,this.groupNode=t,this.isNodeUniformsGroup=!0}}let Zq=0;class Jq extends $p{constructor(e,t){super(e),this.id=Zq++,this.texture=t,this.version=t?t.version:0,this.store=!1,this.generation=null,this.isSampledTexture=!0}needsBindingsUpdate(e){const{texture:t}=this;return e!==this.generation?(this.generation=e,!0):t.isVideoTexture}update(){const{texture:e,version:t}=this;return t!==e.version?(this.version=e.version,!0):!1}}class HA extends Jq{constructor(e,t,a,r=null){super(e,t?t.value:null),this.textureNode=t,this.groupNode=a,this.access=r}needsBindingsUpdate(e){return this.textureNode.value!==this.texture||super.needsBindingsUpdate(e)}update(){const{textureNode:e}=this;return this.texture!==e.value?(this.texture=e.value,!0):super.update()}}class Rv extends HA{constructor(e,t,a,r=null){super(e,t,a,r),this.isSampledCubeTexture=!0}}class Mv extends HA{constructor(e,t,a,r=null){super(e,t,a,r),this.isSampledTexture3D=!0}}const eF={textureDimensions:"textureSize",equals:"equal"},tF={low:"lowp",medium:"mediump",high:"highp"},mg={swizzleAssign:!0,storageBuffer:!1},yg=`
precision highp float;
precision highp int;
precision highp sampler2D;
precision highp sampler3D;
precision highp samplerCube;
precision highp sampler2DArray;

precision highp usampler2D;
precision highp usampler3D;
precision highp usamplerCube;
precision highp usampler2DArray;

precision highp isampler2D;
precision highp isampler3D;
precision highp isamplerCube;
precision highp isampler2DArray;

precision lowp sampler2DShadow;
`;class aF extends Sv{constructor(e,t){super(e,t,new Rq),this.uniformGroups={},this.transforms=[],this.extensions={},this.builtins={vertex:[],fragment:[],compute:[]}}needsToWorkingColorSpace(e){return e.isVideoTexture===!0&&e.colorSpace!==pi}getMethod(e){return eF[e]||e}getOutputStructName(){return""}buildFunctionCode(e){const t=e.layout,a=this.flowShaderNode(e),r=[];for(const o of t.inputs)r.push(this.getType(o.type)+" "+o.name);return`${this.getType(t.type)} ${t.name}( ${r.join(", ")} ) {

	${a.vars}

${a.code}
	return ${a.result};

}`}setupPBO(e){const t=e.value;if(t.pbo===void 0){const a=t.array,r=t.count*t.itemSize,{itemSize:s}=t,o=t.array.constructor.name.toLowerCase().includes("int");let d=o?ch:dh;s===2?d=o?hh:gi:s===3?d=o?Iw:uh:s===4&&(d=o?ph:c0);const c={Float32Array:$n,Uint8Array:Bn,Uint16Array:ks,Uint32Array:xa,Int8Array:Ko,Int16Array:Zo,Int32Array:ln,Uint8ClampedArray:Bn},g=Math.pow(2,Math.ceil(Math.log2(Math.sqrt(r/s))));let D=Math.ceil(r/s/g);g*D*s<r&&D++;const m=g*D*s,_=new a.constructor(m);_.set(a,0),t.array=_;const w=new $_(t.array,g,D,d,c[t.array.constructor.name]||$n);w.needsUpdate=!0,w.isPBOTexture=!0;const x=new z0(w,null,null);x.setPrecision("high"),t.pboNode=x,t.pbo=x.value,this.getUniformFromNode(t.pboNode,"texture",this.shaderStage,this.context.label)}}getPropertyName(e,t=this.shaderStage){return e.isNodeUniform&&e.node.isTextureNode!==!0&&e.node.isBufferNode!==!0?t.charAt(0)+"_"+e.name:super.getPropertyName(e,t)}generatePBO(e){const{node:t,indexNode:a}=e,r=t.value;if(this.renderer.backend.has(r)){const D=this.renderer.backend.get(r);D.pbo=r.pbo}const s=this.getUniformFromNode(r.pboNode,"texture",this.shaderStage,this.context.label),o=this.getPropertyName(s);this.increaseUsage(a);const d=a.build(this,"uint"),c=this.getDataFromNode(e);let g=c.propertyName;if(g===void 0){const D=this.getVarFromNode(e);g=this.getPropertyName(D);const m=this.getDataFromNode(t);let _=m.propertySizeName;_===void 0&&(_=g+"Size",this.getVarFromNode(t,_,"uint"),this.addLineFlowCode(`${_} = uint( textureSize( ${o}, 0 ).x )`,e),m.propertySizeName=_);const{itemSize:w}=r,x="."+$1.join("").slice(0,w),T=`ivec2(${d} % ${_}, ${d} / ${_})`,I=this.generateTextureLoad(null,o,T,null,"0");let N="vec4";r.pbo.type===xa?N="uvec4":r.pbo.type===ln&&(N="ivec4"),this.addLineFlowCode(`${g} = ${N}(${I})${x}`,e),c.propertyName=g}return g}generateTextureLoad(e,t,a,r,s="0"){return r?`texelFetch( ${t}, ivec3( ${a}, ${r} ), ${s} )`:`texelFetch( ${t}, ${a}, ${s} )`}generateTexture(e,t,a,r){return e.isDepthTexture?`texture( ${t}, ${a} ).x`:(r&&(a=`vec3( ${a}, ${r} )`),`texture( ${t}, ${a} )`)}generateTextureLevel(e,t,a,r){return`textureLod( ${t}, ${a}, ${r} )`}generateTextureBias(e,t,a,r){return`texture( ${t}, ${a}, ${r} )`}generateTextureGrad(e,t,a,r){return`textureGrad( ${t}, ${a}, ${r[0]}, ${r[1]} )`}generateTextureCompare(e,t,a,r,s,o=this.shaderStage){if(o==="fragment")return`texture( ${t}, vec3( ${a}, ${r} ) )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${o} shader.`)}getVars(e){const t=[],a=this.vars[e];if(a!==void 0)for(const r of a)t.push(`${this.getVar(r.type,r.name,r.count)};`);return t.join(`
	`)}getUniforms(e){const t=this.uniforms[e],a=[],r={};for(const o of t){let d=null,c=!1;if(o.type==="texture"||o.type==="texture3D"){const D=o.node.value;let m="";(D.isDataTexture===!0||D.isData3DTexture===!0)&&(D.type===xa?m="u":D.type===ln&&(m="i")),o.type==="texture3D"?d=`${m}sampler3D ${o.name};`:D.compareFunction?d=`sampler2DShadow ${o.name};`:D.isDataArrayTexture===!0||D.isCompressedArrayTexture===!0?d=`${m}sampler2DArray ${o.name};`:d=`${m}sampler2D ${o.name};`}else if(o.type==="cubeTexture")d=`samplerCube ${o.name};`;else if(o.type==="buffer"){const D=o.node,m=this.getType(D.bufferType),_=D.bufferCount,w=_>0?_:"";d=`${D.name} {
	${m} ${o.name}[${w}];
};
`}else d=`${this.getVectorType(o.type)} ${this.getPropertyName(o,e)};`,c=!0;const g=o.node.precision;if(g!==null&&(d=tF[g]+" "+d),c){d="	"+d;const D=o.groupNode.name;(r[D]||(r[D]=[])).push(d)}else d="uniform "+d,a.push(d)}let s="";for(const o in r){const d=r[o];s+=this._getGLSLUniformStruct(e+"_"+o,d.join(`
`))+`
`}return s+=a.join(`
`),s}getTypeFromAttribute(e){let t=super.getTypeFromAttribute(e);if(/^[iu]/.test(t)&&e.gpuType!==ln){let a=e;e.isInterleavedBufferAttribute&&(a=e.data);const r=a.array;r instanceof Uint32Array||r instanceof Int32Array||(t=t.slice(1))}return t}getAttributes(e){let t="";if(e==="vertex"||e==="compute"){const a=this.getAttributesArray();let r=0;for(const s of a)t+=`layout( location = ${r++} ) in ${s.type} ${s.name};
`}return t}getStructMembers(e){const t=[];for(const a of e.members)t.push(`	${a.type} ${a.name};`);return t.join(`
`)}getStructs(e){const t=[],a=this.structs[e],r=[];for(const s of a)if(s.output)for(const o of s.members)r.push(`layout( location = ${o.index} ) out ${o.type} ${o.name};`);else{let o="struct "+s.name+` {
`;o+=this.getStructMembers(s),o+=`
};
`,t.push(o)}return r.length===0&&r.push("layout( location = 0 ) out vec4 fragColor;"),`
`+r.join(`
`)+`

`+t.join(`
`)}getVaryings(e){let t="";const a=this.varyings;if(e==="vertex"||e==="compute")for(const r of a){e==="compute"&&(r.needsInterpolation=!0);const s=this.getType(r.type);if(r.needsInterpolation){const o=s.includes("int")||s.includes("uv")||s.includes("iv")?"flat ":"";t+=`${o}out ${s} ${r.name};
`}else t+=`${s} ${r.name};
`}else if(e==="fragment"){for(const r of a)if(r.needsInterpolation){const s=this.getType(r.type),o=s.includes("int")||s.includes("uv")||s.includes("iv")?"flat ":"";t+=`${o}in ${s} ${r.name};
`}}for(const r of this.builtins[e])t+=`${r};
`;return t}getVertexIndex(){return"uint( gl_VertexID )"}getInstanceIndex(){return"uint( gl_InstanceID )"}getInvocationLocalIndex(){return`uint( gl_InstanceID ) % ${this.object.workgroupSize.reduce((a,r)=>a*r,1)}u`}getDrawIndex(){return this.renderer.backend.extensions.has("WEBGL_multi_draw")?"uint( gl_DrawID )":null}getFrontFacing(){return"gl_FrontFacing"}getFragCoord(){return"gl_FragCoord.xy"}getFragDepth(){return"gl_FragDepth"}enableExtension(e,t,a=this.shaderStage){const r=this.extensions[a]||(this.extensions[a]=new Map);r.has(e)===!1&&r.set(e,{name:e,behavior:t})}getExtensions(e){const t=[];if(e==="vertex"){const r=this.renderer.backend.extensions;this.object.isBatchedMesh&&r.has("WEBGL_multi_draw")&&this.enableExtension("GL_ANGLE_multi_draw","require",e)}const a=this.extensions[e];if(a!==void 0)for(const{name:r,behavior:s}of a.values())t.push(`#extension ${r} : ${s}`);return t.join(`
`)}getClipDistance(){return"gl_ClipDistance"}isAvailable(e){let t=mg[e];if(t===void 0){let a;switch(t=!1,e){case"float32Filterable":a="OES_texture_float_linear";break;case"clipDistance":a="WEBGL_clip_cull_distance";break}if(a!==void 0){const r=this.renderer.backend.extensions;r.has(a)&&(r.get(a),t=!0)}mg[e]=t}return t}isFlipY(){return!0}enableHardwareClipping(e){this.enableExtension("GL_ANGLE_clip_cull_distance","require"),this.builtins.vertex.push(`out float gl_ClipDistance[ ${e} ]`)}registerTransform(e,t){this.transforms.push({varyingName:e,attributeNode:t})}getTransforms(){const e=this.transforms;let t="";for(let a=0;a<e.length;a++){const r=e[a],s=this.getPropertyName(r.attributeNode);s&&(t+=`${r.varyingName} = ${s};
	`)}return t}_getGLSLUniformStruct(e,t){return`
layout( std140 ) uniform ${e} {
${t}
};`}_getGLSLVertexCode(e){return`#version 300 es

${this.getSignature()}

// extensions
${e.extensions}

// precision
${yg}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// attributes
${e.attributes}

// codes
${e.codes}

void main() {

	// vars
	${e.vars}

	// transforms
	${e.transforms}

	// flow
	${e.flow}

	gl_PointSize = 1.0;

}
`}_getGLSLFragmentCode(e){return`#version 300 es

${this.getSignature()}

// precision
${yg}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// codes
${e.codes}

// structs
${e.structs}

void main() {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const t in e){let a=`// code

`;a+=this.flowCode[t];const r=this.flowNodes[t],s=r[r.length-1];for(const d of r){const c=this.getFlowData(d),g=d.name;g&&(a.length>0&&(a+=`
`),a+=`	// flow -> ${g}
	`),a+=`${c.code}
	`,d===s&&t!=="compute"&&(a+=`// result
	`,t==="vertex"?(a+="gl_Position = ",a+=`${c.result};`):t==="fragment"&&(d.outputNode.isOutputStructNode||(a+="fragColor = ",a+=`${c.result};`)))}const o=e[t];o.extensions=this.getExtensions(t),o.uniforms=this.getUniforms(t),o.attributes=this.getAttributes(t),o.varyings=this.getVaryings(t),o.vars=this.getVars(t),o.structs=this.getStructs(t),o.codes=this.getCodes(t),o.transforms=this.getTransforms(t),o.flow=a}this.material!==null?(this.vertexShader=this._getGLSLVertexCode(e.vertex),this.fragmentShader=this._getGLSLFragmentCode(e.fragment)):this.computeShader=this._getGLSLVertexCode(e.compute)}getUniformFromNode(e,t,a,r=null){const s=super.getUniformFromNode(e,t,a,r),o=this.getDataFromNode(e,a,this.globalCache);let d=o.uniformGPU;if(d===void 0){const c=e.groupNode,g=c.name,D=this.getBindGroupArray(g,a);if(t==="texture")d=new HA(s.name,s.node,c),D.push(d);else if(t==="cubeTexture")d=new Rv(s.name,s.node,c),D.push(d);else if(t==="texture3D")d=new Mv(s.name,s.node,c),D.push(d);else if(t==="buffer"){e.name=`NodeBuffer_${e.id}`,s.name=`buffer${e.id}`;const m=new kv(e,c);m.name=e.name,D.push(m),d=m}else{const m=this.uniformGroups[a]||(this.uniformGroups[a]={});let _=m[g];_===void 0&&(_=new Nv(a+"_"+g,c),m[g]=_,D.push(_)),d=this.getNodeUniform(s,t),_.addUniform(d)}o.uniformGPU=d}return s}}let fd=null,ys=null;class Cv{constructor(e={}){this.parameters=Object.assign({},e),this.data=new WeakMap,this.renderer=null,this.domElement=null,this.timestampQueryPool={render:null,compute:null},this.trackTimestamp=e.trackTimestamp===!0}async init(e){this.renderer=e}get coordinateSystem(){}beginRender(){}finishRender(){}beginCompute(){}finishCompute(){}draw(){}compute(){}createProgram(){}destroyProgram(){}createBindings(){}updateBindings(){}updateBinding(){}createRenderPipeline(){}createComputePipeline(){}needsRenderUpdate(){}getRenderCacheKey(){}createNodeBuilder(){}createSampler(){}destroySampler(){}createDefaultTexture(){}createTexture(){}updateTexture(){}generateMipmaps(){}destroyTexture(){}async copyTextureToBuffer(){}copyTextureToTexture(){}copyFramebufferToTexture(){}createAttribute(){}createIndexAttribute(){}createStorageAttribute(){}updateAttribute(){}destroyAttribute(){}getContext(){}updateSize(){}updateViewport(){}isOccluded(){}async resolveTimestampsAsync(e="render"){if(!this.trackTimestamp){V1("WebGPURenderer: Timestamp tracking is disabled.");return}const t=this.timestampQueryPool[e];if(!t){V1(`WebGPURenderer: No timestamp query pool for type '${e}' found.`);return}const a=await t.resolveQueriesAsync();return this.renderer.info[e].timestamp=a,a}async waitForGPU(){}async getArrayBufferAsync(){}async hasFeatureAsync(){}hasFeature(){}getMaxAnisotropy(){}getDrawingBufferSize(){return fd=fd||new Ot,this.renderer.getDrawingBufferSize(fd)}setScissorTest(){}getClearColor(){const e=this.renderer;return ys=ys||new kp,e.getClearColor(ys),ys.getRGB(ys),ys}getDomElement(){let e=this.domElement;return e===null&&(e=this.parameters.canvas!==void 0?this.parameters.canvas:q_(),"setAttribute"in e&&e.setAttribute("data-engine",`three.js r${r8} webgpu`),this.domElement=e),e}set(e,t){this.data.set(e,t)}get(e){let t=this.data.get(e);return t===void 0&&(t={},this.data.set(e,t)),t}has(e){return this.data.has(e)}delete(e){this.data.delete(e)}dispose(){}}let nF=0;class rF{constructor(e,t){this.buffers=[e.bufferGPU,t],this.type=e.type,this.bufferType=e.bufferType,this.pbo=e.pbo,this.byteLength=e.byteLength,this.bytesPerElement=e.BYTES_PER_ELEMENT,this.version=e.version,this.isInteger=e.isInteger,this.activeBufferIndex=0,this.baseId=e.id}get id(){return`${this.baseId}|${this.activeBufferIndex}`}get bufferGPU(){return this.buffers[this.activeBufferIndex]}get transformBuffer(){return this.buffers[this.activeBufferIndex^1]}switchBuffers(){this.activeBufferIndex^=1}}class sF{constructor(e){this.backend=e}createAttribute(e,t){const a=this.backend,{gl:r}=a,s=e.array,o=e.usage||r.STATIC_DRAW,d=e.isInterleavedBufferAttribute?e.data:e,c=a.get(d);let g=c.bufferGPU;g===void 0&&(g=this._createBuffer(r,t,s,o),c.bufferGPU=g,c.bufferType=t,c.version=d.version);let D;if(s instanceof Float32Array)D=r.FLOAT;else if(s instanceof Uint16Array)e.isFloat16BufferAttribute?D=r.HALF_FLOAT:D=r.UNSIGNED_SHORT;else if(s instanceof Int16Array)D=r.SHORT;else if(s instanceof Uint32Array)D=r.UNSIGNED_INT;else if(s instanceof Int32Array)D=r.INT;else if(s instanceof Int8Array)D=r.BYTE;else if(s instanceof Uint8Array)D=r.UNSIGNED_BYTE;else if(s instanceof Uint8ClampedArray)D=r.UNSIGNED_BYTE;else throw new Error("THREE.WebGLBackend: Unsupported buffer data format: "+s);let m={bufferGPU:g,bufferType:t,type:D,byteLength:s.byteLength,bytesPerElement:s.BYTES_PER_ELEMENT,version:e.version,pbo:e.pbo,isInteger:D===r.INT||D===r.UNSIGNED_INT||e.gpuType===ln,id:nF++};if(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute){const _=this._createBuffer(r,t,s,o);m=new rF(m,_)}a.set(e,m)}updateAttribute(e){const t=this.backend,{gl:a}=t,r=e.array,s=e.isInterleavedBufferAttribute?e.data:e,o=t.get(s),d=o.bufferType,c=e.isInterleavedBufferAttribute?e.data.updateRanges:e.updateRanges;if(a.bindBuffer(d,o.bufferGPU),c.length===0)a.bufferSubData(d,0,r);else{for(let g=0,D=c.length;g<D;g++){const m=c[g];a.bufferSubData(d,m.start*r.BYTES_PER_ELEMENT,r,m.start,m.count)}s.clearUpdateRanges()}a.bindBuffer(d,null),o.version=s.version}destroyAttribute(e){const t=this.backend,{gl:a}=t;e.isInterleavedBufferAttribute&&t.delete(e.data);const r=t.get(e);a.deleteBuffer(r.bufferGPU),t.delete(e)}async getArrayBufferAsync(e){const t=this.backend,{gl:a}=t,r=e.isInterleavedBufferAttribute?e.data:e,{bufferGPU:s}=t.get(r),o=e.array,d=o.byteLength;a.bindBuffer(a.COPY_READ_BUFFER,s);const c=a.createBuffer();a.bindBuffer(a.COPY_WRITE_BUFFER,c),a.bufferData(a.COPY_WRITE_BUFFER,d,a.STREAM_READ),a.copyBufferSubData(a.COPY_READ_BUFFER,a.COPY_WRITE_BUFFER,0,0,d),await t.utils._clientWaitAsync();const g=new e.array.constructor(o.length);return a.bindBuffer(a.COPY_WRITE_BUFFER,c),a.getBufferSubData(a.COPY_WRITE_BUFFER,0,g),a.deleteBuffer(c),a.bindBuffer(a.COPY_READ_BUFFER,null),a.bindBuffer(a.COPY_WRITE_BUFFER,null),g.buffer}_createBuffer(e,t,a,r){const s=e.createBuffer();return e.bindBuffer(t,s),e.bufferData(t,a,r),e.bindBuffer(t,null),s}}let vd,Oo;class oF{constructor(e){this.backend=e,this.gl=this.backend.gl,this.enabled={},this.currentFlipSided=null,this.currentCullFace=null,this.currentProgram=null,this.currentBlendingEnabled=!1,this.currentBlending=null,this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentPremultipledAlpha=null,this.currentPolygonOffsetFactor=null,this.currentPolygonOffsetUnits=null,this.currentColorMask=null,this.currentDepthFunc=null,this.currentDepthMask=null,this.currentStencilFunc=null,this.currentStencilRef=null,this.currentStencilFuncMask=null,this.currentStencilFail=null,this.currentStencilZFail=null,this.currentStencilZPass=null,this.currentStencilMask=null,this.currentLineWidth=null,this.currentClippingPlanes=0,this.currentVAO=null,this.currentIndex=null,this.currentBoundFramebuffers={},this.currentDrawbuffers=new WeakMap,this.maxTextures=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),this.currentTextureSlot=null,this.currentBoundTextures={},this.currentBoundBufferBases={},this._init()}_init(){const e=this.gl;vd={[Ar]:e.FUNC_ADD,[p8]:e.FUNC_SUBTRACT,[h8]:e.FUNC_REVERSE_SUBTRACT},Oo={[Fr]:e.ZERO,[x8]:e.ONE,[S8]:e.SRC_COLOR,[w8]:e.SRC_ALPHA,[_8]:e.SRC_ALPHA_SATURATE,[y8]:e.DST_COLOR,[m8]:e.DST_ALPHA,[v8]:e.ONE_MINUS_SRC_COLOR,[f8]:e.ONE_MINUS_SRC_ALPHA,[D8]:e.ONE_MINUS_DST_COLOR,[g8]:e.ONE_MINUS_DST_ALPHA};const t=e.getParameter(e.SCISSOR_BOX),a=e.getParameter(e.VIEWPORT);this.currentScissor=new Ut().fromArray(t),this.currentViewport=new Ut().fromArray(a),this._tempVec4=new Ut}enable(e){const{enabled:t}=this;t[e]!==!0&&(this.gl.enable(e),t[e]=!0)}disable(e){const{enabled:t}=this;t[e]!==!1&&(this.gl.disable(e),t[e]=!1)}setFlipSided(e){if(this.currentFlipSided!==e){const{gl:t}=this;e?t.frontFace(t.CW):t.frontFace(t.CCW),this.currentFlipSided=e}}setCullFace(e){const{gl:t}=this;e!==F_?(this.enable(t.CULL_FACE),e!==this.currentCullFace&&(e===O_?t.cullFace(t.BACK):e===U_?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):this.disable(t.CULL_FACE),this.currentCullFace=e}setLineWidth(e){const{currentLineWidth:t,gl:a}=this;e!==t&&(a.lineWidth(e),this.currentLineWidth=e)}setBlending(e,t,a,r,s,o,d,c){const{gl:g}=this;if(e===hi){this.currentBlendingEnabled===!0&&(this.disable(g.BLEND),this.currentBlendingEnabled=!1);return}if(this.currentBlendingEnabled===!1&&(this.enable(g.BLEND),this.currentBlendingEnabled=!0),e!==Xo){if(e!==this.currentBlending||c!==this.currentPremultipledAlpha){if((this.currentBlendEquation!==Ar||this.currentBlendEquationAlpha!==Ar)&&(g.blendEquation(g.FUNC_ADD),this.currentBlendEquation=Ar,this.currentBlendEquationAlpha=Ar),c)switch(e){case Qr:g.blendFuncSeparate(g.ONE,g.ONE_MINUS_SRC_ALPHA,g.ONE,g.ONE_MINUS_SRC_ALPHA);break;case wl:g.blendFunc(g.ONE,g.ONE);break;case _l:g.blendFuncSeparate(g.ZERO,g.ONE_MINUS_SRC_COLOR,g.ZERO,g.ONE);break;case yl:g.blendFuncSeparate(g.ZERO,g.SRC_COLOR,g.ZERO,g.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}else switch(e){case Qr:g.blendFuncSeparate(g.SRC_ALPHA,g.ONE_MINUS_SRC_ALPHA,g.ONE,g.ONE_MINUS_SRC_ALPHA);break;case wl:g.blendFunc(g.SRC_ALPHA,g.ONE);break;case _l:g.blendFuncSeparate(g.ZERO,g.ONE_MINUS_SRC_COLOR,g.ZERO,g.ONE);break;case yl:g.blendFunc(g.ZERO,g.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentBlending=e,this.currentPremultipledAlpha=c}return}s=s||t,o=o||a,d=d||r,(t!==this.currentBlendEquation||s!==this.currentBlendEquationAlpha)&&(g.blendEquationSeparate(vd[t],vd[s]),this.currentBlendEquation=t,this.currentBlendEquationAlpha=s),(a!==this.currentBlendSrc||r!==this.currentBlendDst||o!==this.currentBlendSrcAlpha||d!==this.currentBlendDstAlpha)&&(g.blendFuncSeparate(Oo[a],Oo[r],Oo[o],Oo[d]),this.currentBlendSrc=a,this.currentBlendDst=r,this.currentBlendSrcAlpha=o,this.currentBlendDstAlpha=d),this.currentBlending=e,this.currentPremultipledAlpha=!1}setColorMask(e){this.currentColorMask!==e&&(this.gl.colorMask(e,e,e,e),this.currentColorMask=e)}setDepthTest(e){const{gl:t}=this;e?this.enable(t.DEPTH_TEST):this.disable(t.DEPTH_TEST)}setDepthMask(e){this.currentDepthMask!==e&&(this.gl.depthMask(e),this.currentDepthMask=e)}setDepthFunc(e){if(this.currentDepthFunc!==e){const{gl:t}=this;switch(e){case M8:t.depthFunc(t.NEVER);break;case R8:t.depthFunc(t.ALWAYS);break;case N8:t.depthFunc(t.LESS);break;case k8:t.depthFunc(t.LEQUAL);break;case E8:t.depthFunc(t.EQUAL);break;case I8:t.depthFunc(t.GEQUAL);break;case T8:t.depthFunc(t.GREATER);break;case b8:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}this.currentDepthFunc=e}}scissor(e,t,a,r){const s=this._tempVec4.set(e,t,a,r);if(this.currentScissor.equals(s)===!1){const{gl:o}=this;o.scissor(s.x,s.y,s.z,s.w),this.currentScissor.copy(s)}}viewport(e,t,a,r){const s=this._tempVec4.set(e,t,a,r);if(this.currentViewport.equals(s)===!1){const{gl:o}=this;o.viewport(s.x,s.y,s.z,s.w),this.currentViewport.copy(s)}}setScissorTest(e){const t=this.gl;e?t.enable(t.SCISSOR_TEST):t.disable(t.SCISSOR_TEST)}setStencilTest(e){const{gl:t}=this;e?this.enable(t.STENCIL_TEST):this.disable(t.STENCIL_TEST)}setStencilMask(e){this.currentStencilMask!==e&&(this.gl.stencilMask(e),this.currentStencilMask=e)}setStencilFunc(e,t,a){(this.currentStencilFunc!==e||this.currentStencilRef!==t||this.currentStencilFuncMask!==a)&&(this.gl.stencilFunc(e,t,a),this.currentStencilFunc=e,this.currentStencilRef=t,this.currentStencilFuncMask=a)}setStencilOp(e,t,a){(this.currentStencilFail!==e||this.currentStencilZFail!==t||this.currentStencilZPass!==a)&&(this.gl.stencilOp(e,t,a),this.currentStencilFail=e,this.currentStencilZFail=t,this.currentStencilZPass=a)}setMaterial(e,t,a){const{gl:r}=this;e.side===f0?this.disable(r.CULL_FACE):this.enable(r.CULL_FACE);let s=e.side===_n;t&&(s=!s),this.setFlipSided(s),e.blending===Qr&&e.transparent===!1?this.setBlending(hi):this.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),this.setDepthFunc(e.depthFunc),this.setDepthTest(e.depthTest),this.setDepthMask(e.depthWrite),this.setColorMask(e.colorWrite);const o=e.stencilWrite;if(this.setStencilTest(o),o&&(this.setStencilMask(e.stencilWriteMask),this.setStencilFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),this.setStencilOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),this.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),e.alphaToCoverage===!0&&this.backend.renderer.samples>1?this.enable(r.SAMPLE_ALPHA_TO_COVERAGE):this.disable(r.SAMPLE_ALPHA_TO_COVERAGE),a>0&&this.currentClippingPlanes!==a)for(let c=0;c<8;c++)c<a?this.enable(12288+c):this.disable(12288+c)}setPolygonOffset(e,t,a){const{gl:r}=this;e?(this.enable(r.POLYGON_OFFSET_FILL),(this.currentPolygonOffsetFactor!==t||this.currentPolygonOffsetUnits!==a)&&(r.polygonOffset(t,a),this.currentPolygonOffsetFactor=t,this.currentPolygonOffsetUnits=a)):this.disable(r.POLYGON_OFFSET_FILL)}useProgram(e){return this.currentProgram!==e?(this.gl.useProgram(e),this.currentProgram=e,!0):!1}setVertexState(e,t=null){const a=this.gl;return this.currentVAO!==e||this.currentIndex!==t?(a.bindVertexArray(e),t!==null&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,t),this.currentVAO=e,this.currentIndex=t,!0):!1}resetVertexState(){const e=this.gl;e.bindVertexArray(null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),this.currentVAO=null,this.currentIndex=null}bindFramebuffer(e,t){const{gl:a,currentBoundFramebuffers:r}=this;return r[e]!==t?(a.bindFramebuffer(e,t),r[e]=t,e===a.DRAW_FRAMEBUFFER&&(r[a.FRAMEBUFFER]=t),e===a.FRAMEBUFFER&&(r[a.DRAW_FRAMEBUFFER]=t),!0):!1}drawBuffers(e,t){const{gl:a}=this;let r=[],s=!1;if(e.textures!==null){r=this.currentDrawbuffers.get(t),r===void 0&&(r=[],this.currentDrawbuffers.set(t,r));const o=e.textures;if(r.length!==o.length||r[0]!==a.COLOR_ATTACHMENT0){for(let d=0,c=o.length;d<c;d++)r[d]=a.COLOR_ATTACHMENT0+d;r.length=o.length,s=!0}}else r[0]!==a.BACK&&(r[0]=a.BACK,s=!0);s&&a.drawBuffers(r)}activeTexture(e){const{gl:t,currentTextureSlot:a,maxTextures:r}=this;e===void 0&&(e=t.TEXTURE0+r-1),a!==e&&(t.activeTexture(e),this.currentTextureSlot=e)}bindTexture(e,t,a){const{gl:r,currentTextureSlot:s,currentBoundTextures:o,maxTextures:d}=this;a===void 0&&(s===null?a=r.TEXTURE0+d-1:a=s);let c=o[a];c===void 0&&(c={type:void 0,texture:void 0},o[a]=c),(c.type!==e||c.texture!==t)&&(s!==a&&(r.activeTexture(a),this.currentTextureSlot=a),r.bindTexture(e,t),c.type=e,c.texture=t)}bindBufferBase(e,t,a){const{gl:r}=this,s=`${e}-${t}`;return this.currentBoundBufferBases[s]!==a?(r.bindBufferBase(e,t,a),this.currentBoundBufferBases[s]=a,!0):!1}unbindTexture(){const{gl:e,currentTextureSlot:t,currentBoundTextures:a}=this,r=a[t];r!==void 0&&r.type!==void 0&&(e.bindTexture(r.type,null),r.type=void 0,r.texture=void 0)}}class iF{constructor(e){this.backend=e,this.gl=this.backend.gl,this.extensions=e.extensions}convert(e,t=pi){const{gl:a,extensions:r}=this;let s;if(e===Bn)return a.UNSIGNED_BYTE;if(e===G_)return a.UNSIGNED_SHORT_4_4_4_4;if(e===V_)return a.UNSIGNED_SHORT_5_5_5_1;if(e===C8)return a.UNSIGNED_INT_5_9_9_9_REV;if(e===Ko)return a.BYTE;if(e===Zo)return a.SHORT;if(e===ks)return a.UNSIGNED_SHORT;if(e===ln)return a.INT;if(e===xa)return a.UNSIGNED_INT;if(e===$n)return a.FLOAT;if(e===Xn)return a.HALF_FLOAT;if(e===z_)return a.ALPHA;if(e===uh)return a.RGB;if(e===c0)return a.RGBA;if(e===W_)return a.LUMINANCE;if(e===H_)return a.LUMINANCE_ALPHA;if(e===Kr)return a.DEPTH_COMPONENT;if(e===Xr)return a.DEPTH_STENCIL;if(e===dh)return a.RED;if(e===ch)return a.RED_INTEGER;if(e===gi)return a.RG;if(e===hh)return a.RG_INTEGER;if(e===ph)return a.RGBA_INTEGER;if(e===ku||e===el||e===tl||e===al)if(t===ut)if(s=r.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(e===ku)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===el)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===tl)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===al)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=r.get("WEBGL_compressed_texture_s3tc"),s!==null){if(e===ku)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===el)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===tl)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===al)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(e===e5||e===t5||e===a5||e===n5)if(s=r.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(e===e5)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===t5)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===a5)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===n5)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(e===r5||e===Ld||e===qd)if(s=r.get("WEBGL_compressed_texture_etc"),s!==null){if(e===r5||e===Ld)return t===ut?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(e===qd)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(e===Fd||e===Od||e===Ud||e===Gd||e===Vd||e===zd||e===Wd||e===Hd||e===jd||e===$d||e===Qd||e===Yd||e===Xd||e===Kd)if(s=r.get("WEBGL_compressed_texture_astc"),s!==null){if(e===Fd)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===Od)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===Ud)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===Gd)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===Vd)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===zd)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===Wd)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===Hd)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===jd)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===$d)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===Qd)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===Yd)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===Xd)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===Kd)return t===ut?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(e===Nu)if(s=r.get("EXT_texture_compression_bptc"),s!==null){if(e===Nu)return t===ut?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(e===j_||e===s5||e===o5||e===i5)if(s=r.get("EXT_texture_compression_rgtc"),s!==null){if(e===Nu)return s.COMPRESSED_RED_RGTC1_EXT;if(e===s5)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(e===o5)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(e===i5)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return e===Yr?a.UNSIGNED_INT_24_8:a[e]!==void 0?a[e]:null}_clientWaitAsync(){const{gl:e}=this,t=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),new Promise((a,r)=>{function s(){const o=e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0);if(o===e.WAIT_FAILED){e.deleteSync(t),r();return}if(o===e.TIMEOUT_EXPIRED){requestAnimationFrame(s);return}e.deleteSync(t),a()}s()})}}let _g=!1,G2,md,wg;class lF{constructor(e){this.backend=e,this.gl=e.gl,this.extensions=e.extensions,this.defaultTextures={},_g===!1&&(this._init(),_g=!0)}_init(){const e=this.gl;G2={[pA]:e.REPEAT,[lh]:e.CLAMP_TO_EDGE,[hA]:e.MIRRORED_REPEAT},md={[u0]:e.NEAREST,[s8]:e.NEAREST_MIPMAP_NEAREST,[ci]:e.NEAREST_MIPMAP_LINEAR,[Dr]:e.LINEAR,[Bd]:e.LINEAR_MIPMAP_NEAREST,[B1]:e.LINEAR_MIPMAP_LINEAR},wg={[c8]:e.NEVER,[d8]:e.ALWAYS,[Ah]:e.LESS,[u8]:e.LEQUAL,[A8]:e.EQUAL,[l8]:e.GEQUAL,[i8]:e.GREATER,[o8]:e.NOTEQUAL}}getGLTextureType(e){const{gl:t}=this;let a;return e.isCubeTexture===!0?a=t.TEXTURE_CUBE_MAP:e.isDataArrayTexture===!0||e.isCompressedArrayTexture===!0?a=t.TEXTURE_2D_ARRAY:e.isData3DTexture===!0?a=t.TEXTURE_3D:a=t.TEXTURE_2D,a}getInternalFormat(e,t,a,r,s=!1){const{gl:o,extensions:d}=this;if(e!==null){if(o[e]!==void 0)return o[e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+e+"'")}let c=t;return t===o.RED&&(a===o.FLOAT&&(c=o.R32F),a===o.HALF_FLOAT&&(c=o.R16F),a===o.UNSIGNED_BYTE&&(c=o.R8),a===o.UNSIGNED_SHORT&&(c=o.R16),a===o.UNSIGNED_INT&&(c=o.R32UI),a===o.BYTE&&(c=o.R8I),a===o.SHORT&&(c=o.R16I),a===o.INT&&(c=o.R32I)),t===o.RED_INTEGER&&(a===o.UNSIGNED_BYTE&&(c=o.R8UI),a===o.UNSIGNED_SHORT&&(c=o.R16UI),a===o.UNSIGNED_INT&&(c=o.R32UI),a===o.BYTE&&(c=o.R8I),a===o.SHORT&&(c=o.R16I),a===o.INT&&(c=o.R32I)),t===o.RG&&(a===o.FLOAT&&(c=o.RG32F),a===o.HALF_FLOAT&&(c=o.RG16F),a===o.UNSIGNED_BYTE&&(c=o.RG8),a===o.UNSIGNED_SHORT&&(c=o.RG16),a===o.UNSIGNED_INT&&(c=o.RG32UI),a===o.BYTE&&(c=o.RG8I),a===o.SHORT&&(c=o.RG16I),a===o.INT&&(c=o.RG32I)),t===o.RG_INTEGER&&(a===o.UNSIGNED_BYTE&&(c=o.RG8UI),a===o.UNSIGNED_SHORT&&(c=o.RG16UI),a===o.UNSIGNED_INT&&(c=o.RG32UI),a===o.BYTE&&(c=o.RG8I),a===o.SHORT&&(c=o.RG16I),a===o.INT&&(c=o.RG32I)),t===o.RGB&&(a===o.FLOAT&&(c=o.RGB32F),a===o.HALF_FLOAT&&(c=o.RGB16F),a===o.UNSIGNED_BYTE&&(c=o.RGB8),a===o.UNSIGNED_SHORT&&(c=o.RGB16),a===o.UNSIGNED_INT&&(c=o.RGB32UI),a===o.BYTE&&(c=o.RGB8I),a===o.SHORT&&(c=o.RGB16I),a===o.INT&&(c=o.RGB32I),a===o.UNSIGNED_BYTE&&(c=r===ut&&s===!1?o.SRGB8:o.RGB8),a===o.UNSIGNED_SHORT_5_6_5&&(c=o.RGB565),a===o.UNSIGNED_SHORT_5_5_5_1&&(c=o.RGB5_A1),a===o.UNSIGNED_SHORT_4_4_4_4&&(c=o.RGB4),a===o.UNSIGNED_INT_5_9_9_9_REV&&(c=o.RGB9_E5)),t===o.RGB_INTEGER&&(a===o.UNSIGNED_BYTE&&(c=o.RGB8UI),a===o.UNSIGNED_SHORT&&(c=o.RGB16UI),a===o.UNSIGNED_INT&&(c=o.RGB32UI),a===o.BYTE&&(c=o.RGB8I),a===o.SHORT&&(c=o.RGB16I),a===o.INT&&(c=o.RGB32I)),t===o.RGBA&&(a===o.FLOAT&&(c=o.RGBA32F),a===o.HALF_FLOAT&&(c=o.RGBA16F),a===o.UNSIGNED_BYTE&&(c=o.RGBA8),a===o.UNSIGNED_SHORT&&(c=o.RGBA16),a===o.UNSIGNED_INT&&(c=o.RGBA32UI),a===o.BYTE&&(c=o.RGBA8I),a===o.SHORT&&(c=o.RGBA16I),a===o.INT&&(c=o.RGBA32I),a===o.UNSIGNED_BYTE&&(c=r===ut&&s===!1?o.SRGB8_ALPHA8:o.RGBA8),a===o.UNSIGNED_SHORT_4_4_4_4&&(c=o.RGBA4),a===o.UNSIGNED_SHORT_5_5_5_1&&(c=o.RGB5_A1)),t===o.RGBA_INTEGER&&(a===o.UNSIGNED_BYTE&&(c=o.RGBA8UI),a===o.UNSIGNED_SHORT&&(c=o.RGBA16UI),a===o.UNSIGNED_INT&&(c=o.RGBA32UI),a===o.BYTE&&(c=o.RGBA8I),a===o.SHORT&&(c=o.RGBA16I),a===o.INT&&(c=o.RGBA32I)),t===o.DEPTH_COMPONENT&&(a===o.UNSIGNED_SHORT&&(c=o.DEPTH_COMPONENT16),a===o.UNSIGNED_INT&&(c=o.DEPTH_COMPONENT24),a===o.FLOAT&&(c=o.DEPTH_COMPONENT32F)),t===o.DEPTH_STENCIL&&a===o.UNSIGNED_INT_24_8&&(c=o.DEPTH24_STENCIL8),(c===o.R16F||c===o.R32F||c===o.RG16F||c===o.RG32F||c===o.RGBA16F||c===o.RGBA32F)&&d.get("EXT_color_buffer_float"),c}setTextureParameters(e,t){const{gl:a,extensions:r,backend:s}=this;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,t.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,t.unpackAlignment),a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.NONE),a.texParameteri(e,a.TEXTURE_WRAP_S,G2[t.wrapS]),a.texParameteri(e,a.TEXTURE_WRAP_T,G2[t.wrapT]),(e===a.TEXTURE_3D||e===a.TEXTURE_2D_ARRAY)&&a.texParameteri(e,a.TEXTURE_WRAP_R,G2[t.wrapR]),a.texParameteri(e,a.TEXTURE_MAG_FILTER,md[t.magFilter]);const o=t.mipmaps!==void 0&&t.mipmaps.length>0,d=t.minFilter===Dr&&o?B1:t.minFilter;if(a.texParameteri(e,a.TEXTURE_MIN_FILTER,md[d]),t.compareFunction&&(a.texParameteri(e,a.TEXTURE_COMPARE_MODE,a.COMPARE_REF_TO_TEXTURE),a.texParameteri(e,a.TEXTURE_COMPARE_FUNC,wg[t.compareFunction])),r.has("EXT_texture_filter_anisotropic")===!0){if(t.magFilter===u0||t.minFilter!==ci&&t.minFilter!==B1||t.type===$n&&r.has("OES_texture_float_linear")===!1)return;if(t.anisotropy>1){const c=r.get("EXT_texture_filter_anisotropic");a.texParameterf(e,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,s.getMaxAnisotropy()))}}}createDefaultTexture(e){const{gl:t,backend:a,defaultTextures:r}=this,s=this.getGLTextureType(e);let o=r[s];o===void 0&&(o=t.createTexture(),a.state.bindTexture(s,o),t.texParameteri(s,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(s,t.TEXTURE_MAG_FILTER,t.NEAREST),r[s]=o),a.set(e,{textureGPU:o,glTextureType:s,isDefault:!0})}createTexture(e,t){const{gl:a,backend:r}=this,{levels:s,width:o,height:d,depth:c}=t,g=r.utils.convert(e.format,e.colorSpace),D=r.utils.convert(e.type),m=this.getInternalFormat(e.internalFormat,g,D,e.colorSpace,e.isVideoTexture),_=a.createTexture(),w=this.getGLTextureType(e);r.state.bindTexture(w,_),this.setTextureParameters(w,e),e.isDataArrayTexture||e.isCompressedArrayTexture?a.texStorage3D(a.TEXTURE_2D_ARRAY,s,m,o,d,c):e.isData3DTexture?a.texStorage3D(a.TEXTURE_3D,s,m,o,d,c):e.isVideoTexture||a.texStorage2D(w,s,m,o,d),r.set(e,{textureGPU:_,glTextureType:w,glFormat:g,glType:D,glInternalFormat:m})}copyBufferToTexture(e,t){const{gl:a,backend:r}=this,{textureGPU:s,glTextureType:o,glFormat:d,glType:c}=r.get(t),{width:g,height:D}=t.source.data;a.bindBuffer(a.PIXEL_UNPACK_BUFFER,e),r.state.bindTexture(o,s),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),a.texSubImage2D(o,0,0,0,g,D,d,c,0),a.bindBuffer(a.PIXEL_UNPACK_BUFFER,null),r.state.unbindTexture()}updateTexture(e,t){const{gl:a}=this,{width:r,height:s}=t,{textureGPU:o,glTextureType:d,glFormat:c,glType:g,glInternalFormat:D}=this.backend.get(e);if(e.isRenderTargetTexture||o===void 0)return;const m=_=>_.isDataTexture?_.image.data:typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&_ instanceof ImageBitmap||_ instanceof OffscreenCanvas?_:_.data;if(this.backend.state.bindTexture(d,o),this.setTextureParameters(d,e),e.isCompressedTexture){const _=e.mipmaps,w=t.image;for(let x=0;x<_.length;x++){const T=_[x];e.isCompressedArrayTexture?e.format!==a.RGBA?c!==null?a.compressedTexSubImage3D(a.TEXTURE_2D_ARRAY,x,0,0,0,T.width,T.height,w.depth,c,T.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):a.texSubImage3D(a.TEXTURE_2D_ARRAY,x,0,0,0,T.width,T.height,w.depth,c,g,T.data):c!==null?a.compressedTexSubImage2D(a.TEXTURE_2D,x,0,0,T.width,T.height,c,T.data):console.warn("Unsupported compressed texture format")}}else if(e.isCubeTexture){const _=t.images;for(let w=0;w<6;w++){const x=m(_[w]);a.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+w,0,0,0,r,s,c,g,x)}}else if(e.isDataArrayTexture){const _=t.image;a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,0,_.width,_.height,_.depth,c,g,_.data)}else if(e.isData3DTexture){const _=t.image;a.texSubImage3D(a.TEXTURE_3D,0,0,0,0,_.width,_.height,_.depth,c,g,_.data)}else if(e.isVideoTexture)e.update(),a.texImage2D(d,0,D,c,g,t.image);else{const _=m(t.image);a.texSubImage2D(d,0,0,0,r,s,c,g,_)}}generateMipmaps(e){const{gl:t,backend:a}=this,{textureGPU:r,glTextureType:s}=a.get(e);a.state.bindTexture(s,r),t.generateMipmap(s)}deallocateRenderBuffers(e){const{gl:t,backend:a}=this;if(e){const r=a.get(e);if(r.renderBufferStorageSetup=void 0,r.framebuffers){for(const s in r.framebuffers)t.deleteFramebuffer(r.framebuffers[s]);delete r.framebuffers}if(r.depthRenderbuffer&&(t.deleteRenderbuffer(r.depthRenderbuffer),delete r.depthRenderbuffer),r.stencilRenderbuffer&&(t.deleteRenderbuffer(r.stencilRenderbuffer),delete r.stencilRenderbuffer),r.msaaFrameBuffer&&(t.deleteFramebuffer(r.msaaFrameBuffer),delete r.msaaFrameBuffer),r.msaaRenderbuffers){for(let s=0;s<r.msaaRenderbuffers.length;s++)t.deleteRenderbuffer(r.msaaRenderbuffers[s]);delete r.msaaRenderbuffers}}}destroyTexture(e){const{gl:t,backend:a}=this,{textureGPU:r,renderTarget:s}=a.get(e);this.deallocateRenderBuffers(s),t.deleteTexture(r),a.delete(e)}copyTextureToTexture(e,t,a=null,r=null,s=0,o=0){const{gl:d,backend:c}=this,{state:g}=this.backend,{textureGPU:D,glTextureType:m,glType:_,glFormat:w}=c.get(t);g.bindTexture(m,D);let x,T,I,N,R,M,B,F,L;const O=e.isCompressedTexture?e.mipmaps[o]:e.image;if(a!==null)x=a.max.x-a.min.x,T=a.max.y-a.min.y,I=a.isBox3?a.max.z-a.min.z:1,N=a.min.x,R=a.min.y,M=a.isBox3?a.min.z:0;else{const de=Math.pow(2,-s);x=Math.floor(O.width*de),T=Math.floor(O.height*de),e.isDataArrayTexture?I=O.depth:e.isData3DTexture?I=Math.floor(O.depth*de):I=1,N=0,R=0,M=0}r!==null?(B=r.x,F=r.y,L=r.z):(B=0,F=0,L=0),d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,t.flipY),d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),d.pixelStorei(d.UNPACK_ALIGNMENT,t.unpackAlignment);const G=d.getParameter(d.UNPACK_ROW_LENGTH),j=d.getParameter(d.UNPACK_IMAGE_HEIGHT),ne=d.getParameter(d.UNPACK_SKIP_PIXELS),Y=d.getParameter(d.UNPACK_SKIP_ROWS),Z=d.getParameter(d.UNPACK_SKIP_IMAGES);d.pixelStorei(d.UNPACK_ROW_LENGTH,O.width),d.pixelStorei(d.UNPACK_IMAGE_HEIGHT,O.height),d.pixelStorei(d.UNPACK_SKIP_PIXELS,N),d.pixelStorei(d.UNPACK_SKIP_ROWS,R),d.pixelStorei(d.UNPACK_SKIP_IMAGES,M);const re=t.isDataArrayTexture||t.isData3DTexture;if(e.isRenderTargetTexture||e.isDepthTexture){const de=c.get(e),te=c.get(t),$=c.get(de.renderTarget),X=c.get(te.renderTarget),ue=$.framebuffers[de.cacheKey],pe=X.framebuffers[te.cacheKey];g.bindFramebuffer(d.READ_FRAMEBUFFER,ue),g.bindFramebuffer(d.DRAW_FRAMEBUFFER,pe);let ge=d.COLOR_BUFFER_BIT;e.isDepthTexture&&(ge=d.DEPTH_BUFFER_BIT),d.blitFramebuffer(N,R,x,T,B,F,x,T,ge,d.NEAREST),g.bindFramebuffer(d.READ_FRAMEBUFFER,null),g.bindFramebuffer(d.DRAW_FRAMEBUFFER,null)}else re?e.isDataTexture||e.isData3DTexture?d.texSubImage3D(m,o,B,F,L,x,T,I,w,_,O.data):t.isCompressedArrayTexture?d.compressedTexSubImage3D(m,o,B,F,L,x,T,I,w,O.data):d.texSubImage3D(m,o,B,F,L,x,T,I,w,_,O):e.isDataTexture?d.texSubImage2D(m,o,B,F,x,T,w,_,O.data):e.isCompressedTexture?d.compressedTexSubImage2D(m,o,B,F,O.width,O.height,w,O.data):d.texSubImage2D(m,o,B,F,x,T,w,_,O);d.pixelStorei(d.UNPACK_ROW_LENGTH,G),d.pixelStorei(d.UNPACK_IMAGE_HEIGHT,j),d.pixelStorei(d.UNPACK_SKIP_PIXELS,ne),d.pixelStorei(d.UNPACK_SKIP_ROWS,Y),d.pixelStorei(d.UNPACK_SKIP_IMAGES,Z),o===0&&t.generateMipmaps&&d.generateMipmap(m),g.unbindTexture()}copyFramebufferToTexture(e,t,a){const{gl:r}=this,{state:s}=this.backend,{textureGPU:o}=this.backend.get(e),{x:d,y:c,z:g,w:D}=a,m=e.isDepthTexture===!0||t.renderTarget&&t.renderTarget.samples>0,_=t.renderTarget?t.renderTarget.height:this.backend.getDrawingBufferSize().y;if(m){const w=d!==0||c!==0;let x,T;if(e.isDepthTexture===!0?(x=r.DEPTH_BUFFER_BIT,T=r.DEPTH_ATTACHMENT,t.stencil&&(x|=r.STENCIL_BUFFER_BIT)):(x=r.COLOR_BUFFER_BIT,T=r.COLOR_ATTACHMENT0),w){const I=this.backend.get(t.renderTarget),N=I.framebuffers[t.getCacheKey()],R=I.msaaFrameBuffer;s.bindFramebuffer(r.DRAW_FRAMEBUFFER,N),s.bindFramebuffer(r.READ_FRAMEBUFFER,R);const M=_-c-D;r.blitFramebuffer(d,M,d+g,M+D,d,M,d+g,M+D,x,r.NEAREST),s.bindFramebuffer(r.READ_FRAMEBUFFER,N),s.bindTexture(r.TEXTURE_2D,o),r.copyTexSubImage2D(r.TEXTURE_2D,0,0,0,d,M,g,D),s.unbindTexture()}else{const I=r.createFramebuffer();s.bindFramebuffer(r.DRAW_FRAMEBUFFER,I),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,T,r.TEXTURE_2D,o,0),r.blitFramebuffer(0,0,g,D,0,0,g,D,x,r.NEAREST),r.deleteFramebuffer(I)}}else s.bindTexture(r.TEXTURE_2D,o),r.copyTexSubImage2D(r.TEXTURE_2D,0,0,0,d,_-D-c,g,D),s.unbindTexture();e.generateMipmaps&&this.generateMipmaps(e),this.backend._setFramebuffer(t)}setupRenderBufferStorage(e,t,a,r=!1){const{gl:s}=this,o=t.renderTarget,{depthTexture:d,depthBuffer:c,stencilBuffer:g,width:D,height:m}=o;if(s.bindRenderbuffer(s.RENDERBUFFER,e),c&&!g){let _=s.DEPTH_COMPONENT24;r===!0?this.extensions.get("WEBGL_multisampled_render_to_texture").renderbufferStorageMultisampleEXT(s.RENDERBUFFER,o.samples,_,D,m):a>0?(d&&d.isDepthTexture&&d.type===s.FLOAT&&(_=s.DEPTH_COMPONENT32F),s.renderbufferStorageMultisample(s.RENDERBUFFER,a,_,D,m)):s.renderbufferStorage(s.RENDERBUFFER,_,D,m),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.RENDERBUFFER,e)}else c&&g&&(a>0?s.renderbufferStorageMultisample(s.RENDERBUFFER,a,s.DEPTH24_STENCIL8,D,m):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,D,m),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,e))}async copyTextureToBuffer(e,t,a,r,s,o){const{backend:d,gl:c}=this,{textureGPU:g,glFormat:D,glType:m}=this.backend.get(e),_=c.createFramebuffer();c.bindFramebuffer(c.READ_FRAMEBUFFER,_);const w=e.isCubeTexture?c.TEXTURE_CUBE_MAP_POSITIVE_X+o:c.TEXTURE_2D;c.framebufferTexture2D(c.READ_FRAMEBUFFER,c.COLOR_ATTACHMENT0,w,g,0);const x=this._getTypedArrayType(m),T=this._getBytesPerTexel(m,D),N=r*s*T,R=c.createBuffer();c.bindBuffer(c.PIXEL_PACK_BUFFER,R),c.bufferData(c.PIXEL_PACK_BUFFER,N,c.STREAM_READ),c.readPixels(t,a,r,s,D,m,0),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),await d.utils._clientWaitAsync();const M=new x(N/x.BYTES_PER_ELEMENT);return c.bindBuffer(c.PIXEL_PACK_BUFFER,R),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,M),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),c.deleteFramebuffer(_),M}_getTypedArrayType(e){const{gl:t}=this;if(e===t.UNSIGNED_BYTE)return Uint8Array;if(e===t.UNSIGNED_SHORT_4_4_4_4||e===t.UNSIGNED_SHORT_5_5_5_1||e===t.UNSIGNED_SHORT_5_6_5||e===t.UNSIGNED_SHORT)return Uint16Array;if(e===t.UNSIGNED_INT)return Uint32Array;if(e===t.HALF_FLOAT)return Uint16Array;if(e===t.FLOAT)return Float32Array;throw new Error(`Unsupported WebGL type: ${e}`)}_getBytesPerTexel(e,t){const{gl:a}=this;let r=0;if(e===a.UNSIGNED_BYTE&&(r=1),(e===a.UNSIGNED_SHORT_4_4_4_4||e===a.UNSIGNED_SHORT_5_5_5_1||e===a.UNSIGNED_SHORT_5_6_5||e===a.UNSIGNED_SHORT||e===a.HALF_FLOAT)&&(r=2),(e===a.UNSIGNED_INT||e===a.FLOAT)&&(r=4),t===a.RGBA)return r*4;if(t===a.RGB)return r*3;if(t===a.ALPHA)return r}}class AF{constructor(e){this.backend=e,this.gl=this.backend.gl,this.availableExtensions=this.gl.getSupportedExtensions(),this.extensions={}}get(e){let t=this.extensions[e];return t===void 0&&(t=this.gl.getExtension(e),this.extensions[e]=t),t}has(e){return this.availableExtensions.includes(e)}}class uF{constructor(e){this.backend=e,this.maxAnisotropy=null}getMaxAnisotropy(){if(this.maxAnisotropy!==null)return this.maxAnisotropy;const e=this.backend.gl,t=this.backend.extensions;if(t.has("EXT_texture_filter_anisotropic")===!0){const a=t.get("EXT_texture_filter_anisotropic");this.maxAnisotropy=e.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else this.maxAnisotropy=0;return this.maxAnisotropy}}const Sg={WEBGL_multi_draw:"WEBGL_multi_draw",WEBGL_compressed_texture_astc:"texture-compression-astc",WEBGL_compressed_texture_etc:"texture-compression-etc2",WEBGL_compressed_texture_etc1:"texture-compression-etc1",WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBKIT_WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBGL_compressed_texture_s3tc:"texture-compression-bc",EXT_texture_compression_bptc:"texture-compression-bptc",EXT_disjoint_timer_query_webgl2:"timestamp-query"};class dF{constructor(e){this.gl=e.gl,this.extensions=e.extensions,this.info=e.renderer.info,this.mode=null,this.index=0,this.type=null,this.object=null}render(e,t){const{gl:a,mode:r,object:s,type:o,info:d,index:c}=this;c!==0?a.drawElements(r,t,o,e):a.drawArrays(r,e,t),d.update(s,t,1)}renderInstances(e,t,a){const{gl:r,mode:s,type:o,index:d,object:c,info:g}=this;a!==0&&(d!==0?r.drawElementsInstanced(s,t,o,e,a):r.drawArraysInstanced(s,e,t,a),g.update(c,t,a))}renderMultiDraw(e,t,a){const{extensions:r,mode:s,object:o,info:d}=this;if(a===0)return;const c=r.get("WEBGL_multi_draw");if(c===null)for(let g=0;g<a;g++)this.render(e[g],t[g]);else{this.index!==0?c.multiDrawElementsWEBGL(s,t,0,this.type,e,0,a):c.multiDrawArraysWEBGL(s,e,0,t,0,a);let g=0;for(let D=0;D<a;D++)g+=t[D];d.update(o,g,1)}}renderMultiDrawInstances(e,t,a,r){const{extensions:s,mode:o,object:d,info:c}=this;if(a===0)return;const g=s.get("WEBGL_multi_draw");if(g===null)for(let D=0;D<a;D++)this.renderInstances(e[D],t[D],r[D]);else{this.index!==0?g.multiDrawElementsInstancedWEBGL(o,t,0,this.type,e,0,r,0,a):g.multiDrawArraysInstancedWEBGL(o,e,0,t,0,r,0,a);let D=0;for(let m=0;m<a;m++)D+=t[m]*r[m];c.update(d,D,1)}}}class Pv{constructor(e=256){this.trackTimestamp=!0,this.maxQueries=e,this.currentQueryIndex=0,this.queryOffsets=new Map,this.isDisposed=!1,this.lastValue=0,this.pendingResolve=!1}allocateQueriesForContext(){}async resolveQueriesAsync(){}dispose(){}}class cF extends Pv{constructor(e,t,a=2048){if(super(a),this.gl=e,this.type=t,this.ext=e.getExtension("EXT_disjoint_timer_query_webgl2")||e.getExtension("EXT_disjoint_timer_query"),!this.ext){console.warn("EXT_disjoint_timer_query not supported; timestamps will be disabled."),this.trackTimestamp=!1;return}this.queries=[];for(let r=0;r<this.maxQueries;r++)this.queries.push(e.createQuery());this.activeQuery=null,this.queryStates=new Map}allocateQueriesForContext(e){if(!this.trackTimestamp)return null;if(this.currentQueryIndex+2>this.maxQueries)return V1(`WebGPUTimestampQueryPool [${this.type}]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.${this.type.toUpperCase()} ).`),null;const t=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryStates.set(t,"inactive"),this.queryOffsets.set(e.id,t),t}beginQuery(e){if(!this.trackTimestamp||this.isDisposed)return;const t=this.queryOffsets.get(e.id);if(t==null||this.activeQuery!==null)return;const a=this.queries[t];if(a)try{this.queryStates.get(t)==="inactive"&&(this.gl.beginQuery(this.ext.TIME_ELAPSED_EXT,a),this.activeQuery=t,this.queryStates.set(t,"started"))}catch(r){console.error("Error in beginQuery:",r),this.activeQuery=null,this.queryStates.set(t,"inactive")}}endQuery(e){if(!this.trackTimestamp||this.isDisposed)return;const t=this.queryOffsets.get(e.id);if(t!=null&&this.activeQuery===t)try{this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.queryStates.set(t,"ended"),this.activeQuery=null}catch(a){console.error("Error in endQuery:",a),this.queryStates.set(t,"inactive"),this.activeQuery=null}}async resolveQueriesAsync(){if(!this.trackTimestamp||this.pendingResolve)return this.lastValue;this.pendingResolve=!0;try{const e=[];for(const[r,s]of this.queryStates)if(s==="ended"){const o=this.queries[r];e.push(this.resolveQuery(o))}if(e.length===0)return this.lastValue;const a=(await Promise.all(e)).reduce((r,s)=>r+s,0);return this.lastValue=a,this.currentQueryIndex=0,this.queryOffsets.clear(),this.queryStates.clear(),this.activeQuery=null,a}catch(e){return console.error("Error resolving queries:",e),this.lastValue}finally{this.pendingResolve=!1}}async resolveQuery(e){return new Promise(t=>{if(this.isDisposed){t(this.lastValue);return}let a,r=!1;const s=()=>{a&&(clearTimeout(a),a=null)},o=c=>{r||(r=!0,s(),t(c))},d=()=>{if(this.isDisposed){o(this.lastValue);return}try{if(this.gl.getParameter(this.ext.GPU_DISJOINT_EXT)){o(this.lastValue);return}if(!this.gl.getQueryParameter(e,this.gl.QUERY_RESULT_AVAILABLE)){a=setTimeout(d,1);return}const D=this.gl.getQueryParameter(e,this.gl.QUERY_RESULT);t(Number(D)/1e6)}catch(c){console.error("Error checking query:",c),t(this.lastValue)}};d()})}dispose(){if(!this.isDisposed&&(this.isDisposed=!0,!!this.trackTimestamp)){for(const e of this.queries)this.gl.deleteQuery(e);this.queries=[],this.queryStates.clear(),this.queryOffsets.clear(),this.lastValue=0,this.activeQuery=null}}}class xg extends Cv{constructor(e={}){super(e),this.isWebGLBackend=!0,this.attributeUtils=null,this.extensions=null,this.capabilities=null,this.textureUtils=null,this.bufferRenderer=null,this.gl=null,this.state=null,this.utils=null,this.vaoCache={},this.transformFeedbackCache={},this.discard=!1,this.disjoint=null,this.parallel=null,this._currentContext=null,this._knownBindings=new WeakSet,this._supportsInvalidateFramebuffer=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),this._xrFramebuffer=null}init(e){super.init(e);const t=this.parameters,a={antialias:e.samples>0,alpha:!0,depth:e.depth,stencil:e.stencil},r=t.context!==void 0?t.context:e.domElement.getContext("webgl2",a);function s(o){o.preventDefault();const d={api:"WebGL",message:o.statusMessage||"Unknown reason",reason:null,originalEvent:o};e.onDeviceLost(d)}this._onContextLost=s,e.domElement.addEventListener("webglcontextlost",s,!1),this.gl=r,this.extensions=new AF(this),this.capabilities=new uF(this),this.attributeUtils=new sF(this),this.textureUtils=new lF(this),this.bufferRenderer=new dF(this),this.state=new oF(this),this.utils=new iF(this),this.extensions.get("EXT_color_buffer_float"),this.extensions.get("WEBGL_clip_cull_distance"),this.extensions.get("OES_texture_float_linear"),this.extensions.get("EXT_color_buffer_half_float"),this.extensions.get("WEBGL_multisampled_render_to_texture"),this.extensions.get("WEBGL_render_shared_exponent"),this.extensions.get("WEBGL_multi_draw"),this.disjoint=this.extensions.get("EXT_disjoint_timer_query_webgl2"),this.parallel=this.extensions.get("KHR_parallel_shader_compile")}get coordinateSystem(){return Ai}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}async waitForGPU(){await this.utils._clientWaitAsync()}async makeXRCompatible(){this.gl.getContextAttributes().xrCompatible!==!0&&await this.gl.makeXRCompatible()}setXRTarget(e){this._xrFramebuffer=e}setXRRenderTargetTextures(e,t,a=null){const r=this.gl;if(this.set(e.texture,{textureGPU:t,glInternalFormat:r.RGBA8}),a!==null){const s=e.stencilBuffer?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24;this.set(e.depthTexture,{textureGPU:a,glInternalFormat:s}),this.extensions.has("WEBGL_multisampled_render_to_texture")===!0&&e.autoAllocateDepthBuffer&&console.warn("THREE.WebGLBackend: Render-to-texture extension was disabled because an external texture was provided"),e.autoAllocateDepthBuffer=!1}}initTimestampQuery(e){if(!this.disjoint||!this.trackTimestamp)return;const t=e.isComputeNode?"compute":"render";this.timestampQueryPool[t]||(this.timestampQueryPool[t]=new cF(this.gl,t,2048));const a=this.timestampQueryPool[t];a.allocateQueriesForContext(e)!==null&&a.beginQuery(e)}prepareTimestampBuffer(e){if(!this.disjoint||!this.trackTimestamp)return;const t=e.isComputeNode?"compute":"render";this.timestampQueryPool[t].endQuery(e)}getContext(){return this.gl}beginRender(e){const{state:t,gl:a}=this,r=this.get(e);if(e.viewport?this.updateViewport(e):t.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight),e.scissor){const{x:o,y:d,width:c,height:g}=e.scissorValue;t.scissor(o,e.height-g-d,c,g)}this.initTimestampQuery(e),r.previousContext=this._currentContext,this._currentContext=e,this._setFramebuffer(e),this.clear(e.clearColor,e.clearDepth,e.clearStencil,e,!1);const s=e.occlusionQueryCount;s>0&&(r.currentOcclusionQueries=r.occlusionQueries,r.currentOcclusionQueryObjects=r.occlusionQueryObjects,r.lastOcclusionObject=null,r.occlusionQueries=new Array(s),r.occlusionQueryObjects=new Array(s),r.occlusionQueryIndex=0)}finishRender(e){const{gl:t,state:a}=this,r=this.get(e),s=r.previousContext;a.resetVertexState();const o=e.occlusionQueryCount;o>0&&(o>r.occlusionQueryIndex&&t.endQuery(t.ANY_SAMPLES_PASSED),this.resolveOccludedAsync(e));const d=e.textures;if(d!==null)for(let c=0;c<d.length;c++){const g=d[c];g.generateMipmaps&&this.generateMipmaps(g)}if(this._currentContext=s,e.textures!==null&&e.renderTarget){const c=this.get(e.renderTarget),{samples:g}=e.renderTarget;if(g>0&&this._useMultisampledRTT(e.renderTarget)===!1){const D=c.framebuffers[e.getCacheKey()],m=t.COLOR_BUFFER_BIT,_=c.msaaFrameBuffer,w=e.textures;a.bindFramebuffer(t.READ_FRAMEBUFFER,_),a.bindFramebuffer(t.DRAW_FRAMEBUFFER,D);for(let x=0;x<w.length;x++)if(e.scissor){const{x:T,y:I,width:N,height:R}=e.scissorValue,M=e.height-R-I;t.blitFramebuffer(T,M,T+N,M+R,T,M,T+N,M+R,m,t.NEAREST),this._supportsInvalidateFramebuffer===!0&&t.invalidateSubFramebuffer(t.READ_FRAMEBUFFER,c.invalidationArray,T,M,N,R)}else t.blitFramebuffer(0,0,e.width,e.height,0,0,e.width,e.height,m,t.NEAREST),this._supportsInvalidateFramebuffer===!0&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,c.invalidationArray)}}s!==null&&(this._setFramebuffer(s),s.viewport?this.updateViewport(s):a.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)),this.prepareTimestampBuffer(e)}resolveOccludedAsync(e){const t=this.get(e),{currentOcclusionQueries:a,currentOcclusionQueryObjects:r}=t;if(a&&r){const s=new WeakSet,{gl:o}=this;t.currentOcclusionQueryObjects=null,t.currentOcclusionQueries=null;const d=()=>{let c=0;for(let g=0;g<a.length;g++){const D=a[g];D!==null&&o.getQueryParameter(D,o.QUERY_RESULT_AVAILABLE)&&(o.getQueryParameter(D,o.QUERY_RESULT)===0&&s.add(r[g]),a[g]=null,o.deleteQuery(D),c++)}c<a.length?requestAnimationFrame(d):t.occluded=s};d()}}isOccluded(e,t){const a=this.get(e);return a.occluded&&a.occluded.has(t)}updateViewport(e){const{state:t}=this,{x:a,y:r,width:s,height:o}=e.viewportValue;t.viewport(a,e.height-o-r,s,o)}setScissorTest(e){this.state.setScissorTest(e)}getClearColor(){const e=super.getClearColor();return e.r*=e.a,e.g*=e.a,e.b*=e.a,e}clear(e,t,a,r=null,s=!0){const{gl:o,renderer:d}=this;r===null&&(r={textures:null,clearColorValue:this.getClearColor()});let c=0;if(e&&(c|=o.COLOR_BUFFER_BIT),t&&(c|=o.DEPTH_BUFFER_BIT),a&&(c|=o.STENCIL_BUFFER_BIT),c!==0){let g;r.clearColorValue?g=r.clearColorValue:g=this.getClearColor();const D=d.getClearDepth(),m=d.getClearStencil();if(t&&this.state.setDepthMask(!0),r.textures===null)o.clearColor(g.r,g.g,g.b,g.a),o.clear(c);else{if(s&&this._setFramebuffer(r),e)for(let _=0;_<r.textures.length;_++)_===0?o.clearBufferfv(o.COLOR,_,[g.r,g.g,g.b,g.a]):o.clearBufferfv(o.COLOR,_,[0,0,0,1]);t&&a?o.clearBufferfi(o.DEPTH_STENCIL,0,D,m):t?o.clearBufferfv(o.DEPTH,0,[D]):a&&o.clearBufferiv(o.STENCIL,0,[m])}}}beginCompute(e){const{state:t,gl:a}=this;t.bindFramebuffer(a.FRAMEBUFFER,null),this.initTimestampQuery(e)}compute(e,t,a,r){const{state:s,gl:o}=this;this.discard===!1&&(o.enable(o.RASTERIZER_DISCARD),this.discard=!0);const{programGPU:d,transformBuffers:c,attributes:g}=this.get(r),D=this._getVaoKey(g),m=this.vaoCache[D];m===void 0?this._createVao(g):s.setVertexState(m),s.useProgram(d),this._bindUniforms(a);const _=this._getTransformFeedback(c);o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,_),o.beginTransformFeedback(o.POINTS),g[0].isStorageInstancedBufferAttribute?o.drawArraysInstanced(o.POINTS,0,1,t.count):o.drawArrays(o.POINTS,0,t.count),o.endTransformFeedback(),o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,null);for(let w=0;w<c.length;w++){const x=c[w];x.pbo&&this.textureUtils.copyBufferToTexture(x.transformBuffer,x.pbo),x.switchBuffers()}}finishCompute(e){const t=this.gl;this.discard=!1,t.disable(t.RASTERIZER_DISCARD),this.prepareTimestampBuffer(e),this._currentContext&&this._setFramebuffer(this._currentContext)}draw(e){const{object:t,pipeline:a,material:r,context:s,hardwareClippingPlanes:o}=e,{programGPU:d}=this.get(a),{gl:c,state:g}=this,D=this.get(s),m=e.getDrawParameters();if(m===null)return;this._bindUniforms(e.getBindings());const _=t.isMesh&&t.matrixWorld.determinant()<0;g.setMaterial(r,_,o),g.useProgram(d);const w=this.get(e);let x=w.staticVao;if(x===void 0||w.geometryId!==e.geometry.id){const O=this._getVaoKey(e.getAttributes());if(x=this.vaoCache[O],x===void 0){let G;({vaoGPU:x,staticVao:G}=this._createVao(e.getAttributes())),G&&(w.staticVao=x,w.geometryId=e.geometry.id)}}const T=e.getIndex(),I=T!==null?this.get(T).bufferGPU:null;g.setVertexState(x,I);const N=D.lastOcclusionObject;if(N!==t&&N!==void 0){if(N!==null&&N.occlusionTest===!0&&(c.endQuery(c.ANY_SAMPLES_PASSED),D.occlusionQueryIndex++),t.occlusionTest===!0){const O=c.createQuery();c.beginQuery(c.ANY_SAMPLES_PASSED,O),D.occlusionQueries[D.occlusionQueryIndex]=O,D.occlusionQueryObjects[D.occlusionQueryIndex]=t}D.lastOcclusionObject=t}const R=this.bufferRenderer;t.isPoints?R.mode=c.POINTS:t.isLineSegments?R.mode=c.LINES:t.isLine?R.mode=c.LINE_STRIP:t.isLineLoop?R.mode=c.LINE_LOOP:r.wireframe===!0?(g.setLineWidth(r.wireframeLinewidth*this.renderer.getPixelRatio()),R.mode=c.LINES):R.mode=c.TRIANGLES;const{vertexCount:M,instanceCount:B}=m;let{firstVertex:F}=m;if(R.object=t,T!==null){F*=T.array.BYTES_PER_ELEMENT;const O=this.get(T);R.index=T.count,R.type=O.type}else R.index=0;const L=()=>{t.isBatchedMesh?t._multiDrawInstances!==null?(V1("THREE.WebGLBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),R.renderMultiDrawInstances(t._multiDrawStarts,t._multiDrawCounts,t._multiDrawCount,t._multiDrawInstances)):this.hasFeature("WEBGL_multi_draw")?R.renderMultiDraw(t._multiDrawStarts,t._multiDrawCounts,t._multiDrawCount):V1("THREE.WebGLRenderer: WEBGL_multi_draw not supported."):B>1?R.renderInstances(F,M,B):R.render(F,M)};if(e.camera.isArrayCamera&&e.camera.cameras.length>0){const O=this.get(e.camera),G=e.camera.cameras,j=e.getBindingGroup("cameraIndex").bindings[0];if(O.indexesGPU===void 0||O.indexesGPU.length!==G.length){const Z=new Uint32Array([0,0,0,0]),re=[];for(let de=0,te=G.length;de<te;de++){const $=c.createBuffer();Z[0]=de,c.bindBuffer(c.UNIFORM_BUFFER,$),c.bufferData(c.UNIFORM_BUFFER,Z,c.STATIC_DRAW),re.push($)}O.indexesGPU=re}const ne=this.get(j),Y=this.renderer.getPixelRatio();for(let Z=0,re=G.length;Z<re;Z++){const de=G[Z];if(t.layers.test(de.layers)){const te=de.viewport,$=te.x*Y,X=te.y*Y,ue=te.width*Y,pe=te.height*Y;g.viewport(Math.floor($),Math.floor(e.context.height-pe-X),Math.floor(ue),Math.floor(pe)),g.bindBufferBase(c.UNIFORM_BUFFER,ne.index,O.indexesGPU[Z]),L()}}}else L()}needsRenderUpdate(){return!1}getRenderCacheKey(){return""}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,t){this.textureUtils.createTexture(e,t)}updateTexture(e,t){this.textureUtils.updateTexture(e,t)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e){this.textureUtils.destroyTexture(e)}async copyTextureToBuffer(e,t,a,r,s,o){return this.textureUtils.copyTextureToBuffer(e,t,a,r,s,o)}createSampler(){}destroySampler(){}createNodeBuilder(e,t){return new aF(e,t)}createProgram(e){const t=this.gl,{stage:a,code:r}=e,s=a==="fragment"?t.createShader(t.FRAGMENT_SHADER):t.createShader(t.VERTEX_SHADER);t.shaderSource(s,r),t.compileShader(s),this.set(e,{shaderGPU:s})}destroyProgram(e){this.delete(e)}createRenderPipeline(e,t){const a=this.gl,r=e.pipeline,{fragmentProgram:s,vertexProgram:o}=r,d=a.createProgram(),c=this.get(s).shaderGPU,g=this.get(o).shaderGPU;if(a.attachShader(d,c),a.attachShader(d,g),a.linkProgram(d),this.set(r,{programGPU:d,fragmentShader:c,vertexShader:g}),t!==null&&this.parallel){const D=new Promise(m=>{const _=this.parallel,w=()=>{a.getProgramParameter(d,_.COMPLETION_STATUS_KHR)?(this._completeCompile(e,r),m()):requestAnimationFrame(w)};w()});t.push(D);return}this._completeCompile(e,r)}_handleSource(e,t){const a=e.split(`
`),r=[],s=Math.max(t-6,0),o=Math.min(t+6,a.length);for(let d=s;d<o;d++){const c=d+1;r.push(`${c===t?">":" "} ${c}: ${a[d]}`)}return r.join(`
`)}_getShaderErrors(e,t,a){const r=e.getShaderParameter(t,e.COMPILE_STATUS),s=e.getShaderInfoLog(t).trim();if(r&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const d=parseInt(o[1]);return a.toUpperCase()+`

`+s+`

`+this._handleSource(e.getShaderSource(t),d)}else return s}_logProgramError(e,t,a){if(this.renderer.debug.checkShaderErrors){const r=this.gl,s=r.getProgramInfoLog(e).trim();if(r.getProgramParameter(e,r.LINK_STATUS)===!1)if(typeof this.renderer.debug.onShaderError=="function")this.renderer.debug.onShaderError(r,e,a,t);else{const o=this._getShaderErrors(r,a,"vertex"),d=this._getShaderErrors(r,t,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(e,r.VALIDATE_STATUS)+`

Program Info Log: `+s+`
`+o+`
`+d)}else s!==""&&console.warn("THREE.WebGLProgram: Program Info Log:",s)}}_completeCompile(e,t){const{state:a,gl:r}=this,s=this.get(t),{programGPU:o,fragmentShader:d,vertexShader:c}=s;r.getProgramParameter(o,r.LINK_STATUS)===!1&&this._logProgramError(o,d,c),a.useProgram(o);const g=e.getBindings();this._setupBindings(g,o),this.set(t,{programGPU:o})}createComputePipeline(e,t){const{state:a,gl:r}=this,s={stage:"fragment",code:`#version 300 es
precision highp float;
void main() {}`};this.createProgram(s);const{computeProgram:o}=e,d=r.createProgram(),c=this.get(s).shaderGPU,g=this.get(o).shaderGPU,D=o.transforms,m=[],_=[];for(let I=0;I<D.length;I++){const N=D[I];m.push(N.varyingName),_.push(N.attributeNode)}r.attachShader(d,c),r.attachShader(d,g),r.transformFeedbackVaryings(d,m,r.SEPARATE_ATTRIBS),r.linkProgram(d),r.getProgramParameter(d,r.LINK_STATUS)===!1&&this._logProgramError(d,c,g),a.useProgram(d),this._setupBindings(t,d);const w=o.attributes,x=[],T=[];for(let I=0;I<w.length;I++){const N=w[I].node.attribute;x.push(N),this.has(N)||this.attributeUtils.createAttribute(N,r.ARRAY_BUFFER)}for(let I=0;I<_.length;I++){const N=_[I].attribute;this.has(N)||this.attributeUtils.createAttribute(N,r.ARRAY_BUFFER);const R=this.get(N);T.push(R)}this.set(e,{programGPU:d,transformBuffers:T,attributes:x})}createBindings(e,t){if(this._knownBindings.has(t)===!1){this._knownBindings.add(t);let a=0,r=0;for(const s of t){this.set(s,{textures:r,uniformBuffers:a});for(const o of s.bindings)o.isUniformBuffer&&a++,o.isSampledTexture&&r++}}this.updateBindings(e,t)}updateBindings(e){const{gl:t}=this,a=this.get(e);let r=a.uniformBuffers,s=a.textures;for(const o of e.bindings)if(o.isUniformsGroup||o.isUniformBuffer){const d=o.buffer,c=t.createBuffer();t.bindBuffer(t.UNIFORM_BUFFER,c),t.bufferData(t.UNIFORM_BUFFER,d,t.DYNAMIC_DRAW),this.set(o,{index:r++,bufferGPU:c})}else if(o.isSampledTexture){const{textureGPU:d,glTextureType:c}=this.get(o.texture);this.set(o,{index:s++,textureGPU:d,glTextureType:c})}}updateBinding(e){const t=this.gl;if(e.isUniformsGroup||e.isUniformBuffer){const r=this.get(e).bufferGPU,s=e.buffer;t.bindBuffer(t.UNIFORM_BUFFER,r),t.bufferData(t.UNIFORM_BUFFER,s,t.DYNAMIC_DRAW)}}createIndexAttribute(e){const t=this.gl;this.attributeUtils.createAttribute(e,t.ELEMENT_ARRAY_BUFFER)}createAttribute(e){if(this.has(e))return;const t=this.gl;this.attributeUtils.createAttribute(e,t.ARRAY_BUFFER)}createStorageAttribute(e){if(this.has(e))return;const t=this.gl;this.attributeUtils.createAttribute(e,t.ARRAY_BUFFER)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}hasFeature(e){const t=Object.keys(Sg).filter(r=>Sg[r]===e),a=this.extensions;for(let r=0;r<t.length;r++)if(a.has(t[r]))return!0;return!1}getMaxAnisotropy(){return this.capabilities.getMaxAnisotropy()}copyTextureToTexture(e,t,a=null,r=null,s=0,o=0){this.textureUtils.copyTextureToTexture(e,t,a,r,s,o)}copyFramebufferToTexture(e,t,a){this.textureUtils.copyFramebufferToTexture(e,t,a)}_setFramebuffer(e){const{gl:t,state:a}=this;let r=null;if(e.textures!==null){const s=e.renderTarget,o=this.get(s),{samples:d,depthBuffer:c,stencilBuffer:g}=s,D=s.isWebGLCubeRenderTarget===!0,m=s.isRenderTarget3D===!0,_=s.isRenderTargetArray===!0,w=s.isXRRenderTarget===!0,x=w===!0&&s.hasExternalTextures===!0;let T=o.msaaFrameBuffer,I=o.depthRenderbuffer;const N=this.extensions.get("WEBGL_multisampled_render_to_texture"),R=this._useMultisampledRTT(s),M=T7(e);let B;if(D?(o.cubeFramebuffers||(o.cubeFramebuffers={}),B=o.cubeFramebuffers[M]):w&&x===!1?B=this._xrFramebuffer:(o.framebuffers||(o.framebuffers={}),B=o.framebuffers[M]),B===void 0){B=t.createFramebuffer(),a.bindFramebuffer(t.FRAMEBUFFER,B);const F=e.textures;if(D){o.cubeFramebuffers[M]=B;const{textureGPU:L}=this.get(F[0]),O=this.renderer._activeCubeFace;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+O,L,0)}else{o.framebuffers[M]=B;for(let L=0;L<F.length;L++){const O=F[L],G=this.get(O);G.renderTarget=e.renderTarget,G.cacheKey=M;const j=t.COLOR_ATTACHMENT0+L;if(m||_){const ne=this.renderer._activeCubeFace;t.framebufferTextureLayer(t.FRAMEBUFFER,j,G.textureGPU,0,ne)}else x&&R?N.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,j,t.TEXTURE_2D,G.textureGPU,0,d):t.framebufferTexture2D(t.FRAMEBUFFER,j,t.TEXTURE_2D,G.textureGPU,0)}a.drawBuffers(e,B)}if(s.isXRRenderTarget&&s.autoAllocateDepthBuffer===!0){const L=t.createRenderbuffer();this.textureUtils.setupRenderBufferStorage(L,e,0,R),o.xrDepthRenderbuffer=L}else if(e.depthTexture!==null){const L=this.get(e.depthTexture),O=g?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;L.renderTarget=e.renderTarget,L.cacheKey=M,x&&R?N.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,O,t.TEXTURE_2D,L.textureGPU,0,d):t.framebufferTexture2D(t.FRAMEBUFFER,O,t.TEXTURE_2D,L.textureGPU,0)}}else if(w&&x){a.bindFramebuffer(t.FRAMEBUFFER,B);const F=this.get(e.textures[0]);R?N.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,F.textureGPU,0,d):t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,F.textureGPU,0);const L=g?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(s.autoAllocateDepthBuffer===!0){const O=o.xrDepthRenderbuffer;t.bindRenderbuffer(t.RENDERBUFFER,O),t.framebufferRenderbuffer(t.FRAMEBUFFER,L,t.RENDERBUFFER,O)}else{const O=this.get(e.depthTexture);R?N.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,L,t.TEXTURE_2D,O.textureGPU,0,d):t.framebufferTexture2D(t.FRAMEBUFFER,L,t.TEXTURE_2D,O.textureGPU,0)}}if(d>0&&R===!1){if(T===void 0){const F=[];T=t.createFramebuffer(),a.bindFramebuffer(t.FRAMEBUFFER,T);const L=[],O=e.textures;for(let G=0;G<O.length;G++){if(L[G]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,L[G]),F.push(t.COLOR_ATTACHMENT0+G),c){const Y=g?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;F.push(Y)}const j=e.textures[G],ne=this.get(j);t.renderbufferStorageMultisample(t.RENDERBUFFER,d,ne.glInternalFormat,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+G,t.RENDERBUFFER,L[G])}if(o.msaaFrameBuffer=T,o.msaaRenderbuffers=L,I===void 0){I=t.createRenderbuffer(),this.textureUtils.setupRenderBufferStorage(I,e,d),o.depthRenderbuffer=I;const G=g?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;F.push(G)}o.invalidationArray=F}r=o.msaaFrameBuffer}else r=B}a.bindFramebuffer(t.FRAMEBUFFER,r)}_getVaoKey(e){let t="";for(let a=0;a<e.length;a++){const r=this.get(e[a]);t+=":"+r.id}return t}_createVao(e){const{gl:t}=this,a=t.createVertexArray();let r="",s=!0;t.bindVertexArray(a);for(let o=0;o<e.length;o++){const d=e[o],c=this.get(d);r+=":"+c.id,t.bindBuffer(t.ARRAY_BUFFER,c.bufferGPU),t.enableVertexAttribArray(o),(d.isStorageBufferAttribute||d.isStorageInstancedBufferAttribute)&&(s=!1);let g,D;d.isInterleavedBufferAttribute===!0?(g=d.data.stride*c.bytesPerElement,D=d.offset*c.bytesPerElement):(g=0,D=0),c.isInteger?t.vertexAttribIPointer(o,d.itemSize,c.type,g,D):t.vertexAttribPointer(o,d.itemSize,c.type,d.normalized,g,D),d.isInstancedBufferAttribute&&!d.isInterleavedBufferAttribute?t.vertexAttribDivisor(o,d.meshPerAttribute):d.isInterleavedBufferAttribute&&d.data.isInstancedInterleavedBuffer&&t.vertexAttribDivisor(o,d.data.meshPerAttribute)}return t.bindBuffer(t.ARRAY_BUFFER,null),this.vaoCache[r]=a,{vaoGPU:a,staticVao:s}}_getTransformFeedback(e){let t="";for(let s=0;s<e.length;s++)t+=":"+e[s].id;let a=this.transformFeedbackCache[t];if(a!==void 0)return a;const{gl:r}=this;a=r.createTransformFeedback(),r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,a);for(let s=0;s<e.length;s++){const o=e[s];r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,s,o.transformBuffer)}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),this.transformFeedbackCache[t]=a,a}_setupBindings(e,t){const a=this.gl;for(const r of e)for(const s of r.bindings){const d=this.get(s).index;if(s.isUniformsGroup||s.isUniformBuffer){const c=a.getUniformBlockIndex(t,s.name);a.uniformBlockBinding(t,c,d)}else if(s.isSampledTexture){const c=a.getUniformLocation(t,s.name);a.uniform1i(c,d)}}}_bindUniforms(e){const{gl:t,state:a}=this;for(const r of e)for(const s of r.bindings){const o=this.get(s),d=o.index;s.isUniformsGroup||s.isUniformBuffer?a.bindBufferBase(t.UNIFORM_BUFFER,d,o.bufferGPU):s.isSampledTexture&&a.bindTexture(o.glTextureType,o.textureGPU,t.TEXTURE0+d)}}_useMultisampledRTT(e){return e.samples>0&&this.extensions.has("WEBGL_multisampled_render_to_texture")===!0&&e.autoAllocateDepthBuffer!==!1}dispose(){const e=this.extensions.get("WEBGL_lose_context");e&&e.loseContext(),this.renderer.domElement.removeEventListener("webglcontextlost",this._onContextLost)}}const qs={PointList:"point-list",LineList:"line-list",LineStrip:"line-strip",TriangleList:"triangle-list",TriangleStrip:"triangle-strip"},qa={Never:"never",Less:"less",Equal:"equal",LessEqual:"less-equal",Greater:"greater",NotEqual:"not-equal",GreaterEqual:"greater-equal",Always:"always"},Ca={Store:"store"},Xt={Load:"load",Clear:"clear"},yd={CCW:"ccw"},_d={None:"none",Front:"front",Back:"back"},ro={Uint16:"uint16",Uint32:"uint32"},ee={R8Unorm:"r8unorm",R8Snorm:"r8snorm",R8Uint:"r8uint",R8Sint:"r8sint",R16Uint:"r16uint",R16Sint:"r16sint",R16Float:"r16float",RG8Unorm:"rg8unorm",RG8Snorm:"rg8snorm",RG8Uint:"rg8uint",RG8Sint:"rg8sint",R32Uint:"r32uint",R32Sint:"r32sint",R32Float:"r32float",RG16Uint:"rg16uint",RG16Sint:"rg16sint",RG16Float:"rg16float",RGBA8Unorm:"rgba8unorm",RGBA8UnormSRGB:"rgba8unorm-srgb",RGBA8Snorm:"rgba8snorm",RGBA8Uint:"rgba8uint",RGBA8Sint:"rgba8sint",BGRA8Unorm:"bgra8unorm",BGRA8UnormSRGB:"bgra8unorm-srgb",RGB9E5UFloat:"rgb9e5ufloat",RGB10A2Unorm:"rgb10a2unorm",RG11B10UFloat:"rgb10a2unorm",RG32Uint:"rg32uint",RG32Sint:"rg32sint",RG32Float:"rg32float",RGBA16Uint:"rgba16uint",RGBA16Sint:"rgba16sint",RGBA16Float:"rgba16float",RGBA32Uint:"rgba32uint",RGBA32Sint:"rgba32sint",RGBA32Float:"rgba32float",Depth16Unorm:"depth16unorm",Depth24Plus:"depth24plus",Depth24PlusStencil8:"depth24plus-stencil8",Depth32Float:"depth32float",Depth32FloatStencil8:"depth32float-stencil8",BC1RGBAUnorm:"bc1-rgba-unorm",BC1RGBAUnormSRGB:"bc1-rgba-unorm-srgb",BC2RGBAUnorm:"bc2-rgba-unorm",BC2RGBAUnormSRGB:"bc2-rgba-unorm-srgb",BC3RGBAUnorm:"bc3-rgba-unorm",BC3RGBAUnormSRGB:"bc3-rgba-unorm-srgb",BC4RUnorm:"bc4-r-unorm",BC4RSnorm:"bc4-r-snorm",BC5RGUnorm:"bc5-rg-unorm",BC5RGSnorm:"bc5-rg-snorm",BC6HRGBUFloat:"bc6h-rgb-ufloat",BC6HRGBFloat:"bc6h-rgb-float",BC7RGBAUnorm:"bc7-rgba-unorm",BC7RGBAUnormSRGB:"bc7-rgba-srgb",ETC2RGB8Unorm:"etc2-rgb8unorm",ETC2RGB8UnormSRGB:"etc2-rgb8unorm-srgb",ETC2RGB8A1Unorm:"etc2-rgb8a1unorm",ETC2RGB8A1UnormSRGB:"etc2-rgb8a1unorm-srgb",ETC2RGBA8Unorm:"etc2-rgba8unorm",ETC2RGBA8UnormSRGB:"etc2-rgba8unorm-srgb",EACR11Unorm:"eac-r11unorm",EACR11Snorm:"eac-r11snorm",EACRG11Unorm:"eac-rg11unorm",EACRG11Snorm:"eac-rg11snorm",ASTC4x4Unorm:"astc-4x4-unorm",ASTC4x4UnormSRGB:"astc-4x4-unorm-srgb",ASTC5x4Unorm:"astc-5x4-unorm",ASTC5x4UnormSRGB:"astc-5x4-unorm-srgb",ASTC5x5Unorm:"astc-5x5-unorm",ASTC5x5UnormSRGB:"astc-5x5-unorm-srgb",ASTC6x5Unorm:"astc-6x5-unorm",ASTC6x5UnormSRGB:"astc-6x5-unorm-srgb",ASTC6x6Unorm:"astc-6x6-unorm",ASTC6x6UnormSRGB:"astc-6x6-unorm-srgb",ASTC8x5Unorm:"astc-8x5-unorm",ASTC8x5UnormSRGB:"astc-8x5-unorm-srgb",ASTC8x6Unorm:"astc-8x6-unorm",ASTC8x6UnormSRGB:"astc-8x6-unorm-srgb",ASTC8x8Unorm:"astc-8x8-unorm",ASTC8x8UnormSRGB:"astc-8x8-unorm-srgb",ASTC10x5Unorm:"astc-10x5-unorm",ASTC10x5UnormSRGB:"astc-10x5-unorm-srgb",ASTC10x6Unorm:"astc-10x6-unorm",ASTC10x6UnormSRGB:"astc-10x6-unorm-srgb",ASTC10x8Unorm:"astc-10x8-unorm",ASTC10x8UnormSRGB:"astc-10x8-unorm-srgb",ASTC10x10Unorm:"astc-10x10-unorm",ASTC10x10UnormSRGB:"astc-10x10-unorm-srgb",ASTC12x10Unorm:"astc-12x10-unorm",ASTC12x10UnormSRGB:"astc-12x10-unorm-srgb",ASTC12x12Unorm:"astc-12x12-unorm",ASTC12x12UnormSRGB:"astc-12x12-unorm-srgb"},wd={ClampToEdge:"clamp-to-edge",Repeat:"repeat",MirrorRepeat:"mirror-repeat"},E1={Linear:"linear",Nearest:"nearest"},At={Zero:"zero",One:"one",Src:"src",OneMinusSrc:"one-minus-src",SrcAlpha:"src-alpha",OneMinusSrcAlpha:"one-minus-src-alpha",Dst:"dst",OneMinusDstColor:"one-minus-dst",DstAlpha:"dst-alpha",OneMinusDstAlpha:"one-minus-dst-alpha",SrcAlphaSaturated:"src-alpha-saturated",Constant:"constant",OneMinusConstant:"one-minus-constant"},S1={Add:"add",Subtract:"subtract",ReverseSubtract:"reverse-subtract",Min:"min",Max:"max"},bg={None:0,All:15},Br={Keep:"keep",Zero:"zero",Replace:"replace",Invert:"invert",IncrementClamp:"increment-clamp",DecrementClamp:"decrement-clamp",IncrementWrap:"increment-wrap",DecrementWrap:"decrement-wrap"},Sd={Storage:"storage",ReadOnlyStorage:"read-only-storage"},xd={WriteOnly:"write-only",ReadOnly:"read-only",ReadWrite:"read-write"},_s={Float:"float",UnfilterableFloat:"unfilterable-float",Depth:"depth",SInt:"sint",UInt:"uint"},Tg={TwoD:"2d",ThreeD:"3d"},Dn={TwoD:"2d",TwoDArray:"2d-array",Cube:"cube",ThreeD:"3d"},hF={All:"all"},V2={Vertex:"vertex",Instance:"instance"},Zc={DepthClipControl:"depth-clip-control",Depth32FloatStencil8:"depth32float-stencil8",TextureCompressionBC:"texture-compression-bc",TextureCompressionETC2:"texture-compression-etc2",TextureCompressionASTC:"texture-compression-astc",TimestampQuery:"timestamp-query",IndirectFirstInstance:"indirect-first-instance",ShaderF16:"shader-f16",RG11B10UFloat:"rg11b10ufloat-renderable",BGRA8UNormStorage:"bgra8unorm-storage",Float32Filterable:"float32-filterable",ClipDistances:"clip-distances",DualSourceBlending:"dual-source-blending",Subgroups:"subgroups"};class pF extends $p{constructor(e,t){super(e),this.texture=t,this.version=t?t.version:0,this.isSampler=!0}}class gF extends pF{constructor(e,t,a){super(e,t?t.value:null),this.textureNode=t,this.groupNode=a}update(){this.texture=this.textureNode.value}}class DF extends Iv{constructor(e,t){super(e,t?t.array:null),this.attribute=t,this.isStorageBuffer=!0}}let fF=0;class vF extends DF{constructor(e,t){super("StorageBuffer_"+fF++,e?e.value:null),this.nodeUniform=e,this.access=e?e.access:Ja.READ_WRITE,this.groupNode=t}get buffer(){return this.nodeUniform.value}}class mF extends i1{constructor(e){super(),this.device=e;const t=`
struct VarysStruct {
	@builtin( position ) Position: vec4<f32>,
	@location( 0 ) vTex : vec2<f32>
};

@vertex
fn main( @builtin( vertex_index ) vertexIndex : u32 ) -> VarysStruct {

	var Varys : VarysStruct;

	var pos = array< vec2<f32>, 4 >(
		vec2<f32>( -1.0,  1.0 ),
		vec2<f32>(  1.0,  1.0 ),
		vec2<f32>( -1.0, -1.0 ),
		vec2<f32>(  1.0, -1.0 )
	);

	var tex = array< vec2<f32>, 4 >(
		vec2<f32>( 0.0, 0.0 ),
		vec2<f32>( 1.0, 0.0 ),
		vec2<f32>( 0.0, 1.0 ),
		vec2<f32>( 1.0, 1.0 )
	);

	Varys.vTex = tex[ vertexIndex ];
	Varys.Position = vec4<f32>( pos[ vertexIndex ], 0.0, 1.0 );

	return Varys;

}
`,a=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vTex );

}
`,r=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vec2( vTex.x, 1.0 - vTex.y ) );

}
`;this.mipmapSampler=e.createSampler({minFilter:E1.Linear}),this.flipYSampler=e.createSampler({minFilter:E1.Nearest}),this.transferPipelines={},this.flipYPipelines={},this.mipmapVertexShaderModule=e.createShaderModule({label:"mipmapVertex",code:t}),this.mipmapFragmentShaderModule=e.createShaderModule({label:"mipmapFragment",code:a}),this.flipYFragmentShaderModule=e.createShaderModule({label:"flipYFragment",code:r})}getTransferPipeline(e){let t=this.transferPipelines[e];return t===void 0&&(t=this.device.createRenderPipeline({label:`mipmap-${e}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.mipmapFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:qs.TriangleStrip,stripIndexFormat:ro.Uint32},layout:"auto"}),this.transferPipelines[e]=t),t}getFlipYPipeline(e){let t=this.flipYPipelines[e];return t===void 0&&(t=this.device.createRenderPipeline({label:`flipY-${e}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.flipYFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:qs.TriangleStrip,stripIndexFormat:ro.Uint32},layout:"auto"}),this.flipYPipelines[e]=t),t}flipY(e,t,a=0){const r=t.format,{width:s,height:o}=t.size,d=this.getTransferPipeline(r),c=this.getFlipYPipeline(r),g=this.device.createTexture({size:{width:s,height:o,depthOrArrayLayers:1},format:r,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),D=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:Dn.TwoD,baseArrayLayer:a}),m=g.createView({baseMipLevel:0,mipLevelCount:1,dimension:Dn.TwoD,baseArrayLayer:0}),_=this.device.createCommandEncoder({}),w=(x,T,I)=>{const N=x.getBindGroupLayout(0),R=this.device.createBindGroup({layout:N,entries:[{binding:0,resource:this.flipYSampler},{binding:1,resource:T}]}),M=_.beginRenderPass({colorAttachments:[{view:I,loadOp:Xt.Clear,storeOp:Ca.Store,clearValue:[0,0,0,0]}]});M.setPipeline(x),M.setBindGroup(0,R),M.draw(4,1,0,0),M.end()};w(d,D,m),w(c,m,D),this.device.queue.submit([_.finish()]),g.destroy()}generateMipmaps(e,t,a=0){const r=this.get(e);r.useCount===void 0&&(r.useCount=0,r.layers=[]);const s=r.layers[a]||this._mipmapCreateBundles(e,t,a),o=this.device.createCommandEncoder({});this._mipmapRunBundles(o,s),this.device.queue.submit([o.finish()]),r.useCount!==0&&(r.layers[a]=s),r.useCount++}_mipmapCreateBundles(e,t,a){const r=this.getTransferPipeline(t.format),s=r.getBindGroupLayout(0);let o=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:Dn.TwoD,baseArrayLayer:a});const d=[];for(let c=1;c<t.mipLevelCount;c++){const g=this.device.createBindGroup({layout:s,entries:[{binding:0,resource:this.mipmapSampler},{binding:1,resource:o}]}),D=e.createView({baseMipLevel:c,mipLevelCount:1,dimension:Dn.TwoD,baseArrayLayer:a}),m={colorAttachments:[{view:D,loadOp:Xt.Clear,storeOp:Ca.Store,clearValue:[0,0,0,0]}]},_=this.device.createRenderBundleEncoder({colorFormats:[t.format]});_.setPipeline(r),_.setBindGroup(0,g),_.draw(4,1,0,0),d.push({renderBundles:[_.finish()],passDescriptor:m}),o=D}return d}_mipmapRunBundles(e,t){const a=t.length;for(let r=0;r<a;r++){const s=t[r],o=e.beginRenderPass(s.passDescriptor);o.executeBundles(s.renderBundles),o.end()}}}const yF={[c8]:"never",[Ah]:"less",[A8]:"equal",[u8]:"less-equal",[i8]:"greater",[l8]:"greater-equal",[d8]:"always",[o8]:"not-equal"},_F=[0,1,3,2,4,5];class wF{constructor(e){this.backend=e,this._passUtils=null,this.defaultTexture={},this.defaultCubeTexture={},this.defaultVideoFrame=null,this.colorBuffer=null,this.depthTexture=new v0,this.depthTexture.name="depthBuffer"}createSampler(e){const t=this.backend,a=t.device,r=t.get(e),s={addressModeU:this._convertAddressMode(e.wrapS),addressModeV:this._convertAddressMode(e.wrapT),addressModeW:this._convertAddressMode(e.wrapR),magFilter:this._convertFilterMode(e.magFilter),minFilter:this._convertFilterMode(e.minFilter),mipmapFilter:this._convertFilterMode(e.minFilter),maxAnisotropy:1};s.magFilter===E1.Linear&&s.minFilter===E1.Linear&&s.mipmapFilter===E1.Linear&&(s.maxAnisotropy=e.anisotropy),e.isDepthTexture&&e.compareFunction!==null&&(s.compare=yF[e.compareFunction]),r.sampler=a.createSampler(s)}createDefaultTexture(e){let t;const a=Jc(e);e.isCubeTexture?t=this._getDefaultCubeTextureGPU(a):e.isVideoTexture?this.backend.get(e).externalTexture=this._getDefaultVideoFrame():t=this._getDefaultTextureGPU(a),this.backend.get(e).texture=t}createTexture(e,t={}){const a=this.backend,r=a.get(e);if(r.initialized)throw new Error("WebGPUTextureUtils: Texture already initialized.");t.needsMipmaps===void 0&&(t.needsMipmaps=!1),t.levels===void 0&&(t.levels=1),t.depth===void 0&&(t.depth=1);const{width:s,height:o,depth:d,levels:c}=t;e.isFramebufferTexture&&(t.renderTarget?t.format=this.backend.utils.getCurrentColorFormat(t.renderTarget):t.format=this.backend.utils.getPreferredCanvasFormat());const g=this._getDimension(e),D=e.internalFormat||t.format||Jc(e,a.device);r.format=D;const{samples:m,primarySamples:_,isMSAA:w}=a.utils.getTextureSampleData(e);let x=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;e.isStorageTexture===!0&&(x|=GPUTextureUsage.STORAGE_BINDING),e.isCompressedTexture!==!0&&e.isCompressedArrayTexture!==!0&&(x|=GPUTextureUsage.RENDER_ATTACHMENT);const T={label:e.name,size:{width:s,height:o,depthOrArrayLayers:d},mipLevelCount:c,sampleCount:_,dimension:g,format:D,usage:x};if(e.isVideoTexture){const I=e.source.data,N=new VideoFrame(I);T.size.width=N.displayWidth,T.size.height=N.displayHeight,N.close(),r.externalTexture=I}else{if(D===void 0){console.warn("WebGPURenderer: Texture format not supported."),this.createDefaultTexture(e);return}r.texture=a.device.createTexture(T)}if(w){const I=Object.assign({},T);I.label=I.label+"-msaa",I.sampleCount=m,r.msaaTexture=a.device.createTexture(I)}r.initialized=!0,r.textureDescriptorGPU=T}destroyTexture(e){const t=this.backend,a=t.get(e);a.texture!==void 0&&a.texture.destroy(),a.msaaTexture!==void 0&&a.msaaTexture.destroy(),t.delete(e)}destroySampler(e){const a=this.backend.get(e);delete a.sampler}generateMipmaps(e){const t=this.backend.get(e);if(e.isCubeTexture)for(let a=0;a<6;a++)this._generateMipmaps(t.texture,t.textureDescriptorGPU,a);else{const a=e.image.depth||1;for(let r=0;r<a;r++)this._generateMipmaps(t.texture,t.textureDescriptorGPU,r)}}getColorBuffer(){this.colorBuffer&&this.colorBuffer.destroy();const e=this.backend,{width:t,height:a}=e.getDrawingBufferSize();return this.colorBuffer=e.device.createTexture({label:"colorBuffer",size:{width:t,height:a,depthOrArrayLayers:1},sampleCount:e.utils.getSampleCount(e.renderer.samples),format:e.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC}),this.colorBuffer}getDepthBuffer(e=!0,t=!1){const a=this.backend,{width:r,height:s}=a.getDrawingBufferSize(),o=this.depthTexture,d=a.get(o).texture;let c,g;if(t?(c=Xr,g=Yr):e&&(c=Kr,g=xa),d!==void 0){if(o.image.width===r&&o.image.height===s&&o.format===c&&o.type===g)return d;this.destroyTexture(o)}return o.name="depthBuffer",o.format=c,o.type=g,o.image.width=r,o.image.height=s,this.createTexture(o,{width:r,height:s}),a.get(o).texture}updateTexture(e,t){const a=this.backend.get(e),{textureDescriptorGPU:r}=a;if(!(e.isRenderTargetTexture||r===void 0)){if(e.isDataTexture)this._copyBufferToTexture(t.image,a.texture,r,0,e.flipY);else if(e.isDataArrayTexture||e.isData3DTexture)for(let s=0;s<t.image.depth;s++)this._copyBufferToTexture(t.image,a.texture,r,s,e.flipY,s);else if(e.isCompressedTexture||e.isCompressedArrayTexture)this._copyCompressedBufferToTexture(e.mipmaps,a.texture,r);else if(e.isCubeTexture)this._copyCubeMapToTexture(t.images,a.texture,r,e.flipY);else if(e.isVideoTexture){const s=e.source.data;a.externalTexture=s}else this._copyImageToTexture(t.image,a.texture,r,0,e.flipY);a.version=e.version,e.onUpdate&&e.onUpdate(e)}}async copyTextureToBuffer(e,t,a,r,s,o){const d=this.backend.device,c=this.backend.get(e),g=c.texture,D=c.textureDescriptorGPU.format,m=this._getBytesPerTexel(D);let _=r*m;_=Math.ceil(_/256)*256;const w=d.createBuffer({size:r*s*m,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),x=d.createCommandEncoder();x.copyTextureToBuffer({texture:g,origin:{x:t,y:a,z:o}},{buffer:w,bytesPerRow:_},{width:r,height:s});const T=this._getTypedArrayType(D);d.queue.submit([x.finish()]),await w.mapAsync(GPUMapMode.READ);const I=w.getMappedRange();return new T(I)}_isEnvironmentTexture(e){const t=e.mapping;return t===Fi||t===Oi||t===js||t===$s}_getDefaultTextureGPU(e){let t=this.defaultTexture[e];if(t===void 0){const a=new O8;a.minFilter=u0,a.magFilter=u0,this.createTexture(a,{width:1,height:1,format:e}),this.defaultTexture[e]=t=a}return this.backend.get(t).texture}_getDefaultCubeTextureGPU(e){let t=this.defaultTexture[e];if(t===void 0){const a=new U8;a.minFilter=u0,a.magFilter=u0,this.createTexture(a,{width:1,height:1,depth:6}),this.defaultCubeTexture[e]=t=a}return this.backend.get(t).texture}_getDefaultVideoFrame(){let e=this.defaultVideoFrame;if(e===null){const t={timestamp:0,codedWidth:1,codedHeight:1,format:"RGBA"};this.defaultVideoFrame=e=new VideoFrame(new Uint8Array([0,0,0,255]),t)}return e}_copyCubeMapToTexture(e,t,a,r){for(let s=0;s<6;s++){const o=e[s],d=r===!0?_F[s]:s;o.isDataTexture?this._copyBufferToTexture(o.image,t,a,d,r):this._copyImageToTexture(o,t,a,d,r)}}_copyImageToTexture(e,t,a,r,s){this.backend.device.queue.copyExternalImageToTexture({source:e,flipY:s},{texture:t,mipLevel:0,origin:{x:0,y:0,z:r}},{width:e.width,height:e.height,depthOrArrayLayers:1})}_getPassUtils(){let e=this._passUtils;return e===null&&(this._passUtils=e=new mF(this.backend.device)),e}_generateMipmaps(e,t,a=0){this._getPassUtils().generateMipmaps(e,t,a)}_flipY(e,t,a=0){this._getPassUtils().flipY(e,t,a)}_copyBufferToTexture(e,t,a,r,s,o=0){const d=this.backend.device,c=e.data,g=this._getBytesPerTexel(a.format),D=e.width*g;d.queue.writeTexture({texture:t,mipLevel:0,origin:{x:0,y:0,z:r}},c,{offset:e.width*e.height*g*o,bytesPerRow:D},{width:e.width,height:e.height,depthOrArrayLayers:1}),s===!0&&this._flipY(t,a,r)}_copyCompressedBufferToTexture(e,t,a){const r=this.backend.device,s=this._getBlockData(a.format),o=a.size.depthOrArrayLayers>1;for(let d=0;d<e.length;d++){const c=e[d],g=c.width,D=c.height,m=o?a.size.depthOrArrayLayers:1,_=Math.ceil(g/s.width)*s.byteLength,w=_*Math.ceil(D/s.height);for(let x=0;x<m;x++)r.queue.writeTexture({texture:t,mipLevel:d,origin:{x:0,y:0,z:x}},c.data,{offset:x*w,bytesPerRow:_,rowsPerImage:Math.ceil(D/s.height)},{width:Math.ceil(g/s.width)*s.width,height:Math.ceil(D/s.height)*s.height,depthOrArrayLayers:1})}}_getBlockData(e){if(e===ee.BC1RGBAUnorm||e===ee.BC1RGBAUnormSRGB)return{byteLength:8,width:4,height:4};if(e===ee.BC2RGBAUnorm||e===ee.BC2RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===ee.BC3RGBAUnorm||e===ee.BC3RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===ee.BC4RUnorm||e===ee.BC4RSnorm)return{byteLength:8,width:4,height:4};if(e===ee.BC5RGUnorm||e===ee.BC5RGSnorm)return{byteLength:16,width:4,height:4};if(e===ee.BC6HRGBUFloat||e===ee.BC6HRGBFloat)return{byteLength:16,width:4,height:4};if(e===ee.BC7RGBAUnorm||e===ee.BC7RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===ee.ETC2RGB8Unorm||e===ee.ETC2RGB8UnormSRGB)return{byteLength:8,width:4,height:4};if(e===ee.ETC2RGB8A1Unorm||e===ee.ETC2RGB8A1UnormSRGB)return{byteLength:8,width:4,height:4};if(e===ee.ETC2RGBA8Unorm||e===ee.ETC2RGBA8UnormSRGB)return{byteLength:16,width:4,height:4};if(e===ee.EACR11Unorm)return{byteLength:8,width:4,height:4};if(e===ee.EACR11Snorm)return{byteLength:8,width:4,height:4};if(e===ee.EACRG11Unorm)return{byteLength:16,width:4,height:4};if(e===ee.EACRG11Snorm)return{byteLength:16,width:4,height:4};if(e===ee.ASTC4x4Unorm||e===ee.ASTC4x4UnormSRGB)return{byteLength:16,width:4,height:4};if(e===ee.ASTC5x4Unorm||e===ee.ASTC5x4UnormSRGB)return{byteLength:16,width:5,height:4};if(e===ee.ASTC5x5Unorm||e===ee.ASTC5x5UnormSRGB)return{byteLength:16,width:5,height:5};if(e===ee.ASTC6x5Unorm||e===ee.ASTC6x5UnormSRGB)return{byteLength:16,width:6,height:5};if(e===ee.ASTC6x6Unorm||e===ee.ASTC6x6UnormSRGB)return{byteLength:16,width:6,height:6};if(e===ee.ASTC8x5Unorm||e===ee.ASTC8x5UnormSRGB)return{byteLength:16,width:8,height:5};if(e===ee.ASTC8x6Unorm||e===ee.ASTC8x6UnormSRGB)return{byteLength:16,width:8,height:6};if(e===ee.ASTC8x8Unorm||e===ee.ASTC8x8UnormSRGB)return{byteLength:16,width:8,height:8};if(e===ee.ASTC10x5Unorm||e===ee.ASTC10x5UnormSRGB)return{byteLength:16,width:10,height:5};if(e===ee.ASTC10x6Unorm||e===ee.ASTC10x6UnormSRGB)return{byteLength:16,width:10,height:6};if(e===ee.ASTC10x8Unorm||e===ee.ASTC10x8UnormSRGB)return{byteLength:16,width:10,height:8};if(e===ee.ASTC10x10Unorm||e===ee.ASTC10x10UnormSRGB)return{byteLength:16,width:10,height:10};if(e===ee.ASTC12x10Unorm||e===ee.ASTC12x10UnormSRGB)return{byteLength:16,width:12,height:10};if(e===ee.ASTC12x12Unorm||e===ee.ASTC12x12UnormSRGB)return{byteLength:16,width:12,height:12}}_convertAddressMode(e){let t=wd.ClampToEdge;return e===pA?t=wd.Repeat:e===hA&&(t=wd.MirrorRepeat),t}_convertFilterMode(e){let t=E1.Linear;return(e===u0||e===s8||e===ci)&&(t=E1.Nearest),t}_getBytesPerTexel(e){if(e===ee.R8Unorm||e===ee.R8Snorm||e===ee.R8Uint||e===ee.R8Sint)return 1;if(e===ee.R16Uint||e===ee.R16Sint||e===ee.R16Float||e===ee.RG8Unorm||e===ee.RG8Snorm||e===ee.RG8Uint||e===ee.RG8Sint)return 2;if(e===ee.R32Uint||e===ee.R32Sint||e===ee.R32Float||e===ee.RG16Uint||e===ee.RG16Sint||e===ee.RG16Float||e===ee.RGBA8Unorm||e===ee.RGBA8UnormSRGB||e===ee.RGBA8Snorm||e===ee.RGBA8Uint||e===ee.RGBA8Sint||e===ee.BGRA8Unorm||e===ee.BGRA8UnormSRGB||e===ee.RGB9E5UFloat||e===ee.RGB10A2Unorm||e===ee.RG11B10UFloat||e===ee.Depth32Float||e===ee.Depth24Plus||e===ee.Depth24PlusStencil8||e===ee.Depth32FloatStencil8)return 4;if(e===ee.RG32Uint||e===ee.RG32Sint||e===ee.RG32Float||e===ee.RGBA16Uint||e===ee.RGBA16Sint||e===ee.RGBA16Float)return 8;if(e===ee.RGBA32Uint||e===ee.RGBA32Sint||e===ee.RGBA32Float)return 16}_getTypedArrayType(e){if(e===ee.R8Uint)return Uint8Array;if(e===ee.R8Sint)return Int8Array;if(e===ee.R8Unorm)return Uint8Array;if(e===ee.R8Snorm)return Int8Array;if(e===ee.RG8Uint)return Uint8Array;if(e===ee.RG8Sint)return Int8Array;if(e===ee.RG8Unorm)return Uint8Array;if(e===ee.RG8Snorm)return Int8Array;if(e===ee.RGBA8Uint)return Uint8Array;if(e===ee.RGBA8Sint)return Int8Array;if(e===ee.RGBA8Unorm)return Uint8Array;if(e===ee.RGBA8Snorm)return Int8Array;if(e===ee.R16Uint)return Uint16Array;if(e===ee.R16Sint)return Int16Array;if(e===ee.RG16Uint)return Uint16Array;if(e===ee.RG16Sint)return Int16Array;if(e===ee.RGBA16Uint)return Uint16Array;if(e===ee.RGBA16Sint)return Int16Array;if(e===ee.R16Float||e===ee.RG16Float||e===ee.RGBA16Float)return Uint16Array;if(e===ee.R32Uint)return Uint32Array;if(e===ee.R32Sint)return Int32Array;if(e===ee.R32Float)return Float32Array;if(e===ee.RG32Uint)return Uint32Array;if(e===ee.RG32Sint)return Int32Array;if(e===ee.RG32Float)return Float32Array;if(e===ee.RGBA32Uint)return Uint32Array;if(e===ee.RGBA32Sint)return Int32Array;if(e===ee.RGBA32Float)return Float32Array;if(e===ee.BGRA8Unorm||e===ee.BGRA8UnormSRGB)return Uint8Array;if(e===ee.RGB10A2Unorm||e===ee.RGB9E5UFloat||e===ee.RG11B10UFloat)return Uint32Array;if(e===ee.Depth32Float)return Float32Array;if(e===ee.Depth24Plus||e===ee.Depth24PlusStencil8)return Uint32Array;if(e===ee.Depth32FloatStencil8)return Float32Array}_getDimension(e){let t;return e.isData3DTexture?t=Tg.ThreeD:t=Tg.TwoD,t}}function Jc(n,e=null){const t=n.format,a=n.type,r=n.colorSpace;let s;if(n.isCompressedTexture===!0||n.isCompressedArrayTexture===!0)switch(t){case el:s=r===ut?ee.BC1RGBAUnormSRGB:ee.BC1RGBAUnorm;break;case tl:s=r===ut?ee.BC2RGBAUnormSRGB:ee.BC2RGBAUnorm;break;case al:s=r===ut?ee.BC3RGBAUnormSRGB:ee.BC3RGBAUnorm;break;case Ld:s=r===ut?ee.ETC2RGB8UnormSRGB:ee.ETC2RGB8Unorm;break;case qd:s=r===ut?ee.ETC2RGBA8UnormSRGB:ee.ETC2RGBA8Unorm;break;case Fd:s=r===ut?ee.ASTC4x4UnormSRGB:ee.ASTC4x4Unorm;break;case Od:s=r===ut?ee.ASTC5x4UnormSRGB:ee.ASTC5x4Unorm;break;case Ud:s=r===ut?ee.ASTC5x5UnormSRGB:ee.ASTC5x5Unorm;break;case Gd:s=r===ut?ee.ASTC6x5UnormSRGB:ee.ASTC6x5Unorm;break;case Vd:s=r===ut?ee.ASTC6x6UnormSRGB:ee.ASTC6x6Unorm;break;case zd:s=r===ut?ee.ASTC8x5UnormSRGB:ee.ASTC8x5Unorm;break;case Wd:s=r===ut?ee.ASTC8x6UnormSRGB:ee.ASTC8x6Unorm;break;case Hd:s=r===ut?ee.ASTC8x8UnormSRGB:ee.ASTC8x8Unorm;break;case jd:s=r===ut?ee.ASTC10x5UnormSRGB:ee.ASTC10x5Unorm;break;case $d:s=r===ut?ee.ASTC10x6UnormSRGB:ee.ASTC10x6Unorm;break;case Qd:s=r===ut?ee.ASTC10x8UnormSRGB:ee.ASTC10x8Unorm;break;case Yd:s=r===ut?ee.ASTC10x10UnormSRGB:ee.ASTC10x10Unorm;break;case Xd:s=r===ut?ee.ASTC12x10UnormSRGB:ee.ASTC12x10Unorm;break;case Kd:s=r===ut?ee.ASTC12x12UnormSRGB:ee.ASTC12x12Unorm;break;case c0:s=r===ut?ee.RGBA8UnormSRGB:ee.RGBA8Unorm;break;default:console.error("WebGPURenderer: Unsupported texture format.",t)}else switch(t){case c0:switch(a){case Ko:s=ee.RGBA8Snorm;break;case Zo:s=ee.RGBA16Sint;break;case ks:s=ee.RGBA16Uint;break;case xa:s=ee.RGBA32Uint;break;case ln:s=ee.RGBA32Sint;break;case Bn:s=r===ut?ee.RGBA8UnormSRGB:ee.RGBA8Unorm;break;case Xn:s=ee.RGBA16Float;break;case $n:s=ee.RGBA32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAFormat.",a)}break;case uh:switch(a){case C8:s=ee.RGB9E5UFloat;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBFormat.",a)}break;case dh:switch(a){case Ko:s=ee.R8Snorm;break;case Zo:s=ee.R16Sint;break;case ks:s=ee.R16Uint;break;case xa:s=ee.R32Uint;break;case ln:s=ee.R32Sint;break;case Bn:s=ee.R8Unorm;break;case Xn:s=ee.R16Float;break;case $n:s=ee.R32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RedFormat.",a)}break;case gi:switch(a){case Ko:s=ee.RG8Snorm;break;case Zo:s=ee.RG16Sint;break;case ks:s=ee.RG16Uint;break;case xa:s=ee.RG32Uint;break;case ln:s=ee.RG32Sint;break;case Bn:s=ee.RG8Unorm;break;case Xn:s=ee.RG16Float;break;case $n:s=ee.RG32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGFormat.",a)}break;case Kr:switch(a){case ks:s=ee.Depth16Unorm;break;case xa:s=ee.Depth24Plus;break;case $n:s=ee.Depth32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthFormat.",a)}break;case Xr:switch(a){case Yr:s=ee.Depth24PlusStencil8;break;case $n:e&&e.features.has(Zc.Depth32FloatStencil8)===!1&&console.error('WebGPURenderer: Depth textures with DepthStencilFormat + FloatType can only be used with the "depth32float-stencil8" GPU feature.'),s=ee.Depth32FloatStencil8;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthStencilFormat.",a)}break;case ch:switch(a){case ln:s=ee.R32Sint;break;case xa:s=ee.R32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RedIntegerFormat.",a)}break;case hh:switch(a){case ln:s=ee.RG32Sint;break;case xa:s=ee.RG32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RGIntegerFormat.",a)}break;case ph:switch(a){case ln:s=ee.RGBA32Sint;break;case xa:s=ee.RGBA32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAIntegerFormat.",a)}break;default:console.error("WebGPURenderer: Unsupported texture format.",t)}return s}const SF=/^[fn]*\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)\s*[\-\>]*\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/i,xF=/([a-z_0-9]+)\s*:\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/ig,Ig={f32:"float",i32:"int",u32:"uint",bool:"bool","vec2<f32>":"vec2","vec2<i32>":"ivec2","vec2<u32>":"uvec2","vec2<bool>":"bvec2",vec2f:"vec2",vec2i:"ivec2",vec2u:"uvec2",vec2b:"bvec2","vec3<f32>":"vec3","vec3<i32>":"ivec3","vec3<u32>":"uvec3","vec3<bool>":"bvec3",vec3f:"vec3",vec3i:"ivec3",vec3u:"uvec3",vec3b:"bvec3","vec4<f32>":"vec4","vec4<i32>":"ivec4","vec4<u32>":"uvec4","vec4<bool>":"bvec4",vec4f:"vec4",vec4i:"ivec4",vec4u:"uvec4",vec4b:"bvec4","mat2x2<f32>":"mat2",mat2x2f:"mat2","mat3x3<f32>":"mat3",mat3x3f:"mat3","mat4x4<f32>":"mat4",mat4x4f:"mat4",sampler:"sampler",texture_1d:"texture",texture_2d:"texture",texture_2d_array:"texture",texture_multisampled_2d:"cubeTexture",texture_depth_2d:"depthTexture",texture_depth_multisampled_2d:"depthTexture",texture_3d:"texture3D",texture_cube:"cubeTexture",texture_cube_array:"cubeTexture",texture_storage_1d:"storageTexture",texture_storage_2d:"storageTexture",texture_storage_2d_array:"storageTexture",texture_storage_3d:"storageTexture"},bF=n=>{n=n.trim();const e=n.match(SF);if(e!==null&&e.length===4){const t=e[2],a=[];let r=null;for(;(r=xF.exec(t))!==null;)a.push({name:r[1],type:r[2]});const s=[];for(let D=0;D<a.length;D++){const{name:m,type:_}=a[D];let w=_;w.startsWith("ptr")?w="pointer":(w.startsWith("texture")&&(w=_.split("<")[0]),w=Ig[w]),s.push(new Hp(w,m))}const o=n.substring(e[0].length),d=e[3]||"void",c=e[1]!==void 0?e[1]:"";return{type:Ig[d]||d,inputs:s,name:c,inputsCode:t,blockCode:o,outputType:d}}else throw new Error("FunctionNode: Function is not a WGSL code.")};class TF extends jp{constructor(e){const{type:t,inputs:a,name:r,inputsCode:s,blockCode:o,outputType:d}=bF(e);super(t,a,r),this.inputsCode=s,this.blockCode=o,this.outputType=d}getCode(e=this.name){const t=this.outputType!=="void"?"-> "+this.outputType:"";return`fn ${e} ( ${this.inputsCode.trim()} ) ${t}`+this.blockCode}}class IF extends bv{parseFunction(e){return new TF(e)}}const ws=typeof self<"u"?self.GPUShaderStage:{VERTEX:1,FRAGMENT:2,COMPUTE:4},EF={[Ja.READ_ONLY]:"read",[Ja.WRITE_ONLY]:"write",[Ja.READ_WRITE]:"read_write"},Eg={[pA]:"repeat",[lh]:"clamp",[hA]:"mirror"},z2={vertex:ws?ws.VERTEX:1,fragment:ws?ws.FRAGMENT:2,compute:ws?ws.COMPUTE:4},kg={instance:!0,swizzleAssign:!1,storageBuffer:!0},kF={"^^":"tsl_xor"},NF={float:"f32",int:"i32",uint:"u32",bool:"bool",color:"vec3<f32>",vec2:"vec2<f32>",ivec2:"vec2<i32>",uvec2:"vec2<u32>",bvec2:"vec2<bool>",vec3:"vec3<f32>",ivec3:"vec3<i32>",uvec3:"vec3<u32>",bvec3:"vec3<bool>",vec4:"vec4<f32>",ivec4:"vec4<i32>",uvec4:"vec4<u32>",bvec4:"vec4<bool>",mat2:"mat2x2<f32>",mat3:"mat3x3<f32>",mat4:"mat4x4<f32>"},Ng={},jn={tsl_xor:new Sa("fn tsl_xor( a : bool, b : bool ) -> bool { return ( a || b ) && !( a && b ); }"),mod_float:new Sa("fn tsl_mod_float( x : f32, y : f32 ) -> f32 { return x - y * floor( x / y ); }"),mod_vec2:new Sa("fn tsl_mod_vec2( x : vec2f, y : vec2f ) -> vec2f { return x - y * floor( x / y ); }"),mod_vec3:new Sa("fn tsl_mod_vec3( x : vec3f, y : vec3f ) -> vec3f { return x - y * floor( x / y ); }"),mod_vec4:new Sa("fn tsl_mod_vec4( x : vec4f, y : vec4f ) -> vec4f { return x - y * floor( x / y ); }"),equals_bool:new Sa("fn tsl_equals_bool( a : bool, b : bool ) -> bool { return a == b; }"),equals_bvec2:new Sa("fn tsl_equals_bvec2( a : vec2f, b : vec2f ) -> vec2<bool> { return vec2<bool>( a.x == b.x, a.y == b.y ); }"),equals_bvec3:new Sa("fn tsl_equals_bvec3( a : vec3f, b : vec3f ) -> vec3<bool> { return vec3<bool>( a.x == b.x, a.y == b.y, a.z == b.z ); }"),equals_bvec4:new Sa("fn tsl_equals_bvec4( a : vec4f, b : vec4f ) -> vec4<bool> { return vec4<bool>( a.x == b.x, a.y == b.y, a.z == b.z, a.w == b.w ); }"),repeatWrapping_float:new Sa("fn tsl_repeatWrapping_float( coord: f32 ) -> f32 { return fract( coord ); }"),mirrorWrapping_float:new Sa("fn tsl_mirrorWrapping_float( coord: f32 ) -> f32 { let mirrored = fract( coord * 0.5 ) * 2.0; return 1.0 - abs( 1.0 - mirrored ); }"),clampWrapping_float:new Sa("fn tsl_clampWrapping_float( coord: f32 ) -> f32 { return clamp( coord, 0.0, 1.0 ); }"),biquadraticTexture:new Sa(`
fn tsl_biquadraticTexture( map : texture_2d<f32>, coord : vec2f, iRes : vec2u, level : u32 ) -> vec4f {

	let res = vec2f( iRes );

	let uvScaled = coord * res;
	let uvWrapping = ( ( uvScaled % res ) + res ) % res;

	// https://www.shadertoy.com/view/WtyXRy

	let uv = uvWrapping - 0.5;
	let iuv = floor( uv );
	let f = fract( uv );

	let rg1 = textureLoad( map, vec2u( iuv + vec2( 0.5, 0.5 ) ) % iRes, level );
	let rg2 = textureLoad( map, vec2u( iuv + vec2( 1.5, 0.5 ) ) % iRes, level );
	let rg3 = textureLoad( map, vec2u( iuv + vec2( 0.5, 1.5 ) ) % iRes, level );
	let rg4 = textureLoad( map, vec2u( iuv + vec2( 1.5, 1.5 ) ) % iRes, level );

	return mix( mix( rg1, rg2, f.x ), mix( rg3, rg4, f.x ), f.y );

}
`)},Qo={dFdx:"dpdx",dFdy:"- dpdy",mod_float:"tsl_mod_float",mod_vec2:"tsl_mod_vec2",mod_vec3:"tsl_mod_vec3",mod_vec4:"tsl_mod_vec4",equals_bool:"tsl_equals_bool",equals_bvec2:"tsl_equals_bvec2",equals_bvec3:"tsl_equals_bvec3",equals_bvec4:"tsl_equals_bvec4",inversesqrt:"inverseSqrt",bitcast:"bitcast<f32>"};typeof navigator<"u"&&/Windows/g.test(navigator.userAgent)&&(jn.pow_float=new Sa("fn tsl_pow_float( a : f32, b : f32 ) -> f32 { return select( -pow( -a, b ), pow( a, b ), a > 0.0 ); }"),jn.pow_vec2=new Sa("fn tsl_pow_vec2( a : vec2f, b : vec2f ) -> vec2f { return vec2f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ) ); }",[jn.pow_float]),jn.pow_vec3=new Sa("fn tsl_pow_vec3( a : vec3f, b : vec3f ) -> vec3f { return vec3f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ) ); }",[jn.pow_float]),jn.pow_vec4=new Sa("fn tsl_pow_vec4( a : vec4f, b : vec4f ) -> vec4f { return vec4f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ), tsl_pow_float( a.w, b.w ) ); }",[jn.pow_float]),Qo.pow_float="tsl_pow_float",Qo.pow_vec2="tsl_pow_vec2",Qo.pow_vec3="tsl_pow_vec3",Qo.pow_vec4="tsl_pow_vec4");let Bv="";(typeof navigator<"u"&&/Firefox|Deno/g.test(navigator.userAgent))!==!0&&(Bv+=`diagnostic( off, derivative_uniformity );
`);class RF extends Sv{constructor(e,t){super(e,t,new IF),this.uniformGroups={},this.builtins={},this.directives={},this.scopedArrays=new Map}needsToWorkingColorSpace(e){return e.isVideoTexture===!0&&e.colorSpace!==pi}_generateTextureSample(e,t,a,r,s=this.shaderStage){return s==="fragment"?r?`textureSample( ${t}, ${t}_sampler, ${a}, ${r} )`:`textureSample( ${t}, ${t}_sampler, ${a} )`:this.isFilteredTexture(e)?this.generateFilteredTexture(e,t,a):this.generateTextureLod(e,t,a,r,"0")}_generateVideoSample(e,t,a=this.shaderStage){if(a==="fragment")return`textureSampleBaseClampToEdge( ${e}, ${e}_sampler, vec2<f32>( ${t}.x, 1.0 - ${t}.y ) )`;console.error(`WebGPURenderer: THREE.VideoTexture does not support ${a} shader.`)}_generateTextureSampleLevel(e,t,a,r,s,o=this.shaderStage){return(o==="fragment"||o==="compute")&&this.isUnfilterable(e)===!1?`textureSampleLevel( ${t}, ${t}_sampler, ${a}, ${r} )`:this.isFilteredTexture(e)?this.generateFilteredTexture(e,t,a,r):this.generateTextureLod(e,t,a,s,r)}generateWrapFunction(e){const t=`tsl_coord_${Eg[e.wrapS]}S_${Eg[e.wrapT]}_${e.isData3DTexture?"3d":"2d"}T`;let a=Ng[t];if(a===void 0){const r=[],s=e.isData3DTexture?"vec3f":"vec2f";let o=`fn ${t}( coord : ${s} ) -> ${s} {

	return ${s}(
`;const d=(c,g)=>{c===pA?(r.push(jn.repeatWrapping_float),o+=`		tsl_repeatWrapping_float( coord.${g} )`):c===lh?(r.push(jn.clampWrapping_float),o+=`		tsl_clampWrapping_float( coord.${g} )`):c===hA?(r.push(jn.mirrorWrapping_float),o+=`		tsl_mirrorWrapping_float( coord.${g} )`):(o+=`		coord.${g}`,console.warn(`WebGPURenderer: Unsupported texture wrap type "${c}" for vertex shader.`))};d(e.wrapS,"x"),o+=`,
`,d(e.wrapT,"y"),e.isData3DTexture&&(o+=`,
`,d(e.wrapR,"z")),o+=`
	);

}
`,Ng[t]=a=new Sa(o,r)}return a.build(this),t}generateArrayDeclaration(e,t){return`array< ${this.getType(e)}, ${t} >`}generateTextureDimension(e,t,a){const r=this.getDataFromNode(e,this.shaderStage,this.globalCache);r.dimensionsSnippet===void 0&&(r.dimensionsSnippet={});let s=r.dimensionsSnippet[a];if(r.dimensionsSnippet[a]===void 0){let o,d;const{primarySamples:c}=this.renderer.backend.utils.getTextureSampleData(e),g=c>1;e.isData3DTexture?d="vec3<u32>":d="vec2<u32>",g||e.isVideoTexture||e.isStorageTexture?o=t:o=`${t}${a?`, u32( ${a} )`:""}`,s=new cl(new hl(`textureDimensions( ${o} )`,d)),r.dimensionsSnippet[a]=s,(e.isDataArrayTexture||e.isData3DTexture)&&(r.arrayLayerCount=new cl(new hl(`textureNumLayers(${t})`,"u32"))),e.isTextureCube&&(r.cubeFaceCount=new cl(new hl("6u","u32")))}return s.build(this)}generateFilteredTexture(e,t,a,r="0u"){this._include("biquadraticTexture");const s=this.generateWrapFunction(e),o=this.generateTextureDimension(e,t,r);return`tsl_biquadraticTexture( ${t}, ${s}( ${a} ), ${o}, u32( ${r} ) )`}generateTextureLod(e,t,a,r,s="0u"){const o=this.generateWrapFunction(e),d=this.generateTextureDimension(e,t,s),c=e.isData3DTexture?"vec3":"vec2",g=`${c}<u32>(${o}(${a}) * ${c}<f32>(${d}))`;return this.generateTextureLoad(e,t,g,r,s)}generateTextureLoad(e,t,a,r,s="0u"){return e.isVideoTexture===!0||e.isStorageTexture===!0?`textureLoad( ${t}, ${a} )`:r?`textureLoad( ${t}, ${a}, ${r}, u32( ${s} ) )`:`textureLoad( ${t}, ${a}, u32( ${s} ) )`}generateTextureStore(e,t,a,r){return`textureStore( ${t}, ${a}, ${r} )`}isSampleCompare(e){return e.isDepthTexture===!0&&e.compareFunction!==null}isUnfilterable(e){return this.getComponentTypeFromTexture(e)!=="float"||!this.isAvailable("float32Filterable")&&e.isDataTexture===!0&&e.type===$n||this.isSampleCompare(e)===!1&&e.minFilter===u0&&e.magFilter===u0||this.renderer.backend.utils.getTextureSampleData(e).primarySamples>1}generateTexture(e,t,a,r,s=this.shaderStage){let o=null;return e.isVideoTexture===!0?o=this._generateVideoSample(t,a,s):this.isUnfilterable(e)?o=this.generateTextureLod(e,t,a,r,"0",s):o=this._generateTextureSample(e,t,a,r,s),o}generateTextureGrad(e,t,a,r,s,o=this.shaderStage){if(o==="fragment")return`textureSampleGrad( ${t}, ${t}_sampler, ${a},  ${r[0]}, ${r[1]} )`;console.error(`WebGPURenderer: THREE.TextureNode.gradient() does not support ${o} shader.`)}generateTextureCompare(e,t,a,r,s,o=this.shaderStage){if(o==="fragment")return`textureSampleCompare( ${t}, ${t}_sampler, ${a}, ${r} )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${o} shader.`)}generateTextureLevel(e,t,a,r,s,o=this.shaderStage){let d=null;return e.isVideoTexture===!0?d=this._generateVideoSample(t,a,o):d=this._generateTextureSampleLevel(e,t,a,r,s,o),d}generateTextureBias(e,t,a,r,s,o=this.shaderStage){if(o==="fragment")return`textureSampleBias( ${t}, ${t}_sampler, ${a}, ${r} )`;console.error(`WebGPURenderer: THREE.TextureNode.biasNode does not support ${o} shader.`)}getPropertyName(e,t=this.shaderStage){if(e.isNodeVarying===!0&&e.needsInterpolation===!0){if(t==="vertex")return`varyings.${e.name}`}else if(e.isNodeUniform===!0){const a=e.name,r=e.type;return r==="texture"||r==="cubeTexture"||r==="storageTexture"||r==="texture3D"?a:r==="buffer"||r==="storageBuffer"||r==="indirectStorageBuffer"?this.isCustomStruct(e)?a:a+".value":e.groupNode.name+"."+a}return super.getPropertyName(e)}getOutputStructName(){return"output"}getFunctionOperator(e){const t=kF[e];return t!==void 0?(this._include(t),t):null}getNodeAccess(e,t){return t!=="compute"?Ja.READ_ONLY:e.access}getStorageAccess(e,t){return EF[this.getNodeAccess(e,t)]}getUniformFromNode(e,t,a,r=null){const s=super.getUniformFromNode(e,t,a,r),o=this.getDataFromNode(e,a,this.globalCache);if(o.uniformGPU===void 0){let d;const c=e.groupNode,g=c.name,D=this.getBindGroupArray(g,a);if(t==="texture"||t==="cubeTexture"||t==="storageTexture"||t==="texture3D"){let m=null;const _=this.getNodeAccess(e,a);if(t==="texture"||t==="storageTexture"?m=new HA(s.name,s.node,c,_):t==="cubeTexture"?m=new Rv(s.name,s.node,c,_):t==="texture3D"&&(m=new Mv(s.name,s.node,c,_)),m.store=e.isStorageTextureNode===!0,m.setVisibility(z2[a]),(a==="fragment"||a==="compute")&&this.isUnfilterable(e.value)===!1&&m.store===!1){const w=new gF(`${s.name}_sampler`,s.node,c);w.setVisibility(z2[a]),D.push(w,m),d=[w,m]}else D.push(m),d=[m]}else if(t==="buffer"||t==="storageBuffer"||t==="indirectStorageBuffer"){const m=t==="buffer"?kv:vF,_=new m(e,c);_.setVisibility(z2[a]),D.push(_),d=_,s.name=r||"NodeBuffer_"+s.id}else{const m=this.uniformGroups[a]||(this.uniformGroups[a]={});let _=m[g];_===void 0&&(_=new Nv(g,c),_.setVisibility(z2[a]),m[g]=_,D.push(_)),d=this.getNodeUniform(s,t),_.addUniform(d)}o.uniformGPU=d}return s}getBuiltin(e,t,a,r=this.shaderStage){const s=this.builtins[r]||(this.builtins[r]=new Map);return s.has(e)===!1&&s.set(e,{name:e,property:t,type:a}),t}hasBuiltin(e,t=this.shaderStage){return this.builtins[t]!==void 0&&this.builtins[t].has(e)}getVertexIndex(){return this.shaderStage==="vertex"?this.getBuiltin("vertex_index","vertexIndex","u32","attribute"):"vertexIndex"}buildFunctionCode(e){const t=e.layout,a=this.flowShaderNode(e),r=[];for(const o of t.inputs)r.push(o.name+" : "+this.getType(o.type));let s=`fn ${t.name}( ${r.join(", ")} ) -> ${this.getType(t.type)} {
${a.vars}
${a.code}
`;return a.result&&(s+=`	return ${a.result};
`),s+=`
}
`,s}getInstanceIndex(){return this.shaderStage==="vertex"?this.getBuiltin("instance_index","instanceIndex","u32","attribute"):"instanceIndex"}getInvocationLocalIndex(){return this.getBuiltin("local_invocation_index","invocationLocalIndex","u32","attribute")}getSubgroupSize(){return this.enableSubGroups(),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute")}getInvocationSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_invocation_id","invocationSubgroupIndex","u32","attribute")}getSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_id","subgroupIndex","u32","attribute")}getDrawIndex(){return null}getFrontFacing(){return this.getBuiltin("front_facing","isFront","bool")}getFragCoord(){return this.getBuiltin("position","fragCoord","vec4<f32>")+".xy"}getFragDepth(){return"output."+this.getBuiltin("frag_depth","depth","f32","output")}getClipDistance(){return"varyings.hw_clip_distances"}isFlipY(){return!1}enableDirective(e,t=this.shaderStage){(this.directives[t]||(this.directives[t]=new Set)).add(e)}getDirectives(e){const t=[],a=this.directives[e];if(a!==void 0)for(const r of a)t.push(`enable ${r};`);return t.join(`
`)}enableSubGroups(){this.enableDirective("subgroups")}enableSubgroupsF16(){this.enableDirective("subgroups-f16")}enableClipDistances(){this.enableDirective("clip_distances")}enableShaderF16(){this.enableDirective("f16")}enableDualSourceBlending(){this.enableDirective("dual_source_blending")}enableHardwareClipping(e){this.enableClipDistances(),this.getBuiltin("clip_distances","hw_clip_distances",`array<f32, ${e} >`,"vertex")}getBuiltins(e){const t=[],a=this.builtins[e];if(a!==void 0)for(const{name:r,property:s,type:o}of a.values())t.push(`@builtin( ${r} ) ${s} : ${o}`);return t.join(`,
	`)}getScopedArray(e,t,a,r){return this.scopedArrays.has(e)===!1&&this.scopedArrays.set(e,{name:e,scope:t,bufferType:a,bufferCount:r}),e}getScopedArrays(e){if(e!=="compute")return;const t=[];for(const{name:a,scope:r,bufferType:s,bufferCount:o}of this.scopedArrays.values()){const d=this.getType(s);t.push(`var<${r}> ${a}: array< ${d}, ${o} >;`)}return t.join(`
`)}getAttributes(e){const t=[];if(e==="compute"&&(this.getBuiltin("global_invocation_id","globalId","vec3<u32>","attribute"),this.getBuiltin("workgroup_id","workgroupId","vec3<u32>","attribute"),this.getBuiltin("local_invocation_id","localId","vec3<u32>","attribute"),this.getBuiltin("num_workgroups","numWorkgroups","vec3<u32>","attribute"),this.renderer.hasFeature("subgroups")&&(this.enableDirective("subgroups",e),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute"))),e==="vertex"||e==="compute"){const a=this.getBuiltins("attribute");a&&t.push(a);const r=this.getAttributesArray();for(let s=0,o=r.length;s<o;s++){const d=r[s],c=d.name,g=this.getType(d.type);t.push(`@location( ${s} ) ${c} : ${g}`)}}return t.join(`,
	`)}getStructMembers(e){const t=[];for(const a of e.members){const r=e.output?"@location( "+a.index+" ) ":"";let s=this.getType(a.type);a.atomic&&(s="atomic< "+s+" >"),t.push(`	${r+a.name} : ${s}`)}return e.output&&t.push(`	${this.getBuiltins("output")}`),t.join(`,
`)}getStructs(e){let t="";const a=this.structs[e];if(a.length>0){const r=[];for(const s of a){let o=`struct ${s.name} {
`;o+=this.getStructMembers(s),o+=`
};`,r.push(o)}t=`
`+r.join(`

`)+`
`}return t}getVar(e,t,a=null){let r=`var ${t} : `;return a!==null?r+=this.generateArrayDeclaration(e,a):r+=this.getType(e),r}getVars(e){const t=[],a=this.vars[e];if(a!==void 0)for(const r of a)t.push(`	${this.getVar(r.type,r.name,r.count)};`);return`
${t.join(`
`)}
`}getVaryings(e){const t=[];if(e==="vertex"&&this.getBuiltin("position","Vertex","vec4<f32>","vertex"),e==="vertex"||e==="fragment"){const s=this.varyings,o=this.vars[e];for(let d=0;d<s.length;d++){const c=s[d];if(c.needsInterpolation){let g=`@location( ${d} )`;/^(int|uint|ivec|uvec)/.test(c.type)&&(g+=" @interpolate( flat )"),t.push(`${g} ${c.name} : ${this.getType(c.type)}`)}else e==="vertex"&&o.includes(c)===!1&&o.push(c)}}const a=this.getBuiltins(e);a&&t.push(a);const r=t.join(`,
	`);return e==="vertex"?this._getWGSLStruct("VaryingsStruct","	"+r):r}isCustomStruct(e){return e.value.isStorageBufferAttribute&&e.node.structTypeNode!==null}getUniforms(e){const t=this.uniforms[e],a=[],r=[],s=[],o={};for(const c of t){const g=c.groupNode.name,D=this.bindingsIndexes[g];if(c.type==="texture"||c.type==="cubeTexture"||c.type==="storageTexture"||c.type==="texture3D"){const m=c.node.value;(e==="fragment"||e==="compute")&&this.isUnfilterable(m)===!1&&c.node.isStorageTextureNode!==!0&&(this.isSampleCompare(m)?a.push(`@binding( ${D.binding++} ) @group( ${D.group} ) var ${c.name}_sampler : sampler_comparison;`):a.push(`@binding( ${D.binding++} ) @group( ${D.group} ) var ${c.name}_sampler : sampler;`));let _,w="";const{primarySamples:x}=this.renderer.backend.utils.getTextureSampleData(m);if(x>1&&(w="_multisampled"),m.isCubeTexture===!0)_="texture_cube<f32>";else if(m.isDataArrayTexture===!0||m.isCompressedArrayTexture===!0)_="texture_2d_array<f32>";else if(m.isDepthTexture===!0)_=`texture_depth${w}_2d`;else if(m.isVideoTexture===!0)_="texture_external";else if(m.isData3DTexture===!0)_="texture_3d<f32>";else if(c.node.isStorageTextureNode===!0){const T=Jc(m),I=this.getStorageAccess(c.node,e);_=`texture_storage_2d<${T}, ${I}>`}else{const T=this.getComponentTypeFromTexture(m).charAt(0);_=`texture${w}_2d<${T}32>`}a.push(`@binding( ${D.binding++} ) @group( ${D.group} ) var ${c.name} : ${_};`)}else if(c.type==="buffer"||c.type==="storageBuffer"||c.type==="indirectStorageBuffer"){const m=c.node,_=this.getType(m.getNodeType(this)),w=m.bufferCount,x=w>0&&c.type==="buffer"?", "+w:"",T=m.isStorageBufferNode?`storage, ${this.getStorageAccess(m,e)}`:"uniform";if(this.isCustomStruct(c))r.push(`@binding( ${D.binding++} ) @group( ${D.group} ) var<${T}> ${c.name} : ${_};`);else{const N=`	value : array< ${m.isAtomic?`atomic<${_}>`:`${_}`}${x} >`;r.push(this._getWGSLStructBinding(c.name,N,T,D.binding++,D.group))}}else{const m=this.getType(this.getVectorType(c.type)),_=c.groupNode.name;(o[_]||(o[_]={index:D.binding++,id:D.group,snippets:[]})).snippets.push(`	${c.name} : ${m}`)}}for(const c in o){const g=o[c];s.push(this._getWGSLStructBinding(c,g.snippets.join(`,
`),"uniform",g.index,g.id))}let d=a.join(`
`);return d+=r.join(`
`),d+=s.join(`
`),d}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const t in e){this.shaderStage=t;const a=e[t];a.uniforms=this.getUniforms(t),a.attributes=this.getAttributes(t),a.varyings=this.getVaryings(t),a.structs=this.getStructs(t),a.vars=this.getVars(t),a.codes=this.getCodes(t),a.directives=this.getDirectives(t),a.scopedArrays=this.getScopedArrays(t);let r=`// code

`;r+=this.flowCode[t];const s=this.flowNodes[t],o=s[s.length-1],d=o.outputNode,c=d!==void 0&&d.isOutputStructNode===!0;for(const g of s){const D=this.getFlowData(g),m=g.name;if(m&&(r.length>0&&(r+=`
`),r+=`	// flow -> ${m}
`),r+=`${D.code}
	`,g===o&&t!=="compute"){if(r+=`// result

	`,t==="vertex")r+=`varyings.Vertex = ${D.result};`;else if(t==="fragment")if(c)a.returnType=d.getNodeType(this),a.structs+="var<private> output : "+a.returnType+";",r+=`return ${D.result};`;else{let _="	@location(0) color: vec4<f32>";const w=this.getBuiltins("output");w&&(_+=`,
	`+w),a.returnType="OutputStruct",a.structs+=this._getWGSLStruct("OutputStruct",_),a.structs+=`
var<private> output : OutputStruct;`,r+=`output.color = ${D.result};

	return output;`}}}a.flow=r}this.shaderStage=null,this.material!==null?(this.vertexShader=this._getWGSLVertexCode(e.vertex),this.fragmentShader=this._getWGSLFragmentCode(e.fragment)):this.computeShader=this._getWGSLComputeCode(e.compute,(this.object.workgroupSize||[64]).join(", "))}getMethod(e,t=null){let a;return t!==null&&(a=this._getWGSLMethod(e+"_"+t)),a===void 0&&(a=this._getWGSLMethod(e)),a||e}getType(e){return NF[e]||e}isAvailable(e){let t=kg[e];return t===void 0&&(e==="float32Filterable"?t=this.renderer.hasFeature("float32-filterable"):e==="clipDistance"&&(t=this.renderer.hasFeature("clip-distances")),kg[e]=t),t}_getWGSLMethod(e){return jn[e]!==void 0&&this._include(e),Qo[e]}_include(e){const t=jn[e];return t.build(this),this.currentFunctionNode!==null&&this.currentFunctionNode.includes.push(t),t}_getWGSLVertexCode(e){return`${this.getSignature()}
// directives
${e.directives}

// structs
${e.structs}

// uniforms
${e.uniforms}

// varyings
${e.varyings}
var<private> varyings : VaryingsStruct;

// codes
${e.codes}

@vertex
fn main( ${e.attributes} ) -> VaryingsStruct {

	// vars
	${e.vars}

	// flow
	${e.flow}

	return varyings;

}
`}_getWGSLFragmentCode(e){return`${this.getSignature()}
// global
${Bv}

// structs
${e.structs}

// uniforms
${e.uniforms}

// codes
${e.codes}

@fragment
fn main( ${e.varyings} ) -> ${e.returnType} {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLComputeCode(e,t){return`${this.getSignature()}
// directives
${e.directives}

// system
var<private> instanceIndex : u32;

// locals
${e.scopedArrays}

// structs
${e.structs}

// uniforms
${e.uniforms}

// codes
${e.codes}

@compute @workgroup_size( ${t} )
fn main( ${e.attributes} ) {

	// system
	instanceIndex = globalId.x + globalId.y * numWorkgroups.x * u32(${t}) + globalId.z * numWorkgroups.x * numWorkgroups.y * u32(${t});

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLStruct(e,t){return`
struct ${e} {
${t}
};`}_getWGSLStructBinding(e,t,a,r=0,s=0){const o=e+"Struct";return`${this._getWGSLStruct(o,t)}
@binding( ${r} ) @group( ${s} )
var<${a}> ${e} : ${o};`}}class MF{constructor(e){this.backend=e}getCurrentDepthStencilFormat(e){let t;return e.depthTexture!==null?t=this.getTextureFormatGPU(e.depthTexture):e.depth&&e.stencil?t=ee.Depth24PlusStencil8:e.depth&&(t=ee.Depth24Plus),t}getTextureFormatGPU(e){return this.backend.get(e).format}getTextureSampleData(e){let t;if(e.isFramebufferTexture)t=1;else if(e.isDepthTexture&&!e.renderTarget){const s=this.backend.renderer,o=s.getRenderTarget();t=o?o.samples:s.samples}else e.renderTarget&&(t=e.renderTarget.samples);t=t||1;const a=t>1&&e.renderTarget!==null&&e.isDepthTexture!==!0&&e.isFramebufferTexture!==!0;return{samples:t,primarySamples:a?1:t,isMSAA:a}}getCurrentColorFormat(e){let t;return e.textures!==null?t=this.getTextureFormatGPU(e.textures[0]):t=this.getPreferredCanvasFormat(),t}getCurrentColorSpace(e){return e.textures!==null?e.textures[0].colorSpace:this.backend.renderer.outputColorSpace}getPrimitiveTopology(e,t){if(e.isPoints)return qs.PointList;if(e.isLineSegments||e.isMesh&&t.wireframe===!0)return qs.LineList;if(e.isLine)return qs.LineStrip;if(e.isMesh)return qs.TriangleList}getSampleCount(e){let t=1;return e>1&&(t=Math.pow(2,Math.floor(Math.log2(e))),t===2&&(t=4)),t}getSampleCountRenderContext(e){return e.textures!==null?this.getSampleCount(e.sampleCount):this.getSampleCount(this.backend.renderer.samples)}getPreferredCanvasFormat(){const e=this.backend.parameters.outputType;if(e===void 0)return navigator.gpu.getPreferredCanvasFormat();if(e===Bn)return ee.BGRA8Unorm;if(e===Xn)return ee.RGBA16Float;throw new Error("Unsupported outputType")}}const CF=new Map([[Int8Array,["sint8","snorm8"]],[Uint8Array,["uint8","unorm8"]],[Int16Array,["sint16","snorm16"]],[Uint16Array,["uint16","unorm16"]],[Int32Array,["sint32","snorm32"]],[Uint32Array,["uint32","unorm32"]],[Float32Array,["float32"]]]),PF=new Map([[G8,["float16"]]]),BF=new Map([[Int32Array,"sint32"],[Int16Array,"sint32"],[Uint32Array,"uint32"],[Uint16Array,"uint32"],[Float32Array,"float32"]]);class LF{constructor(e){this.backend=e}createAttribute(e,t){const a=this._getBufferAttribute(e),r=this.backend,s=r.get(a);let o=s.buffer;if(o===void 0){const d=r.device;let c=a.array;if(e.normalized===!1){if(c.constructor===Int16Array||c.constructor===Int8Array)c=new Int32Array(c);else if((c.constructor===Uint16Array||c.constructor===Uint8Array)&&(c=new Uint32Array(c),t&GPUBufferUsage.INDEX))for(let D=0;D<c.length;D++)c[D]===65535&&(c[D]=4294967295)}if(a.array=c,(a.isStorageBufferAttribute||a.isStorageInstancedBufferAttribute)&&a.itemSize===3){c=new c.constructor(a.count*4);for(let D=0;D<a.count;D++)c.set(a.array.subarray(D*3,D*3+3),D*4);a.itemSize=4,a.array=c,s._force3to4BytesAlignment=!0}const g=c.byteLength+(4-c.byteLength%4)%4;o=d.createBuffer({label:a.name,size:g,usage:t,mappedAtCreation:!0}),new c.constructor(o.getMappedRange()).set(c),o.unmap(),s.buffer=o}}updateAttribute(e){const t=this._getBufferAttribute(e),a=this.backend,r=a.device,s=a.get(t),o=a.get(t).buffer;let d=t.array;if(s._force3to4BytesAlignment===!0){d=new d.constructor(t.count*4);for(let D=0;D<t.count;D++)d.set(t.array.subarray(D*3,D*3+3),D*4);t.array=d}const c=this._isTypedArray(d),g=t.updateRanges;if(g.length===0)r.queue.writeBuffer(o,0,d,0);else{const D=c?1:d.BYTES_PER_ELEMENT;for(let m=0,_=g.length;m<_;m++){const w=g[m];let x,T;if(s._force3to4BytesAlignment===!0){const N=Math.floor(w.start/3),R=Math.ceil(w.count/3);x=N*4*D,T=R*4*D}else x=w.start*D,T=w.count*D;const I=x*(c?d.BYTES_PER_ELEMENT:1);r.queue.writeBuffer(o,I,d,x,T)}t.clearUpdateRanges()}}createShaderVertexBuffers(e){const t=e.getAttributes(),a=new Map;for(let r=0;r<t.length;r++){const s=t[r],o=s.array.BYTES_PER_ELEMENT,d=this._getBufferAttribute(s);let c=a.get(d);if(c===void 0){let m,_;s.isInterleavedBufferAttribute===!0?(m=s.data.stride*o,_=s.data.isInstancedInterleavedBuffer?V2.Instance:V2.Vertex):(m=s.itemSize*o,_=s.isInstancedBufferAttribute?V2.Instance:V2.Vertex),s.normalized===!1&&(s.array.constructor===Int16Array||s.array.constructor===Uint16Array)&&(m=4),c={arrayStride:m,attributes:[],stepMode:_},a.set(d,c)}const g=this._getVertexFormat(s),D=s.isInterleavedBufferAttribute===!0?s.offset*o:0;c.attributes.push({shaderLocation:r,offset:D,format:g})}return Array.from(a.values())}destroyAttribute(e){const t=this.backend;t.get(this._getBufferAttribute(e)).buffer.destroy(),t.delete(e)}async getArrayBufferAsync(e){const t=this.backend,a=t.device,s=t.get(this._getBufferAttribute(e)).buffer,o=s.size,d=a.createBuffer({label:`${e.name}_readback`,size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),c=a.createCommandEncoder({label:`readback_encoder_${e.name}`});c.copyBufferToBuffer(s,0,d,0,o);const g=c.finish();a.queue.submit([g]),await d.mapAsync(GPUMapMode.READ);const D=d.getMappedRange(),m=new e.array.constructor(D.slice(0));return d.unmap(),m.buffer}_getVertexFormat(e){const{itemSize:t,normalized:a}=e,r=e.array.constructor,s=e.constructor;let o;if(t===1)o=BF.get(r);else{const c=(PF.get(s)||CF.get(r))[a?1:0];if(c){const g=r.BYTES_PER_ELEMENT*t,m=Math.floor((g+3)/4)*4/r.BYTES_PER_ELEMENT;if(m%1)throw new Error("THREE.WebGPUAttributeUtils: Bad vertex format item size.");o=`${c}x${m}`}}return o||console.error("THREE.WebGPUAttributeUtils: Vertex format not supported yet."),o}_isTypedArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}class qF{constructor(e){this.backend=e,this.bindGroupLayoutCache=new WeakMap}createBindingsLayout(e){const t=this.backend,a=t.device,r=[];let s=0;for(const o of e.bindings){const d={binding:s++,visibility:o.visibility};if(o.isUniformBuffer||o.isStorageBuffer){const c={};o.isStorageBuffer&&(o.visibility&4&&(o.access===Ja.READ_WRITE||o.access===Ja.WRITE_ONLY)?c.type=Sd.Storage:c.type=Sd.ReadOnlyStorage),d.buffer=c}else if(o.isSampler){const c={};o.texture.isDepthTexture&&o.texture.compareFunction!==null&&(c.type="comparison"),d.sampler=c}else if(o.isSampledTexture&&o.texture.isVideoTexture)d.externalTexture={};else if(o.isSampledTexture&&o.store){const c={};c.format=this.backend.get(o.texture).texture.format;const g=o.access;g===Ja.READ_WRITE?c.access=xd.ReadWrite:g===Ja.WRITE_ONLY?c.access=xd.WriteOnly:c.access=xd.ReadOnly,d.storageTexture=c}else if(o.isSampledTexture){const c={},{primarySamples:g}=t.utils.getTextureSampleData(o.texture);if(g>1&&(c.multisampled=!0,o.texture.isDepthTexture||(c.sampleType=_s.UnfilterableFloat)),o.texture.isDepthTexture)c.sampleType=_s.Depth;else if(o.texture.isDataTexture||o.texture.isDataArrayTexture||o.texture.isData3DTexture){const D=o.texture.type;D===ln?c.sampleType=_s.SInt:D===xa?c.sampleType=_s.UInt:D===$n&&(this.backend.hasFeature("float32-filterable")?c.sampleType=_s.Float:c.sampleType=_s.UnfilterableFloat)}o.isSampledCubeTexture?c.viewDimension=Dn.Cube:o.texture.isDataArrayTexture||o.texture.isCompressedArrayTexture?c.viewDimension=Dn.TwoDArray:o.isSampledTexture3D&&(c.viewDimension=Dn.ThreeD),d.texture=c}else console.error(`WebGPUBindingUtils: Unsupported binding "${o}".`);r.push(d)}return a.createBindGroupLayout({entries:r})}createBindings(e,t,a,r=0){const{backend:s,bindGroupLayoutCache:o}=this,d=s.get(e);let c=o.get(e.bindingsReference);c===void 0&&(c=this.createBindingsLayout(e),o.set(e.bindingsReference,c));let g;a>0&&(d.groups===void 0&&(d.groups=[],d.versions=[]),d.versions[a]===r&&(g=d.groups[a])),g===void 0&&(g=this.createBindGroup(e,c),a>0&&(d.groups[a]=g,d.versions[a]=r)),d.group=g,d.layout=c}updateBinding(e){const t=this.backend,a=t.device,r=e.buffer,s=t.get(e).buffer;a.queue.writeBuffer(s,0,r,0)}createBindGroupIndex(e,t){const r=this.backend.device,s=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,o=e[0],d=r.createBuffer({label:"bindingCameraIndex_"+o,size:16,usage:s});r.queue.writeBuffer(d,0,e,0);const c=[{binding:0,resource:{buffer:d}}];return r.createBindGroup({label:"bindGroupCameraIndex_"+o,layout:t,entries:c})}createBindGroup(e,t){const a=this.backend,r=a.device;let s=0;const o=[];for(const d of e.bindings){if(d.isUniformBuffer){const c=a.get(d);if(c.buffer===void 0){const g=d.byteLength,D=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,m=r.createBuffer({label:"bindingBuffer_"+d.name,size:g,usage:D});c.buffer=m}o.push({binding:s,resource:{buffer:c.buffer}})}else if(d.isStorageBuffer){const c=a.get(d);if(c.buffer===void 0){const g=d.attribute;c.buffer=a.get(g).buffer}o.push({binding:s,resource:{buffer:c.buffer}})}else if(d.isSampler){const c=a.get(d.texture);o.push({binding:s,resource:c.sampler})}else if(d.isSampledTexture){const c=a.get(d.texture);let g;if(c.externalTexture!==void 0)g=r.importExternalTexture({source:c.externalTexture});else{const D=d.store?1:c.texture.mipLevelCount,m=`view-${c.texture.width}-${c.texture.height}-${D}`;if(g=c[m],g===void 0){const _=hF.All;let w;d.isSampledCubeTexture?w=Dn.Cube:d.isSampledTexture3D?w=Dn.ThreeD:d.texture.isDataArrayTexture||d.texture.isCompressedArrayTexture?w=Dn.TwoDArray:w=Dn.TwoD,g=c[m]=c.texture.createView({aspect:_,dimension:w,mipLevelCount:D})}}o.push({binding:s,resource:g})}s++}return r.createBindGroup({label:"bindGroup_"+e.name,layout:t,entries:o})}}class FF{constructor(e){this.backend=e}_getSampleCount(e){return this.backend.utils.getSampleCountRenderContext(e)}createRenderPipeline(e,t){const{object:a,material:r,geometry:s,pipeline:o}=e,{vertexProgram:d,fragmentProgram:c}=o,g=this.backend,D=g.device,m=g.utils,_=g.get(o),w=[];for(const re of e.getBindings()){const de=g.get(re);w.push(de.layout)}const x=g.attributeUtils.createShaderVertexBuffers(e);let T;r.transparent===!0&&r.blending!==hi&&(T=this._getBlending(r));let I={};r.stencilWrite===!0&&(I={compare:this._getStencilCompare(r),failOp:this._getStencilOperation(r.stencilFail),depthFailOp:this._getStencilOperation(r.stencilZFail),passOp:this._getStencilOperation(r.stencilZPass)});const N=this._getColorWriteMask(r),R=[];if(e.context.textures!==null){const re=e.context.textures;for(let de=0;de<re.length;de++){const te=m.getTextureFormatGPU(re[de]);R.push({format:te,blend:T,writeMask:N})}}else{const re=m.getCurrentColorFormat(e.context);R.push({format:re,blend:T,writeMask:N})}const M=g.get(d).module,B=g.get(c).module,F=this._getPrimitiveState(a,s,r),L=this._getDepthCompare(r),O=m.getCurrentDepthStencilFormat(e.context),G=this._getSampleCount(e.context),j={label:`renderPipeline_${r.name||r.type}_${r.id}`,vertex:Object.assign({},M,{buffers:x}),fragment:Object.assign({},B,{targets:R}),primitive:F,multisample:{count:G,alphaToCoverageEnabled:r.alphaToCoverage&&G>1},layout:D.createPipelineLayout({bindGroupLayouts:w})},ne={},Y=e.context.depth,Z=e.context.stencil;if((Y===!0||Z===!0)&&(Y===!0&&(ne.format=O,ne.depthWriteEnabled=r.depthWrite,ne.depthCompare=L),Z===!0&&(ne.stencilFront=I,ne.stencilBack={},ne.stencilReadMask=r.stencilFuncMask,ne.stencilWriteMask=r.stencilWriteMask),r.polygonOffset===!0&&(ne.depthBias=r.polygonOffsetUnits,ne.depthBiasSlopeScale=r.polygonOffsetFactor,ne.depthBiasClamp=0),j.depthStencil=ne),t===null)_.pipeline=D.createRenderPipeline(j);else{const re=new Promise(de=>{D.createRenderPipelineAsync(j).then(te=>{_.pipeline=te,de()})});t.push(re)}}createBundleEncoder(e){const t=this.backend,{utils:a,device:r}=t,s=a.getCurrentDepthStencilFormat(e),o=a.getCurrentColorFormat(e),d=this._getSampleCount(e),c={label:"renderBundleEncoder",colorFormats:[o],depthStencilFormat:s,sampleCount:d};return r.createRenderBundleEncoder(c)}createComputePipeline(e,t){const a=this.backend,r=a.device,s=a.get(e.computeProgram).module,o=a.get(e),d=[];for(const c of t){const g=a.get(c);d.push(g.layout)}o.pipeline=r.createComputePipeline({compute:s,layout:r.createPipelineLayout({bindGroupLayouts:d})})}_getBlending(e){let t,a;const r=e.blending,s=e.blendSrc,o=e.blendDst,d=e.blendEquation;if(r===Xo){const c=e.blendSrcAlpha!==null?e.blendSrcAlpha:s,g=e.blendDstAlpha!==null?e.blendDstAlpha:o,D=e.blendEquationAlpha!==null?e.blendEquationAlpha:d;t={srcFactor:this._getBlendFactor(s),dstFactor:this._getBlendFactor(o),operation:this._getBlendOperation(d)},a={srcFactor:this._getBlendFactor(c),dstFactor:this._getBlendFactor(g),operation:this._getBlendOperation(D)}}else{const c=e.premultipliedAlpha,g=(D,m,_,w)=>{t={srcFactor:D,dstFactor:m,operation:S1.Add},a={srcFactor:_,dstFactor:w,operation:S1.Add}};if(c)switch(r){case Qr:g(At.One,At.OneMinusSrcAlpha,At.One,At.OneMinusSrcAlpha);break;case wl:g(At.One,At.One,At.One,At.One);break;case _l:g(At.Zero,At.OneMinusSrc,At.Zero,At.One);break;case yl:g(At.Zero,At.Src,At.Zero,At.SrcAlpha);break}else switch(r){case Qr:g(At.SrcAlpha,At.OneMinusSrcAlpha,At.One,At.OneMinusSrcAlpha);break;case wl:g(At.SrcAlpha,At.One,At.SrcAlpha,At.One);break;case _l:g(At.Zero,At.OneMinusSrc,At.Zero,At.One);break;case yl:g(At.Zero,At.Src,At.Zero,At.Src);break}}if(t!==void 0&&a!==void 0)return{color:t,alpha:a};console.error("THREE.WebGPURenderer: Invalid blending: ",r)}_getBlendFactor(e){let t;switch(e){case Fr:t=At.Zero;break;case x8:t=At.One;break;case S8:t=At.Src;break;case v8:t=At.OneMinusSrc;break;case w8:t=At.SrcAlpha;break;case f8:t=At.OneMinusSrcAlpha;break;case y8:t=At.Dst;break;case D8:t=At.OneMinusDstColor;break;case m8:t=At.DstAlpha;break;case g8:t=At.OneMinusDstAlpha;break;case _8:t=At.SrcAlphaSaturated;break;case UM:t=At.Constant;break;case GM:t=At.OneMinusConstant;break;default:console.error("THREE.WebGPURenderer: Blend factor not supported.",e)}return t}_getStencilCompare(e){let t;const a=e.stencilFunc;switch(a){case Dw:t=qa.Never;break;case gw:t=qa.Always;break;case pw:t=qa.Less;break;case hw:t=qa.LessEqual;break;case cw:t=qa.Equal;break;case dw:t=qa.GreaterEqual;break;case uw:t=qa.Greater;break;case Aw:t=qa.NotEqual;break;default:console.error("THREE.WebGPURenderer: Invalid stencil function.",a)}return t}_getStencilOperation(e){let t;switch(e){case xw:t=Br.Keep;break;case Sw:t=Br.Zero;break;case ww:t=Br.Replace;break;case _w:t=Br.Invert;break;case yw:t=Br.IncrementClamp;break;case mw:t=Br.DecrementClamp;break;case vw:t=Br.IncrementWrap;break;case fw:t=Br.DecrementWrap;break;default:console.error("THREE.WebGPURenderer: Invalid stencil operation.",t)}return t}_getBlendOperation(e){let t;switch(e){case Ar:t=S1.Add;break;case p8:t=S1.Subtract;break;case h8:t=S1.ReverseSubtract;break;case Tw:t=S1.Min;break;case bw:t=S1.Max;break;default:console.error("THREE.WebGPUPipelineUtils: Blend equation not supported.",e)}return t}_getPrimitiveState(e,t,a){const r={},s=this.backend.utils;switch(r.topology=s.getPrimitiveTopology(e,a),t.index!==null&&e.isLine===!0&&e.isLineSegments!==!0&&(r.stripIndexFormat=t.index.array instanceof Uint16Array?ro.Uint16:ro.Uint32),a.side){case Os:r.frontFace=yd.CCW,r.cullMode=_d.Back;break;case _n:r.frontFace=yd.CCW,r.cullMode=_d.Front;break;case f0:r.frontFace=yd.CCW,r.cullMode=_d.None;break;default:console.error("THREE.WebGPUPipelineUtils: Unknown material.side value.",a.side);break}return r}_getColorWriteMask(e){return e.colorWrite===!0?bg.All:bg.None}_getDepthCompare(e){let t;if(e.depthTest===!1)t=qa.Always;else{const a=e.depthFunc;switch(a){case M8:t=qa.Never;break;case R8:t=qa.Always;break;case N8:t=qa.Less;break;case k8:t=qa.LessEqual;break;case E8:t=qa.Equal;break;case I8:t=qa.GreaterEqual;break;case T8:t=qa.Greater;break;case b8:t=qa.NotEqual;break;default:console.error("THREE.WebGPUPipelineUtils: Invalid depth function.",a)}}return t}}class OF extends Pv{constructor(e,t,a=2048){super(a),this.device=e,this.type=t,this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxQueries,label:`queryset_global_timestamp_${t}`});const r=this.maxQueries*8;this.resolveBuffer=this.device.createBuffer({label:`buffer_timestamp_resolve_${t}`,size:r,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.resultBuffer=this.device.createBuffer({label:`buffer_timestamp_result_${t}`,size:r,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ})}allocateQueriesForContext(e){if(!this.trackTimestamp||this.isDisposed)return null;if(this.currentQueryIndex+2>this.maxQueries)return V1(`WebGPUTimestampQueryPool [${this.type}]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.${this.type.toUpperCase()} ).`),null;const t=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryOffsets.set(e.id,t),t}async resolveQueriesAsync(){if(!this.trackTimestamp||this.currentQueryIndex===0||this.isDisposed)return this.lastValue;if(this.pendingResolve)return this.pendingResolve;this.pendingResolve=this._resolveQueries();try{return await this.pendingResolve}finally{this.pendingResolve=null}}async _resolveQueries(){if(this.isDisposed)return this.lastValue;try{if(this.resultBuffer.mapState!=="unmapped")return this.lastValue;const e=new Map(this.queryOffsets),t=this.currentQueryIndex,a=t*8;this.currentQueryIndex=0,this.queryOffsets.clear();const r=this.device.createCommandEncoder();r.resolveQuerySet(this.querySet,0,t,this.resolveBuffer,0),r.copyBufferToBuffer(this.resolveBuffer,0,this.resultBuffer,0,a);const s=r.finish();if(this.device.queue.submit([s]),this.resultBuffer.mapState!=="unmapped")return this.lastValue;if(await this.resultBuffer.mapAsync(GPUMapMode.READ,0,a),this.isDisposed)return this.resultBuffer.mapState==="mapped"&&this.resultBuffer.unmap(),this.lastValue;const o=new BigUint64Array(this.resultBuffer.getMappedRange(0,a));let d=0;for(const[,c]of e){const g=o[c],D=o[c+1],m=Number(D-g)/1e6;d+=m}return this.resultBuffer.unmap(),this.lastValue=d,d}catch(e){return console.error("Error resolving queries:",e),this.resultBuffer.mapState==="mapped"&&this.resultBuffer.unmap(),this.lastValue}}async dispose(){if(!this.isDisposed){if(this.isDisposed=!0,this.pendingResolve)try{await this.pendingResolve}catch(e){console.error("Error waiting for pending resolve:",e)}if(this.resultBuffer&&this.resultBuffer.mapState==="mapped")try{this.resultBuffer.unmap()}catch(e){console.error("Error unmapping buffer:",e)}this.querySet&&(this.querySet.destroy(),this.querySet=null),this.resolveBuffer&&(this.resolveBuffer.destroy(),this.resolveBuffer=null),this.resultBuffer&&(this.resultBuffer.destroy(),this.resultBuffer=null),this.queryOffsets.clear(),this.pendingResolve=null}}}class UF extends Cv{constructor(e={}){super(e),this.isWebGPUBackend=!0,this.parameters.alpha=e.alpha===void 0?!0:e.alpha,this.parameters.requiredLimits=e.requiredLimits===void 0?{}:e.requiredLimits,this.device=null,this.context=null,this.colorBuffer=null,this.defaultRenderPassdescriptor=null,this.utils=new MF(this),this.attributeUtils=new LF(this),this.bindingUtils=new qF(this),this.pipelineUtils=new FF(this),this.textureUtils=new wF(this),this.occludedResolveCache=new Map}async init(e){await super.init(e);const t=this.parameters;let a;if(t.device===void 0){const o={powerPreference:t.powerPreference},d=typeof navigator<"u"?await navigator.gpu.requestAdapter(o):null;if(d===null)throw new Error("WebGPUBackend: Unable to create WebGPU adapter.");const c=Object.values(Zc),g=[];for(const m of c)d.features.has(m)&&g.push(m);const D={requiredFeatures:g,requiredLimits:t.requiredLimits};a=await d.requestDevice(D)}else a=t.device;a.lost.then(o=>{const d={api:"WebGPU",message:o.message||"Unknown reason",reason:o.reason||null,originalEvent:o};e.onDeviceLost(d)});const r=t.context!==void 0?t.context:e.domElement.getContext("webgpu");this.device=a,this.context=r;const s=t.alpha?"premultiplied":"opaque";this.trackTimestamp=this.trackTimestamp&&this.hasFeature(Zc.TimestampQuery),this.context.configure({device:this.device,format:this.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,alphaMode:s}),this.updateSize()}get coordinateSystem(){return oo}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}getContext(){return this.context}_getDefaultRenderPassDescriptor(){let e=this.defaultRenderPassdescriptor;if(e===null){const a=this.renderer;e={colorAttachments:[{view:null}]},(this.renderer.depth===!0||this.renderer.stencil===!0)&&(e.depthStencilAttachment={view:this.textureUtils.getDepthBuffer(a.depth,a.stencil).createView()});const r=e.colorAttachments[0];this.renderer.samples>0?r.view=this.colorBuffer.createView():r.resolveTarget=void 0,this.defaultRenderPassdescriptor=e}const t=e.colorAttachments[0];return this.renderer.samples>0?t.resolveTarget=this.context.getCurrentTexture().createView():t.view=this.context.getCurrentTexture().createView(),e}_getRenderPassDescriptor(e,t={}){const a=e.renderTarget,r=this.get(a);let s=r.descriptors;if(s===void 0||r.width!==a.width||r.height!==a.height||r.dimensions!==a.dimensions||r.activeMipmapLevel!==e.activeMipmapLevel||r.activeCubeFace!==e.activeCubeFace||r.samples!==a.samples){s={},r.descriptors=s;const g=()=>{a.removeEventListener("dispose",g),this.delete(a)};a.hasEventListener("dispose",g)===!1&&a.addEventListener("dispose",g)}const o=e.getCacheKey();let d=s[o];if(d===void 0){const g=e.textures,D=[];let m;for(let _=0;_<g.length;_++){const w=this.get(g[_]),x={label:`colorAttachment_${_}`,baseMipLevel:e.activeMipmapLevel,mipLevelCount:1,baseArrayLayer:e.activeCubeFace,arrayLayerCount:1,dimension:Dn.TwoD};a.isRenderTarget3D?(m=e.activeCubeFace,x.baseArrayLayer=0,x.dimension=Dn.ThreeD,x.depthOrArrayLayers=g[_].image.depth):a.isRenderTargetArray&&(x.dimension=Dn.TwoDArray,x.depthOrArrayLayers=g[_].image.depth);const T=w.texture.createView(x);let I,N;w.msaaTexture!==void 0?(I=w.msaaTexture.createView(),N=T):(I=T,N=void 0),D.push({view:I,resolveTarget:N,depthSlice:m})}if(d={textureViews:D},e.depth){const _=this.get(e.depthTexture);d.depthStencilView=_.texture.createView()}s[o]=d,r.width=a.width,r.height=a.height,r.samples=a.samples,r.activeMipmapLevel=e.activeMipmapLevel,r.activeCubeFace=e.activeCubeFace,r.dimensions=a.dimensions}const c={colorAttachments:[]};for(let g=0;g<d.textureViews.length;g++){const D=d.textureViews[g];let m={r:0,g:0,b:0,a:1};g===0&&t.clearValue&&(m=t.clearValue),c.colorAttachments.push({view:D.view,depthSlice:D.depthSlice,resolveTarget:D.resolveTarget,loadOp:t.loadOp||Xt.Load,storeOp:t.storeOp||Ca.Store,clearValue:m})}return d.depthStencilView&&(c.depthStencilAttachment={view:d.depthStencilView}),c}beginRender(e){const t=this.get(e),a=this.device,r=e.occlusionQueryCount;let s;r>0&&(t.currentOcclusionQuerySet&&t.currentOcclusionQuerySet.destroy(),t.currentOcclusionQueryBuffer&&t.currentOcclusionQueryBuffer.destroy(),t.currentOcclusionQuerySet=t.occlusionQuerySet,t.currentOcclusionQueryBuffer=t.occlusionQueryBuffer,t.currentOcclusionQueryObjects=t.occlusionQueryObjects,s=a.createQuerySet({type:"occlusion",count:r,label:`occlusionQuerySet_${e.id}`}),t.occlusionQuerySet=s,t.occlusionQueryIndex=0,t.occlusionQueryObjects=new Array(r),t.lastOcclusionObject=null);let o;e.textures===null?o=this._getDefaultRenderPassDescriptor():o=this._getRenderPassDescriptor(e,{loadOp:Xt.Load}),this.initTimestampQuery(e,o),o.occlusionQuerySet=s;const d=o.depthStencilAttachment;if(e.textures!==null){const D=o.colorAttachments;for(let m=0;m<D.length;m++){const _=D[m];e.clearColor?(_.clearValue=m===0?e.clearColorValue:{r:0,g:0,b:0,a:1},_.loadOp=Xt.Clear,_.storeOp=Ca.Store):(_.loadOp=Xt.Load,_.storeOp=Ca.Store)}}else{const D=o.colorAttachments[0];e.clearColor?(D.clearValue=e.clearColorValue,D.loadOp=Xt.Clear,D.storeOp=Ca.Store):(D.loadOp=Xt.Load,D.storeOp=Ca.Store)}e.depth&&(e.clearDepth?(d.depthClearValue=e.clearDepthValue,d.depthLoadOp=Xt.Clear,d.depthStoreOp=Ca.Store):(d.depthLoadOp=Xt.Load,d.depthStoreOp=Ca.Store)),e.stencil&&(e.clearStencil?(d.stencilClearValue=e.clearStencilValue,d.stencilLoadOp=Xt.Clear,d.stencilStoreOp=Ca.Store):(d.stencilLoadOp=Xt.Load,d.stencilStoreOp=Ca.Store));const c=a.createCommandEncoder({label:"renderContext_"+e.id}),g=c.beginRenderPass(o);if(t.descriptor=o,t.encoder=c,t.currentPass=g,t.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},t.renderBundles=[],e.viewport&&this.updateViewport(e),e.scissor){const{x:D,y:m,width:_,height:w}=e.scissorValue;g.setScissorRect(D,m,_,w)}}finishRender(e){const t=this.get(e),a=e.occlusionQueryCount;if(t.renderBundles.length>0&&t.currentPass.executeBundles(t.renderBundles),a>t.occlusionQueryIndex&&t.currentPass.endOcclusionQuery(),t.currentPass.end(),a>0){const r=a*8;let s=this.occludedResolveCache.get(r);s===void 0&&(s=this.device.createBuffer({size:r,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.occludedResolveCache.set(r,s));const o=this.device.createBuffer({size:r,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});t.encoder.resolveQuerySet(t.occlusionQuerySet,0,a,s,0),t.encoder.copyBufferToBuffer(s,0,o,0,r),t.occlusionQueryBuffer=o,this.resolveOccludedAsync(e)}if(this.device.queue.submit([t.encoder.finish()]),e.textures!==null){const r=e.textures;for(let s=0;s<r.length;s++){const o=r[s];o.generateMipmaps===!0&&this.textureUtils.generateMipmaps(o)}}}isOccluded(e,t){const a=this.get(e);return a.occluded&&a.occluded.has(t)}async resolveOccludedAsync(e){const t=this.get(e),{currentOcclusionQueryBuffer:a,currentOcclusionQueryObjects:r}=t;if(a&&r){const s=new WeakSet;t.currentOcclusionQueryObjects=null,t.currentOcclusionQueryBuffer=null,await a.mapAsync(GPUMapMode.READ);const o=a.getMappedRange(),d=new BigUint64Array(o);for(let c=0;c<r.length;c++)d[c]===BigInt(0)&&s.add(r[c]);a.destroy(),t.occluded=s}}updateViewport(e){const{currentPass:t}=this.get(e),{x:a,y:r,width:s,height:o,minDepth:d,maxDepth:c}=e.viewportValue;t.setViewport(a,r,s,o,d,c)}getClearColor(){const e=super.getClearColor();return this.renderer.alpha===!0&&(e.r*=e.a,e.g*=e.a,e.b*=e.a),e}clear(e,t,a,r=null){const s=this.device,o=this.renderer;let d=[],c,g,D,m;if(e){const x=this.getClearColor();g={r:x.r,g:x.g,b:x.b,a:x.a}}if(r===null){D=o.depth,m=o.stencil;const x=this._getDefaultRenderPassDescriptor();if(e){d=x.colorAttachments;const T=d[0];T.clearValue=g,T.loadOp=Xt.Clear,T.storeOp=Ca.Store}(D||m)&&(c=x.depthStencilAttachment)}else{D=r.depth,m=r.stencil;const x={loadOp:e?Xt.Clear:Xt.Load,clearValue:e?g:void 0};D&&(x.depthLoadOp=t?Xt.Clear:Xt.Load,x.depthClearValue=t?o.getClearDepth():void 0,x.depthStoreOp=Ca.Store),m&&(x.stencilLoadOp=a?Xt.Clear:Xt.Load,x.stencilClearValue=a?o.getClearStencil():void 0,x.stencilStoreOp=Ca.Store);const T=this._getRenderPassDescriptor(r,x);d=T.colorAttachments,c=T.depthStencilAttachment}D&&c&&c.depthLoadOp===void 0&&(t?(c.depthLoadOp=Xt.Clear,c.depthClearValue=o.getClearDepth(),c.depthStoreOp=Ca.Store):(c.depthLoadOp=Xt.Load,c.depthStoreOp=Ca.Store)),m&&c&&c.stencilLoadOp===void 0&&(a?(c.stencilLoadOp=Xt.Clear,c.stencilClearValue=o.getClearStencil(),c.stencilStoreOp=Ca.Store):(c.stencilLoadOp=Xt.Load,c.stencilStoreOp=Ca.Store));const _=s.createCommandEncoder({label:"clear"});_.beginRenderPass({colorAttachments:d,depthStencilAttachment:c}).end(),s.queue.submit([_.finish()])}beginCompute(e){const t=this.get(e),a={label:"computeGroup_"+e.id};this.initTimestampQuery(e,a),t.cmdEncoderGPU=this.device.createCommandEncoder({label:"computeGroup_"+e.id}),t.passEncoderGPU=t.cmdEncoderGPU.beginComputePass(a)}compute(e,t,a,r){const{passEncoderGPU:s}=this.get(e),o=this.get(r).pipeline;s.setPipeline(o);for(let D=0,m=a.length;D<m;D++){const _=a[D],w=this.get(_);s.setBindGroup(D,w.group)}const d=this.device.limits.maxComputeWorkgroupsPerDimension,c=this.get(t);c.dispatchSize===void 0&&(c.dispatchSize={x:0,y:1,z:1});const{dispatchSize:g}=c;t.dispatchCount>d?(g.x=Math.min(t.dispatchCount,d),g.y=Math.ceil(t.dispatchCount/d)):g.x=t.dispatchCount,s.dispatchWorkgroups(g.x,g.y,g.z)}finishCompute(e){const t=this.get(e);t.passEncoderGPU.end(),this.device.queue.submit([t.cmdEncoderGPU.finish()])}async waitForGPU(){await this.device.queue.onSubmittedWorkDone()}draw(e,t){const{object:a,material:r,context:s,pipeline:o}=e,d=e.getBindings(),c=this.get(s),g=this.get(o).pipeline,D=c.currentSets,m=c.currentPass,_=e.getDrawParameters();if(_===null)return;D.pipeline!==g&&(m.setPipeline(g),D.pipeline=g);const w=D.bindingGroups;for(let R=0,M=d.length;R<M;R++){const B=d[R],F=this.get(B);w[B.index]!==B.id&&(m.setBindGroup(B.index,F.group),w[B.index]=B.id)}const x=e.getIndex(),T=x!==null;if(T===!0&&D.index!==x){const R=this.get(x).buffer,M=x.array instanceof Uint16Array?ro.Uint16:ro.Uint32;m.setIndexBuffer(R,M),D.index=x}const I=e.getVertexBuffers();for(let R=0,M=I.length;R<M;R++){const B=I[R];if(D.attributes[R]!==B){const F=this.get(B).buffer;m.setVertexBuffer(R,F),D.attributes[R]=B}}if(c.occlusionQuerySet!==void 0){const R=c.lastOcclusionObject;R!==a&&(R!==null&&R.occlusionTest===!0&&(m.endOcclusionQuery(),c.occlusionQueryIndex++),a.occlusionTest===!0&&(m.beginOcclusionQuery(c.occlusionQueryIndex),c.occlusionQueryObjects[c.occlusionQueryIndex]=a),c.lastOcclusionObject=a)}s.stencil===!0&&r.stencilWrite===!0&&c.currentStencilRef!==r.stencilRef&&(m.setStencilReference(r.stencilRef),c.currentStencilRef=r.stencilRef);const N=()=>{if(a.isBatchedMesh===!0){const R=a._multiDrawStarts,M=a._multiDrawCounts,B=a._multiDrawCount,F=a._multiDrawInstances;F!==null&&V1("THREE.WebGPUBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection.");for(let L=0;L<B;L++){const O=F?F[L]:1,G=O>1?0:L;T===!0?m.drawIndexed(M[L],O,R[L]/x.array.BYTES_PER_ELEMENT,0,G):m.draw(M[L],O,R[L],G),t.update(a,M[L],O)}}else if(T===!0){const{vertexCount:R,instanceCount:M,firstVertex:B}=_,F=e.getIndirect();if(F!==null){const L=this.get(F).buffer;m.drawIndexedIndirect(L,0)}else m.drawIndexed(R,M,B,0,0);t.update(a,R,M)}else{const{vertexCount:R,instanceCount:M,firstVertex:B}=_,F=e.getIndirect();if(F!==null){const L=this.get(F).buffer;m.drawIndirect(L,0)}else m.draw(R,M,B,0);t.update(a,R,M)}};if(e.camera.isArrayCamera&&e.camera.cameras.length>0){const R=this.get(e.camera),M=e.camera.cameras,B=e.getBindingGroup("cameraIndex");if(R.indexesGPU===void 0||R.indexesGPU.length!==M.length){const L=this.get(B),O=[],G=new Uint32Array([0,0,0,0]);for(let j=0,ne=M.length;j<ne;j++){G[0]=j;const Y=this.bindingUtils.createBindGroupIndex(G,L.layout);O.push(Y)}R.indexesGPU=O}const F=this.renderer.getPixelRatio();for(let L=0,O=M.length;L<O;L++){const G=M[L];if(a.layers.test(G.layers)){const j=G.viewport;m.setViewport(Math.floor(j.x*F),Math.floor(j.y*F),Math.floor(j.width*F),Math.floor(j.height*F),s.viewportValue.minDepth,s.viewportValue.maxDepth),m.setBindGroup(B.index,R.indexesGPU[L]),N()}}}else N()}needsRenderUpdate(e){const t=this.get(e),{object:a,material:r}=e,s=this.utils,o=s.getSampleCountRenderContext(e.context),d=s.getCurrentColorSpace(e.context),c=s.getCurrentColorFormat(e.context),g=s.getCurrentDepthStencilFormat(e.context),D=s.getPrimitiveTopology(a,r);let m=!1;return(t.material!==r||t.materialVersion!==r.version||t.transparent!==r.transparent||t.blending!==r.blending||t.premultipliedAlpha!==r.premultipliedAlpha||t.blendSrc!==r.blendSrc||t.blendDst!==r.blendDst||t.blendEquation!==r.blendEquation||t.blendSrcAlpha!==r.blendSrcAlpha||t.blendDstAlpha!==r.blendDstAlpha||t.blendEquationAlpha!==r.blendEquationAlpha||t.colorWrite!==r.colorWrite||t.depthWrite!==r.depthWrite||t.depthTest!==r.depthTest||t.depthFunc!==r.depthFunc||t.stencilWrite!==r.stencilWrite||t.stencilFunc!==r.stencilFunc||t.stencilFail!==r.stencilFail||t.stencilZFail!==r.stencilZFail||t.stencilZPass!==r.stencilZPass||t.stencilFuncMask!==r.stencilFuncMask||t.stencilWriteMask!==r.stencilWriteMask||t.side!==r.side||t.alphaToCoverage!==r.alphaToCoverage||t.sampleCount!==o||t.colorSpace!==d||t.colorFormat!==c||t.depthStencilFormat!==g||t.primitiveTopology!==D||t.clippingContextCacheKey!==e.clippingContextCacheKey)&&(t.material=r,t.materialVersion=r.version,t.transparent=r.transparent,t.blending=r.blending,t.premultipliedAlpha=r.premultipliedAlpha,t.blendSrc=r.blendSrc,t.blendDst=r.blendDst,t.blendEquation=r.blendEquation,t.blendSrcAlpha=r.blendSrcAlpha,t.blendDstAlpha=r.blendDstAlpha,t.blendEquationAlpha=r.blendEquationAlpha,t.colorWrite=r.colorWrite,t.depthWrite=r.depthWrite,t.depthTest=r.depthTest,t.depthFunc=r.depthFunc,t.stencilWrite=r.stencilWrite,t.stencilFunc=r.stencilFunc,t.stencilFail=r.stencilFail,t.stencilZFail=r.stencilZFail,t.stencilZPass=r.stencilZPass,t.stencilFuncMask=r.stencilFuncMask,t.stencilWriteMask=r.stencilWriteMask,t.side=r.side,t.alphaToCoverage=r.alphaToCoverage,t.sampleCount=o,t.colorSpace=d,t.colorFormat=c,t.depthStencilFormat=g,t.primitiveTopology=D,t.clippingContextCacheKey=e.clippingContextCacheKey,m=!0),m}getRenderCacheKey(e){const{object:t,material:a}=e,r=this.utils,s=e.context;return[a.transparent,a.blending,a.premultipliedAlpha,a.blendSrc,a.blendDst,a.blendEquation,a.blendSrcAlpha,a.blendDstAlpha,a.blendEquationAlpha,a.colorWrite,a.depthWrite,a.depthTest,a.depthFunc,a.stencilWrite,a.stencilFunc,a.stencilFail,a.stencilZFail,a.stencilZPass,a.stencilFuncMask,a.stencilWriteMask,a.side,r.getSampleCountRenderContext(s),r.getCurrentColorSpace(s),r.getCurrentColorFormat(s),r.getCurrentDepthStencilFormat(s),r.getPrimitiveTopology(t,a),e.getGeometryCacheKey(),e.clippingContextCacheKey].join()}createSampler(e){this.textureUtils.createSampler(e)}destroySampler(e){this.textureUtils.destroySampler(e)}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,t){this.textureUtils.createTexture(e,t)}updateTexture(e,t){this.textureUtils.updateTexture(e,t)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e){this.textureUtils.destroyTexture(e)}async copyTextureToBuffer(e,t,a,r,s,o){return this.textureUtils.copyTextureToBuffer(e,t,a,r,s,o)}initTimestampQuery(e,t){if(!this.trackTimestamp)return;const a=e.isComputeNode?"compute":"render";this.timestampQueryPool[a]||(this.timestampQueryPool[a]=new OF(this.device,a,2048));const r=this.timestampQueryPool[a],s=r.allocateQueriesForContext(e);t.timestampWrites={querySet:r.querySet,beginningOfPassWriteIndex:s,endOfPassWriteIndex:s+1}}createNodeBuilder(e,t){return new RF(e,t)}createProgram(e){const t=this.get(e);t.module={module:this.device.createShaderModule({code:e.code,label:e.stage+(e.name!==""?`_${e.name}`:"")}),entryPoint:"main"}}destroyProgram(e){this.delete(e)}createRenderPipeline(e,t){this.pipelineUtils.createRenderPipeline(e,t)}createComputePipeline(e,t){this.pipelineUtils.createComputePipeline(e,t)}beginBundle(e){const t=this.get(e);t._currentPass=t.currentPass,t._currentSets=t.currentSets,t.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},t.currentPass=this.pipelineUtils.createBundleEncoder(e)}finishBundle(e,t){const a=this.get(e),s=a.currentPass.finish();this.get(t).bundleGPU=s,a.currentSets=a._currentSets,a.currentPass=a._currentPass}addBundle(e,t){this.get(e).renderBundles.push(this.get(t).bundleGPU)}createBindings(e,t,a,r){this.bindingUtils.createBindings(e,t,a,r)}updateBindings(e,t,a,r){this.bindingUtils.createBindings(e,t,a,r)}updateBinding(e){this.bindingUtils.updateBinding(e)}createIndexAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.INDEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createIndirectStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.INDIRECT|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}updateSize(){this.colorBuffer=this.textureUtils.getColorBuffer(),this.defaultRenderPassdescriptor=null}getMaxAnisotropy(){return 16}hasFeature(e){return this.device.features.has(e)}copyTextureToTexture(e,t,a=null,r=null,s=0,o=0){let d=0,c=0,g=0,D=0,m=0,_=0,w=e.image.width,x=e.image.height,T=1;a!==null&&(a.isBox3===!0?(D=a.min.x,m=a.min.y,_=a.min.z,w=a.max.x-a.min.x,x=a.max.y-a.min.y,T=a.max.z-a.min.z):(D=a.min.x,m=a.min.y,w=a.max.x-a.min.x,x=a.max.y-a.min.y,T=1)),r!==null&&(d=r.x,c=r.y,g=r.z||0);const I=this.device.createCommandEncoder({label:"copyTextureToTexture_"+e.id+"_"+t.id}),N=this.get(e).texture,R=this.get(t).texture;I.copyTextureToTexture({texture:N,mipLevel:s,origin:{x:D,y:m,z:_}},{texture:R,mipLevel:o,origin:{x:d,y:c,z:g}},[w,x,T]),this.device.queue.submit([I.finish()]),o===0&&t.generateMipmaps&&this.textureUtils.generateMipmaps(t)}copyFramebufferToTexture(e,t,a){const r=this.get(t);let s=null;t.renderTarget?e.isDepthTexture?s=this.get(t.depthTexture).texture:s=this.get(t.textures[0]).texture:e.isDepthTexture?s=this.textureUtils.getDepthBuffer(t.depth,t.stencil):s=this.context.getCurrentTexture();const o=this.get(e).texture;if(s.format!==o.format){console.error("WebGPUBackend: copyFramebufferToTexture: Source and destination formats do not match.",s.format,o.format);return}let d;if(r.currentPass?(r.currentPass.end(),d=r.encoder):d=this.device.createCommandEncoder({label:"copyFramebufferToTexture_"+e.id}),d.copyTextureToTexture({texture:s,origin:[a.x,a.y,0]},{texture:o},[a.z,a.w]),e.generateMipmaps&&this.textureUtils.generateMipmaps(e),r.currentPass){const{descriptor:c}=r;for(let g=0;g<c.colorAttachments.length;g++)c.colorAttachments[g].loadOp=Xt.Load;if(t.depth&&(c.depthStencilAttachment.depthLoadOp=Xt.Load),t.stencil&&(c.depthStencilAttachment.stencilLoadOp=Xt.Load),r.currentPass=d.beginRenderPass(c),r.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},t.viewport&&this.updateViewport(t),t.scissor){const{x:g,y:D,width:m,height:_}=t.scissorValue;r.currentPass.setScissorRect(g,D,m,_)}}else this.device.queue.submit([d.finish()])}}class GF extends e8{constructor(e,t,a,r,s,o){super(e,t,a,r,s,o),this.iesMap=null}copy(e,t){return super.copy(e,t),this.iesMap=e.iesMap,this}}class VF extends Tv{constructor(){super(),this.addMaterial(BR,"MeshPhongMaterial"),this.addMaterial(_7,"MeshStandardMaterial"),this.addMaterial(yM,"MeshPhysicalMaterial"),this.addMaterial(xM,"MeshToonMaterial"),this.addMaterial(ER,"MeshBasicMaterial"),this.addMaterial(CR,"MeshLambertMaterial"),this.addMaterial(wR,"MeshNormalMaterial"),this.addMaterial(IM,"MeshMatcapMaterial"),this.addMaterial(gR,"LineBasicMaterial"),this.addMaterial(fR,"LineDashedMaterial"),this.addMaterial(RM,"PointsMaterial"),this.addMaterial(S7,"SpriteMaterial"),this.addMaterial(PM,"ShadowMaterial"),this.addLight(PB,x_),this.addLight(_q,Jg),this.addLight(wq,b_),this.addLight(xv,e8),this.addLight(xq,t8),this.addLight(bq,T_),this.addLight(Tq,I_),this.addLight(Sq,GF),this.addToneMapping(z7,E_),this.addToneMapping(W7,k_),this.addToneMapping(H7,N_),this.addToneMapping(j7,R_),this.addToneMapping($7,M_),this.addToneMapping(Q7,C_)}}class zF extends Hq{constructor(e={}){let t;e.forceWebGL?t=xg:(t=UF,e.getFallback=()=>(console.warn("THREE.WebGPURenderer: WebGPU is not available, running under WebGL2 backend."),new xg(e)));const a=new t(e);super(a,e),this.library=new VF,this.isWebGPURenderer=!0}}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */E.BRDF_GGX;E.BRDF_Lambert;E.BasicShadowFilter;E.Break;E.Continue;E.DFGApprox;E.D_GGX;E.Discard;E.EPSILON;E.F_Schlick;const WF=E.Fn;E.INFINITY;const HF=E.If,jF=E.Loop;E.NodeShaderStage;E.NodeType;E.NodeUpdateType;E.NodeAccess;E.PCFShadowFilter;E.PCFSoftShadowFilter;E.PI;E.PI2;E.Return;E.Schlick_to_F0;E.ScriptableNodeResources;E.ShaderNode;E.TBNViewMatrix;E.VSMShadowFilter;E.V_GGX_SmithCorrelated;E.abs;E.acesFilmicToneMapping;E.acos;E.add;E.addNodeElement;E.agxToneMapping;E.all;E.alphaT;E.and;E.anisotropy;E.anisotropyB;E.anisotropyT;E.any;E.append;E.array;E.arrayBuffer;const $F=E.asin;E.assign;E.atan;E.atan2;E.atomicAdd;E.atomicAnd;E.atomicFunc;E.atomicMax;E.atomicMin;E.atomicOr;E.atomicStore;E.atomicSub;E.atomicXor;E.atomicLoad;E.attenuationColor;E.attenuationDistance;E.attribute;E.attributeArray;E.backgroundBlurriness;E.backgroundIntensity;E.backgroundRotation;E.batch;E.billboarding;E.bitAnd;E.bitNot;E.bitOr;E.bitXor;E.bitangentGeometry;E.bitangentLocal;E.bitangentView;E.bitangentWorld;E.bitcast;E.blendBurn;E.blendColor;E.blendDodge;E.blendOverlay;E.blendScreen;E.blur;E.bool;E.buffer;E.bufferAttribute;E.bumpMap;E.burn;E.bvec2;E.bvec3;E.bvec4;E.bypass;E.cache;E.call;E.cameraFar;E.cameraIndex;E.cameraNear;E.cameraNormalMatrix;E.cameraPosition;E.cameraProjectionMatrix;E.cameraProjectionMatrixInverse;E.cameraViewMatrix;E.cameraWorldMatrix;E.cbrt;E.cdl;E.ceil;E.checker;E.cineonToneMapping;E.clamp;E.clearcoat;E.clearcoatRoughness;E.code;E.color;E.colorSpaceToWorking;E.colorToDirection;E.compute;E.computeSkinning;E.cond;E.Const;E.context;E.convert;E.convertColorSpace;E.convertToTexture;const QF=E.cos;E.cross;E.cubeTexture;E.dFdx;E.dFdy;E.dashSize;E.debug;E.defaultBuildStages;E.defaultShaderStages;E.defined;E.degrees;E.deltaTime;E.densityFog;E.densityFogFactor;E.depth;E.depthPass;E.difference;E.diffuseColor;E.directPointLight;E.directionToColor;E.dispersion;E.distance;E.div;E.dodge;E.dot;E.drawIndex;E.dynamicBufferAttribute;E.element;E.emissive;E.equal;E.equals;E.equirectUV;const YF=E.exp;E.exp2;E.expression;E.faceDirection;E.faceForward;E.faceforward;const XF=E.float;E.floor;E.fog;E.fract;E.frameGroup;E.frameId;E.frontFacing;E.fwidth;E.gain;E.gapSize;E.getConstNodeType;E.getCurrentStack;E.getDirection;E.getDistanceAttenuation;E.getGeometryRoughness;E.getNormalFromDepth;E.getParallaxCorrectNormal;E.getRoughness;E.getScreenPosition;E.getShIrradianceAt;E.getTextureIndex;E.getViewPosition;E.glsl;E.glslFn;E.grayscale;E.greaterThan;E.greaterThanEqual;E.hash;E.highpModelNormalViewMatrix;E.highpModelViewMatrix;E.hue;E.instance;const KF=E.instanceIndex;E.instancedArray;E.instancedBufferAttribute;E.instancedDynamicBufferAttribute;E.instancedMesh;E.int;E.inverseSqrt;E.inversesqrt;E.invocationLocalIndex;E.invocationSubgroupIndex;E.ior;E.iridescence;E.iridescenceIOR;E.iridescenceThickness;E.ivec2;E.ivec3;E.ivec4;E.js;E.label;E.length;E.lengthSq;E.lessThan;E.lessThanEqual;E.lightPosition;E.lightTargetDirection;E.lightTargetPosition;E.lightViewPosition;E.lightingContext;E.lights;E.linearDepth;E.linearToneMapping;E.localId;E.globalId;E.log;E.log2;E.logarithmicDepthToViewZ;E.loop;E.luminance;E.mediumpModelViewMatrix;E.mat2;E.mat3;E.mat4;E.matcapUV;E.materialAO;E.materialAlphaTest;E.materialAnisotropy;E.materialAnisotropyVector;E.materialAttenuationColor;E.materialAttenuationDistance;E.materialClearcoat;E.materialClearcoatNormal;E.materialClearcoatRoughness;E.materialColor;E.materialDispersion;E.materialEmissive;E.materialIOR;E.materialIridescence;E.materialIridescenceIOR;E.materialIridescenceThickness;E.materialLightMap;E.materialLineDashOffset;E.materialLineDashSize;E.materialLineGapSize;E.materialLineScale;E.materialLineWidth;E.materialMetalness;E.materialNormal;E.materialOpacity;E.materialPointSize;E.materialReference;E.materialReflectivity;E.materialRefractionRatio;E.materialRotation;E.materialRoughness;E.materialSheen;E.materialSheenRoughness;E.materialShininess;E.materialSpecular;E.materialSpecularColor;E.materialSpecularIntensity;E.materialSpecularStrength;E.materialThickness;E.materialTransmission;E.max;E.maxMipLevel;E.metalness;E.min;E.mix;E.mixElement;E.mod;E.modInt;E.modelDirection;E.modelNormalMatrix;E.modelPosition;E.modelRadius;E.modelScale;E.modelViewMatrix;E.modelViewPosition;E.modelViewProjection;E.modelWorldMatrix;E.modelWorldMatrixInverse;E.morphReference;E.mrt;E.mul;E.mx_aastep;E.mx_cell_noise_float;E.mx_contrast;E.mx_fractal_noise_float;E.mx_fractal_noise_vec2;E.mx_fractal_noise_vec3;E.mx_fractal_noise_vec4;E.mx_hsvtorgb;E.mx_noise_float;E.mx_noise_vec3;E.mx_noise_vec4;E.mx_ramplr;E.mx_ramptb;E.mx_rgbtohsv;E.mx_safepower;E.mx_splitlr;E.mx_splittb;E.mx_srgb_texture_to_lin_rec709;E.mx_transform_uv;E.mx_worley_noise_float;E.mx_worley_noise_vec2;E.mx_worley_noise_vec3;const ZF=E.negate;E.neutralToneMapping;E.nodeArray;E.nodeImmutable;E.nodeObject;E.nodeObjects;E.nodeProxy;E.normalFlat;E.normalGeometry;E.normalLocal;E.normalMap;E.normalView;E.normalWorld;E.normalize;E.not;E.notEqual;E.numWorkgroups;E.objectDirection;E.objectGroup;E.objectPosition;E.objectRadius;E.objectScale;E.objectViewPosition;E.objectWorldMatrix;E.oneMinus;E.or;E.orthographicDepthToViewZ;E.oscSawtooth;E.oscSine;E.oscSquare;E.oscTriangle;E.output;E.outputStruct;E.overlay;E.overloadingFn;E.parabola;E.parallaxDirection;E.parallaxUV;E.parameter;E.pass;E.passTexture;E.pcurve;E.perspectiveDepthToViewZ;E.pmremTexture;E.pointUV;E.pointWidth;E.positionGeometry;E.positionLocal;E.positionPrevious;E.positionView;E.positionViewDirection;E.positionWorld;E.positionWorldDirection;E.posterize;E.pow;E.pow2;E.pow3;E.pow4;E.property;E.radians;E.rand;E.range;E.rangeFog;E.rangeFogFactor;E.reciprocal;E.lightProjectionUV;E.reference;E.referenceBuffer;E.reflect;E.reflectVector;E.reflectView;E.reflector;E.refract;E.refractVector;E.refractView;E.reinhardToneMapping;E.remainder;E.remap;E.remapClamp;E.renderGroup;E.renderOutput;E.rendererReference;E.rotate;E.rotateUV;E.roughness;E.round;E.rtt;E.sRGBTransferEOTF;E.sRGBTransferOETF;E.sampler;E.samplerComparison;E.saturate;E.saturation;E.screen;E.screenCoordinate;E.screenSize;E.screenUV;E.scriptable;E.scriptableValue;E.select;E.setCurrentStack;E.shaderStages;E.shadow;E.pointShadow;E.shadowPositionWorld;E.sharedUniformGroup;E.shapeCircle;E.sheen;E.sheenRoughness;E.shiftLeft;E.shiftRight;E.shininess;E.sign;const JF=E.sin;E.sinc;E.skinning;E.smoothstep;E.smoothstepElement;E.specularColor;E.specularF90;E.spherizeUV;E.split;E.spritesheetUV;const eO=E.sqrt;E.stack;E.step;const tO=E.storage;E.storageBarrier;E.storageObject;E.storageTexture;E.string;E.struct;E.sub;E.subgroupIndex;E.subgroupSize;E.tan;E.tangentGeometry;E.tangentLocal;E.tangentView;E.tangentWorld;E.temp;E.texture;E.texture3D;E.textureBarrier;E.textureBicubic;E.textureCubeUV;E.textureLoad;E.textureSize;E.textureStore;E.thickness;E.threshold;E.time;E.timerDelta;E.timerGlobal;E.timerLocal;E.toOutputColorSpace;E.toWorkingColorSpace;E.toneMapping;E.toneMappingExposure;E.toonOutlinePass;E.transformDirection;E.transformNormal;E.transformNormalToView;E.transformedBentNormalView;E.transformedBitangentView;E.transformedBitangentWorld;E.transformedClearcoatNormalView;E.transformedNormalView;E.transformedNormalWorld;E.transformedTangentView;E.transformedTangentWorld;E.transmission;E.transpose;E.tri;E.tri3;E.triNoise3D;E.triplanarTexture;E.triplanarTextures;E.trunc;E.tslFn;E.uint;const aO=E.uniform;E.uniformArray;E.uniformGroup;E.uniforms;E.userData;E.uv;E.uvec2;E.uvec3;E.uvec4;E.Var;E.varying;E.varyingProperty;E.vec2;E.vec3;E.vec4;E.vectorComponents;E.velocity;E.vertexColor;E.vertexIndex;E.vibrance;E.viewZToLogarithmicDepth;E.viewZToOrthographicDepth;E.viewZToPerspectiveDepth;E.viewport;E.viewportBottomLeft;E.viewportCoordinate;E.viewportDepthTexture;E.viewportLinearDepth;E.viewportMipTexture;E.viewportResolution;E.viewportSafeUV;E.viewportSharedTexture;E.viewportSize;E.viewportTexture;E.viewportTopLeft;E.viewportUV;E.wgsl;E.wgslFn;E.workgroupArray;E.workgroupBarrier;E.workgroupId;E.workingToColorSpace;E.xor;const Rg=new fh,W2=new Re;class Lv extends Bw{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],a=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(a),this.setAttribute("position",new e1(e,3)),this.setAttribute("uv",new e1(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,a=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),a.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const a=new Sl(t,6,1);return this.setAttribute("instanceStart",new Hr(a,3,0)),this.setAttribute("instanceEnd",new Hr(a,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const a=new Sl(t,6,1);return this.setAttribute("instanceColorStart",new Hr(a,3,0)),this.setAttribute("instanceColorEnd",new Hr(a,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new Lw(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fh);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),Rg.setFromBufferAttribute(t),this.boundingBox.union(Rg))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gh),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const a=this.boundingSphere.center;this.boundingBox.getCenter(a);let r=0;for(let s=0,o=e.count;s<o;s++)W2.fromBufferAttribute(e,s),r=Math.max(r,a.distanceToSquared(W2)),W2.fromBufferAttribute(t,s),r=Math.max(r,a.distanceToSquared(W2));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}}rl.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Ot(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};nl.line={uniforms:V8.merge([rl.common,rl.fog,rl.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class Qp extends fA{constructor(e){super({type:"LineMaterial",uniforms:V8.clone(nl.line.uniforms),vertexShader:nl.line.vertexShader,fragmentShader:nl.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(e)}get color(){return this.uniforms.diffuse.value}set color(e){this.uniforms.diffuse.value=e}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(e){e===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(e){this.uniforms.linewidth&&(this.uniforms.linewidth.value=e)}get dashed(){return"USE_DASH"in this.defines}set dashed(e){e===!0!==this.dashed&&(this.needsUpdate=!0),e===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(e){this.uniforms.dashScale.value=e}get dashSize(){return this.uniforms.dashSize.value}set dashSize(e){this.uniforms.dashSize.value=e}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(e){this.uniforms.dashOffset.value=e}get gapSize(){return this.uniforms.gapSize.value}set gapSize(e){this.uniforms.gapSize.value=e}get opacity(){return this.uniforms.opacity.value}set opacity(e){this.uniforms&&(this.uniforms.opacity.value=e)}get resolution(){return this.uniforms.resolution.value}set resolution(e){this.uniforms.resolution.value.copy(e)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(e){this.defines&&(e===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),e===!0?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}const bd=new Ut,Mg=new Re,Cg=new Re,Fa=new Ut,Oa=new Ut,I0=new Ut,Td=new Re,Id=new la,Ua=new qw,Pg=new Re,H2=new fh,j2=new gh,E0=new Ut;let P0,G1;function Bg(n,e,t){return E0.set(0,0,-e,1).applyMatrix4(n.projectionMatrix),E0.multiplyScalar(1/E0.w),E0.x=G1/t.width,E0.y=G1/t.height,E0.applyMatrix4(n.projectionMatrixInverse),E0.multiplyScalar(1/E0.w),Math.abs(Math.max(E0.x,E0.y))}function nO(n,e){const t=n.matrixWorld,a=n.geometry,r=a.attributes.instanceStart,s=a.attributes.instanceEnd,o=Math.min(a.instanceCount,r.count);for(let d=0,c=o;d<c;d++){Ua.start.fromBufferAttribute(r,d),Ua.end.fromBufferAttribute(s,d),Ua.applyMatrix4(t);const g=new Re,D=new Re;P0.distanceSqToSegment(Ua.start,Ua.end,D,g),D.distanceTo(g)<G1*.5&&e.push({point:D,pointOnLine:g,distance:P0.origin.distanceTo(D),object:n,face:null,faceIndex:d,uv:null,uv1:null})}}function rO(n,e,t){const a=e.projectionMatrix,s=n.material.resolution,o=n.matrixWorld,d=n.geometry,c=d.attributes.instanceStart,g=d.attributes.instanceEnd,D=Math.min(d.instanceCount,c.count),m=-e.near;P0.at(1,I0),I0.w=1,I0.applyMatrix4(e.matrixWorldInverse),I0.applyMatrix4(a),I0.multiplyScalar(1/I0.w),I0.x*=s.x/2,I0.y*=s.y/2,I0.z=0,Td.copy(I0),Id.multiplyMatrices(e.matrixWorldInverse,o);for(let _=0,w=D;_<w;_++){if(Fa.fromBufferAttribute(c,_),Oa.fromBufferAttribute(g,_),Fa.w=1,Oa.w=1,Fa.applyMatrix4(Id),Oa.applyMatrix4(Id),Fa.z>m&&Oa.z>m)continue;if(Fa.z>m){const M=Fa.z-Oa.z,B=(Fa.z-m)/M;Fa.lerp(Oa,B)}else if(Oa.z>m){const M=Oa.z-Fa.z,B=(Oa.z-m)/M;Oa.lerp(Fa,B)}Fa.applyMatrix4(a),Oa.applyMatrix4(a),Fa.multiplyScalar(1/Fa.w),Oa.multiplyScalar(1/Oa.w),Fa.x*=s.x/2,Fa.y*=s.y/2,Oa.x*=s.x/2,Oa.y*=s.y/2,Ua.start.copy(Fa),Ua.start.z=0,Ua.end.copy(Oa),Ua.end.z=0;const T=Ua.closestPointToPointParameter(Td,!0);Ua.at(T,Pg);const I=DA.lerp(Fa.z,Oa.z,T),N=I>=-1&&I<=1,R=Td.distanceTo(Pg)<G1*.5;if(N&&R){Ua.start.fromBufferAttribute(c,_),Ua.end.fromBufferAttribute(g,_),Ua.start.applyMatrix4(o),Ua.end.applyMatrix4(o);const M=new Re,B=new Re;P0.distanceSqToSegment(Ua.start,Ua.end,B,M),t.push({point:B,pointOnLine:M,distance:P0.origin.distanceTo(B),object:n,face:null,faceIndex:_,uv:null,uv1:null})}}}class sO extends Da{constructor(e=new Lv,t=new Qp({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,a=e.attributes.instanceEnd,r=new Float32Array(2*t.count);for(let o=0,d=0,c=t.count;o<c;o++,d+=2)Mg.fromBufferAttribute(t,o),Cg.fromBufferAttribute(a,o),r[d]=d===0?0:r[d-1],r[d+1]=r[d]+Mg.distanceTo(Cg);const s=new Sl(r,2,1);return e.setAttribute("instanceDistanceStart",new Hr(s,1,0)),e.setAttribute("instanceDistanceEnd",new Hr(s,1,1)),this}raycast(e,t){const a=this.material.worldUnits,r=e.camera;r===null&&!a&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=e.params.Line2!==void 0&&e.params.Line2.threshold||0;P0=e.ray;const o=this.matrixWorld,d=this.geometry,c=this.material;G1=c.linewidth+s,d.boundingSphere===null&&d.computeBoundingSphere(),j2.copy(d.boundingSphere).applyMatrix4(o);let g;if(a)g=G1*.5;else{const m=Math.max(r.near,j2.distanceToPoint(P0.origin));g=Bg(r,m,c.resolution)}if(j2.radius+=g,P0.intersectsSphere(j2)===!1)return;d.boundingBox===null&&d.computeBoundingBox(),H2.copy(d.boundingBox).applyMatrix4(o);let D;if(a)D=G1*.5;else{const m=Math.max(r.near,H2.distanceToPoint(P0.origin));D=Bg(r,m,c.resolution)}H2.expandByScalar(D),P0.intersectsBox(H2)!==!1&&(a?nO(this,t):rO(this,r,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(bd),this.material.uniforms.resolution.value.set(bd.z,bd.w))}}class qv extends Lv{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,a=new Float32Array(2*t);for(let r=0;r<t;r+=3)a[2*r]=e[r],a[2*r+1]=e[r+1],a[2*r+2]=e[r+2],a[2*r+3]=e[r+3],a[2*r+4]=e[r+4],a[2*r+5]=e[r+5];return super.setPositions(a),this}setColors(e){const t=e.length-3,a=new Float32Array(2*t);for(let r=0;r<t;r+=3)a[2*r]=e[r],a[2*r+1]=e[r+1],a[2*r+2]=e[r+2],a[2*r+3]=e[r+3],a[2*r+4]=e[r+4],a[2*r+5]=e[r+5];return super.setColors(a),this}setFromPoints(e){const t=e.length-1,a=new Float32Array(6*t);for(let r=0;r<t;r++)a[6*r]=e[r].x,a[6*r+1]=e[r].y,a[6*r+2]=e[r].z||0,a[6*r+3]=e[r+1].x,a[6*r+4]=e[r+1].y,a[6*r+5]=e[r+1].z||0;return super.setPositions(a),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class oO extends sO{constructor(e=new qv,t=new Qp({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}class Lg extends Fw{constructor(e,t={}){const a=t.font;if(a===void 0)super();else{const r=a.generateShapes(e,t.size);t.depth===void 0&&(t.depth=50),t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),super(r,t)}this.type="TextGeometry"}}class iO{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const a=[],r=lO(e,t,this.data);for(let s=0,o=r.length;s<o;s++)a.push(...r[s].toShapes());return a}}function lO(n,e,t){const a=Array.from(n),r=e/t.resolution,s=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*r,o=[];let d=0,c=0;for(let g=0;g<a.length;g++){const D=a[g];if(D===`
`)d=0,c-=s;else{const m=AO(D,r,d,c,t);d+=m.offsetX,o.push(m.path)}}return o}function AO(n,e,t,a,r){const s=r.glyphs[n]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");return}const o=new Ow;let d,c,g,D,m,_,w,x;if(s.o){const T=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let I=0,N=T.length;I<N;)switch(T[I++]){case"m":d=T[I++]*e+t,c=T[I++]*e+a,o.moveTo(d,c);break;case"l":d=T[I++]*e+t,c=T[I++]*e+a,o.lineTo(d,c);break;case"q":g=T[I++]*e+t,D=T[I++]*e+a,m=T[I++]*e+t,_=T[I++]*e+a,o.quadraticCurveTo(m,_,g,D);break;case"b":g=T[I++]*e+t,D=T[I++]*e+a,m=T[I++]*e+t,_=T[I++]*e+a,w=T[I++]*e+t,x=T[I++]*e+a,o.bezierCurveTo(m,_,w,x,g,D);break}}return{offsetX:s.ha*e,path:o}}class uO extends L1{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new Ot(.5,.5),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof t.element.ownerDocument.defaultView.Element&&t.element.parentNode!==null&&t.element.remove()})})}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this.center=e.center,this}}new Re;new la;new la;new Re;new Re;function eh(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}function dO(n){if(Array.isArray(n))return n}function cO(n){if(Array.isArray(n))return eh(n)}function Fv(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function hO(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qg(n,e,t,a,r,s,o){try{var d=n[s](o),c=d.value}catch(g){return void t(g)}d.done?e(c):Promise.resolve(c).then(a,r)}function pO(n){return function(){var e=this,t=arguments;return new Promise(function(a,r){var s=n.apply(e,t);function o(c){qg(s,a,r,o,d,"next",c)}function d(c){qg(s,a,r,o,d,"throw",c)}o(void 0)})}}function jA(n,e,t){return e=so(e),SO(n,Xp()?Reflect.construct(e,t||[],so(n).constructor):e.apply(n,t))}function gO(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $A(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Uo(n,e){return n.get(Fv(n,e))}function Ed(n,e,t){gO(n,e),e.set(n,t)}function kd(n,e,t){return n.set(Fv(n,e),t),t}function Yp(n,e,t){if(Xp())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,e);var r=new(n.bind.apply(n,a));return r}function DO(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,Ov(a.key),a)}}function QA(n,e,t){return e&&DO(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ba(n,e,t){return(e=Ov(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function th(){return th=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,e,t){var a=xO(n,e);if(a){var r=Object.getOwnPropertyDescriptor(a,e);return r.get?r.get.call(arguments.length<3?n:t):r.value}},th.apply(null,arguments)}function so(n){return so=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},so(n)}function YA(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&nh(n,e)}function Xp(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xp=function(){return!!n})()}function fO(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function vO(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var a,r,s,o,d=[],c=!0,g=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;c=!1}else for(;!(c=(a=s.call(t)).done)&&(d.push(a.value),d.length!==e);c=!0);}catch(D){g=!0,r=D}finally{try{if(!c&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(g)throw r}}return d}}function mO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,a)}return t}function Bt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fg(Object(t),!0).forEach(function(a){Ba(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fg(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function _O(n,e){if(n==null)return{};var t,a,r=wO(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(a=0;a<s.length;a++)t=s[a],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function wO(n,e){if(n==null)return{};var t={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.indexOf(a)!==-1)continue;t[a]=n[a]}return t}function SO(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hO(n)}function ah(){ah=function(){return e};var n,e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function($,X,ue){$[X]=ue.value},s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function g($,X,ue){return Object.defineProperty($,X,{value:ue,enumerable:!0,configurable:!0,writable:!0}),$[X]}try{g({},"")}catch{g=function(X,ue,pe){return X[ue]=pe}}function D($,X,ue,pe){var ge=X&&X.prototype instanceof N?X:N,Ee=Object.create(ge.prototype),Ce=new de(pe||[]);return r(Ee,"_invoke",{value:ne($,ue,Ce)}),Ee}function m($,X,ue){try{return{type:"normal",arg:$.call(X,ue)}}catch(pe){return{type:"throw",arg:pe}}}e.wrap=D;var _="suspendedStart",w="suspendedYield",x="executing",T="completed",I={};function N(){}function R(){}function M(){}var B={};g(B,o,function(){return this});var F=Object.getPrototypeOf,L=F&&F(F(te([])));L&&L!==t&&a.call(L,o)&&(B=L);var O=M.prototype=N.prototype=Object.create(B);function G($){["next","throw","return"].forEach(function(X){g($,X,function(ue){return this._invoke(X,ue)})})}function j($,X){function ue(ge,Ee,Ce,Le){var Xe=m($[ge],$,Ee);if(Xe.type!=="throw"){var it=Xe.arg,St=it.value;return St&&typeof St=="object"&&a.call(St,"__await")?X.resolve(St.__await).then(function(Yt){ue("next",Yt,Ce,Le)},function(Yt){ue("throw",Yt,Ce,Le)}):X.resolve(St).then(function(Yt){it.value=Yt,Ce(it)},function(Yt){return ue("throw",Yt,Ce,Le)})}Le(Xe.arg)}var pe;r(this,"_invoke",{value:function(ge,Ee){function Ce(){return new X(function(Le,Xe){ue(ge,Ee,Le,Xe)})}return pe=pe?pe.then(Ce,Ce):Ce()}})}function ne($,X,ue){var pe=_;return function(ge,Ee){if(pe===x)throw Error("Generator is already running");if(pe===T){if(ge==="throw")throw Ee;return{value:n,done:!0}}for(ue.method=ge,ue.arg=Ee;;){var Ce=ue.delegate;if(Ce){var Le=Y(Ce,ue);if(Le){if(Le===I)continue;return Le}}if(ue.method==="next")ue.sent=ue._sent=ue.arg;else if(ue.method==="throw"){if(pe===_)throw pe=T,ue.arg;ue.dispatchException(ue.arg)}else ue.method==="return"&&ue.abrupt("return",ue.arg);pe=x;var Xe=m($,X,ue);if(Xe.type==="normal"){if(pe=ue.done?T:w,Xe.arg===I)continue;return{value:Xe.arg,done:ue.done}}Xe.type==="throw"&&(pe=T,ue.method="throw",ue.arg=Xe.arg)}}}function Y($,X){var ue=X.method,pe=$.iterator[ue];if(pe===n)return X.delegate=null,ue==="throw"&&$.iterator.return&&(X.method="return",X.arg=n,Y($,X),X.method==="throw")||ue!=="return"&&(X.method="throw",X.arg=new TypeError("The iterator does not provide a '"+ue+"' method")),I;var ge=m(pe,$.iterator,X.arg);if(ge.type==="throw")return X.method="throw",X.arg=ge.arg,X.delegate=null,I;var Ee=ge.arg;return Ee?Ee.done?(X[$.resultName]=Ee.value,X.next=$.nextLoc,X.method!=="return"&&(X.method="next",X.arg=n),X.delegate=null,I):Ee:(X.method="throw",X.arg=new TypeError("iterator result is not an object"),X.delegate=null,I)}function Z($){var X={tryLoc:$[0]};1 in $&&(X.catchLoc=$[1]),2 in $&&(X.finallyLoc=$[2],X.afterLoc=$[3]),this.tryEntries.push(X)}function re($){var X=$.completion||{};X.type="normal",delete X.arg,$.completion=X}function de($){this.tryEntries=[{tryLoc:"root"}],$.forEach(Z,this),this.reset(!0)}function te($){if($||$===""){var X=$[o];if(X)return X.call($);if(typeof $.next=="function")return $;if(!isNaN($.length)){var ue=-1,pe=function ge(){for(;++ue<$.length;)if(a.call($,ue))return ge.value=$[ue],ge.done=!1,ge;return ge.value=n,ge.done=!0,ge};return pe.next=pe}}throw new TypeError(typeof $+" is not iterable")}return R.prototype=M,r(O,"constructor",{value:M,configurable:!0}),r(M,"constructor",{value:R,configurable:!0}),R.displayName=g(M,c,"GeneratorFunction"),e.isGeneratorFunction=function($){var X=typeof $=="function"&&$.constructor;return!!X&&(X===R||(X.displayName||X.name)==="GeneratorFunction")},e.mark=function($){return Object.setPrototypeOf?Object.setPrototypeOf($,M):($.__proto__=M,g($,c,"GeneratorFunction")),$.prototype=Object.create(O),$},e.awrap=function($){return{__await:$}},G(j.prototype),g(j.prototype,d,function(){return this}),e.AsyncIterator=j,e.async=function($,X,ue,pe,ge){ge===void 0&&(ge=Promise);var Ee=new j(D($,X,ue,pe),ge);return e.isGeneratorFunction(X)?Ee:Ee.next().then(function(Ce){return Ce.done?Ce.value:Ee.next()})},G(O),g(O,c,"Generator"),g(O,o,function(){return this}),g(O,"toString",function(){return"[object Generator]"}),e.keys=function($){var X=Object($),ue=[];for(var pe in X)ue.push(pe);return ue.reverse(),function ge(){for(;ue.length;){var Ee=ue.pop();if(Ee in X)return ge.value=Ee,ge.done=!1,ge}return ge.done=!0,ge}},e.values=te,de.prototype={constructor:de,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(re),!$)for(var X in this)X.charAt(0)==="t"&&a.call(this,X)&&!isNaN(+X.slice(1))&&(this[X]=n)},stop:function(){this.done=!0;var $=this.tryEntries[0].completion;if($.type==="throw")throw $.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var X=this;function ue(Xe,it){return Ee.type="throw",Ee.arg=$,X.next=Xe,it&&(X.method="next",X.arg=n),!!it}for(var pe=this.tryEntries.length-1;pe>=0;--pe){var ge=this.tryEntries[pe],Ee=ge.completion;if(ge.tryLoc==="root")return ue("end");if(ge.tryLoc<=this.prev){var Ce=a.call(ge,"catchLoc"),Le=a.call(ge,"finallyLoc");if(Ce&&Le){if(this.prev<ge.catchLoc)return ue(ge.catchLoc,!0);if(this.prev<ge.finallyLoc)return ue(ge.finallyLoc)}else if(Ce){if(this.prev<ge.catchLoc)return ue(ge.catchLoc,!0)}else{if(!Le)throw Error("try statement without catch or finally");if(this.prev<ge.finallyLoc)return ue(ge.finallyLoc)}}}},abrupt:function($,X){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var pe=this.tryEntries[ue];if(pe.tryLoc<=this.prev&&a.call(pe,"finallyLoc")&&this.prev<pe.finallyLoc){var ge=pe;break}}ge&&($==="break"||$==="continue")&&ge.tryLoc<=X&&X<=ge.finallyLoc&&(ge=null);var Ee=ge?ge.completion:{};return Ee.type=$,Ee.arg=X,ge?(this.method="next",this.next=ge.finallyLoc,I):this.complete(Ee)},complete:function($,X){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&X&&(this.next=X),I},finish:function($){for(var X=this.tryEntries.length-1;X>=0;--X){var ue=this.tryEntries[X];if(ue.finallyLoc===$)return this.complete(ue.completion,ue.afterLoc),re(ue),I}},catch:function($){for(var X=this.tryEntries.length-1;X>=0;--X){var ue=this.tryEntries[X];if(ue.tryLoc===$){var pe=ue.completion;if(pe.type==="throw"){var ge=pe.arg;re(ue)}return ge}}throw Error("illegal catch attempt")},delegateYield:function($,X,ue){return this.delegate={iterator:te($),resultName:X,nextLoc:ue},this.method==="next"&&(this.arg=n),I}},e}function nh(n,e){return nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},nh(n,e)}function ta(n,e){return dO(n)||vO(n,e)||Uv(n,e)||mO()}function xO(n,e){for(;!{}.hasOwnProperty.call(n,e)&&(n=so(n))!==null;);return n}function Nd(n,e,t,a){var r=th(so(n.prototype),e,t);return typeof r=="function"?function(s){return r.apply(t,s)}:r}function Gt(n){return cO(n)||fO(n)||Uv(n)||yO()}function bO(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ov(n){var e=bO(n,"string");return typeof e=="symbol"?e:e+""}function Uv(n,e){if(n){if(typeof n=="string")return eh(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?eh(n,e):void 0}}var Gv=function(e){e instanceof Array?e.forEach(Gv):(e.map&&e.map.dispose(),e.dispose())},Kp=function(e){e.geometry&&e.geometry.dispose(),e.material&&Gv(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(Kp)},Ht=function(e){if(e&&e.children)for(;e.children.length;){var t=e.children[0];e.remove(t),Kp(t)}};function cn(n,e){var t=new e;return{linkProp:function(r){return{default:t[r](),onChange:function(o,d){d[n][r](o)},triggerUpdate:!1}},linkMethod:function(r){return function(s){for(var o=s[n],d=arguments.length,c=new Array(d>1?d-1:0),g=1;g<d;g++)c[g-1]=arguments[g];var D=o[r].apply(o,c);return D===o?this:D}}}}var Kt=100;function Og(){return Kt}function t0(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=(90-n)*Math.PI/180,r=(90-e)*Math.PI/180,s=Kt*(1+t),o=Math.sin(a);return{x:s*o*Math.cos(r),y:s*Math.cos(a),z:s*o*Math.sin(r)}}function Vv(n){var e=n.x,t=n.y,a=n.z,r=Math.sqrt(e*e+t*t+a*a),s=Math.acos(t/r),o=Math.atan2(a,e);return{lat:90-s*180/Math.PI,lng:90-o*180/Math.PI-(o<-Math.PI/2?360:0),altitude:r/Kt-1}}function k1(n){return n*Math.PI/180}var Li=window.THREE?window.THREE:{BackSide:_n,BufferAttribute:D0,Color:za,Mesh:Da,ShaderMaterial:fA},TO=`
uniform float hollowRadius;

varying vec3 vVertexWorldPosition;
varying vec3 vVertexNormal;
varying float vCameraDistanceToObjCenter;
varying float vVertexAngularDistanceToHollowRadius;

void main() {    
  vVertexNormal	= normalize(normalMatrix * normal);
  vVertexWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;
  
  vec4 objCenterViewPosition = modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);
  vCameraDistanceToObjCenter = length(objCenterViewPosition);
  
  float edgeAngle = atan(hollowRadius / vCameraDistanceToObjCenter);
  float vertexAngle = acos(dot(normalize(modelViewMatrix * vec4(position, 1.0)), normalize(objCenterViewPosition)));
  vVertexAngularDistanceToHollowRadius = vertexAngle - edgeAngle;

  gl_Position	= projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`,IO=`
uniform vec3 color;
uniform float coefficient;
uniform float power;
uniform float hollowRadius;

varying vec3 vVertexNormal;
varying vec3 vVertexWorldPosition;
varying float vCameraDistanceToObjCenter;
varying float vVertexAngularDistanceToHollowRadius;

void main() {
  if (vCameraDistanceToObjCenter < hollowRadius) discard; // inside the hollowRadius
  if (vVertexAngularDistanceToHollowRadius < 0.0) discard; // frag position is within the hollow radius

  vec3 worldCameraToVertex = vVertexWorldPosition - cameraPosition;
  vec3 viewCameraToVertex	= (viewMatrix * vec4(worldCameraToVertex, 0.0)).xyz;
  viewCameraToVertex = normalize(viewCameraToVertex);
  float intensity	= pow(
    coefficient + dot(vVertexNormal, viewCameraToVertex),
    power
  );
  gl_FragColor = vec4(color, intensity);
}`;function EO(n,e,t,a){return new Li.ShaderMaterial({depthWrite:!1,transparent:!0,vertexShader:TO,fragmentShader:IO,uniforms:{coefficient:{value:n},color:{value:new Li.Color(e)},power:{value:t},hollowRadius:{value:a}}})}function kO(n,e){for(var t=n.clone(),a=new Float32Array(n.attributes.position.count*3),r=0,s=a.length;r<s;r++){var o=n.attributes.normal.array[r],d=n.attributes.position.array[r];a[r]=d+o*e}return t.setAttribute("position",new Li.BufferAttribute(a,3)),t}var NO=function(n){function e(t){var a,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.color,o=s===void 0?"gold":s,d=r.size,c=d===void 0?2:d,g=r.coefficient,D=g===void 0?.5:g,m=r.power,_=m===void 0?1:m,w=r.hollowRadius,x=w===void 0?0:w,T=r.backside,I=T===void 0?!0:T;$A(this,e),a=jA(this,e);var N=kO(t,c),R=EO(D,o,_,x);return I&&(R.side=Li.BackSide),a.geometry=N,a.material=R,a}return YA(e,n),QA(e)}(Li.Mesh),k0=window.THREE?window.THREE:{Color:za,Group:Y0,LineBasicMaterial:gA,LineSegments:z8,Mesh:Da,MeshPhongMaterial:P8,SphereGeometry:j1,SRGBColorSpace:ut,TextureLoader:Kg},zv=an({props:{globeImageUrl:{},bumpImageUrl:{},showGlobe:{default:!0,onChange:function(e,t){t.globeGroup.visible=!!e},triggerUpdate:!1},showGraticules:{default:!1,onChange:function(e,t){t.graticulesObj.visible=!!e},triggerUpdate:!1},showAtmosphere:{default:!0,onChange:function(e,t){t.atmosphereObj&&(t.atmosphereObj.visible=!!e)},triggerUpdate:!1},atmosphereColor:{default:"lightskyblue"},atmosphereAltitude:{default:.15},globeTileEngineUrl:{onChange:function(e,t){t.tileEngine.tileUrl=e}},globeTileEngineMaxLevel:{default:17,onChange:function(e,t){t.tileEngine.maxLevel=e},triggerUpdate:!1},updatePov:{onChange:function(e,t){t.tileEngine.updatePov(e)},triggerUpdate:!1},onReady:{default:function(){},triggerUpdate:!1}},methods:{globeMaterial:function(e,t){return t!==void 0?(e.globeObj.material=t||e.defaultGlobeMaterial,this):e.globeObj.material},_destructor:function(e){Ht(e.globeObj),Ht(e.tileEngine),Ht(e.graticulesObj)}},stateInit:function(){var e=new k0.SphereGeometry(Kt,75,75),t=new k0.MeshPhongMaterial({color:0}),a=new k0.Mesh(e,t);a.rotation.y=-Math.PI/2;var r=new mb(Kt),s=new k0.Group;s.__globeObjType="globe",s.add(a),s.add(r);var o=new k0.LineSegments(new MD(qx(),Kt,2),new k0.LineBasicMaterial({color:"lightgrey",transparent:!0,opacity:.1}));return{globeGroup:s,globeObj:a,graticulesObj:o,defaultGlobeMaterial:t,tileEngine:r}},init:function(e,t){Ht(e),t.scene=e,t.scene.add(t.globeGroup),t.scene.add(t.graticulesObj),t.ready=!1},update:function(e,t){var a=e.globeObj.material;if(e.tileEngine.visible=!(e.globeObj.visible=!e.globeTileEngineUrl),t.hasOwnProperty("globeImageUrl")&&(e.globeImageUrl?new k0.TextureLoader().load(e.globeImageUrl,function(s){s.colorSpace=k0.SRGBColorSpace,a.map=s,a.color=null,a.needsUpdate=!0,!e.ready&&(e.ready=!0)&&setTimeout(e.onReady)}):!a.color&&(a.color=new k0.Color(0))),t.hasOwnProperty("bumpImageUrl")&&(e.bumpImageUrl?e.bumpImageUrl&&new k0.TextureLoader().load(e.bumpImageUrl,function(s){a.bumpMap=s,a.needsUpdate=!0}):(a.bumpMap=null,a.needsUpdate=!0)),(t.hasOwnProperty("atmosphereColor")||t.hasOwnProperty("atmosphereAltitude"))&&(e.atmosphereObj&&(e.scene.remove(e.atmosphereObj),Ht(e.atmosphereObj)),e.atmosphereColor&&e.atmosphereAltitude)){var r=e.atmosphereObj=new NO(e.globeObj.geometry,{color:e.atmosphereColor,size:Kt*e.atmosphereAltitude,hollowRadius:Kt,coefficient:.1,power:3.5});r.visible=!!e.showAtmosphere,r.__globeObjType="atmosphere",e.scene.add(r)}!e.ready&&(!e.globeImageUrl||e.globeTileEngineUrl)&&(e.ready=!0,e.onReady())}}),$0=function(e){return isNaN(e)?parseInt(Ve(e).toHex(),16):e},m0=function(e){return e&&isNaN(e)?H8(e).opacity:1},r1=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r,s=1,o=/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.eE+-]+)\s*\)$/.exec(e.trim().toLowerCase());if(o){var d=o.slice(1),c=ta(d,4),g=c[0],D=c[1],m=c[2],_=c[3];r=new za("rgb(".concat(+g,",").concat(+D,",").concat(+m,")")),s=Math.min(+_,1)}else r=new za(e);a&&r.convertLinearToSRGB();var w=r.toArray();return t?[].concat(Gt(w),[s]):w};function RO(n,e,t){return n.opacity=e,n.transparent=e<1,n.depthWrite=e>=1,n}var Ug=window.THREE?window.THREE:{BufferAttribute:D0};function Q0(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float32Array;if(e===1)return new Ug.BufferAttribute(new t(n),e);for(var a=new Ug.BufferAttribute(new t(n.length*e),e),r=0,s=n.length;r<s;r++)a.set(n[r],r*e);return a}function MO(n){for(var e=n.itemSize,t=[],a=0;a<n.count;a++)t.push(n.array.slice(a*e,(a+1)*e));return t}var Rd=new WeakMap,$2=new WeakMap,Q2=new WeakMap,Tn=function(n){function e(t){var a,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.dataBindAttr,o=s===void 0?"__data":s,d=r.objBindAttr,c=d===void 0?"__threeObj":d,g=r.removeDelay,D=g===void 0?0:g;return $A(this,e),a=jA(this,e),Ba(a,"scene",void 0),Ed(a,Rd,void 0),Ed(a,$2,void 0),Ed(a,Q2,void 0),a.scene=t,kd(Rd,a,o),kd($2,a,c),kd(Q2,a,D),a.onRemoveObj(function(){}),a}return YA(e,n),QA(e,[{key:"onCreateObj",value:function(a){var r=this;return Nd(e,"onCreateObj",this)([function(s){var o=a(s);return s[Uo($2,r)]=o,o[Uo(Rd,r)]=s,r.scene.add(o),o}]),this}},{key:"onRemoveObj",value:function(a){var r=this;return Nd(e,"onRemoveObj",this)([function(s,o){var d=Nd(e,"getData",r)([s]);a(s,o);var c=function(){r.scene.remove(s),Ht(s),delete d[Uo($2,r)]};Uo(Q2,r)?setTimeout(c,Uo(Q2,r)):c()}]),this}}])}(QT),s0=window.THREE?window.THREE:{BufferGeometry:a0,CylinderGeometry:n8,Matrix4:la,Mesh:Da,MeshLambertMaterial:Sr,Object3D:L1,Vector3:Re},Gg=Object.assign({},Ih),Vg=Gg.BufferGeometryUtils||Gg,Wv=an({props:{pointsData:{default:[]},pointLat:{default:"lat"},pointLng:{default:"lng"},pointColor:{default:function(){return"#ffffaa"}},pointAltitude:{default:.1},pointRadius:{default:.25},pointResolution:{default:12,triggerUpdate:!1},pointsMerge:{default:!1},pointsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,a){var r=a.tweenGroup;Ht(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Tn(e,{objBindAttr:"__threeObjPoint"})},update:function(e,t){var a=xe(e.pointLat),r=xe(e.pointLng),s=xe(e.pointAltitude),o=xe(e.pointRadius),d=xe(e.pointColor),c=new s0.CylinderGeometry(1,1,1,e.pointResolution);c.applyMatrix4(new s0.Matrix4().makeRotationX(Math.PI/2)),c.applyMatrix4(new s0.Matrix4().makeTranslation(0,0,-.5));var g=2*Math.PI*Kt/360,D={};if(!e.pointsMerge&&t.hasOwnProperty("pointsMerge")&&Ht(e.scene),e.dataMapper.scene=e.pointsMerge?new s0.Object3D:e.scene,e.dataMapper.onCreateObj(w).onUpdateObj(x).digest(e.pointsData),e.pointsMerge){var m=e.pointsData.length?(Vg.mergeGeometries||Vg.mergeBufferGeometries)(e.pointsData.map(function(T){var I=e.dataMapper.getObj(T),N=I.geometry.clone();I.updateMatrix(),N.applyMatrix4(I.matrix);var R=r1(d(T));return N.setAttribute("color",Q0(Array(N.getAttribute("position").count).fill(R),4)),N})):new s0.BufferGeometry,_=new s0.Mesh(m,new s0.MeshLambertMaterial({color:16777215,transparent:!0,vertexColors:!0}));_.__globeObjType="points",_.__data=e.pointsData,e.dataMapper.clear(),Ht(e.scene),e.scene.add(_)}function w(){var T=new s0.Mesh(c);return T.__globeObjType="point",T}function x(T,I){var N=function(G){var j=T.__currentTargetD=G,ne=j.r,Y=j.alt,Z=j.lat,re=j.lng;Object.assign(T.position,t0(Z,re));var de=e.pointsMerge?new s0.Vector3(0,0,0):e.scene.localToWorld(new s0.Vector3(0,0,0));T.lookAt(de),T.scale.x=T.scale.y=Math.min(30,ne)*g,T.scale.z=Math.max(Y*Kt,.1)},R={alt:+s(I),r:+o(I),lat:+a(I),lng:+r(I)},M=T.__currentTargetD||Object.assign({},R,{alt:-.001});if(Object.keys(R).some(function(O){return M[O]!==R[O]})&&(e.pointsMerge||!e.pointsTransitionDuration||e.pointsTransitionDuration<0?N(R):e.tweenGroup.add(new Ln(M).to(R,e.pointsTransitionDuration).easing(Va.Quadratic.InOut).onUpdate(N).start())),!e.pointsMerge){var B=d(I),F=B?m0(B):0,L=!!F;T.visible=L,L&&(D.hasOwnProperty(B)||(D[B]=new s0.MeshLambertMaterial({color:$0(B),transparent:F<1,opacity:F})),T.material=D[B])}}}}),Hv=function(){return{uniforms:{dashOffset:{value:0},dashSize:{value:1},gapSize:{value:0},dashTranslate:{value:0}},vertexShader:`
    uniform float dashTranslate; 

    attribute vec4 color;
    varying vec4 vColor;
    
    attribute float relDistance;
    varying float vRelDistance;

    void main() {
      // pass through colors and distances
      vColor = color;
      vRelDistance = relDistance + dashTranslate;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
  `,fragmentShader:`
    uniform float dashOffset; 
    uniform float dashSize;
    uniform float gapSize; 
    
    varying vec4 vColor;
    varying float vRelDistance;
    
    void main() {
      // ignore pixels in the gap
      if (vRelDistance < dashOffset) discard;
      if (mod(vRelDistance - dashOffset, dashSize + gapSize) > dashSize) discard;
    
      // set px color: [r, g, b, a], interpolated between vertices 
      gl_FragColor = vColor; 
    }
  `}},rh=function(e){return e.uniforms.surfaceRadius={type:"float",value:0},e.vertexShader=(`attribute float surfaceRadius;
varying float vSurfaceRadius;
varying vec3 vPos;
`+e.vertexShader).replace("void main() {",["void main() {","vSurfaceRadius = surfaceRadius;","vPos = position;"].join(`
`)),e.fragmentShader=(`uniform float surfaceRadius;
varying float vSurfaceRadius;
varying vec3 vPos;
`+e.fragmentShader).replace("void main() {",["void main() {","if (length(vPos) < max(surfaceRadius, vSurfaceRadius)) discard;"].join(`
`)),e},CO=function(e){return e.vertexShader=`
    attribute float r;
    
    const float PI = 3.1415926535897932384626433832795;
    float toRad(in float a) {
      return a * PI / 180.0;
    }
    
    vec3 Polar2Cartesian(in vec3 c) { // [lat, lng, r]
      float phi = toRad(90.0 - c.x);
      float theta = toRad(90.0 - c.y);
      float r = c.z;
      return vec3( // x,y,z
        r * sin(phi) * cos(theta),
        r * cos(phi),
        r * sin(phi) * sin(theta)
      );
    }
    
    vec2 Cartesian2Polar(in vec3 p) {
      float r = sqrt(p.x * p.x + p.y * p.y + p.z * p.z);
      float phi = acos(p.y / r);
      float theta = atan(p.z, p.x);
      return vec2( // lat,lng
        90.0 - phi * 180.0 / PI,
        90.0 - theta * 180.0 / PI - (theta < -PI / 2.0 ? 360.0 : 0.0)
      );
    }
    `.concat(e.vertexShader.replace("}",`                  
        vec3 pos = Polar2Cartesian(vec3(Cartesian2Polar(position), r));
        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
      }
    `),`
  `),e},Zp=function(e,t){return e.onBeforeCompile=function(a){e.userData.shader=t(a)},e},PO=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r){return r};if(e.userData.shader)t(e.userData.shader.uniforms);else{var a=e.onBeforeCompile;e.onBeforeCompile=function(r){a(r),t(r.uniforms)}}},BO=["stroke"],o0=window.THREE?window.THREE:{BufferGeometry:a0,CubicBezierCurve3:Gw,Curve:Vw,Group:Y0,Line:vh,Mesh:Da,NormalBlending:Qr,ShaderMaterial:fA,TubeGeometry:Uw,Vector3:Re},LO=Zs.default||Zs,jv=an({props:{arcsData:{default:[]},arcStartLat:{default:"startLat"},arcStartLng:{default:"startLng"},arcEndLat:{default:"endLat"},arcEndLng:{default:"endLng"},arcColor:{default:function(){return"#ffffaa"}},arcAltitude:{},arcAltitudeAutoScale:{default:.5},arcStroke:{},arcCurveResolution:{default:64,triggerUpdate:!1},arcCircularResolution:{default:6,triggerUpdate:!1},arcDashLength:{default:1},arcDashGap:{default:0},arcDashInitialGap:{default:0},arcDashAnimateTime:{default:0},arcsTransitionDuration:{default:1e3,triggerUpdate:!1}},methods:{pauseAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.pause()},resumeAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.resume()},_destructor:function(e){var t;e.sharedMaterial.dispose(),(t=e.ticker)===null||t===void 0||t.dispose()}},stateInit:function(e){var t=e.tweenGroup;return{tweenGroup:t,ticker:new LO,sharedMaterial:new o0.ShaderMaterial(Bt(Bt({},Hv()),{},{transparent:!0,blending:o0.NormalBlending}))}},init:function(e,t){Ht(e),t.scene=e,t.dataMapper=new Tn(e,{objBindAttr:"__threeObjArc"}).onCreateObj(function(){var a=new o0.Group;return a.__globeObjType="arc",a}),t.ticker.onTick.add(function(a,r){t.dataMapper.entries().map(function(s){var o=ta(s,2),d=o[1];return d}).filter(function(s){return s.children.length&&s.children[0].material&&s.children[0].__dashAnimateStep}).forEach(function(s){var o=s.children[0],d=o.__dashAnimateStep*r,c=o.material.uniforms.dashTranslate.value%1e9;o.material.uniforms.dashTranslate.value=c+d})})},update:function(e){var t=xe(e.arcStartLat),a=xe(e.arcStartLng),r=xe(e.arcEndLat),s=xe(e.arcEndLng),o=xe(e.arcAltitude),d=xe(e.arcAltitudeAutoScale),c=xe(e.arcStroke),g=xe(e.arcColor),D=xe(e.arcDashLength),m=xe(e.arcDashGap),_=xe(e.arcDashInitialGap),w=xe(e.arcDashAnimateTime);e.dataMapper.onUpdateObj(function(N,R){var M=c(R),B=M!=null;if(!N.children.length||B!==(N.children[0].type==="Mesh")){Ht(N);var F=B?new o0.Mesh:new o0.Line(new o0.BufferGeometry);F.material=e.sharedMaterial.clone(),N.add(F)}var L=N.children[0];Object.assign(L.material.uniforms,{dashSize:{value:D(R)},gapSize:{value:m(R)},dashOffset:{value:_(R)}});var O=w(R);L.__dashAnimateStep=O>0?1e3/O:0;var G=T(g(R),e.arcCurveResolution,B?e.arcCircularResolution+1:1),j=I(e.arcCurveResolution,B?e.arcCircularResolution+1:1,!0);L.geometry.setAttribute("color",G),L.geometry.setAttribute("relDistance",j);var ne=function(de){var te=N.__currentTargetD=de,$=te.stroke,X=_O(te,BO),ue=x(X);B?(L.geometry&&L.geometry.dispose(),L.geometry=new o0.TubeGeometry(ue,e.arcCurveResolution,$/2,e.arcCircularResolution),L.geometry.setAttribute("color",G),L.geometry.setAttribute("relDistance",j)):L.geometry.setFromPoints(ue.getPoints(e.arcCurveResolution))},Y={stroke:M,alt:o(R),altAutoScale:+d(R),startLat:+t(R),startLng:+a(R),endLat:+r(R),endLng:+s(R)},Z=N.__currentTargetD||Object.assign({},Y,{altAutoScale:-.001});Object.keys(Y).some(function(re){return Z[re]!==Y[re]})&&(!e.arcsTransitionDuration||e.arcsTransitionDuration<0?ne(Y):e.tweenGroup.add(new Ln(Z).to(Y,e.arcsTransitionDuration).easing(Va.Quadratic.InOut).onUpdate(ne).start()))}).digest(e.arcsData);function x(N){var R=N.alt,M=N.altAutoScale,B=N.startLat,F=N.startLng,L=N.endLat,O=N.endLng,G=function(Ee){var Ce=ta(Ee,3),Le=Ce[0],Xe=Ce[1],it=Ce[2],St=t0(Xe,Le,it),Yt=St.x,$a=St.y,It=St.z;return new o0.Vector3(Yt,$a,It)},j=[F,B],ne=[O,L],Y=R;if(Y==null&&(Y=a1(j,ne)/2*M),Y){var Z=wh(j,ne),re=[.25,.75].map(function(ge){return[].concat(Gt(Z(ge)),[Y*1.5])}),de=ta(re,2),te=de[0],$=de[1],X=Yp(o0.CubicBezierCurve3,Gt([j,te,$,ne].map(G)));return X}else{var ue=.001;return pe.apply(void 0,Gt([[].concat(j,[ue]),[].concat(ne,[ue])].map(G)))}function pe(ge,Ee){var Ce=ge.angleTo(Ee),Le=Ce===0?function(){return ge.clone()}:function(it){return new o0.Vector3().addVectors(ge.clone().multiplyScalar(Math.sin((1-it)*Ce)),Ee.clone().multiplyScalar(Math.sin(it*Ce))).divideScalar(Math.sin(Ce))},Xe=new o0.Curve;return Xe.getPoint=Le,Xe}}function T(N,R){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,B=R+1,F;if(N instanceof Array||N instanceof Function){var L=N instanceof Array?t1().domain(N.map(function(re,de){return de/(N.length-1)})).range(N):N;F=function(de){return r1(L(de),!0,!0)}}else{var O=r1(N,!0,!0);F=function(){return O}}for(var G=[],j=0,ne=B;j<ne;j++)for(var Y=F(j/(ne-1)),Z=0;Z<M;Z++)G.push(Y);return Q0(G,4)}function I(N){for(var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=N+1,F=[],L=0,O=B;L<O;L++)for(var G=L/(O-1),j=0;j<R;j++)F.push(G);return M&&F.reverse(),Q0(F,1)}}}),Lr=window.THREE?window.THREE:{BufferGeometry:a0,DoubleSide:f0,Mesh:Da,MeshLambertMaterial:Sr,Object3D:L1},zg=Object.assign({},Ih),Wg=zg.BufferGeometryUtils||zg,$v=an({props:{hexBinPointsData:{default:[]},hexBinPointLat:{default:"lat"},hexBinPointLng:{default:"lng"},hexBinPointWeight:{default:1},hexBinResolution:{default:4},hexMargin:{default:.2},hexTopCurvatureResolution:{default:5},hexTopColor:{default:function(){return"#ffffaa"}},hexSideColor:{default:function(){return"#ffffaa"}},hexAltitude:{default:function(e){var t=e.sumWeight;return t*.01}},hexBinMerge:{default:!1},hexTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,a){var r=a.tweenGroup;Ht(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Tn(e,{objBindAttr:"__threeObjHexbin"})},update:function(e,t){var a=xe(e.hexBinPointLat),r=xe(e.hexBinPointLng),s=xe(e.hexBinPointWeight),o=xe(e.hexAltitude),d=xe(e.hexTopColor),c=xe(e.hexSideColor),g=xe(e.hexMargin),D=DE(e.hexBinPointsData.map(function(R){return Bt(Bt({},R),{},{h3Idx:KE(a(R),r(R),e.hexBinResolution)})}),"h3Idx"),m=Object.entries(D).map(function(R){var M=ta(R,2),B=M[0],F=M[1];return{h3Idx:B,points:F,sumWeight:F.reduce(function(L,O){return L+ +s(O)},0)}}),_={};if(!e.hexBinMerge&&t.hasOwnProperty("hexBinMerge")&&Ht(e.scene),e.dataMapper.scene=e.hexBinMerge?new Lr.Object3D:e.scene,e.dataMapper.id(function(R){return R.h3Idx}).onCreateObj(I).onUpdateObj(N).digest(m),e.hexBinMerge){var w=m.length?(Wg.mergeGeometries||Wg.mergeBufferGeometries)(m.map(function(R){var M=e.dataMapper.getObj(R),B=M.geometry.toNonIndexed();M.updateMatrix(),B.applyMatrix4(M.matrix);var F=r1(d(R)),L=r1(c(R)),O=B.getAttribute("position").count,G=B.groups[0].count;return B.setAttribute("color",Q0(Gt(new Array(O)).map(function(j,ne){return ne>=G?F:L}),4)),B})):new Lr.BufferGeometry,x=new Lr.MeshLambertMaterial({color:16777215,transparent:!0,vertexColors:!0,side:Lr.DoubleSide});x.onBeforeCompile=function(R){x.userData.shader=rh(R)};var T=new Lr.Mesh(w,x);T.__globeObjType="hexBinPoints",T.__data=m,e.dataMapper.clear(),Ht(e.scene),e.scene.add(T)}function I(R){var M=new Lr.Mesh;M.__hexCenter=KD(R.h3Idx),M.__hexGeoJson=ZD(R.h3Idx,!0).reverse();var B=M.__hexCenter[1];return M.__hexGeoJson.forEach(function(F){var L=F[0];Math.abs(B-L)>170&&(F[0]+=B>L?360:-360)}),M.__globeObjType="hexbin",M}function N(R,M){var B=function(X,ue,pe){return X-(X-ue)*pe},F=Math.max(0,Math.min(1,+g(M))),L=ta(R.__hexCenter,2),O=L[0],G=L[1],j=F===0?R.__hexGeoJson:R.__hexGeoJson.map(function($){var X=ta($,2),ue=X[0],pe=X[1];return[[ue,G],[pe,O]].map(function(ge){var Ee=ta(ge,2),Ce=Ee[0],Le=Ee[1];return B(Ce,Le,F)})}),ne=e.hexTopCurvatureResolution;R.geometry&&R.geometry.dispose(),R.geometry=new Mh([j],0,Kt,!1,!0,!0,ne);var Y={alt:+o(M)},Z=function(X){var ue=R.__currentTargetD=X,pe=ue.alt;R.scale.x=R.scale.y=R.scale.z=1+pe;var ge=Kt/(pe+1);R.geometry.setAttribute("surfaceRadius",Q0(Array(R.geometry.getAttribute("position").count).fill(ge),1))},re=R.__currentTargetD||Object.assign({},Y,{alt:-.001});if(Object.keys(Y).some(function($){return re[$]!==Y[$]})&&(e.hexBinMerge||!e.hexTransitionDuration||e.hexTransitionDuration<0?Z(Y):e.tweenGroup.add(new Ln(re).to(Y,e.hexTransitionDuration).easing(Va.Quadratic.InOut).onUpdate(Z).start())),!e.hexBinMerge){var de=c(M),te=d(M);[de,te].forEach(function($){if(!_.hasOwnProperty($)){var X=m0($);_[$]=Zp(new Lr.MeshLambertMaterial({color:$0($),transparent:X<1,opacity:X,side:Lr.DoubleSide}),rh)}}),R.material=[de,te].map(function($){return _[$]})}}}}),Qv=function(e){return e*e},dr=function(e){return e*Math.PI/180};function qO(n,e){var t=Math.sqrt,a=Math.cos,r=function(D){return Qv(Math.sin(D/2))},s=dr(n[1]),o=dr(e[1]),d=dr(n[0]),c=dr(e[0]);return 2*Math.asin(t(r(o-s)+a(s)*a(o)*r(c-d)))}var FO=Math.sqrt(2*Math.PI);function OO(n,e){return Math.exp(-Qv(n/e)/2)/(e*FO)}var UO=function(e){var t=ta(e,2),a=t[0],r=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=o.lngAccessor,c=d===void 0?function(I){return I[0]}:d,g=o.latAccessor,D=g===void 0?function(I){return I[1]}:g,m=o.weightAccessor,_=m===void 0?function(){return 1}:m,w=o.bandwidth,x=[a,r],T=w*Math.PI/180;return Zw(s.map(function(I){var N=_(I);if(!N)return 0;var R=qO(x,[c(I),D(I)]);return OO(R,T)*N}))},GO=function(){var n=pO(ah().mark(function e(t){var a,r,s,o,d,c,g,D,m,_,w,x,T,I,N,R,M,B,F,L,O,G,j,ne,Y,Z,re,de,te,$,X,ue,pe,ge,Ee,Ce,Le,Xe,it,St,Yt=arguments;return ah().wrap(function(It){for(;;)switch(It.prev=It.next){case 0:if(r=Yt.length>1&&Yt[1]!==void 0?Yt[1]:[],s=Yt.length>2&&Yt[2]!==void 0?Yt[2]:{},o=s.lngAccessor,d=o===void 0?function(Nt){return Nt[0]}:o,c=s.latAccessor,g=c===void 0?function(Nt){return Nt[1]}:c,D=s.weightAccessor,m=D===void 0?function(){return 1}:D,_=s.bandwidth,(a=navigator)!==null&&a!==void 0&&a.gpu){It.next=5;break}return console.warn("WebGPU not enabled in browser. Please consider enabling it to improve performance."),It.abrupt("return",t.map(function(Nt){return UO(Nt,r,{lngAccessor:d,latAccessor:g,weightAccessor:m,bandwidth:_})}));case 5:return w=4,x=WF,T=HF,I=aO,N=tO,R=XF,M=KF,B=jF,F=eO,L=JF,O=QF,G=$F,j=YF,ne=ZF,Y=N(new fl(new Float32Array(t.flat().map(dr)),2),"vec2",t.length),Z=N(new fl(new Float32Array(r.map(function(Nt){return[dr(d(Nt)),dr(g(Nt)),m(Nt)]}).flat()),3),"vec3",r.length),re=new fl(t.length,1),de=N(re,"float",t.length),te=R(Math.PI),$=F(te.mul(2)),X=function(ra){return ra.mul(ra)},ue=function(ra){return X(L(ra.div(2)))},pe=function(ra,n0){var Z0=R(ra[1]),J0=R(n0[1]),br=R(ra[0]),A1=R(n0[0]);return R(2).mul(G(F(ue(J0.sub(Z0)).add(O(Z0).mul(O(J0)).mul(ue(A1.sub(br)))))))},ge=function(ra,n0){return j(ne(X(ra.div(n0)).div(2))).div(n0.mul($))},Ee=I(dr(_)),Ce=I(dr(_*w)),Le=I(r.length),Xe=x(function(){var Nt=Y.element(M),ra=de.element(M);ra.assign(0),B(Le,function(n0){var Z0=n0.i,J0=Z.element(Z0),br=J0.z;T(br,function(){var A1=pe(J0.xy,Nt.xy);T(A1&&A1.lessThan(Ce),function(){ra.addAssign(ge(A1,Ee).mul(br))})})})}),it=Xe().compute(t.length),St=new zF,It.next=25,St.computeAsync(it);case 25:return It.t0=Array,It.t1=Float32Array,It.next=29,St.getArrayBufferAsync(re);case 29:return It.t2=It.sent,It.t3=new It.t1(It.t2),It.abrupt("return",It.t0.from.call(It.t0,It.t3));case 32:case"end":return It.stop()}},e)}));return function(t){return n.apply(this,arguments)}}(),Y2=window.THREE?window.THREE:{Mesh:Da,MeshLambertMaterial:Sr,SphereGeometry:j1},VO=3.5,zO=.1,Hg=100,WO=function(e){var t=H8(JE(e));return t.opacity=Math.cbrt(e),t.formatRgb()},Yv=an({props:{heatmapsData:{default:[]},heatmapPoints:{default:function(e){return e}},heatmapPointLat:{default:function(e){return e[0]}},heatmapPointLng:{default:function(e){return e[1]}},heatmapPointWeight:{default:1},heatmapBandwidth:{default:2.5},heatmapColorFn:{default:function(){return WO}},heatmapColorSaturation:{default:1.5},heatmapBaseAltitude:{default:.01},heatmapTopAltitude:{},heatmapsTransitionDuration:{default:0,triggerUpdate:!1}},init:function(e,t,a){var r=a.tweenGroup;Ht(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Tn(e,{objBindAttr:"__threeObjHeatmap"}).onCreateObj(function(){var s=new Y2.Mesh(new Y2.SphereGeometry(Kt),Zp(new Y2.MeshLambertMaterial({vertexColors:!0,transparent:!0}),CO));return s.__globeObjType="heatmap",s})},update:function(e){var t=xe(e.heatmapPoints),a=xe(e.heatmapPointLat),r=xe(e.heatmapPointLng),s=xe(e.heatmapPointWeight),o=xe(e.heatmapBandwidth),d=xe(e.heatmapColorFn),c=xe(e.heatmapColorSaturation),g=xe(e.heatmapBaseAltitude),D=xe(e.heatmapTopAltitude);e.dataMapper.onUpdateObj(function(m,_){var w=o(_),x=d(_),T=c(_),I=g(_),N=D(_),R=t(_).map(function(O){var G=a(O),j=r(O),ne=t0(G,j),Y=ne.x,Z=ne.y,re=ne.z;return{x:Y,y:Z,z:re,lat:G,lng:j,weight:s(O)}}),M=Math.max(zO,w/VO),B=Math.ceil(360/(M||-1));m.geometry.parameters.widthSegments!==B&&(m.geometry.dispose(),m.geometry=new Y2.SphereGeometry(Kt,B,B/2));var F=MO(m.geometry.getAttribute("position")),L=F.map(function(O){var G=ta(O,3),j=G[0],ne=G[1],Y=G[2],Z=Vv({x:j,y:ne,z:Y}),re=Z.lng,de=Z.lat;return[re,de]});GO(L,R,{latAccessor:function(G){return G.lat},lngAccessor:function(G){return G.lng},weightAccessor:function(G){return G.weight},bandwidth:w}).then(function(O){var G=Gt(new Array(Hg)).map(function(Z,re){return r1(x(re/(Hg-1)))}),j=function(re){var de=m.__currentTargetD=re,te=de.kdeVals,$=de.topAlt,X=de.saturation,ue=JS(te.map(Math.abs))||1e-15,pe=Z8([0,ue/X],G);m.geometry.setAttribute("color",Q0(te.map(function(Ee){return pe(Math.abs(Ee))}),4));var ge=t1([0,ue],[Kt*(1+I),Kt*(1+($||I))]);m.geometry.setAttribute("r",Q0(te.map(ge)))},ne={kdeVals:O,topAlt:N,saturation:T},Y=m.__currentTargetD||Object.assign({},ne,{kdeVals:O.map(function(){return 0}),topAlt:N&&I,saturation:.5});Y.kdeVals.length!==O.length&&(Y.kdeVals=O.slice()),Object.keys(ne).some(function(Z){return Y[Z]!==ne[Z]})&&(!e.heatmapsTransitionDuration||e.heatmapsTransitionDuration<0?j(ne):e.tweenGroup.add(new Ln(Y).to(ne,e.heatmapsTransitionDuration).easing(Va.Quadratic.InOut).onUpdate(j).start()))})}).digest(e.heatmapsData)}}),qr=window.THREE?window.THREE:{DoubleSide:f0,Group:Y0,LineBasicMaterial:gA,LineSegments:z8,Mesh:Da,MeshBasicMaterial:lr},Xv=an({props:{polygonsData:{default:[]},polygonGeoJsonGeometry:{default:"geometry"},polygonSideColor:{default:function(){return"#ffffaa"}},polygonSideMaterial:{},polygonCapColor:{default:function(){return"#ffffaa"}},polygonCapMaterial:{},polygonStrokeColor:{},polygonAltitude:{default:.01},polygonCapCurvatureResolution:{default:5},polygonsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,a){var r=a.tweenGroup;Ht(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Tn(e,{objBindAttr:"__threeObjPolygon"}).id(function(s){return s.id}).onCreateObj(function(){var s=new qr.Group;return s.__defaultSideMaterial=Zp(new qr.MeshBasicMaterial({side:qr.DoubleSide,depthWrite:!0}),rh),s.__defaultCapMaterial=new qr.MeshBasicMaterial({side:qr.DoubleSide,depthWrite:!0}),s.add(new qr.Mesh(void 0,[s.__defaultSideMaterial,s.__defaultCapMaterial])),s.add(new qr.LineSegments(void 0,new qr.LineBasicMaterial)),s.__globeObjType="polygon",s})},update:function(e){var t=xe(e.polygonGeoJsonGeometry),a=xe(e.polygonAltitude),r=xe(e.polygonCapCurvatureResolution),s=xe(e.polygonCapColor),o=xe(e.polygonCapMaterial),d=xe(e.polygonSideColor),c=xe(e.polygonSideMaterial),g=xe(e.polygonStrokeColor),D=[];e.polygonsData.forEach(function(m){var _={data:m,capColor:s(m),capMaterial:o(m),sideColor:d(m),sideMaterial:c(m),strokeColor:g(m),altitude:+a(m),capCurvatureResolution:+r(m)},w=t(m),x=m.__id||"".concat(Math.round(Math.random()*1e9));m.__id=x,w.type==="Polygon"?D.push(Bt({id:"".concat(x,"_0"),coords:w.coordinates},_)):w.type==="MultiPolygon"?D.push.apply(D,Gt(w.coordinates.map(function(T,I){return Bt({id:"".concat(x,"_").concat(I),coords:T},_)}))):console.warn("Unsupported GeoJson geometry type: ".concat(w.type,". Skipping geometry..."))}),e.dataMapper.onUpdateObj(function(m,_){var w=_.coords,x=_.capColor,T=_.capMaterial,I=_.sideColor,N=_.sideMaterial,R=_.strokeColor,M=_.altitude,B=_.capCurvatureResolution,F=ta(m.children,2),L=F[0],O=F[1],G=!!R;O.visible=G;var j=!!(x||T),ne=!!(I||N);HO(L.geometry.parameters||{},{polygonGeoJson:w,curvatureResolution:B,closedTop:j,includeSides:ne})||(L.geometry&&L.geometry.dispose(),L.geometry=new Mh(w,0,Kt,!1,j,ne,B)),G&&(!O.geometry.parameters||O.geometry.parameters.geoJson.coordinates!==w||O.geometry.parameters.resolution!==B)&&(O.geometry&&O.geometry.dispose(),O.geometry=new MD({type:"Polygon",coordinates:w},Kt,B));var Y=ne?0:-1,Z=j?ne?1:0:-1;if(Y>=0&&(L.material[Y]=N||m.__defaultSideMaterial),Z>=0&&(L.material[Z]=T||m.__defaultCapMaterial),[[!N&&I,Y],[!T&&x,Z]].forEach(function(ue){var pe=ta(ue,2),ge=pe[0],Ee=pe[1];if(!(!ge||Ee<0)){var Ce=L.material[Ee],Le=m0(ge);Ce.color.set($0(ge)),Ce.transparent=Le<1,Ce.opacity=Le}}),G){var re=O.material,de=m0(R);re.color.set($0(R)),re.transparent=de<1,re.opacity=de}var te={alt:M},$=function(pe){var ge=m.__currentTargetD=pe,Ee=ge.alt;L.scale.x=L.scale.y=L.scale.z=1+Ee,G&&(O.scale.x=O.scale.y=O.scale.z=1+Ee+1e-4),PO(m.__defaultSideMaterial,function(Ce){return Ce.surfaceRadius.value=Kt/(Ee+1)})},X=m.__currentTargetD||Object.assign({},te,{alt:-.001});Object.keys(te).some(function(ue){return X[ue]!==te[ue]})&&(!e.polygonsTransitionDuration||e.polygonsTransitionDuration<0||X.alt===te.alt?$(te):e.tweenGroup.add(new Ln(X).to(te,e.polygonsTransitionDuration).easing(Va.Quadratic.InOut).onUpdate($).start()))}).digest(D)}});function HO(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return function(a,r){return a===r}};return Object.entries(e).every(function(a){var r=ta(a,2),s=r[0],o=r[1];return n.hasOwnProperty(s)&&t(s)(n[s],o)})}var Ss=window.THREE?window.THREE:{BufferGeometry:a0,DoubleSide:f0,Mesh:Da,MeshLambertMaterial:Sr,Vector3:Re},jg=Object.assign({},Ih),$g=jg.BufferGeometryUtils||jg,Kv=an({props:{hexPolygonsData:{default:[]},hexPolygonGeoJsonGeometry:{default:"geometry"},hexPolygonColor:{default:function(){return"#ffffaa"}},hexPolygonAltitude:{default:.001},hexPolygonResolution:{default:3},hexPolygonMargin:{default:.2},hexPolygonUseDots:{default:!1},hexPolygonCurvatureResolution:{default:5},hexPolygonDotResolution:{default:12},hexPolygonsTransitionDuration:{default:0,triggerUpdate:!1}},init:function(e,t,a){var r=a.tweenGroup;Ht(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Tn(e,{objBindAttr:"__threeObjHexPolygon"}).onCreateObj(function(){var s=new Ss.Mesh(void 0,new Ss.MeshLambertMaterial({side:Ss.DoubleSide}));return s.__globeObjType="hexPolygon",s})},update:function(e){var t=xe(e.hexPolygonGeoJsonGeometry),a=xe(e.hexPolygonColor),r=xe(e.hexPolygonAltitude),s=xe(e.hexPolygonResolution),o=xe(e.hexPolygonMargin),d=xe(e.hexPolygonUseDots),c=xe(e.hexPolygonCurvatureResolution),g=xe(e.hexPolygonDotResolution);e.dataMapper.onUpdateObj(function(D,m){var _=t(m),w=s(m),x=r(m),T=Math.max(0,Math.min(1,+o(m))),I=d(m),N=c(m),R=g(m),M=a(m),B=m0(M);D.material.color.set($0(M)),D.material.transparent=B<1,D.material.opacity=B;var F={alt:x,margin:T,curvatureResolution:N},L={geoJson:_,h3Res:w},O=D.__currentTargetD||Object.assign({},F,{alt:-.001}),G=D.__currentMemD||L;if(Object.keys(F).some(function(Z){return O[Z]!==F[Z]})||Object.keys(L).some(function(Z){return G[Z]!==L[Z]})){D.__currentMemD=L;var j=[];_.type==="Polygon"?m6(_.coordinates,w,!0).forEach(function(Z){return j.push(Z)}):_.type==="MultiPolygon"?_.coordinates.forEach(function(Z){return m6(Z,w,!0).forEach(function(re){return j.push(re)})}):console.warn("Unsupported GeoJson geometry type: ".concat(_.type,". Skipping geometry..."));var ne=j.map(function(Z){var re=KD(Z),de=ZD(Z,!0).reverse(),te=re[1];return de.forEach(function($){var X=$[0];Math.abs(te-X)>170&&($[0]+=te>X?360:-360)}),{h3Idx:Z,hexCenter:re,hexGeoJson:de}}),Y=function(re){var de=D.__currentTargetD=re,te=de.alt,$=de.margin,X=de.curvatureResolution;D.geometry&&D.geometry.dispose(),D.geometry=ne.length?($g.mergeGeometries||$g.mergeBufferGeometries)(ne.map(function(ue){var pe=ta(ue.hexCenter,2),ge=pe[0],Ee=pe[1];if(I){var Ce=t0(ge,Ee,te),Le=t0(ue.hexGeoJson[0][1],ue.hexGeoJson[0][0],te),Xe=.85*(1-$)*new Ss.Vector3(Ce.x,Ce.y,Ce.z).distanceTo(new Ss.Vector3(Le.x,Le.y,Le.z)),it=new W8(Xe,R);return it.rotateX(k1(-ge)),it.rotateY(k1(Ee)),it.translate(Ce.x,Ce.y,Ce.z),it}else{var St=function(It,Nt,ra){return It-(It-Nt)*ra},Yt=$===0?ue.hexGeoJson:ue.hexGeoJson.map(function($a){var It=ta($a,2),Nt=It[0],ra=It[1];return[[Nt,Ee],[ra,ge]].map(function(n0){var Z0=ta(n0,2),J0=Z0[0],br=Z0[1];return St(J0,br,$)})});return new Mh([Yt],Kt,Kt*(1+te),!1,!0,!1,X)}})):new Ss.BufferGeometry};!e.hexPolygonsTransitionDuration||e.hexPolygonsTransitionDuration<0?Y(F):e.tweenGroup.add(new Ln(O).to(F,e.hexPolygonsTransitionDuration).easing(Va.Quadratic.InOut).onUpdate(Y).start())}}).digest(e.hexPolygonsData)}}),jO=window.THREE?window.THREE:{Vector3:Re};function $O(n,e){var t=function(o,d){var c=o[o.length-1];return[].concat(Gt(o),Gt(Array(d-o.length).fill(c)))},a=Math.max(n.length,e.length),r=Kw.apply(void 0,Gt([n,e].map(function(s){return s.map(function(o){var d=o.x,c=o.y,g=o.z;return[d,c,g]})}).map(function(s){return t(s,a)})));return function(s){return s===0?n:s===1?e:r(s).map(function(o){var d=ta(o,3),c=d[0],g=d[1],D=d[2];return new jO.Vector3(c,g,D)})}}var x1=window.THREE?window.THREE:{BufferGeometry:a0,Color:za,Group:Y0,Line:vh,NormalBlending:Qr,ShaderMaterial:fA,Vector3:Re},QO=Zs.default||Zs,Zv=an({props:{pathsData:{default:[]},pathPoints:{default:function(e){return e}},pathPointLat:{default:function(e){return e[0]}},pathPointLng:{default:function(e){return e[1]}},pathPointAlt:{default:.001},pathResolution:{default:2},pathColor:{default:function(){return"#ffffaa"}},pathStroke:{},pathDashLength:{default:1},pathDashGap:{default:0},pathDashInitialGap:{default:0},pathDashAnimateTime:{default:0},pathTransitionDuration:{default:1e3,triggerUpdate:!1},rendererSize:{}},methods:{pauseAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.pause()},resumeAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.resume()},_destructor:function(e){var t;(t=e.ticker)===null||t===void 0||t.dispose()}},stateInit:function(e){var t=e.tweenGroup;return{tweenGroup:t,ticker:new QO,sharedMaterial:new x1.ShaderMaterial(Bt(Bt({},Hv()),{},{transparent:!0,blending:x1.NormalBlending}))}},init:function(e,t){Ht(e),t.scene=e,t.dataMapper=new Tn(e,{objBindAttr:"__threeObjPath"}).onCreateObj(function(){var a=new x1.Group;return a.__globeObjType="path",a}),t.ticker.onTick.add(function(a,r){t.dataMapper.entries().map(function(s){var o=ta(s,2),d=o[1];return d}).filter(function(s){return s.children.length&&s.children[0].material&&s.children[0].__dashAnimateStep}).forEach(function(s){var o=s.children[0],d=o.__dashAnimateStep*r;if(o.type==="Line"){var c=o.material.uniforms.dashTranslate.value%1e9;o.material.uniforms.dashTranslate.value=c+d}else if(o.type==="Line2"){for(var g=o.material.dashOffset-d,D=o.material.dashSize+o.material.gapSize;g<=-D;)g+=D;o.material.dashOffset=g}})})},update:function(e){var t=xe(e.pathPoints),a=xe(e.pathPointLat),r=xe(e.pathPointLng),s=xe(e.pathPointAlt),o=xe(e.pathStroke),d=xe(e.pathColor),c=xe(e.pathDashLength),g=xe(e.pathDashGap),D=xe(e.pathDashInitialGap),m=xe(e.pathDashAnimateTime);e.dataMapper.onUpdateObj(function(I,N){var R=o(N),M=R!=null;if(!I.children.length||M===(I.children[0].type==="Line")){Ht(I);var B=M?new oO(new qv,new Qp):new x1.Line(new x1.BufferGeometry,e.sharedMaterial.clone());I.add(B)}var F=I.children[0],L=w(t(N),a,r,s,e.pathResolution),O=m(N);if(F.__dashAnimateStep=O>0?1e3/O:0,M){F.material.resolution=e.rendererSize;{var ne=c(N),Y=g(N),Z=D(N);F.material.dashed=Y>0,F.material.dashed?F.material.defines.USE_DASH="":delete F.material.defines.USE_DASH,F.material.dashed&&(F.material.dashScale=1/_(L),F.material.dashSize=ne,F.material.gapSize=Y,F.material.dashOffset=-Z)}{var re=d(N);if(re instanceof Array){var de=x(d(N),L.length-1,1,!1);F.geometry.setColors(de.array),F.material.vertexColors=!0}else{var te=re,$=m0(te);F.material.color=new x1.Color($0(te)),F.material.transparent=$<1,F.material.opacity=$,F.material.vertexColors=!1}}F.material.needsUpdate=!0}else{Object.assign(F.material.uniforms,{dashSize:{value:c(N)},gapSize:{value:g(N)},dashOffset:{value:D(N)}});var G=x(d(N),L.length),j=T(L.length,1,!0);F.geometry.setAttribute("color",G),F.geometry.setAttribute("relDistance",j)}var X=$O(I.__currentTargetD&&I.__currentTargetD.points||[L[0]],L),ue=function(Ce){var Le=I.__currentTargetD=Ce,Xe=Le.stroke,it=Le.interpolK,St=I.__currentTargetD.points=X(it);if(M){var Yt;F.geometry.setPositions((Yt=[]).concat.apply(Yt,Gt(St.map(function($a){var It=$a.x,Nt=$a.y,ra=$a.z;return[It,Nt,ra]})))),F.material.linewidth=Xe,F.material.dashed&&F.computeLineDistances()}else F.geometry.setFromPoints(St),F.geometry.computeBoundingSphere()},pe={stroke:R,interpolK:1},ge=Object.assign({},I.__currentTargetD||pe,{interpolK:0});Object.keys(pe).some(function(Ee){return ge[Ee]!==pe[Ee]})&&(!e.pathTransitionDuration||e.pathTransitionDuration<0?ue(pe):e.tweenGroup.add(new Ln(ge).to(pe,e.pathTransitionDuration).easing(Va.Quadratic.InOut).onUpdate(ue).start()))}).digest(e.pathsData);function _(I){var N=0,R;return I.forEach(function(M){R&&(N+=R.distanceTo(M)),R=M}),N}function w(I,N,R,M,B){var F=function(j,ne,Y){for(var Z=[],re=1;re<=Y;re++)Z.push(j+(ne-j)*re/(Y+1));return Z},L=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Y=[],Z=null;return j.forEach(function(re){if(Z){for(;Math.abs(Z[1]-re[1])>180;)Z[1]+=360*(Z[1]<re[1]?1:-1);var de=Math.sqrt(Math.pow(re[0]-Z[0],2)+Math.pow(re[1]-Z[1],2));if(de>ne)for(var te=Math.floor(de/ne),$=F(Z[0],re[0],te),X=F(Z[1],re[1],te),ue=F(Z[2],re[2],te),pe=0,ge=$.length;pe<ge;pe++)Y.push([$[pe],X[pe],ue[pe]])}Y.push(Z=re)}),Y},O=function(j){var ne=ta(j,3),Y=ne[0],Z=ne[1],re=ne[2],de=t0(Y,Z,re),te=de.x,$=de.y,X=de.z;return new x1.Vector3(te,$,X)};return L(I.map(function(G){return[N(G),R(G),M(G)]}),B).map(O)}function x(I,N){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,B=N+1,F;if(I instanceof Array||I instanceof Function){var L=I instanceof Array?t1().domain(I.map(function(re,de){return de/(I.length-1)})).range(I):I;F=function(de){return r1(L(de),M,!0)}}else{var O=r1(I,M,!0);F=function(){return O}}for(var G=[],j=0,ne=B;j<ne;j++)for(var Y=F(j/(ne-1)),Z=0;Z<R;Z++)G.push(Y);return Q0(G,M?4:3)}function T(I){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,M=I+1,B=[],F=0,L=M;F<L;F++)for(var O=F/(L-1),G=0;G<N;G++)B.push(O);return R&&B.reverse(),Q0(B,1)}}}),X2=window.THREE?window.THREE:{Euler:ui,Mesh:Da,MeshLambertMaterial:Sr,SphereGeometry:j1},Jv=an({props:{tilesData:{default:[]},tileLat:{default:"lat"},tileLng:{default:"lng"},tileAltitude:{default:.01},tileWidth:{default:1},tileHeight:{default:1},tileUseGlobeProjection:{default:!0},tileMaterial:{default:function(){return new X2.MeshLambertMaterial({color:"#ffbb88",opacity:.4,transparent:!0})}},tileCurvatureResolution:{default:5},tilesTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,a){var r=a.tweenGroup;Ht(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Tn(e,{objBindAttr:"__threeObjTile"}).onCreateObj(function(){var s=new X2.Mesh;return s.__globeObjType="tile",s})},update:function(e){var t=xe(e.tileLat),a=xe(e.tileLng),r=xe(e.tileAltitude),s=xe(e.tileWidth),o=xe(e.tileHeight),d=xe(e.tileUseGlobeProjection),c=xe(e.tileMaterial),g=xe(e.tileCurvatureResolution);e.dataMapper.onUpdateObj(function(D,m){D.material=c(m);var _=d(m),w=g(m),x=function(R){var M=D.__currentTargetD=R,B=M.lat,F=M.lng,L=M.alt,O=M.width,G=M.height,j=xs(F),ne=xs(-B);D.geometry&&D.geometry.dispose(),D.geometry=new X2.SphereGeometry(Kt*(1+L),Math.ceil(O/(w||-1)),Math.ceil(G/(w||-1)),xs(90-O/2)+(_?j:0),xs(O),xs(90-G/2)+(_?ne:0),xs(G)),_||D.setRotationFromEuler(new X2.Euler(ne,j,0,"YXZ"))},T={lat:+t(m),lng:+a(m),alt:+r(m),width:+s(m),height:+o(m)},I=D.__currentTargetD||Object.assign({},T,{width:0,height:0});Object.keys(T).some(function(N){return I[N]!==T[N]})&&(!e.tilesTransitionDuration||e.tilesTransitionDuration<0?x(T):e.tweenGroup.add(new Ln(I).to(T,e.tilesTransitionDuration).easing(Va.Quadratic.InOut).onUpdate(x).start()))}).digest(e.tilesData)}}),xs=function(e){return e*Math.PI/180},Go=window.THREE?window.THREE:{BufferGeometry:a0,Color:za,Points:zw,PointsMaterial:L8},em=an({props:{particlesData:{default:[]},particlesList:{default:function(e){return e}},particleLat:{default:"lat"},particleLng:{default:"lng"},particleAltitude:{default:.01},particlesSize:{default:.5},particlesSizeAttenuation:{default:!0},particlesColor:{default:function(){return"white"}},particlesTexture:{}},init:function(e,t){Ht(e),t.scene=e,t.dataMapper=new Tn(e,{objBindAttr:"__threeObjParticles"}).onCreateObj(function(){var a=new Go.Points(new Go.BufferGeometry,new Go.PointsMaterial);return a.__globeObjType="particles",a}).onUpdateObj(function(a,r){var s=xe(t.particlesList),o=xe(t.particleLat),d=xe(t.particleLng),c=xe(t.particleAltitude);a.geometry.setAttribute("position",Q0(s(r).map(function(g){return Object.values(t0(o(g),d(g),c(g)))}),3))})},update:function(e,t){["particlesData","particlesList","particleLat","particleLng","particleAltitude"].some(function(d){return t.hasOwnProperty(d)})&&e.dataMapper.digest(e.particlesData);var a=xe(e.particlesColor),r=xe(e.particlesSize),s=xe(e.particlesSizeAttenuation),o=xe(e.particlesTexture);e.dataMapper.entries().forEach(function(d){var c=ta(d,2),g=c[0],D=c[1];if(D.material.size=r(g),D.material.sizeAttenuation=s(g),e.particlesTexture)D.material.color=new Go.Color(16777215),D.material.transparent=!1,D.material.alphaTest=.5,D.material.map=o(g);else{var m=a(g),_=m0(m);D.material.color=new Go.Color($0(m)),D.material.transparent=_<1,D.material.opacity=_,D.material.alphaTest=0}})}}),YO=window.THREE?window.THREE:{BufferGeometry:a0},XO=function(n){function e(){var t,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:32;$A(this,e),t=jA(this,e),t.type="CircleLineGeometry",t.parameters={radius:a,segmentCount:r};for(var s=[],o=0;o<=r;o++){var d=(o/r-.25)*Math.PI*2;s.push({x:Math.cos(d)*a,y:Math.sin(d)*a,z:0})}return t.setFromPoints(s),t}return YA(e,n),QA(e)}(YO.BufferGeometry),bs=window.THREE?window.THREE:{Color:za,Group:Y0,Line:vh,LineBasicMaterial:gA,Vector3:Re},KO=Zs.default||Zs,tm=an({props:{ringsData:{default:[]},ringLat:{default:"lat"},ringLng:{default:"lng"},ringAltitude:{default:.0015},ringColor:{default:function(){return"#ffffaa"},triggerUpdate:!1},ringResolution:{default:64,triggerUpdate:!1},ringMaxRadius:{default:2,triggerUpdate:!1},ringPropagationSpeed:{default:1,triggerUpdate:!1},ringRepeatPeriod:{default:700,triggerUpdate:!1}},methods:{pauseAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.pause()},resumeAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.resume()},_destructor:function(e){var t;(t=e.ticker)===null||t===void 0||t.dispose()}},init:function(e,t,a){var r=a.tweenGroup;Ht(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Tn(e,{objBindAttr:"__threeObjRing",removeDelay:3e4}).onCreateObj(function(){var s=new bs.Group;return s.__globeObjType="ring",s}),t.ticker=new KO,t.ticker.onTick.add(function(s){if(t.ringsData.length){var o=xe(t.ringColor),d=xe(t.ringAltitude),c=xe(t.ringMaxRadius),g=xe(t.ringPropagationSpeed),D=xe(t.ringRepeatPeriod);t.dataMapper.entries().filter(function(m){var _=ta(m,2),w=_[1];return w}).forEach(function(m){var _=ta(m,2),w=_[0],x=_[1];if((x.__nextRingTime||0)<=s){var T=D(w)/1e3;x.__nextRingTime=s+(T<=0?1/0:T);var I=new bs.Line(new XO(1,t.ringResolution),new bs.LineBasicMaterial),N=o(w),R=N instanceof Array||N instanceof Function,M;R?N instanceof Array?(M=t1().domain(N.map(function(Y,Z){return Z/(N.length-1)})).range(N),I.material.transparent=N.some(function(Y){return m0(Y)<1})):(M=N,I.material.transparent=!0):(I.material.color=new bs.Color($0(N)),RO(I.material,m0(N)));var B=Kt*(1+d(w)),F=c(w),L=F*Math.PI/180,O=g(w),G=O<=0,j=function(Z){var re=Z.t,de=(G?1-re:re)*L;if(I.scale.x=I.scale.y=B*Math.sin(de),I.position.z=B*(1-Math.cos(de)),R){var te=M(re);I.material.color=new bs.Color($0(te)),I.material.transparent&&(I.material.opacity=m0(te))}};if(O===0)j({t:0}),x.add(I);else{var ne=Math.abs(F/O)*1e3;t.tweenGroup.add(new Ln({t:0}).to({t:1},ne).onUpdate(j).onStart(function(){return x.add(I)}).onComplete(function(){x.remove(I),Kp(I)}).start())}}})}})},update:function(e){var t=xe(e.ringLat),a=xe(e.ringLng),r=xe(e.ringAltitude),s=e.scene.localToWorld(new bs.Vector3(0,0,0));e.dataMapper.onUpdateObj(function(o,d){var c=t(d),g=a(d),D=r(d);Object.assign(o.position,t0(c,g,D)),o.lookAt(s)}).digest(e.ringsData)}}),ZO={0:{x_min:73,x_max:715,ha:792,o:"m 394 -29 q 153 129 242 -29 q 73 479 73 272 q 152 829 73 687 q 394 989 241 989 q 634 829 545 989 q 715 479 715 684 q 635 129 715 270 q 394 -29 546 -29 m 394 89 q 546 211 489 89 q 598 479 598 322 q 548 748 598 640 q 394 871 491 871 q 241 748 298 871 q 190 479 190 637 q 239 211 190 319 q 394 89 296 89 "},1:{x_min:215.671875,x_max:574,ha:792,o:"m 574 0 l 442 0 l 442 697 l 215 697 l 215 796 q 386 833 330 796 q 475 986 447 875 l 574 986 l 574 0 "},2:{x_min:59,x_max:731,ha:792,o:"m 731 0 l 59 0 q 197 314 59 188 q 457 487 199 315 q 598 691 598 580 q 543 819 598 772 q 411 867 488 867 q 272 811 328 867 q 209 630 209 747 l 81 630 q 182 901 81 805 q 408 986 271 986 q 629 909 536 986 q 731 694 731 826 q 613 449 731 541 q 378 316 495 383 q 201 122 235 234 l 731 122 l 731 0 "},3:{x_min:54,x_max:737,ha:792,o:"m 737 284 q 635 55 737 141 q 399 -25 541 -25 q 156 52 248 -25 q 54 308 54 140 l 185 308 q 245 147 185 202 q 395 96 302 96 q 539 140 484 96 q 602 280 602 190 q 510 429 602 390 q 324 454 451 454 l 324 565 q 487 584 441 565 q 565 719 565 617 q 515 835 565 791 q 395 879 466 879 q 255 824 307 879 q 203 661 203 769 l 78 661 q 166 909 78 822 q 387 992 250 992 q 603 921 513 992 q 701 723 701 844 q 669 607 701 656 q 578 524 637 558 q 696 434 655 499 q 737 284 737 369 "},4:{x_min:48,x_max:742.453125,ha:792,o:"m 742 243 l 602 243 l 602 0 l 476 0 l 476 243 l 48 243 l 48 368 l 476 958 l 602 958 l 602 354 l 742 354 l 742 243 m 476 354 l 476 792 l 162 354 l 476 354 "},5:{x_min:54.171875,x_max:738,ha:792,o:"m 738 314 q 626 60 738 153 q 382 -23 526 -23 q 155 47 248 -23 q 54 256 54 125 l 183 256 q 259 132 204 174 q 382 91 314 91 q 533 149 471 91 q 602 314 602 213 q 538 469 602 411 q 386 528 475 528 q 284 506 332 528 q 197 439 237 484 l 81 439 l 159 958 l 684 958 l 684 840 l 254 840 l 214 579 q 306 627 258 612 q 407 643 354 643 q 636 552 540 643 q 738 314 738 457 "},6:{x_min:53,x_max:739,ha:792,o:"m 739 312 q 633 62 739 162 q 400 -31 534 -31 q 162 78 257 -31 q 53 439 53 206 q 178 859 53 712 q 441 986 284 986 q 643 912 559 986 q 732 713 732 833 l 601 713 q 544 830 594 786 q 426 875 494 875 q 268 793 331 875 q 193 517 193 697 q 301 597 240 570 q 427 624 362 624 q 643 540 552 624 q 739 312 739 451 m 603 298 q 540 461 603 400 q 404 516 484 516 q 268 461 323 516 q 207 300 207 401 q 269 137 207 198 q 405 83 325 83 q 541 137 486 83 q 603 298 603 197 "},7:{x_min:58.71875,x_max:730.953125,ha:792,o:"m 730 839 q 469 448 560 641 q 335 0 378 255 l 192 0 q 328 441 235 252 q 593 830 421 630 l 58 830 l 58 958 l 730 958 l 730 839 "},8:{x_min:55,x_max:736,ha:792,o:"m 571 527 q 694 424 652 491 q 736 280 736 358 q 648 71 736 158 q 395 -26 551 -26 q 142 69 238 -26 q 55 279 55 157 q 96 425 55 359 q 220 527 138 491 q 120 615 153 562 q 88 726 88 668 q 171 904 88 827 q 395 986 261 986 q 618 905 529 986 q 702 727 702 830 q 670 616 702 667 q 571 527 638 565 m 394 565 q 519 610 475 565 q 563 717 563 655 q 521 823 563 781 q 392 872 474 872 q 265 824 312 872 q 224 720 224 783 q 265 613 224 656 q 394 565 312 565 m 395 91 q 545 150 488 91 q 597 280 597 204 q 546 408 597 355 q 395 465 492 465 q 244 408 299 465 q 194 280 194 356 q 244 150 194 203 q 395 91 299 91 "},9:{x_min:53,x_max:739,ha:792,o:"m 739 524 q 619 94 739 241 q 362 -32 516 -32 q 150 47 242 -32 q 59 244 59 126 l 191 244 q 246 129 191 176 q 373 82 301 82 q 526 161 466 82 q 597 440 597 255 q 363 334 501 334 q 130 432 216 334 q 53 650 53 521 q 134 880 53 786 q 383 986 226 986 q 659 841 566 986 q 739 524 739 719 m 388 449 q 535 514 480 449 q 585 658 585 573 q 535 805 585 744 q 388 873 480 873 q 242 809 294 873 q 191 658 191 745 q 239 514 191 572 q 388 449 292 449 "},:{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 96 88 192 -25 q 0 368 0 201 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 "},S:{x_min:0,x_max:788,ha:890,o:"m 788 291 q 662 54 788 144 q 397 -26 550 -26 q 116 68 226 -26 q 0 337 0 168 l 131 337 q 200 152 131 220 q 384 85 269 85 q 557 129 479 85 q 650 270 650 183 q 490 429 650 379 q 194 513 341 470 q 33 739 33 584 q 142 964 33 881 q 388 1041 242 1041 q 644 957 543 1041 q 756 716 756 867 l 625 716 q 561 874 625 816 q 395 933 497 933 q 243 891 309 933 q 164 759 164 841 q 325 609 164 656 q 625 526 475 568 q 788 291 788 454 "},"":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},"/":{x_min:183.25,x_max:608.328125,ha:792,o:"m 608 1041 l 266 -129 l 183 -129 l 520 1041 l 608 1041 "},:{x_min:-.4375,x_max:777.453125,ha:839,o:"m 777 893 l 458 893 l 458 0 l 319 0 l 319 892 l 0 892 l 0 1013 l 777 1013 l 777 893 "},y:{x_min:0,x_max:684.78125,ha:771,o:"m 684 738 l 388 -83 q 311 -216 356 -167 q 173 -279 252 -279 q 97 -266 133 -279 l 97 -149 q 132 -155 109 -151 q 168 -160 155 -160 q 240 -114 213 -160 q 274 -26 248 -98 l 0 738 l 137 737 l 341 139 l 548 737 l 684 738 "},:{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 803 1012 l 803 0 "},:{x_min:-111,x_max:339,ha:361,o:"m 339 800 l 229 800 l 229 925 l 339 925 l 339 800 m -1 800 l -111 800 l -111 925 l -1 925 l -1 800 m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 m 302 1040 l 113 819 l 30 819 l 165 1040 l 302 1040 "},g:{x_min:0,x_max:686,ha:838,o:"m 686 34 q 586 -213 686 -121 q 331 -306 487 -306 q 131 -252 216 -306 q 31 -84 31 -190 l 155 -84 q 228 -174 166 -138 q 345 -207 284 -207 q 514 -109 454 -207 q 564 89 564 -27 q 461 6 521 36 q 335 -23 401 -23 q 88 100 184 -23 q 0 370 0 215 q 87 634 0 522 q 330 758 183 758 q 457 728 398 758 q 564 644 515 699 l 564 737 l 686 737 l 686 34 m 582 367 q 529 560 582 481 q 358 652 468 652 q 189 561 250 652 q 135 369 135 482 q 189 176 135 255 q 361 85 251 85 q 529 176 468 85 q 582 367 582 255 "},"":{x_min:0,x_max:442,ha:539,o:"m 442 383 l 0 383 q 91 566 0 492 q 260 668 176 617 q 354 798 354 727 q 315 875 354 845 q 227 905 277 905 q 136 869 173 905 q 99 761 99 833 l 14 761 q 82 922 14 864 q 232 974 141 974 q 379 926 316 974 q 442 797 442 878 q 351 635 442 704 q 183 539 321 611 q 92 455 92 491 l 442 455 l 442 383 "},"":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},:{x_min:0,x_max:819.5625,ha:893,o:"m 819 0 l 650 0 l 294 509 l 139 356 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},:{x_min:-46.265625,x_max:392,ha:513,o:"m 392 651 l 259 651 l 79 -279 l -46 -278 l 134 651 l 14 651 l 14 751 l 135 751 q 151 948 135 900 q 304 1041 185 1041 q 334 1040 319 1041 q 392 1034 348 1039 l 392 922 q 337 931 360 931 q 271 883 287 931 q 260 793 260 853 l 260 751 l 392 751 l 392 651 "},e:{x_min:0,x_max:714,ha:813,o:"m 714 326 l 140 326 q 200 157 140 227 q 359 87 260 87 q 488 130 431 87 q 561 245 545 174 l 697 245 q 577 48 670 123 q 358 -26 484 -26 q 97 85 195 -26 q 0 363 0 197 q 94 642 0 529 q 358 765 195 765 q 626 627 529 765 q 714 326 714 503 m 576 429 q 507 583 564 522 q 355 650 445 650 q 206 583 266 650 q 140 429 152 522 l 576 429 "},:{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 94 91 194 -25 q 0 368 0 202 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 m 576 1040 l 387 819 l 303 819 l 438 1040 l 576 1040 "},J:{x_min:0,x_max:588,ha:699,o:"m 588 279 q 287 -26 588 -26 q 58 73 126 -26 q 0 327 0 158 l 133 327 q 160 172 133 227 q 288 96 198 96 q 426 171 391 96 q 449 336 449 219 l 449 1013 l 588 1013 l 588 279 "},"":{x_min:-1,x_max:503,ha:601,o:"m 503 302 l 280 136 l 281 256 l 429 373 l 281 486 l 280 608 l 503 440 l 503 302 m 221 302 l 0 136 l 0 255 l 145 372 l 0 486 l -1 608 l 221 440 l 221 302 "},"":{x_min:-3,x_max:1008,ha:1106,o:"m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 741 394 q 661 246 731 302 q 496 190 591 190 q 294 285 369 190 q 228 497 228 370 q 295 714 228 625 q 499 813 370 813 q 656 762 588 813 q 733 625 724 711 l 634 625 q 589 704 629 673 q 498 735 550 735 q 377 666 421 735 q 334 504 334 597 q 374 340 334 408 q 490 272 415 272 q 589 304 549 272 q 638 394 628 337 l 741 394 "},:{x_min:0,x_max:922,ha:1030,o:"m 687 1040 l 498 819 l 415 819 l 549 1040 l 687 1040 m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 338 0 202 q 45 551 0 444 q 161 737 84 643 l 302 737 q 175 552 219 647 q 124 336 124 446 q 155 179 124 248 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 341 797 257 q 745 555 797 450 q 619 737 705 637 l 760 737 q 874 551 835 640 q 922 339 922 444 "},"^":{x_min:193.0625,x_max:598.609375,ha:792,o:"m 598 772 l 515 772 l 395 931 l 277 772 l 193 772 l 326 1013 l 462 1013 l 598 772 "},"":{x_min:0,x_max:507.203125,ha:604,o:"m 506 136 l 284 302 l 284 440 l 506 608 l 507 485 l 360 371 l 506 255 l 506 136 m 222 136 l 0 302 l 0 440 l 222 608 l 221 486 l 73 373 l 222 256 l 222 136 "},D:{x_min:0,x_max:828,ha:935,o:"m 389 1013 q 714 867 593 1013 q 828 521 828 729 q 712 161 828 309 q 382 0 587 0 l 0 0 l 0 1013 l 389 1013 m 376 124 q 607 247 523 124 q 681 510 681 355 q 607 771 681 662 q 376 896 522 896 l 139 896 l 139 124 l 376 124 "},"":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},:{x_min:0,x_max:47,ha:125,o:"m 47 3 q 37 -7 47 -7 q 28 0 30 -7 q 39 -4 32 -4 q 45 3 45 -1 l 37 0 q 28 9 28 0 q 39 19 28 19 l 47 16 l 47 19 l 47 3 m 37 1 q 44 8 44 1 q 37 16 44 16 q 30 8 30 16 q 37 1 30 1 m 26 1 l 23 22 l 14 0 l 3 22 l 3 3 l 0 25 l 13 1 l 22 25 l 26 1 "},w:{x_min:0,x_max:1009.71875,ha:1100,o:"m 1009 738 l 783 0 l 658 0 l 501 567 l 345 0 l 222 0 l 0 738 l 130 738 l 284 174 l 432 737 l 576 738 l 721 173 l 881 737 l 1009 738 "},$:{x_min:0,x_max:700,ha:793,o:"m 664 717 l 542 717 q 490 825 531 785 q 381 872 450 865 l 381 551 q 620 446 540 522 q 700 241 700 370 q 618 45 700 116 q 381 -25 536 -25 l 381 -152 l 307 -152 l 307 -25 q 81 62 162 -25 q 0 297 0 149 l 124 297 q 169 146 124 204 q 307 81 215 89 l 307 441 q 80 536 148 469 q 13 725 13 603 q 96 910 13 839 q 307 982 180 982 l 307 1077 l 381 1077 l 381 982 q 574 917 494 982 q 664 717 664 845 m 307 565 l 307 872 q 187 831 233 872 q 142 724 142 791 q 180 618 142 656 q 307 565 218 580 m 381 76 q 562 237 562 96 q 517 361 562 313 q 381 423 472 409 l 381 76 "},"\\":{x_min:-.015625,x_max:425.0625,ha:522,o:"m 425 -129 l 337 -129 l 0 1041 l 83 1041 l 425 -129 "},:{x_min:0,x_max:697.21875,ha:747,o:"m 697 -4 q 629 -14 658 -14 q 498 97 513 -14 q 422 9 470 41 q 313 -23 374 -23 q 207 4 258 -23 q 119 81 156 32 l 119 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 173 124 246 q 308 83 216 83 q 452 178 402 83 q 493 359 493 255 l 493 738 l 617 738 l 617 214 q 623 136 617 160 q 673 92 637 92 q 697 96 684 92 l 697 -4 "},:{x_min:42,x_max:181,ha:297,o:"m 181 0 l 42 0 l 42 1013 l 181 1013 l 181 0 "},:{x_min:0,x_max:1144.5,ha:1214,o:"m 1144 1012 l 807 416 l 807 0 l 667 0 l 667 416 l 325 1012 l 465 1012 l 736 533 l 1004 1012 l 1144 1012 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},:{x_min:0,x_max:801,ha:915,o:"m 801 0 l 651 0 l 131 822 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 191 l 670 1013 l 801 1013 l 801 0 "},"-":{x_min:8.71875,x_max:350.390625,ha:478,o:"m 350 317 l 8 317 l 8 428 l 350 428 l 350 317 "},Q:{x_min:0,x_max:968,ha:1072,o:"m 954 5 l 887 -79 l 744 35 q 622 -11 687 2 q 483 -26 556 -26 q 127 130 262 -26 q 0 504 0 279 q 127 880 0 728 q 484 1041 262 1041 q 841 884 708 1041 q 968 507 968 735 q 933 293 968 398 q 832 104 899 188 l 954 5 m 723 191 q 802 330 777 248 q 828 499 828 412 q 744 790 828 673 q 483 922 650 922 q 228 791 322 922 q 142 505 142 673 q 227 221 142 337 q 487 91 323 91 q 632 123 566 91 l 520 215 l 587 301 l 723 191 "},:{x_min:1,x_max:676.28125,ha:740,o:"m 676 460 l 551 460 q 498 595 542 546 q 365 651 448 651 q 199 578 263 651 q 136 401 136 505 q 266 178 136 241 q 508 106 387 142 q 640 -50 640 62 q 625 -158 640 -105 q 583 -278 611 -211 l 465 -278 q 498 -182 490 -211 q 515 -80 515 -126 q 381 12 515 -15 q 134 91 197 51 q 1 388 1 179 q 100 651 1 542 q 354 761 199 761 q 587 680 498 761 q 676 460 676 599 "},M:{x_min:0,x_max:954,ha:1067,o:"m 954 0 l 819 0 l 819 869 l 537 0 l 405 0 l 128 866 l 128 0 l 0 0 l 0 1013 l 200 1013 l 472 160 l 757 1013 l 954 1013 l 954 0 "},:{x_min:0,x_max:1006,ha:1094,o:"m 1006 678 q 914 319 1006 429 q 571 200 814 200 l 571 0 l 433 0 l 433 200 q 92 319 194 200 q 0 678 0 429 l 0 1013 l 139 1013 l 139 679 q 191 417 139 492 q 433 326 255 326 l 433 1013 l 571 1013 l 571 326 l 580 326 q 813 423 747 326 q 868 679 868 502 l 868 1013 l 1006 1013 l 1006 678 "},C:{x_min:0,x_max:886,ha:944,o:"m 886 379 q 760 87 886 201 q 455 -26 634 -26 q 112 136 236 -26 q 0 509 0 283 q 118 882 0 737 q 469 1041 245 1041 q 748 955 630 1041 q 879 708 879 859 l 745 708 q 649 862 724 805 q 473 920 573 920 q 219 791 312 920 q 136 509 136 675 q 217 229 136 344 q 470 99 311 99 q 672 179 591 99 q 753 379 753 259 l 886 379 "},"!":{x_min:0,x_max:138,ha:236,o:"m 138 684 q 116 409 138 629 q 105 244 105 299 l 33 244 q 16 465 33 313 q 0 684 0 616 l 0 1013 l 138 1013 l 138 684 m 138 0 l 0 0 l 0 151 l 138 151 l 138 0 "},"{":{x_min:0,x_max:480.5625,ha:578,o:"m 480 -286 q 237 -213 303 -286 q 187 -45 187 -159 q 194 48 187 -15 q 201 141 201 112 q 164 264 201 225 q 0 314 118 314 l 0 417 q 164 471 119 417 q 201 605 201 514 q 199 665 201 644 q 193 772 193 769 q 241 941 193 887 q 480 1015 308 1015 l 480 915 q 336 866 375 915 q 306 742 306 828 q 310 662 306 717 q 314 577 314 606 q 288 452 314 500 q 176 365 256 391 q 289 275 257 337 q 314 143 314 226 q 313 84 314 107 q 310 -11 310 -5 q 339 -131 310 -94 q 480 -182 377 -182 l 480 -286 "},X:{x_min:-.015625,x_max:854.15625,ha:940,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 428 637 l 675 1013 l 836 1013 l 504 520 l 854 0 "},"#":{x_min:0,x_max:963.890625,ha:1061,o:"m 963 690 l 927 590 l 719 590 l 655 410 l 876 410 l 840 310 l 618 310 l 508 -3 l 393 -2 l 506 309 l 329 310 l 215 -2 l 102 -3 l 212 310 l 0 310 l 36 410 l 248 409 l 312 590 l 86 590 l 120 690 l 347 690 l 459 1006 l 573 1006 l 462 690 l 640 690 l 751 1006 l 865 1006 l 754 690 l 963 690 m 606 590 l 425 590 l 362 410 l 543 410 l 606 590 "},:{x_min:42,x_max:284,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 738 l 167 738 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 "},:{x_min:0,x_max:906.953125,ha:982,o:"m 283 1040 l 88 799 l 5 799 l 145 1040 l 283 1040 m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1012 l 529 1012 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},")":{x_min:0,x_max:318,ha:415,o:"m 318 365 q 257 25 318 191 q 87 -290 197 -141 l 0 -290 q 140 21 93 -128 q 193 360 193 189 q 141 704 193 537 q 0 1024 97 850 l 87 1024 q 257 706 197 871 q 318 365 318 542 "},:{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 314 0 265 q 128 390 67 353 q 56 460 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 "},:{x_min:0,x_max:952.78125,ha:1028,o:"m 952 0 l 0 0 l 400 1013 l 551 1013 l 952 0 m 762 124 l 476 867 l 187 124 l 762 124 "},"}":{x_min:0,x_max:481,ha:578,o:"m 481 314 q 318 262 364 314 q 282 136 282 222 q 284 65 282 97 q 293 -58 293 -48 q 241 -217 293 -166 q 0 -286 174 -286 l 0 -182 q 143 -130 105 -182 q 171 -2 171 -93 q 168 81 171 22 q 165 144 165 140 q 188 275 165 229 q 306 365 220 339 q 191 455 224 391 q 165 588 165 505 q 168 681 165 624 q 171 742 171 737 q 141 865 171 827 q 0 915 102 915 l 0 1015 q 243 942 176 1015 q 293 773 293 888 q 287 675 293 741 q 282 590 282 608 q 318 466 282 505 q 481 417 364 417 l 481 314 "},"":{x_min:-3,x_max:1672,ha:1821,o:"m 846 0 q 664 76 732 0 q 603 244 603 145 q 662 412 603 344 q 846 489 729 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 846 0 962 0 m 845 103 q 945 143 910 103 q 981 243 981 184 q 947 340 981 301 q 845 385 910 385 q 745 342 782 385 q 709 243 709 300 q 742 147 709 186 q 845 103 781 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 m 1428 0 q 1246 76 1314 0 q 1185 244 1185 145 q 1244 412 1185 344 q 1428 489 1311 489 q 1610 412 1542 489 q 1672 244 1672 343 q 1612 76 1672 144 q 1428 0 1545 0 m 1427 103 q 1528 143 1492 103 q 1564 243 1564 184 q 1530 340 1564 301 q 1427 385 1492 385 q 1327 342 1364 385 q 1291 243 1291 300 q 1324 147 1291 186 q 1427 103 1363 103 "},a:{x_min:0,x_max:698.609375,ha:794,o:"m 698 0 q 661 -12 679 -7 q 615 -17 643 -17 q 536 12 564 -17 q 500 96 508 41 q 384 6 456 37 q 236 -25 312 -25 q 65 31 130 -25 q 0 194 0 88 q 118 390 0 334 q 328 435 180 420 q 488 483 476 451 q 495 523 495 504 q 442 619 495 584 q 325 654 389 654 q 209 617 257 654 q 152 513 161 580 l 33 513 q 123 705 33 633 q 332 772 207 772 q 528 712 448 772 q 617 531 617 645 l 617 163 q 624 108 617 126 q 664 90 632 90 l 698 94 l 698 0 m 491 262 l 491 372 q 272 329 350 347 q 128 201 128 294 q 166 113 128 144 q 264 83 205 83 q 414 130 346 83 q 491 262 491 183 "},"":{x_min:0,x_max:941.671875,ha:1039,o:"m 941 334 l 0 334 l 0 410 l 941 410 l 941 334 "},"=":{x_min:8.71875,x_max:780.953125,ha:792,o:"m 780 510 l 8 510 l 8 606 l 780 606 l 780 510 m 780 235 l 8 235 l 8 332 l 780 332 l 780 235 "},N:{x_min:0,x_max:801,ha:914,o:"m 801 0 l 651 0 l 131 823 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 193 l 670 1013 l 801 1013 l 801 0 "},:{x_min:0,x_max:712,ha:797,o:"m 712 369 q 620 94 712 207 q 362 -26 521 -26 q 230 2 292 -26 q 119 83 167 30 l 119 -278 l 0 -278 l 0 362 q 91 643 0 531 q 355 764 190 764 q 617 647 517 764 q 712 369 712 536 m 583 366 q 530 559 583 480 q 359 651 469 651 q 190 562 252 651 q 135 370 135 483 q 189 176 135 257 q 359 85 250 85 q 528 175 466 85 q 583 366 583 254 "},"":{x_min:0,x_max:941.671875,ha:938,o:"m 941 1033 l 0 1033 l 0 1109 l 941 1109 l 941 1033 "},Z:{x_min:0,x_max:779,ha:849,o:"m 779 0 l 0 0 l 0 113 l 621 896 l 40 896 l 40 1013 l 779 1013 l 778 887 l 171 124 l 779 124 l 779 0 "},u:{x_min:0,x_max:617,ha:729,o:"m 617 0 l 499 0 l 499 110 q 391 10 460 45 q 246 -25 322 -25 q 61 58 127 -25 q 0 258 0 136 l 0 738 l 125 738 l 125 284 q 156 148 125 202 q 273 82 197 82 q 433 165 369 82 q 493 340 493 243 l 493 738 l 617 738 l 617 0 "},k:{x_min:0,x_max:612.484375,ha:697,o:"m 612 738 l 338 465 l 608 0 l 469 0 l 251 382 l 121 251 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 402 l 456 738 l 612 738 "},:{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},:{x_min:0,x_max:906.953125,ha:985,o:"m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},s:{x_min:0,x_max:604,ha:697,o:"m 604 217 q 501 36 604 104 q 292 -23 411 -23 q 86 43 166 -23 q 0 238 0 114 l 121 237 q 175 122 121 164 q 300 85 223 85 q 415 112 363 85 q 479 207 479 147 q 361 309 479 276 q 140 372 141 370 q 21 544 21 426 q 111 708 21 647 q 298 761 190 761 q 492 705 413 761 q 583 531 583 643 l 462 531 q 412 625 462 594 q 298 657 363 657 q 199 636 242 657 q 143 558 143 608 q 262 454 143 486 q 484 394 479 397 q 604 217 604 341 "},B:{x_min:0,x_max:778,ha:876,o:"m 580 546 q 724 469 670 535 q 778 311 778 403 q 673 83 778 171 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 892 q 691 633 732 693 q 580 546 650 572 m 393 899 l 139 899 l 139 588 l 379 588 q 521 624 462 588 q 592 744 592 667 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 303 635 219 q 559 436 635 389 q 402 477 494 477 l 139 477 l 139 124 l 419 124 "},"":{x_min:0,x_max:614,ha:708,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 m 378 0 l 236 0 l 236 151 l 378 151 l 378 0 m 614 0 l 472 0 l 472 151 l 614 151 l 614 0 "},"?":{x_min:0,x_max:607,ha:704,o:"m 607 777 q 543 599 607 674 q 422 474 482 537 q 357 272 357 391 l 236 272 q 297 487 236 395 q 411 619 298 490 q 474 762 474 691 q 422 885 474 838 q 301 933 371 933 q 179 880 228 933 q 124 706 124 819 l 0 706 q 94 963 0 872 q 302 1044 177 1044 q 511 973 423 1044 q 607 777 607 895 m 370 0 l 230 0 l 230 151 l 370 151 l 370 0 "},H:{x_min:0,x_max:803,ha:915,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},:{x_min:0,x_max:675,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 738 l 340 147 l 541 738 l 675 738 "},c:{x_min:1,x_max:701.390625,ha:775,o:"m 701 264 q 584 53 681 133 q 353 -26 487 -26 q 91 91 188 -26 q 1 370 1 201 q 92 645 1 537 q 353 761 190 761 q 572 688 479 761 q 690 493 666 615 l 556 493 q 487 606 545 562 q 356 650 428 650 q 186 563 246 650 q 134 372 134 487 q 188 179 134 258 q 359 88 250 88 q 492 136 437 88 q 566 264 548 185 l 701 264 "},"":{x_min:0,x_max:566.671875,ha:678,o:"m 21 892 l 52 892 l 98 761 l 145 892 l 176 892 l 178 741 l 157 741 l 157 867 l 108 741 l 88 741 l 40 871 l 40 741 l 21 741 l 21 892 m 308 854 l 308 731 q 252 691 308 691 q 227 691 240 691 q 207 696 213 695 l 207 712 l 253 706 q 288 733 288 706 l 288 763 q 244 741 279 741 q 193 797 193 741 q 261 860 193 860 q 287 860 273 860 q 308 854 302 855 m 288 842 l 263 843 q 213 796 213 843 q 248 756 213 756 q 288 796 288 756 l 288 842 m 566 988 l 502 988 l 502 -1 l 439 -1 l 439 988 l 317 988 l 317 -1 l 252 -1 l 252 602 q 81 653 155 602 q 0 805 0 711 q 101 989 0 918 q 309 1053 194 1053 l 566 1053 l 566 988 "},:{x_min:0,x_max:660,ha:745,o:"m 471 550 q 610 450 561 522 q 660 280 660 378 q 578 64 660 151 q 367 -22 497 -22 q 239 5 299 -22 q 126 82 178 32 l 126 -278 l 0 -278 l 0 593 q 54 903 0 801 q 318 1042 127 1042 q 519 964 436 1042 q 603 771 603 887 q 567 644 603 701 q 471 550 532 586 m 337 79 q 476 138 418 79 q 535 279 535 198 q 427 437 535 386 q 226 477 344 477 l 226 583 q 398 620 329 583 q 486 762 486 668 q 435 884 486 833 q 312 935 384 935 q 169 861 219 935 q 126 698 126 797 l 126 362 q 170 169 126 242 q 337 79 224 79 "},:{x_min:0,x_max:954,ha:1068,o:"m 954 0 l 819 0 l 819 868 l 537 0 l 405 0 l 128 865 l 128 0 l 0 0 l 0 1013 l 199 1013 l 472 158 l 758 1013 l 954 1013 l 954 0 "},:{x_min:.109375,x_max:1120,ha:1217,o:"m 1120 505 q 994 132 1120 282 q 642 -29 861 -29 q 290 130 422 -29 q 167 505 167 280 q 294 883 167 730 q 650 1046 430 1046 q 999 882 868 1046 q 1120 505 1120 730 m 977 504 q 896 784 977 669 q 644 915 804 915 q 391 785 484 915 q 307 504 307 669 q 391 224 307 339 q 644 95 486 95 q 894 224 803 95 q 977 504 977 339 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},:{x_min:0,x_max:1158,ha:1275,o:"m 1158 0 l 1022 0 l 1022 475 l 496 475 l 496 0 l 356 0 l 356 1012 l 496 1012 l 496 599 l 1022 599 l 1022 1012 l 1158 1012 l 1158 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"":{x_min:0,x_max:663.890625,ha:775,o:"m 663 529 q 566 293 663 391 q 331 196 469 196 q 97 294 194 196 q 0 529 0 393 q 96 763 0 665 q 331 861 193 861 q 566 763 469 861 q 663 529 663 665 "},"":{x_min:.1875,x_max:819.546875,ha:886,o:"m 563 561 l 697 561 l 696 487 l 520 487 l 482 416 l 482 380 l 697 380 l 695 308 l 482 308 l 482 0 l 342 0 l 342 308 l 125 308 l 125 380 l 342 380 l 342 417 l 303 487 l 125 487 l 125 561 l 258 561 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 l 563 561 "},"(":{x_min:0,x_max:318.0625,ha:415,o:"m 318 -290 l 230 -290 q 61 23 122 -142 q 0 365 0 190 q 62 712 0 540 q 230 1024 119 869 l 318 1024 q 175 705 219 853 q 125 360 125 542 q 176 22 125 187 q 318 -290 223 -127 "},U:{x_min:0,x_max:796,ha:904,o:"m 796 393 q 681 93 796 212 q 386 -25 566 -25 q 101 95 208 -25 q 0 393 0 211 l 0 1013 l 138 1013 l 138 391 q 204 191 138 270 q 394 107 276 107 q 586 191 512 107 q 656 391 656 270 l 656 1013 l 796 1013 l 796 393 "},:{x_min:.5,x_max:744.953125,ha:822,o:"m 744 737 l 463 54 l 463 -278 l 338 -278 l 338 54 l 154 495 q 104 597 124 569 q 13 651 67 651 l 0 651 l 0 751 l 39 753 q 168 711 121 753 q 242 594 207 676 l 403 208 l 617 737 l 744 737 "},:{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 728 407 760 q 563 637 524 696 l 563 739 l 685 739 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 96 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 "},F:{x_min:0,x_max:683.328125,ha:717,o:"m 683 888 l 140 888 l 140 583 l 613 583 l 613 458 l 140 458 l 140 0 l 0 0 l 0 1013 l 683 1013 l 683 888 "},"":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},":":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},:{x_min:0,x_max:854.171875,ha:935,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 427 637 l 675 1013 l 836 1013 l 504 521 l 854 0 "},"*":{x_min:116,x_max:674,ha:792,o:"m 674 768 l 475 713 l 610 544 l 517 477 l 394 652 l 272 478 l 178 544 l 314 713 l 116 766 l 153 876 l 341 812 l 342 1013 l 446 1013 l 446 811 l 635 874 l 674 768 "},"":{x_min:0,x_max:777,ha:835,o:"m 458 804 l 777 804 l 777 683 l 458 683 l 458 0 l 319 0 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 "},"":{x_min:0,x_max:347,ha:444,o:"m 173 802 q 43 856 91 802 q 0 977 0 905 q 45 1101 0 1049 q 173 1153 90 1153 q 303 1098 255 1153 q 347 977 347 1049 q 303 856 347 905 q 173 802 256 802 m 173 884 q 238 910 214 884 q 262 973 262 937 q 239 1038 262 1012 q 173 1064 217 1064 q 108 1037 132 1064 q 85 973 85 1010 q 108 910 85 937 q 173 884 132 884 "},V:{x_min:0,x_max:862.71875,ha:940,o:"m 862 1013 l 505 0 l 361 0 l 0 1013 l 143 1013 l 434 165 l 718 1012 l 862 1013 "},:{x_min:0,x_max:734.71875,ha:763,o:"m 723 889 l 9 889 l 9 1013 l 723 1013 l 723 889 m 673 463 l 61 463 l 61 589 l 673 589 l 673 463 m 734 0 l 0 0 l 0 124 l 734 124 l 734 0 "},"":{x_min:0,x_max:0,ha:853},:{x_min:.328125,x_max:819.515625,ha:889,o:"m 588 1046 l 460 1046 l 460 1189 l 588 1189 l 588 1046 m 360 1046 l 232 1046 l 232 1189 l 360 1189 l 360 1046 m 819 1012 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1012 l 140 1012 l 411 533 l 679 1012 l 819 1012 "},"":{x_min:0,x_max:347,ha:454,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 m 347 851 q 310 737 347 784 q 208 669 273 690 l 208 734 q 267 787 250 741 q 280 873 280 821 l 208 873 l 208 1013 l 347 1013 l 347 851 "},"@":{x_min:0,x_max:1260,ha:1357,o:"m 1098 -45 q 877 -160 1001 -117 q 633 -203 752 -203 q 155 -29 327 -203 q 0 360 0 127 q 176 802 0 616 q 687 1008 372 1008 q 1123 854 969 1008 q 1260 517 1260 718 q 1155 216 1260 341 q 868 82 1044 82 q 772 106 801 82 q 737 202 737 135 q 647 113 700 144 q 527 82 594 82 q 367 147 420 82 q 314 312 314 212 q 401 565 314 452 q 639 690 498 690 q 810 588 760 690 l 849 668 l 938 668 q 877 441 900 532 q 833 226 833 268 q 853 182 833 198 q 902 167 873 167 q 1088 272 1012 167 q 1159 512 1159 372 q 1051 793 1159 681 q 687 925 925 925 q 248 747 415 925 q 97 361 97 586 q 226 26 97 159 q 627 -122 370 -122 q 856 -87 737 -122 q 1061 8 976 -53 l 1098 -45 m 786 488 q 738 580 777 545 q 643 615 700 615 q 483 517 548 615 q 425 322 425 430 q 457 203 425 250 q 552 156 490 156 q 722 273 665 156 q 786 488 738 309 "},:{x_min:0,x_max:499,ha:613,o:"m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 m 499 0 l 360 0 l 360 1012 l 499 1012 l 499 0 "},i:{x_min:14,x_max:136,ha:275,o:"m 136 873 l 14 873 l 14 1013 l 136 1013 l 136 873 m 136 0 l 14 0 l 14 737 l 136 737 l 136 0 "},:{x_min:0,x_max:778,ha:877,o:"m 580 545 q 724 468 671 534 q 778 310 778 402 q 673 83 778 170 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 891 q 691 632 732 692 q 580 545 650 571 m 393 899 l 139 899 l 139 587 l 379 587 q 521 623 462 587 q 592 744 592 666 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 302 635 219 q 559 435 635 388 q 402 476 494 476 l 139 476 l 139 124 l 419 124 "},:{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 94 617 199 q 308 -24 455 -24 q 76 94 161 -24 q 0 352 0 199 l 0 739 l 126 739 l 126 355 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 355 492 257 l 492 739 l 617 739 l 617 352 "},"]":{x_min:0,x_max:275,ha:372,o:"m 275 -281 l 0 -281 l 0 -187 l 151 -187 l 151 920 l 0 920 l 0 1013 l 275 1013 l 275 -281 "},m:{x_min:0,x_max:1019,ha:1128,o:"m 1019 0 l 897 0 l 897 454 q 860 591 897 536 q 739 660 816 660 q 613 586 659 660 q 573 436 573 522 l 573 0 l 447 0 l 447 455 q 412 591 447 535 q 294 657 372 657 q 165 586 213 657 q 122 437 122 521 l 122 0 l 0 0 l 0 738 l 117 738 l 117 640 q 202 730 150 697 q 316 763 254 763 q 437 730 381 763 q 525 642 494 697 q 621 731 559 700 q 753 763 682 763 q 943 694 867 763 q 1019 512 1019 625 l 1019 0 "},:{x_min:8.328125,x_max:780.5625,ha:815,o:"m 780 -278 q 715 -294 747 -294 q 616 -257 663 -294 q 548 -175 576 -227 l 379 133 l 143 -277 l 9 -277 l 313 254 l 163 522 q 127 586 131 580 q 36 640 91 640 q 8 637 27 640 l 8 752 l 52 757 q 162 719 113 757 q 236 627 200 690 l 383 372 l 594 737 l 726 737 l 448 250 l 625 -69 q 670 -153 647 -110 q 743 -188 695 -188 q 780 -184 759 -188 l 780 -278 "},:{x_min:42,x_max:326.71875,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 102 239 101 q 284 112 257 104 l 284 3 m 326 1040 l 137 819 l 54 819 l 189 1040 l 326 1040 "},:{x_min:0,x_max:779.171875,ha:850,o:"m 779 0 l 0 0 l 0 113 l 620 896 l 40 896 l 40 1013 l 779 1013 l 779 887 l 170 124 l 779 124 l 779 0 "},R:{x_min:0,x_max:781.953125,ha:907,o:"m 781 0 l 623 0 q 587 242 590 52 q 407 433 585 433 l 138 433 l 138 0 l 0 0 l 0 1013 l 396 1013 q 636 946 539 1013 q 749 731 749 868 q 711 597 749 659 q 608 502 674 534 q 718 370 696 474 q 729 207 722 352 q 781 26 736 62 l 781 0 m 373 551 q 533 594 465 551 q 614 731 614 645 q 532 859 614 815 q 373 896 465 896 l 138 896 l 138 551 l 373 551 "},o:{x_min:0,x_max:713,ha:821,o:"m 357 -25 q 94 91 194 -25 q 0 368 0 202 q 93 642 0 533 q 357 761 193 761 q 618 644 518 761 q 713 368 713 533 q 619 91 713 201 q 357 -25 521 -25 m 357 85 q 528 175 465 85 q 584 369 584 255 q 529 562 584 484 q 357 651 467 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 357 85 250 85 "},K:{x_min:0,x_max:819.46875,ha:906,o:"m 819 0 l 649 0 l 294 509 l 139 355 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},",":{x_min:0,x_max:142,ha:239,o:"m 142 -12 q 105 -132 142 -82 q 0 -205 68 -182 l 0 -138 q 57 -82 40 -124 q 70 0 70 -51 l 0 0 l 0 151 l 142 151 l 142 -12 "},d:{x_min:0,x_max:683,ha:796,o:"m 683 0 l 564 0 l 564 93 q 456 6 516 38 q 327 -25 395 -25 q 87 100 181 -25 q 0 365 0 215 q 90 639 0 525 q 343 763 187 763 q 564 647 486 763 l 564 1013 l 683 1013 l 683 0 m 582 373 q 529 562 582 484 q 361 653 468 653 q 190 561 253 653 q 135 365 135 479 q 189 175 135 254 q 358 85 251 85 q 529 178 468 85 q 582 373 582 258 "},"":{x_min:-109,x_max:247,ha:232,o:"m 247 1046 l 119 1046 l 119 1189 l 247 1189 l 247 1046 m 19 1046 l -109 1046 l -109 1189 l 19 1189 l 19 1046 "},E:{x_min:0,x_max:736.109375,ha:789,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},Y:{x_min:0,x_max:820,ha:886,o:"m 820 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 534 l 679 1012 l 820 1013 "},'"':{x_min:0,x_max:299,ha:396,o:"m 299 606 l 203 606 l 203 988 l 299 988 l 299 606 m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"":{x_min:0,x_max:364,ha:467,o:"m 141 -12 q 104 -132 141 -82 q 0 -205 67 -182 l 0 -138 q 56 -82 40 -124 q 69 0 69 -51 l 0 0 l 0 151 l 141 151 l 141 -12 m 364 -12 q 327 -132 364 -82 q 222 -205 290 -182 l 222 -138 q 279 -82 262 -124 q 292 0 292 -51 l 222 0 l 222 151 l 364 151 l 364 -12 "},:{x_min:1,x_max:710,ha:810,o:"m 710 360 q 616 87 710 196 q 356 -28 518 -28 q 99 82 197 -28 q 1 356 1 192 q 100 606 1 509 q 355 703 199 703 q 180 829 288 754 q 70 903 124 866 l 70 1012 l 643 1012 l 643 901 l 258 901 q 462 763 422 794 q 636 592 577 677 q 710 360 710 485 m 584 365 q 552 501 584 447 q 451 602 521 555 q 372 611 411 611 q 197 541 258 611 q 136 355 136 472 q 190 171 136 245 q 358 85 252 85 q 528 173 465 85 q 584 365 584 252 "},:{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 313 0 265 q 128 390 67 352 q 56 459 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 m 520 1040 l 331 819 l 248 819 l 383 1040 l 520 1040 "},:{x_min:0,x_max:922,ha:1031,o:"m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 339 0 203 q 45 551 0 444 q 161 738 84 643 l 302 738 q 175 553 219 647 q 124 336 124 446 q 155 179 124 249 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 342 797 257 q 745 556 797 450 q 619 738 705 638 l 760 738 q 874 551 835 640 q 922 339 922 444 "},"":{x_min:0,x_max:96,ha:251,o:"m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"":{x_min:11,x_max:781,ha:792,o:"m 781 490 l 446 490 l 446 255 l 349 255 l 349 490 l 11 490 l 11 586 l 349 586 l 349 819 l 446 819 l 446 586 l 781 586 l 781 490 m 781 21 l 11 21 l 11 115 l 781 115 l 781 21 "},"|":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},:{x_min:0,x_max:617,ha:725,o:"m 482 800 l 372 800 l 372 925 l 482 925 l 482 800 m 239 800 l 129 800 l 129 925 l 239 925 l 239 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 "},"":{x_min:0,x_max:593,ha:690,o:"m 593 425 q 554 312 593 369 q 467 233 516 254 q 537 83 537 172 q 459 -74 537 -12 q 288 -133 387 -133 q 115 -69 184 -133 q 47 96 47 -6 l 166 96 q 199 7 166 40 q 288 -26 232 -26 q 371 -5 332 -26 q 420 60 420 21 q 311 201 420 139 q 108 309 210 255 q 0 490 0 383 q 33 602 0 551 q 124 687 66 654 q 75 743 93 712 q 58 812 58 773 q 133 984 58 920 q 300 1043 201 1043 q 458 987 394 1043 q 529 814 529 925 l 411 814 q 370 908 404 877 q 289 939 336 939 q 213 911 246 939 q 180 841 180 883 q 286 720 180 779 q 484 612 480 615 q 593 425 593 534 m 467 409 q 355 544 467 473 q 196 630 228 612 q 146 587 162 609 q 124 525 124 558 q 239 387 124 462 q 398 298 369 315 q 448 345 429 316 q 467 409 467 375 "},b:{x_min:0,x_max:685,ha:783,o:"m 685 372 q 597 99 685 213 q 347 -25 501 -25 q 219 5 277 -25 q 121 93 161 36 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 634 q 214 723 157 692 q 341 754 272 754 q 591 637 493 754 q 685 372 685 526 m 554 356 q 499 550 554 470 q 328 644 437 644 q 162 556 223 644 q 108 369 108 478 q 160 176 108 256 q 330 83 221 83 q 498 169 435 83 q 554 356 554 245 "},q:{x_min:0,x_max:683,ha:876,o:"m 683 -278 l 564 -278 l 564 97 q 474 8 533 39 q 345 -23 415 -23 q 91 93 188 -23 q 0 364 0 203 q 87 635 0 522 q 337 760 184 760 q 466 727 408 760 q 564 637 523 695 l 564 737 l 683 737 l 683 -278 m 582 375 q 527 564 582 488 q 358 652 466 652 q 190 565 253 652 q 135 377 135 488 q 189 179 135 261 q 361 84 251 84 q 530 179 469 84 q 582 375 582 260 "},:{x_min:-.171875,x_max:969.5625,ha:1068,o:"m 969 0 l 555 0 l 555 123 q 744 308 675 194 q 814 558 814 423 q 726 812 814 709 q 484 922 633 922 q 244 820 334 922 q 154 567 154 719 q 223 316 154 433 q 412 123 292 199 l 412 0 l 0 0 l 0 124 l 217 124 q 68 327 122 210 q 15 572 15 444 q 144 911 15 781 q 484 1041 274 1041 q 822 909 691 1041 q 953 569 953 777 q 899 326 953 443 q 750 124 846 210 l 969 124 l 969 0 "},:{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 535 1040 l 346 819 l 262 819 l 397 1040 l 535 1040 "},z:{x_min:-.015625,x_max:613.890625,ha:697,o:"m 613 0 l 0 0 l 0 100 l 433 630 l 20 630 l 20 738 l 594 738 l 593 636 l 163 110 l 613 110 l 613 0 "},"":{x_min:0,x_max:894,ha:1e3,o:"m 389 951 l 229 951 l 229 503 l 160 503 l 160 951 l 0 951 l 0 1011 l 389 1011 l 389 951 m 894 503 l 827 503 l 827 939 l 685 503 l 620 503 l 481 937 l 481 503 l 417 503 l 417 1011 l 517 1011 l 653 580 l 796 1010 l 894 1011 l 894 503 "},:{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 721 124 755 q 200 630 193 687 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 m 479 1040 l 290 819 l 207 819 l 341 1040 l 479 1040 "},:{x_min:0,x_max:960,ha:1056,o:"m 960 507 q 833 129 960 280 q 476 -32 698 -32 q 123 129 255 -32 q 0 507 0 280 q 123 883 0 732 q 476 1045 255 1045 q 832 883 696 1045 q 960 507 960 732 m 817 500 q 733 789 817 669 q 476 924 639 924 q 223 792 317 924 q 142 507 142 675 q 222 222 142 339 q 476 89 315 89 q 730 218 636 89 q 817 500 817 334 m 716 449 l 243 449 l 243 571 l 716 571 l 716 449 "},"":{x_min:-3,x_max:1008,ha:1106,o:"m 503 532 q 614 562 566 532 q 672 658 672 598 q 614 747 672 716 q 503 772 569 772 l 338 772 l 338 532 l 503 532 m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 788 146 l 678 146 q 653 316 655 183 q 527 449 652 449 l 338 449 l 338 146 l 241 146 l 241 854 l 518 854 q 688 808 621 854 q 766 658 766 755 q 739 563 766 607 q 668 497 713 519 q 751 331 747 472 q 788 164 756 190 l 788 146 "},"~":{x_min:0,x_max:833,ha:931,o:"m 833 958 q 778 753 833 831 q 594 665 716 665 q 402 761 502 665 q 240 857 302 857 q 131 795 166 857 q 104 665 104 745 l 0 665 q 54 867 0 789 q 237 958 116 958 q 429 861 331 958 q 594 765 527 765 q 704 827 670 765 q 729 958 729 874 l 833 958 "},:{x_min:0,x_max:736.21875,ha:778,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},"":{x_min:0,x_max:450,ha:547,o:"m 450 552 q 379 413 450 464 q 220 366 313 366 q 69 414 130 366 q 0 567 0 470 l 85 567 q 126 470 85 504 q 225 437 168 437 q 320 467 280 437 q 360 552 360 498 q 318 632 360 608 q 213 657 276 657 q 195 657 203 657 q 176 657 181 657 l 176 722 q 279 733 249 722 q 334 815 334 752 q 300 881 334 856 q 220 907 267 907 q 133 875 169 907 q 97 781 97 844 l 15 781 q 78 926 15 875 q 220 972 135 972 q 364 930 303 972 q 426 817 426 888 q 344 697 426 733 q 421 642 392 681 q 450 552 450 603 "},"[":{x_min:0,x_max:273.609375,ha:371,o:"m 273 -281 l 0 -281 l 0 1013 l 273 1013 l 273 920 l 124 920 l 124 -187 l 273 -187 l 273 -281 "},L:{x_min:0,x_max:645.828125,ha:696,o:"m 645 0 l 0 0 l 0 1013 l 140 1013 l 140 126 l 645 126 l 645 0 "},:{x_min:0,x_max:803.390625,ha:894,o:"m 803 628 l 633 628 q 713 368 713 512 q 618 93 713 204 q 357 -25 518 -25 q 94 91 194 -25 q 0 368 0 201 q 94 644 0 533 q 356 761 194 761 q 481 750 398 761 q 608 739 564 739 l 803 739 l 803 628 m 360 85 q 529 180 467 85 q 584 374 584 262 q 527 566 584 490 q 352 651 463 651 q 187 559 247 651 q 135 368 135 478 q 189 175 135 254 q 360 85 251 85 "},:{x_min:0,x_max:573,ha:642,o:"m 573 -40 q 553 -162 573 -97 q 510 -278 543 -193 l 400 -278 q 441 -187 428 -219 q 462 -90 462 -132 q 378 -14 462 -14 q 108 45 197 -14 q 0 290 0 117 q 108 631 0 462 q 353 901 194 767 l 55 901 l 55 1012 l 561 1012 l 561 924 q 261 669 382 831 q 128 301 128 489 q 243 117 128 149 q 458 98 350 108 q 573 -40 573 80 "},:{x_min:0,x_max:674,ha:778,o:"m 674 496 q 601 160 674 304 q 336 -26 508 -26 q 73 153 165 -26 q 0 485 0 296 q 72 840 0 683 q 343 1045 166 1045 q 605 844 516 1045 q 674 496 674 692 m 546 579 q 498 798 546 691 q 336 935 437 935 q 178 798 237 935 q 126 579 137 701 l 546 579 m 546 475 l 126 475 q 170 233 126 348 q 338 80 230 80 q 504 233 447 80 q 546 475 546 346 "},:{x_min:0,x_max:958,ha:1054,o:"m 485 1042 q 834 883 703 1042 q 958 511 958 735 q 834 136 958 287 q 481 -26 701 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 729 q 485 1042 263 1042 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 670 q 480 913 640 913 q 226 785 321 913 q 142 504 142 671 q 226 224 142 339 q 480 98 319 98 "},:{x_min:0,x_max:705.28125,ha:749,o:"m 705 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 705 1012 l 705 886 "}," ":{x_min:0,x_max:0,ha:375},"%":{x_min:-3,x_max:1089,ha:1186,o:"m 845 0 q 663 76 731 0 q 602 244 602 145 q 661 412 602 344 q 845 489 728 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 845 0 962 0 m 844 103 q 945 143 909 103 q 981 243 981 184 q 947 340 981 301 q 844 385 909 385 q 744 342 781 385 q 708 243 708 300 q 741 147 708 186 q 844 103 780 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 "},P:{x_min:0,x_max:726,ha:806,o:"m 424 1013 q 640 931 555 1013 q 726 719 726 850 q 637 506 726 587 q 413 426 548 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 379 889 l 140 889 l 140 548 l 372 548 q 522 589 459 548 q 593 720 593 637 q 528 845 593 801 q 379 889 463 889 "},:{x_min:0,x_max:1078.21875,ha:1118,o:"m 1078 0 l 342 0 l 342 1013 l 1067 1013 l 1067 889 l 481 889 l 481 585 l 1019 585 l 1019 467 l 481 467 l 481 125 l 1078 125 l 1078 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},:{x_min:.125,x_max:1136.546875,ha:1235,o:"m 1136 0 l 722 0 l 722 123 q 911 309 842 194 q 981 558 981 423 q 893 813 981 710 q 651 923 800 923 q 411 821 501 923 q 321 568 321 720 q 390 316 321 433 q 579 123 459 200 l 579 0 l 166 0 l 166 124 l 384 124 q 235 327 289 210 q 182 572 182 444 q 311 912 182 782 q 651 1042 441 1042 q 989 910 858 1042 q 1120 569 1120 778 q 1066 326 1120 443 q 917 124 1013 210 l 1136 124 l 1136 0 m 277 1040 l 83 800 l 0 800 l 140 1041 l 277 1040 "},_:{x_min:0,x_max:705.5625,ha:803,o:"m 705 -334 l 0 -334 l 0 -234 l 705 -234 l 705 -334 "},:{x_min:-110,x_max:246,ha:275,o:"m 246 1046 l 118 1046 l 118 1189 l 246 1189 l 246 1046 m 18 1046 l -110 1046 l -110 1189 l 18 1189 l 18 1046 m 136 0 l 0 0 l 0 1012 l 136 1012 l 136 0 "},"+":{x_min:23,x_max:768,ha:792,o:"m 768 372 l 444 372 l 444 0 l 347 0 l 347 372 l 23 372 l 23 468 l 347 468 l 347 840 l 444 840 l 444 468 l 768 468 l 768 372 "},"":{x_min:0,x_max:1050,ha:1149,o:"m 1050 0 l 625 0 q 712 178 625 108 q 878 277 722 187 q 967 385 967 328 q 932 456 967 429 q 850 484 897 484 q 759 450 798 484 q 721 352 721 416 l 640 352 q 706 502 640 448 q 851 551 766 551 q 987 509 931 551 q 1050 385 1050 462 q 976 251 1050 301 q 829 179 902 215 q 717 68 740 133 l 1050 68 l 1050 0 m 834 985 l 215 -28 l 130 -28 l 750 984 l 834 985 m 224 422 l 142 422 l 142 811 l 0 811 l 0 867 q 104 889 62 867 q 164 973 157 916 l 224 973 l 224 422 "},:{x_min:0,x_max:720,ha:783,o:"m 424 1013 q 637 933 554 1013 q 720 723 720 853 q 633 508 720 591 q 413 426 546 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 378 889 l 140 889 l 140 548 l 371 548 q 521 589 458 548 q 592 720 592 637 q 527 845 592 801 q 378 889 463 889 "},"'":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},:{x_min:0,x_max:350,ha:397,o:"m 350 625 q 307 616 328 616 q 266 631 281 616 q 247 673 251 645 q 190 628 225 644 q 116 613 156 613 q 32 641 64 613 q 0 722 0 669 q 72 826 0 800 q 247 866 159 846 l 247 887 q 220 934 247 916 q 162 953 194 953 q 104 934 129 953 q 76 882 80 915 l 16 882 q 60 976 16 941 q 166 1011 104 1011 q 266 979 224 1011 q 308 891 308 948 l 308 706 q 311 679 308 688 q 331 670 315 670 l 350 672 l 350 625 m 247 757 l 247 811 q 136 790 175 798 q 64 726 64 773 q 83 682 64 697 q 132 667 103 667 q 207 690 174 667 q 247 757 247 718 "},"":{x_min:0,x_max:450,ha:553,o:"m 450 800 l 340 800 l 340 925 l 450 925 l 450 800 m 406 1040 l 212 800 l 129 800 l 269 1040 l 406 1040 m 110 800 l 0 800 l 0 925 l 110 925 l 110 800 "},T:{x_min:0,x_max:777,ha:835,o:"m 777 894 l 458 894 l 458 0 l 319 0 l 319 894 l 0 894 l 0 1013 l 777 1013 l 777 894 "},:{x_min:0,x_max:915,ha:997,o:"m 527 0 l 389 0 l 389 122 q 110 231 220 122 q 0 509 0 340 q 110 785 0 677 q 389 893 220 893 l 389 1013 l 527 1013 l 527 893 q 804 786 693 893 q 915 509 915 679 q 805 231 915 341 q 527 122 696 122 l 527 0 m 527 226 q 712 310 641 226 q 779 507 779 389 q 712 705 779 627 q 527 787 641 787 l 527 226 m 389 226 l 389 787 q 205 698 275 775 q 136 505 136 620 q 206 308 136 391 q 389 226 276 226 "},"":{x_min:0,x_max:0,ha:694},j:{x_min:-77.78125,x_max:167,ha:349,o:"m 167 871 l 42 871 l 42 1013 l 167 1013 l 167 871 m 167 -80 q 121 -231 167 -184 q -26 -278 76 -278 l -77 -278 l -77 -164 l -41 -164 q 26 -143 11 -164 q 42 -65 42 -122 l 42 737 l 167 737 l 167 -80 "},:{x_min:0,x_max:756.953125,ha:819,o:"m 756 0 l 0 0 l 0 107 l 395 523 l 22 904 l 22 1013 l 745 1013 l 745 889 l 209 889 l 566 523 l 187 125 l 756 125 l 756 0 "},"":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},"<":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"":{x_min:0,x_max:704.484375,ha:801,o:"m 704 41 q 623 -10 664 5 q 543 -26 583 -26 q 359 15 501 -26 q 243 36 288 36 q 158 23 197 36 q 73 -21 119 10 l 6 76 q 125 195 90 150 q 175 331 175 262 q 147 443 175 383 l 0 443 l 0 512 l 108 512 q 43 734 43 623 q 120 929 43 854 q 358 1010 204 1010 q 579 936 487 1010 q 678 729 678 857 l 678 684 l 552 684 q 504 838 552 780 q 362 896 457 896 q 216 852 263 896 q 176 747 176 815 q 199 627 176 697 q 248 512 217 574 l 468 512 l 468 443 l 279 443 q 297 356 297 398 q 230 194 297 279 q 153 107 211 170 q 227 133 190 125 q 293 142 264 142 q 410 119 339 142 q 516 96 482 96 q 579 105 550 96 q 648 142 608 115 l 704 41 "},t:{x_min:0,x_max:367,ha:458,o:"m 367 0 q 312 -5 339 -2 q 262 -8 284 -8 q 145 28 183 -8 q 108 143 108 64 l 108 638 l 0 638 l 0 738 l 108 738 l 108 944 l 232 944 l 232 738 l 367 738 l 367 638 l 232 638 l 232 185 q 248 121 232 140 q 307 102 264 102 q 345 104 330 102 q 367 107 360 107 l 367 0 "},"":{x_min:0,x_max:706,ha:803,o:"m 706 411 l 706 158 l 630 158 l 630 335 l 0 335 l 0 411 l 706 411 "},:{x_min:0,x_max:750,ha:803,o:"m 750 -7 q 679 -15 716 -15 q 538 59 591 -15 q 466 214 512 97 l 336 551 l 126 0 l 0 0 l 270 705 q 223 837 247 770 q 116 899 190 899 q 90 898 100 899 l 90 1004 q 152 1011 125 1011 q 298 938 244 1011 q 373 783 326 901 l 605 192 q 649 115 629 136 q 716 95 669 95 l 736 95 q 750 97 745 97 l 750 -7 "},W:{x_min:0,x_max:1263.890625,ha:1351,o:"m 1263 1013 l 995 0 l 859 0 l 627 837 l 405 0 l 265 0 l 0 1013 l 136 1013 l 342 202 l 556 1013 l 701 1013 l 921 207 l 1133 1012 l 1263 1013 "},">":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},v:{x_min:0,x_max:675.15625,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 737 l 340 147 l 541 737 l 675 738 "},:{x_min:.28125,x_max:644.5,ha:703,o:"m 644 628 l 382 628 l 382 179 q 388 120 382 137 q 436 91 401 91 q 474 94 447 91 q 504 97 501 97 l 504 0 q 454 -9 482 -5 q 401 -14 426 -14 q 278 67 308 -14 q 260 233 260 118 l 260 628 l 0 628 l 0 739 l 644 739 l 644 628 "},:{x_min:0,x_max:624.9375,ha:699,o:"m 624 -37 q 608 -153 624 -96 q 563 -278 593 -211 l 454 -278 q 491 -183 486 -200 q 511 -83 511 -126 q 484 -23 511 -44 q 370 1 452 1 q 323 0 354 1 q 283 -1 293 -1 q 84 76 169 -1 q 0 266 0 154 q 56 431 0 358 q 197 538 108 498 q 94 613 134 562 q 54 730 54 665 q 77 823 54 780 q 143 901 101 867 l 27 901 l 27 1012 l 576 1012 l 576 901 l 380 901 q 244 863 303 901 q 178 745 178 820 q 312 600 178 636 q 532 582 380 582 l 532 479 q 276 455 361 479 q 118 281 118 410 q 165 173 118 217 q 274 120 208 133 q 494 101 384 110 q 624 -37 624 76 "},"&":{x_min:-3,x_max:894.25,ha:992,o:"m 894 0 l 725 0 l 624 123 q 471 0 553 40 q 306 -41 390 -41 q 168 -7 231 -41 q 62 92 105 26 q 14 187 31 139 q -3 276 -3 235 q 55 433 -3 358 q 248 581 114 508 q 170 689 196 640 q 137 817 137 751 q 214 985 137 922 q 384 1041 284 1041 q 548 988 483 1041 q 622 824 622 928 q 563 666 622 739 q 431 556 516 608 l 621 326 q 649 407 639 361 q 663 493 653 426 l 781 493 q 703 229 781 352 l 894 0 m 504 818 q 468 908 504 877 q 384 940 433 940 q 293 907 331 940 q 255 818 255 875 q 289 714 255 767 q 363 628 313 678 q 477 729 446 682 q 504 818 504 771 m 556 209 l 314 499 q 179 395 223 449 q 135 283 135 341 q 146 222 135 253 q 183 158 158 192 q 333 80 241 80 q 556 209 448 80 "},:{x_min:0,x_max:862.5,ha:942,o:"m 862 0 l 719 0 l 426 847 l 143 0 l 0 0 l 356 1013 l 501 1013 l 862 0 "},I:{x_min:41,x_max:180,ha:293,o:"m 180 0 l 41 0 l 41 1013 l 180 1013 l 180 0 "},G:{x_min:0,x_max:921,ha:1011,o:"m 921 0 l 832 0 l 801 136 q 655 15 741 58 q 470 -28 568 -28 q 126 133 259 -28 q 0 499 0 284 q 125 881 0 731 q 486 1043 259 1043 q 763 957 647 1043 q 905 709 890 864 l 772 709 q 668 866 747 807 q 486 926 589 926 q 228 795 322 926 q 142 507 142 677 q 228 224 142 342 q 483 94 323 94 q 712 195 625 94 q 796 435 796 291 l 477 435 l 477 549 l 921 549 l 921 0 "},:{x_min:0,x_max:617,ha:725,o:"m 524 800 l 414 800 l 414 925 l 524 925 l 524 800 m 183 800 l 73 800 l 73 925 l 183 925 l 183 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 489 1040 l 300 819 l 216 819 l 351 1040 l 489 1040 "},"`":{x_min:0,x_max:138.890625,ha:236,o:"m 138 699 l 0 699 l 0 861 q 36 974 0 929 q 138 1041 72 1020 l 138 977 q 82 931 95 969 q 69 839 69 893 l 138 839 l 138 699 "},"":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},:{x_min:.328125,x_max:819.515625,ha:889,o:"m 819 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 "},r:{x_min:0,x_max:355.5625,ha:432,o:"m 355 621 l 343 621 q 179 569 236 621 q 122 411 122 518 l 122 0 l 0 0 l 0 737 l 117 737 l 117 604 q 204 719 146 686 q 355 753 262 753 l 355 621 "},x:{x_min:0,x_max:675,ha:764,o:"m 675 0 l 525 0 l 331 286 l 144 0 l 0 0 l 256 379 l 12 738 l 157 737 l 336 473 l 516 738 l 661 738 l 412 380 l 675 0 "},:{x_min:0,x_max:696.609375,ha:747,o:"m 696 -4 q 628 -14 657 -14 q 498 97 513 -14 q 422 8 470 41 q 313 -24 374 -24 q 207 3 258 -24 q 120 80 157 31 l 120 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 172 124 246 q 308 82 216 82 q 451 177 402 82 q 492 358 492 254 l 492 738 l 616 738 l 616 214 q 623 136 616 160 q 673 92 636 92 q 696 95 684 92 l 696 -4 "},h:{x_min:0,x_max:615,ha:724,o:"m 615 472 l 615 0 l 490 0 l 490 454 q 456 590 490 535 q 338 654 416 654 q 186 588 251 654 q 122 436 122 522 l 122 0 l 0 0 l 0 1013 l 122 1013 l 122 633 q 218 727 149 694 q 362 760 287 760 q 552 676 484 760 q 615 472 615 600 "},".":{x_min:0,x_max:142,ha:239,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},:{x_min:-2,x_max:878,ha:974,o:"m 496 -279 l 378 -279 l 378 -17 q 101 88 204 -17 q -2 367 -2 194 q 68 626 -2 510 q 283 758 151 758 l 283 646 q 167 537 209 626 q 133 373 133 462 q 192 177 133 254 q 378 93 259 93 l 378 758 q 445 764 426 763 q 476 765 464 765 q 765 659 653 765 q 878 377 878 553 q 771 96 878 209 q 496 -17 665 -17 l 496 -279 m 496 93 l 514 93 q 687 183 623 93 q 746 380 746 265 q 691 569 746 491 q 522 658 629 658 l 496 656 l 496 93 "},";":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 -12 q 105 -132 142 -82 q 0 -206 68 -182 l 0 -138 q 58 -82 43 -123 q 68 0 68 -56 l 0 0 l 0 151 l 142 151 l 142 -12 "},f:{x_min:0,x_max:378,ha:472,o:"m 378 638 l 246 638 l 246 0 l 121 0 l 121 638 l 0 638 l 0 738 l 121 738 q 137 935 121 887 q 290 1028 171 1028 q 320 1027 305 1028 q 378 1021 334 1026 l 378 908 q 323 918 346 918 q 257 870 273 918 q 246 780 246 840 l 246 738 l 378 738 l 378 638 "},"":{x_min:1,x_max:348.21875,ha:454,o:"m 140 670 l 1 670 l 1 830 q 37 943 1 897 q 140 1011 74 990 l 140 947 q 82 900 97 940 q 68 810 68 861 l 140 810 l 140 670 m 348 670 l 209 670 l 209 830 q 245 943 209 897 q 348 1011 282 990 l 348 947 q 290 900 305 940 q 276 810 276 861 l 348 810 l 348 670 "},A:{x_min:.03125,x_max:906.953125,ha:1008,o:"m 906 0 l 756 0 l 648 303 l 251 303 l 142 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 610 421 l 452 867 l 293 421 l 610 421 "},"":{x_min:1,x_max:139.890625,ha:236,o:"m 139 670 l 1 670 l 1 830 q 37 943 1 897 q 139 1011 74 990 l 139 947 q 82 900 97 940 q 68 810 68 861 l 139 810 l 139 670 "},:{x_min:-70,x_max:283,ha:361,o:"m 283 800 l 173 800 l 173 925 l 283 925 l 283 800 m 40 800 l -70 800 l -70 925 l 40 925 l 40 800 m 283 3 q 232 -10 257 -5 q 181 -15 206 -15 q 84 26 118 -15 q 41 200 41 79 l 41 737 l 166 737 l 167 215 q 171 141 167 157 q 225 101 182 101 q 247 103 238 101 q 283 112 256 104 l 283 3 "},:{x_min:-.21875,x_max:773.21875,ha:857,o:"m 773 -7 l 707 -11 q 575 40 607 -11 q 552 174 552 77 l 552 226 l 552 626 l 222 626 l 222 0 l 97 0 l 97 626 l 0 626 l 0 737 l 773 737 l 773 626 l 676 626 l 676 171 q 695 103 676 117 q 773 90 714 90 l 773 -7 "},:{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 727 407 760 q 563 637 524 695 l 563 738 l 685 738 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 95 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 m 604 1040 l 415 819 l 332 819 l 466 1040 l 604 1040 "},O:{x_min:0,x_max:958,ha:1057,o:"m 485 1041 q 834 882 702 1041 q 958 512 958 734 q 834 136 958 287 q 481 -26 702 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 728 q 485 1041 263 1041 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 669 q 480 912 640 912 q 226 784 321 912 q 142 504 142 670 q 226 224 142 339 q 480 98 319 98 "},n:{x_min:0,x_max:615,ha:724,o:"m 615 463 l 615 0 l 490 0 l 490 454 q 453 592 490 537 q 331 656 410 656 q 178 585 240 656 q 117 421 117 514 l 117 0 l 0 0 l 0 738 l 117 738 l 117 630 q 218 728 150 693 q 359 764 286 764 q 552 675 484 764 q 615 463 615 593 "},l:{x_min:41,x_max:166,ha:279,o:"m 166 0 l 41 0 l 41 1013 l 166 1013 l 166 0 "},"":{x_min:40.09375,x_max:728.796875,ha:825,o:"m 728 304 l 649 224 l 512 363 q 383 331 458 331 q 256 363 310 331 l 119 224 l 40 304 l 177 441 q 150 553 150 493 q 184 673 150 621 l 40 818 l 119 898 l 267 749 q 321 766 291 759 q 384 773 351 773 q 447 766 417 773 q 501 749 477 759 l 649 898 l 728 818 l 585 675 q 612 618 604 648 q 621 553 621 587 q 591 441 621 491 l 728 304 m 384 682 q 280 643 318 682 q 243 551 243 604 q 279 461 243 499 q 383 423 316 423 q 487 461 449 423 q 525 553 525 500 q 490 641 525 605 q 384 682 451 682 "},:{x_min:0,x_max:632.328125,ha:679,o:"m 632 0 l 482 0 l 225 384 l 124 288 l 124 0 l 0 0 l 0 738 l 124 738 l 124 446 l 433 738 l 596 738 l 312 466 l 632 0 "},p:{x_min:0,x_max:685,ha:786,o:"m 685 364 q 598 96 685 205 q 350 -23 504 -23 q 121 89 205 -23 l 121 -278 l 0 -278 l 0 738 l 121 738 l 121 633 q 220 726 159 691 q 351 761 280 761 q 598 636 504 761 q 685 364 685 522 m 557 371 q 501 560 557 481 q 330 651 437 651 q 162 559 223 651 q 108 366 108 479 q 162 177 108 254 q 333 87 224 87 q 502 178 441 87 q 557 371 557 258 "},"":{x_min:0,x_max:777,ha:835,o:"m 458 238 l 458 0 l 319 0 l 319 238 l 0 238 l 0 360 l 319 360 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 l 777 804 l 777 683 l 458 683 l 458 360 l 777 360 l 777 238 l 458 238 "},:{x_min:0,x_max:808,ha:907,o:"m 465 -278 l 341 -278 l 341 -15 q 87 102 180 -15 q 0 378 0 210 l 0 739 l 133 739 l 133 379 q 182 195 133 275 q 341 98 242 98 l 341 922 l 465 922 l 465 98 q 623 195 563 98 q 675 382 675 278 l 675 742 l 808 742 l 808 381 q 720 104 808 213 q 466 -13 627 -13 l 465 -278 "},:{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 720 124 755 q 200 630 193 686 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 "}},JO="normal",eU=1189,tU=-100,aU="normal",nU={yMin:-334,xMin:-111,yMax:1189,xMax:1672},rU=1e3,sU={postscript_name:"Helvetiker-Regular",version_string:"Version 1.00 2004 initial release",vendor_url:"http://www.magenta.gr/",full_font_name:"Helvetiker",font_family_name:"Helvetiker",copyright:"Copyright (c) agenta ltd, 2004",description:"",trademark:"",designer:"",designer_url:"",unique_font_identifier:"agenta ltd:Helvetiker:22-10-104",license_url:"http://www.ellak.gr/fonts/MgOpen/license.html",license_description:`Copyright (c) 2004 by MAGENTA Ltd. All Rights Reserved.\r
\r
Permission is hereby granted, free of charge, to any person obtaining a copy of the fonts accompanying this license ("Fonts") and associated documentation files (the "Font Software"), to reproduce and distribute the Font Software, including without limitation the rights to use, copy, merge, publish, distribute, and/or sell copies of the Font Software, and to permit persons to whom the Font Software is furnished to do so, subject to the following conditions: \r
\r
The above copyright and this permission notice shall be included in all copies of one or more of the Font Software typefaces.\r
\r
The Font Software may be modified, altered, or added to, and in particular the designs of glyphs or characters in the Fonts may be modified and additional glyphs or characters may be added to the Fonts, only if the fonts are renamed to names not containing the word "MgOpen", or if the modifications are accepted for inclusion in the Font Software itself by the each appointed Administrator.\r
\r
This License becomes null and void to the extent applicable to Fonts or Font Software that has been modified and is distributed under the "MgOpen" name.\r
\r
The Font Software may be sold as part of a larger software package but no copy of one or more of the Font Software typefaces may be sold by itself. \r
\r
THE FONT SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL MAGENTA OR PERSONS OR BODIES IN CHARGE OF ADMINISTRATION AND MAINTENANCE OF THE FONT SOFTWARE BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, INCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM OTHER DEALINGS IN THE FONT SOFTWARE.`,manufacturer_name:"agenta ltd",font_sub_family_name:"Regular"},oU=-334,iU="Helvetiker",lU=1522,AU=50,uU={glyphs:ZO,cssFontWeight:JO,ascender:eU,underlinePosition:tU,cssFontStyle:aU,boundingBox:nU,resolution:rU,original_font_information:sU,descender:oU,familyName:iU,lineHeight:lU,underlineThickness:AU},i0=Bt(Bt({},window.THREE?window.THREE:{BoxGeometry:Dh,CircleGeometry:W8,DoubleSide:f0,Group:Y0,Mesh:Da,MeshLambertMaterial:Sr,TextGeometry:Lg,Vector3:Re}),{},{Font:iO,TextGeometry:Lg}),am=an({props:{labelsData:{default:[]},labelLat:{default:"lat"},labelLng:{default:"lng"},labelAltitude:{default:0},labelText:{default:"text"},labelSize:{default:.5},labelTypeFace:{default:uU,onChange:function(e,t){t.font=new i0.Font(e)}},labelColor:{default:function(){return"lightgrey"}},labelRotation:{default:0},labelResolution:{default:3},labelIncludeDot:{default:!0},labelDotRadius:{default:.1},labelDotOrientation:{default:function(){return"bottom"}},labelsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,a){var r=a.tweenGroup;Ht(e),t.scene=e,t.tweenGroup=r;var s=new i0.CircleGeometry(1,32);t.dataMapper=new Tn(e,{objBindAttr:"__threeObjLabel"}).onCreateObj(function(){var o=new i0.MeshLambertMaterial;o.side=f0;var d=new i0.Group;d.add(new i0.Mesh(s,o));var c=new i0.Mesh(void 0,o);d.add(c);var g=new i0.Mesh;return g.visible=!1,c.add(g),d.__globeObjType="label",d})},update:function(e){var t=xe(e.labelLat),a=xe(e.labelLng),r=xe(e.labelAltitude),s=xe(e.labelText),o=xe(e.labelSize),d=xe(e.labelRotation),c=xe(e.labelColor),g=xe(e.labelIncludeDot),D=xe(e.labelDotRadius),m=xe(e.labelDotOrientation),_=new Set(["right","top","bottom"]),w=2*Math.PI*Kt/360;e.dataMapper.onUpdateObj(function(x,T){var I=ta(x.children,2),N=I[0],R=I[1],M=ta(R.children,1),B=M[0],F=c(T),L=m0(F);R.material.color.set($0(F)),R.material.transparent=L<1,R.material.opacity=L;var O=g(T),G=m(T);!O||!_.has(G)&&(G="bottom");var j=O?+D(T)*w:1e-12;N.scale.x=N.scale.y=j;var ne=+o(T)*w;if(R.geometry&&R.geometry.dispose(),R.geometry=new i0.TextGeometry(s(T),{font:e.font,size:ne,depth:0,bevelEnabled:!0,bevelThickness:0,bevelSize:0,curveSegments:e.labelResolution}),B.geometry&&B.geometry.dispose(),R.geometry.computeBoundingBox(),B.geometry=Yp(i0.BoxGeometry,Gt(new i0.Vector3().subVectors(R.geometry.boundingBox.max,R.geometry.boundingBox.min).toArray())),G!=="right"&&R.geometry.center(),O){var Y=j+ne/2;G==="right"&&(R.position.x=Y),R.position.y={right:-ne/2,top:Y+ne/2,bottom:-Y-ne/2}[G]}var Z=function($){var X=x.__currentTargetD=$,ue=X.lat,pe=X.lng,ge=X.alt,Ee=X.rot,Ce=X.scale;Object.assign(x.position,t0(ue,pe,ge)),x.lookAt(e.scene.localToWorld(new i0.Vector3(0,0,0))),x.rotateY(Math.PI),x.rotateZ(-Ee*Math.PI/180),x.scale.x=x.scale.y=x.scale.z=Ce},re={lat:+t(T),lng:+a(T),alt:+r(T),rot:+d(T),scale:1},de=x.__currentTargetD||Object.assign({},re,{scale:1e-12});Object.keys(re).some(function(te){return de[te]!==re[te]})&&(!e.labelsTransitionDuration||e.labelsTransitionDuration<0?Z(re):e.tweenGroup.add(new Ln(de).to(re,e.labelsTransitionDuration).easing(Va.Quadratic.InOut).onUpdate(Z).start()))}).digest(e.labelsData)}}),dU=Bt(Bt({},window.THREE?window.THREE:{}),{},{CSS2DObject:uO}),nm=an({props:{htmlElementsData:{default:[]},htmlLat:{default:"lat"},htmlLng:{default:"lng"},htmlAltitude:{default:0},htmlElement:{},htmlElementVisibilityModifier:{triggerUpdate:!1},htmlTransitionDuration:{default:1e3,triggerUpdate:!1},isBehindGlobe:{onChange:function(){this.updateObjVisibility()},triggerUpdate:!1}},methods:{updateObjVisibility:function(e,t){if(e.dataMapper){var a=t?[t]:e.dataMapper.entries().map(function(r){var s=ta(r,2),o=s[1];return o}).filter(function(r){return r});a.forEach(function(r){var s=!e.isBehindGlobe||!e.isBehindGlobe(r.position);e.htmlElementVisibilityModifier?(r.visible=!0,e.htmlElementVisibilityModifier(r.element,s)):r.visible=s})}}},init:function(e,t,a){var r=a.tweenGroup;Ht(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Tn(e,{objBindAttr:"__threeObjHtml"}).onCreateObj(function(s){var o=xe(t.htmlElement)(s),d=new dU.CSS2DObject(o);return d.__globeObjType="html",d})},update:function(e,t){var a=this,r=xe(e.htmlLat),s=xe(e.htmlLng),o=xe(e.htmlAltitude);t.hasOwnProperty("htmlElement")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(d,c){var g=function(_){var w=d.__currentTargetD=_,x=w.alt,T=w.lat,I=w.lng;Object.assign(d.position,t0(T,I,x)),a.updateObjVisibility(d)},D={lat:+r(c),lng:+s(c),alt:+o(c)};!e.htmlTransitionDuration||e.htmlTransitionDuration<0||!d.__currentTargetD?g(D):e.tweenGroup.add(new Ln(d.__currentTargetD).to(D,e.htmlTransitionDuration).easing(Va.Quadratic.InOut).onUpdate(g).start())}).digest(e.htmlElementsData)}}),K2=window.THREE?window.THREE:{Group:Y0,Mesh:Da,MeshLambertMaterial:Sr,SphereGeometry:j1},rm=an({props:{objectsData:{default:[]},objectLat:{default:"lat"},objectLng:{default:"lng"},objectAltitude:{default:.01},objectFacesSurface:{default:!0},objectRotation:{},objectThreeObject:{default:new K2.Mesh(new K2.SphereGeometry(1,16,8),new K2.MeshLambertMaterial({color:"#ffffaa",transparent:!0,opacity:.7}))}},init:function(e,t){Ht(e),t.scene=e,t.dataMapper=new Tn(e,{objBindAttr:"__threeObjObject"}).onCreateObj(function(a){var r=xe(t.objectThreeObject)(a);t.objectThreeObject===r&&(r=r.clone());var s=new K2.Group;return s.add(r),s.__globeObjType="object",s})},update:function(e,t){var a=xe(e.objectLat),r=xe(e.objectLng),s=xe(e.objectAltitude),o=xe(e.objectFacesSurface),d=xe(e.objectRotation);t.hasOwnProperty("objectThreeObject")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(c,g){var D=+a(g),m=+r(g),_=+s(g);Object.assign(c.position,t0(D,m,_)),o(g)?c.setRotationFromEuler(new ui(k1(-D),k1(m),0,"YXZ")):c.rotation.set(0,0,0);var w=c.children[0],x=d(g);x&&w.setRotationFromEuler(new ui(k1(x.x||0),k1(x.y||0),k1(x.z||0)))}).digest(e.objectsData)}}),sm=an({props:{customLayerData:{default:[]},customThreeObject:{},customThreeObjectUpdate:{triggerUpdate:!1}},init:function(e,t){Ht(e),t.scene=e,t.dataMapper=new Tn(e,{objBindAttr:"__threeObjCustom"}).onCreateObj(function(a){var r=xe(t.customThreeObject)(a,Kt);return r&&(t.customThreeObject===r&&(r=r.clone()),r.__globeObjType="custom"),r})},update:function(e,t){e.customThreeObjectUpdate||Ht(e.scene);var a=xe(e.customThreeObjectUpdate);t.hasOwnProperty("customThreeObject")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(r,s){return a(r,s,Kt)}).digest(e.customLayerData)}}),Z2=window.THREE?window.THREE:{Camera:sh,Group:Y0,Vector2:Ot,Vector3:Re},cU=["globeLayer","pointsLayer","arcsLayer","hexBinLayer","heatmapsLayer","polygonsLayer","hexedPolygonsLayer","pathsLayer","tilesLayer","particlesLayer","ringsLayer","labelsLayer","htmlElementsLayer","objectsLayer","customLayer"],om=cn("globeLayer",zv),hU=Object.assign.apply(Object,Gt(["globeImageUrl","bumpImageUrl","globeTileEngineUrl","globeTileEngineMaxLevel","showGlobe","showGraticules","showAtmosphere","atmosphereColor","atmosphereAltitude"].map(function(n){return Ba({},n,om.linkProp(n))}))),pU=Object.assign.apply(Object,Gt(["globeMaterial"].map(function(n){return Ba({},n,om.linkMethod(n))}))),gU=cn("pointsLayer",Wv),DU=Object.assign.apply(Object,Gt(["pointsData","pointLat","pointLng","pointColor","pointAltitude","pointRadius","pointResolution","pointsMerge","pointsTransitionDuration"].map(function(n){return Ba({},n,gU.linkProp(n))}))),fU=cn("arcsLayer",jv),vU=Object.assign.apply(Object,Gt(["arcsData","arcStartLat","arcStartLng","arcEndLat","arcEndLng","arcColor","arcAltitude","arcAltitudeAutoScale","arcStroke","arcCurveResolution","arcCircularResolution","arcDashLength","arcDashGap","arcDashInitialGap","arcDashAnimateTime","arcsTransitionDuration"].map(function(n){return Ba({},n,fU.linkProp(n))}))),mU=cn("hexBinLayer",$v),yU=Object.assign.apply(Object,Gt(["hexBinPointsData","hexBinPointLat","hexBinPointLng","hexBinPointWeight","hexBinResolution","hexMargin","hexTopCurvatureResolution","hexTopColor","hexSideColor","hexAltitude","hexBinMerge","hexTransitionDuration"].map(function(n){return Ba({},n,mU.linkProp(n))}))),_U=cn("heatmapsLayer",Yv),wU=Object.assign.apply(Object,Gt(["heatmapsData","heatmapPoints","heatmapPointLat","heatmapPointLng","heatmapPointWeight","heatmapBandwidth","heatmapColorFn","heatmapColorSaturation","heatmapBaseAltitude","heatmapTopAltitude","heatmapsTransitionDuration"].map(function(n){return Ba({},n,_U.linkProp(n))}))),SU=cn("hexedPolygonsLayer",Kv),xU=Object.assign.apply(Object,Gt(["hexPolygonsData","hexPolygonGeoJsonGeometry","hexPolygonColor","hexPolygonAltitude","hexPolygonResolution","hexPolygonMargin","hexPolygonUseDots","hexPolygonCurvatureResolution","hexPolygonDotResolution","hexPolygonsTransitionDuration"].map(function(n){return Ba({},n,SU.linkProp(n))}))),bU=cn("polygonsLayer",Xv),TU=Object.assign.apply(Object,Gt(["polygonsData","polygonGeoJsonGeometry","polygonCapColor","polygonCapMaterial","polygonSideColor","polygonSideMaterial","polygonStrokeColor","polygonAltitude","polygonCapCurvatureResolution","polygonsTransitionDuration"].map(function(n){return Ba({},n,bU.linkProp(n))}))),IU=cn("pathsLayer",Zv),EU=Object.assign.apply(Object,Gt(["pathsData","pathPoints","pathPointLat","pathPointLng","pathPointAlt","pathResolution","pathColor","pathStroke","pathDashLength","pathDashGap","pathDashInitialGap","pathDashAnimateTime","pathTransitionDuration"].map(function(n){return Ba({},n,IU.linkProp(n))}))),kU=cn("tilesLayer",Jv),NU=Object.assign.apply(Object,Gt(["tilesData","tileLat","tileLng","tileAltitude","tileWidth","tileHeight","tileUseGlobeProjection","tileMaterial","tileCurvatureResolution","tilesTransitionDuration"].map(function(n){return Ba({},n,kU.linkProp(n))}))),RU=cn("particlesLayer",em),MU=Object.assign.apply(Object,Gt(["particlesData","particlesList","particleLat","particleLng","particleAltitude","particlesSize","particlesSizeAttenuation","particlesColor","particlesTexture"].map(function(n){return Ba({},n,RU.linkProp(n))}))),CU=cn("ringsLayer",tm),PU=Object.assign.apply(Object,Gt(["ringsData","ringLat","ringLng","ringAltitude","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod"].map(function(n){return Ba({},n,CU.linkProp(n))}))),BU=cn("labelsLayer",am),LU=Object.assign.apply(Object,Gt(["labelsData","labelLat","labelLng","labelAltitude","labelRotation","labelText","labelSize","labelTypeFace","labelColor","labelResolution","labelIncludeDot","labelDotRadius","labelDotOrientation","labelsTransitionDuration"].map(function(n){return Ba({},n,BU.linkProp(n))}))),qU=cn("htmlElementsLayer",nm),FU=Object.assign.apply(Object,Gt(["htmlElementsData","htmlLat","htmlLng","htmlAltitude","htmlElement","htmlElementVisibilityModifier","htmlTransitionDuration"].map(function(n){return Ba({},n,qU.linkProp(n))}))),OU=cn("objectsLayer",rm),UU=Object.assign.apply(Object,Gt(["objectsData","objectLat","objectLng","objectAltitude","objectRotation","objectFacesSurface","objectThreeObject"].map(function(n){return Ba({},n,OU.linkProp(n))}))),GU=cn("customLayer",sm),VU=Object.assign.apply(Object,Gt(["customLayerData","customThreeObject","customThreeObjectUpdate"].map(function(n){return Ba({},n,GU.linkProp(n))}))),zU=an({props:Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt({onGlobeReady:{triggerUpdate:!1},rendererSize:{default:new Z2.Vector2(window.innerWidth,window.innerHeight),onChange:function(e,t){t.pathsLayer.rendererSize(e)},triggerUpdate:!1}},hU),DU),vU),yU),wU),TU),xU),EU),NU),MU),PU),LU),FU),UU),VU),methods:Bt({getGlobeRadius:Og,getCoords:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return t0.apply(void 0,a)},toGeoCoords:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return Vv.apply(void 0,a)},setPointOfView:function(e,t){var a=t instanceof Z2.Camera?t.position:t,r=Og(),s=void 0;if(e.scene&&a){var o,d,c,g;s=function(m){o===void 0&&(o=a.clone().applyMatrix4(e.scene.matrixWorld.clone().invert())),d===void 0&&(d=o.length()),c===void 0&&(c=Math.sqrt(Math.pow(d,2)-Math.pow(r,2))),g===void 0&&(g=Math.acos(c/d));var _=o.distanceTo(m);if(_<c)return!1;var w=m.length(),x=Math.acos((Math.pow(d,2)+Math.pow(_,2)-Math.pow(w,2))/(2*d*_));return x<g}}e.layersThatNeedUpdatePov.forEach(function(D){return D.updatePov(t)}),e.layersThatNeedBehindGlobeChecker.forEach(function(D){return D.isBehindGlobe(s)})},pauseAnimation:function(e){return e.animationFrameRequestId!==null&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),e.pausableLayers.forEach(function(t){var a;return(a=t.pauseAnimation)===null||a===void 0?void 0:a.call(t)}),this},resumeAnimation:function(e){return e.animationFrameRequestId===null&&this._animationCycle(),e.pausableLayers.forEach(function(t){var a;return(a=t.resumeAnimation)===null||a===void 0?void 0:a.call(t)}),this},_animationCycle:function(e){e.animationFrameRequestId=requestAnimationFrame(this._animationCycle),e.tweenGroup.update()},_destructor:function(e){this.pauseAnimation(),e.destructableLayers.forEach(function(t){return t._destructor()})}},pU),stateInit:function(){var e=new Q8,t={tweenGroup:e},a={globeLayer:zv(t),pointsLayer:Wv(t),arcsLayer:jv(t),hexBinLayer:$v(t),heatmapsLayer:Yv(t),polygonsLayer:Xv(t),hexedPolygonsLayer:Kv(t),pathsLayer:Zv(t),tilesLayer:Jv(t),particlesLayer:em(t),ringsLayer:tm(t),labelsLayer:am(t),htmlElementsLayer:nm(t),objectsLayer:rm(t),customLayer:sm(t)};return Bt(Bt({tweenGroup:e},a),{},{layersThatNeedUpdatePov:Object.values(a).filter(function(r){return r.hasOwnProperty("updatePov")}),layersThatNeedBehindGlobeChecker:Object.values(a).filter(function(r){return r.hasOwnProperty("isBehindGlobe")}),destructableLayers:Object.values(a).filter(function(r){return r.hasOwnProperty("_destructor")}),pausableLayers:Object.values(a).filter(function(r){return r.hasOwnProperty("pauseAnimation")})})},init:function(e,t,a){var r=a.animateIn,s=r===void 0?!0:r,o=a.waitForGlobeReady,d=o===void 0?!0:o;Ht(e),t.scene=e,t.scene.visible=!1,cU.forEach(function(g){var D=new Z2.Group;t.scene.add(D),t[g](D)});var c=function(){if(s){t.scene.scale.set(1e-6,1e-6,1e-6),t.tweenGroup.add(new Ln({k:1e-6}).to({k:1},600).easing(Va.Quadratic.Out).onUpdate(function(m){var _=m.k;return t.scene.scale.set(_,_,_)}).start());var D=new Z2.Vector3(0,1,0);t.tweenGroup.add(new Ln({rot:Math.PI*2}).to({rot:0},1200).easing(Va.Quintic.Out).onUpdate(function(m){var _=m.rot;return t.scene.setRotationFromAxisAngle(D,_)}).start())}t.scene.visible=!0,t.onGlobeReady&&t.onGlobeReady()};d?t.globeLayer.onReady(c):c(),this._animationCycle()},update:function(e){}});function WU(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=function(r){function s(){var o;$A(this,s);for(var d=arguments.length,c=new Array(d),g=0;g<d;g++)c[g]=arguments[g];return o=jA(this,s,[].concat(c)),o.__kapsuleInstance=Yp(n,[].concat(Gt(t?[o]:[]),c)),o}return YA(s,r),QA(s)}(e);return Object.keys(n()).forEach(function(r){return a.prototype[r]=function(){var s,o=(s=this.__kapsuleInstance)[r].apply(s,arguments);return o===this.__kapsuleInstance?this:o}}),a}var HU=window.THREE?window.THREE:{Group:Y0},jU=WU(zU,HU.Group,!0);const Qg={type:"change"},Jp={type:"start"},im={type:"end"},J2=new Hw,Yg=new ih,$U=Math.cos(70*DA.DEG2RAD),Ia=new Re,pn=2*Math.PI,Wt={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},Md=1e-6;class QU extends Ww{constructor(e,t=null){super(e,t),this.state=Wt.NONE,this.target=new Re,this.cursor=new Re,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Us.ROTATE,MIDDLE:Us.DOLLY,RIGHT:Us.PAN},this.touches={ONE:Ns.ROTATE,TWO:Ns.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Re,this._lastQuaternion=new Cd,this._lastTargetPosition=new Re,this._quat=new Cd().setFromUnitVectors(e.up,new Re(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new u5,this._sphericalDelta=new u5,this._scale=1,this._panOffset=new Re,this._rotateStart=new Ot,this._rotateEnd=new Ot,this._rotateDelta=new Ot,this._panStart=new Ot,this._panEnd=new Ot,this._panDelta=new Ot,this._dollyStart=new Ot,this._dollyEnd=new Ot,this._dollyDelta=new Ot,this._dollyDirection=new Re,this._mouse=new Ot,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=XU.bind(this),this._onPointerDown=YU.bind(this),this._onPointerUp=KU.bind(this),this._onContextMenu=rG.bind(this),this._onMouseWheel=eG.bind(this),this._onKeyDown=tG.bind(this),this._onTouchStart=aG.bind(this),this._onTouchMove=nG.bind(this),this._onMouseDown=ZU.bind(this),this._onMouseMove=JU.bind(this),this._interceptControlDown=sG.bind(this),this._interceptControlUp=oG.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(Qg),this.update(),this.state=Wt.NONE}update(e=null){const t=this.object.position;Ia.copy(t).sub(this.target),Ia.applyQuaternion(this._quat),this._spherical.setFromVector3(Ia),this.autoRotate&&this.state===Wt.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let a=this.minAzimuthAngle,r=this.maxAzimuthAngle;isFinite(a)&&isFinite(r)&&(a<-Math.PI?a+=pn:a>Math.PI&&(a-=pn),r<-Math.PI?r+=pn:r>Math.PI&&(r-=pn),a<=r?this._spherical.theta=Math.max(a,Math.min(r,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(a+r)/2?Math.max(a,this._spherical.theta):Math.min(r,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let s=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const o=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),s=o!=this._spherical.radius}if(Ia.setFromSpherical(this._spherical),Ia.applyQuaternion(this._quatInverse),t.copy(this.target).add(Ia),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let o=null;if(this.object.isPerspectiveCamera){const d=Ia.length();o=this._clampDistance(d*this._scale);const c=d-o;this.object.position.addScaledVector(this._dollyDirection,c),this.object.updateMatrixWorld(),s=!!c}else if(this.object.isOrthographicCamera){const d=new Re(this._mouse.x,this._mouse.y,0);d.unproject(this.object);const c=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),s=c!==this.object.zoom;const g=new Re(this._mouse.x,this._mouse.y,0);g.unproject(this.object),this.object.position.sub(g).add(d),this.object.updateMatrixWorld(),o=Ia.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;o!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(o).add(this.object.position):(J2.origin.copy(this.object.position),J2.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(J2.direction))<$U?this.object.lookAt(this.target):(Yg.setFromNormalAndCoplanarPoint(this.object.up,this.target),J2.intersectPlane(Yg,this.target))))}else if(this.object.isOrthographicCamera){const o=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),o!==this.object.zoom&&(this.object.updateProjectionMatrix(),s=!0)}return this._scale=1,this._performCursorZoom=!1,s||this._lastPosition.distanceToSquared(this.object.position)>Md||8*(1-this._lastQuaternion.dot(this.object.quaternion))>Md||this._lastTargetPosition.distanceToSquared(this.target)>Md?(this.dispatchEvent(Qg),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?pn/60*this.autoRotateSpeed*e:pn/60/60*this.autoRotateSpeed}_getZoomScale(e){const t=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){Ia.setFromMatrixColumn(t,0),Ia.multiplyScalar(-e),this._panOffset.add(Ia)}_panUp(e,t){this.screenSpacePanning===!0?Ia.setFromMatrixColumn(t,1):(Ia.setFromMatrixColumn(t,0),Ia.crossVectors(this.object.up,Ia)),Ia.multiplyScalar(e),this._panOffset.add(Ia)}_pan(e,t){const a=this.domElement;if(this.object.isPerspectiveCamera){const r=this.object.position;Ia.copy(r).sub(this.target);let s=Ia.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*s/a.clientHeight,this.object.matrix),this._panUp(2*t*s/a.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/a.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/a.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const a=this.domElement.getBoundingClientRect(),r=e-a.left,s=t-a.top,o=a.width,d=a.height;this._mouse.x=r/o*2-1,this._mouse.y=-(s/d)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(pn*this._rotateDelta.x/t.clientHeight),this._rotateUp(pn*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(pn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-pn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(pn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-pn*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),a=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._rotateStart.set(a,r)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),a=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._panStart.set(a,r)}}_handleTouchStartDolly(e){const t=this._getSecondPointerPosition(e),a=e.pageX-t.x,r=e.pageY-t.y,s=Math.sqrt(a*a+r*r);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const a=this._getSecondPointerPosition(e),r=.5*(e.pageX+a.x),s=.5*(e.pageY+a.y);this._rotateEnd.set(r,s)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(pn*this._rotateDelta.x/t.clientHeight),this._rotateUp(pn*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),a=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._panEnd.set(a,r)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const t=this._getSecondPointerPosition(e),a=e.pageX-t.x,r=e.pageY-t.y,s=Math.sqrt(a*a+r*r);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const o=(e.pageX+t.x)*.5,d=(e.pageY+t.y)*.5;this._updateZoomParameters(o,d)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId){this._pointers.splice(t,1);return}}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];t===void 0&&(t=new Ot,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const t=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[t]}_customWheelEvent(e){const t=e.deltaMode,a={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:a.deltaY*=16;break;case 2:a.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(a.deltaY*=10),a}}function YU(n){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(n)&&(this._addPointer(n),n.pointerType==="touch"?this._onTouchStart(n):this._onMouseDown(n)))}function XU(n){this.enabled!==!1&&(n.pointerType==="touch"?this._onTouchMove(n):this._onMouseMove(n))}function KU(n){switch(this._removePointer(n),this._pointers.length){case 0:this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(im),this.state=Wt.NONE;break;case 1:const e=this._pointers[0],t=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:t.x,pageY:t.y});break}}function ZU(n){let e;switch(n.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Us.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(n),this.state=Wt.DOLLY;break;case Us.ROTATE:if(n.ctrlKey||n.metaKey||n.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(n),this.state=Wt.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(n),this.state=Wt.ROTATE}break;case Us.PAN:if(n.ctrlKey||n.metaKey||n.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(n),this.state=Wt.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(n),this.state=Wt.PAN}break;default:this.state=Wt.NONE}this.state!==Wt.NONE&&this.dispatchEvent(Jp)}function JU(n){switch(this.state){case Wt.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(n);break;case Wt.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(n);break;case Wt.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(n);break}}function eG(n){this.enabled===!1||this.enableZoom===!1||this.state!==Wt.NONE||(n.preventDefault(),this.dispatchEvent(Jp),this._handleMouseWheel(this._customWheelEvent(n)),this.dispatchEvent(im))}function tG(n){this.enabled!==!1&&this._handleKeyDown(n)}function aG(n){switch(this._trackPointer(n),this._pointers.length){case 1:switch(this.touches.ONE){case Ns.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(n),this.state=Wt.TOUCH_ROTATE;break;case Ns.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(n),this.state=Wt.TOUCH_PAN;break;default:this.state=Wt.NONE}break;case 2:switch(this.touches.TWO){case Ns.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(n),this.state=Wt.TOUCH_DOLLY_PAN;break;case Ns.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(n),this.state=Wt.TOUCH_DOLLY_ROTATE;break;default:this.state=Wt.NONE}break;default:this.state=Wt.NONE}this.state!==Wt.NONE&&this.dispatchEvent(Jp)}function nG(n){switch(this._trackPointer(n),this.state){case Wt.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(n),this.update();break;case Wt.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(n),this.update();break;case Wt.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(n),this.update();break;case Wt.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(n),this.update();break;default:this.state=Wt.NONE}}function rG(n){this.enabled!==!1&&n.preventDefault()}function sG(n){n.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function oG(n){n.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const lm=JSON.parse('[{"whaleSharkID":"579995792","coordinates":[{"lat":-34.996087,"long":150.82945,"eventDate":"2025-01-03","parsedDate":"2025-01-03"}]},{"whaleSharkID":"580647077","coordinates":[{"lat":24.178112,"long":-110.416032,"eventDate":"2025-01-05","parsedDate":"2025-01-05"}]},{"whaleSharkID":"581272702","coordinates":[{"lat":24.176277,"long":-110.376397,"eventDate":"2025-01-07","parsedDate":"2025-01-07"}]},{"whaleSharkID":"585714282","coordinates":[{"lat":10.170524,"long":125.172868,"eventDate":"2025-01-22","parsedDate":"2025-01-22"}]},{"whaleSharkID":"588682785","coordinates":[{"lat":9.401291,"long":123.425324,"eventDate":"2025-01-12","parsedDate":"2025-01-12"}]},{"whaleSharkID":"589011770","coordinates":[{"lat":24.359725,"long":-110.485827,"eventDate":"2025-01-19","parsedDate":"2025-01-19"}]},{"whaleSharkID":"600225333","coordinates":[{"lat":24.180789,"long":-110.409578,"eventDate":"2025-01-02","parsedDate":"2025-01-02"}]},{"whaleSharkID":"600252316","coordinates":[{"lat":24.181078,"long":-110.409317,"eventDate":"2025-01-02","parsedDate":"2025-01-02"}]},{"whaleSharkID":"590655539","coordinates":[{"lat":-37.386748,"long":176.261022,"eventDate":"2025-02-08","parsedDate":"2025-02-08"}]},{"whaleSharkID":"594241555","coordinates":[{"lat":3.561181,"long":72.868537,"eventDate":"2025-02-16","parsedDate":"2025-02-16"}]},{"whaleSharkID":"594436143","coordinates":[{"lat":21.661816,"long":-105.521487,"eventDate":"2025-02-14","parsedDate":"2025-02-14"}]},{"whaleSharkID":"597700124","coordinates":[{"lat":-21.667721,"long":35.253928,"eventDate":"2025-02-28","parsedDate":"2025-02-28"}]},{"whaleSharkID":"601310921","coordinates":[{"lat":10.092189,"long":125.113481,"eventDate":"2025-03-14","parsedDate":"2025-03-14"}]},{"whaleSharkID":"602579553","coordinates":[{"lat":-35.4305,"long":174.759856,"eventDate":"2025-03-16","parsedDate":"2025-03-16"}]},{"whaleSharkID":"607402176","coordinates":[{"lat":3.586564,"long":72.689523,"eventDate":"2025-03-31","parsedDate":"2025-03-31"}]},{"whaleSharkID":"440789997","coordinates":[{"lat":10.142691,"long":125.116482,"eventDate":"2024-01-05","parsedDate":"2024-01-05"}]},{"whaleSharkID":"444117700","coordinates":[{"lat":24.18755,"long":-110.331787,"eventDate":"2024-01-17","parsedDate":"2024-01-17"}]},{"whaleSharkID":"445016656","coordinates":[{"lat":10.118952,"long":99.934536,"eventDate":"2024-01-19","parsedDate":"2024-01-19"}]},{"whaleSharkID":"445761012","coordinates":[{"lat":-15.500133,"long":145.637112,"eventDate":"2024-01-17","parsedDate":"2024-01-17"}]},{"whaleSharkID":"447501452","coordinates":[{"lat":-36.266469,"long":175.268188,"eventDate":"2024-01-25","parsedDate":"2024-01-25"}]},{"whaleSharkID":"448639873","coordinates":[{"lat":7.991882,"long":-78.251184,"eventDate":"2024-01-12","parsedDate":"2024-01-12"}]},{"whaleSharkID":"450982397","coordinates":[{"lat":-35.479514,"long":174.815669,"eventDate":"2024-01-06","parsedDate":"2024-01-06"}]},{"whaleSharkID":"452712083","coordinates":[{"lat":3.671044,"long":72.757375,"eventDate":"2024-01-29","parsedDate":"2024-01-29"}]},{"whaleSharkID":"482465967","coordinates":[{"lat":24.189028,"long":-110.344225,"eventDate":"2024-01-15","parsedDate":"2024-01-15"}]},{"whaleSharkID":"501144456","coordinates":[{"lat":10.149351,"long":125.111735,"eventDate":"2024-01-04","parsedDate":"2024-01-04"}]},{"whaleSharkID":"501144458","coordinates":[{"lat":10.07761,"long":125.028561,"eventDate":"2024-01-04","parsedDate":"2024-01-04"}]},{"whaleSharkID":"501144460","coordinates":[{"lat":10.075484,"long":125.083972,"eventDate":"2024-01-04","parsedDate":"2024-01-04"}]},{"whaleSharkID":"501144466","coordinates":[{"lat":10.032506,"long":125.091764,"eventDate":"2024-01-04","parsedDate":"2024-01-04"}]},{"whaleSharkID":"502710059","coordinates":[{"lat":0.594209,"long":123.189089,"eventDate":"2024-01-31","parsedDate":"2024-01-31"}]},{"whaleSharkID":"450883396","coordinates":[{"lat":-35.091104,"long":174.385173,"eventDate":"2024-02-05","parsedDate":"2024-02-05"}]},{"whaleSharkID":"450885485","coordinates":[{"lat":-35.487894,"long":174.752808,"eventDate":"2024-02-06","parsedDate":"2024-02-06"}]},{"whaleSharkID":"450885486","coordinates":[{"lat":-35.440895,"long":174.755926,"eventDate":"2024-02-06","parsedDate":"2024-02-06"}]},{"whaleSharkID":"451831899","coordinates":[{"lat":9.059323,"long":123.265892,"eventDate":"2024-02-16","parsedDate":"2024-02-16"}]},{"whaleSharkID":"452040850","coordinates":[{"lat":0.517744,"long":123.010741,"eventDate":"2024-02-17","parsedDate":"2024-02-17"}]},{"whaleSharkID":"452619042","coordinates":[{"lat":9.412167,"long":123.506748,"eventDate":"2024-02-05","parsedDate":"2024-02-05"}]},{"whaleSharkID":"453360643","coordinates":[{"lat":19.783282,"long":-156.195302,"eventDate":"2024-02-12","parsedDate":"2024-02-12"}]},{"whaleSharkID":"453419293","coordinates":[{"lat":0.432924,"long":123.037734,"eventDate":"2024-02-17","parsedDate":"2024-02-17"}]},{"whaleSharkID":"454602885","coordinates":[{"lat":-35.797352,"long":175.031582,"eventDate":"2024-02-21","parsedDate":"2024-02-21"}]},{"whaleSharkID":"455383172","coordinates":[{"lat":24.179763,"long":-110.326075,"eventDate":"2024-02-26","parsedDate":"2024-02-26"}]},{"whaleSharkID":"466774865","coordinates":[{"lat":3.741986,"long":72.736168,"eventDate":"2024-02-01","parsedDate":"2024-02-01"}]},{"whaleSharkID":"518112839","coordinates":[{"lat":-4.237809,"long":39.752788,"eventDate":"2024-02-20","parsedDate":"2024-02-20"}]},{"whaleSharkID":"582832938","coordinates":[{"lat":8.490168,"long":-83.212366,"eventDate":"2024-02-10","parsedDate":"2024-02-10"}]},{"whaleSharkID":"458708158","coordinates":[{"lat":21.658201,"long":-105.495208,"eventDate":"2024-03-01","parsedDate":"2024-03-01"}]},{"whaleSharkID":"458759020","coordinates":[{"lat":3.591661,"long":72.906258,"eventDate":"2024-03-11","parsedDate":"2024-03-11"}]},{"whaleSharkID":"459295721","coordinates":[{"lat":9.5773,"long":123.351982,"eventDate":"2024-03-13","parsedDate":"2024-03-13"}]},{"whaleSharkID":"459486638","coordinates":[{"lat":24.178347,"long":-110.373253,"eventDate":"2024-03-08","parsedDate":"2024-03-08"}]},{"whaleSharkID":"462014837","coordinates":[{"lat":24.203151,"long":-110.451788,"eventDate":"2024-03-15","parsedDate":"2024-03-15"}]},{"whaleSharkID":"469943306","coordinates":[{"lat":21.690955,"long":-105.541904,"eventDate":"2024-03-03","parsedDate":"2024-03-03"}]},{"whaleSharkID":"471492435","coordinates":[{"lat":-22.243499,"long":113.686491,"eventDate":"2024-03-27","parsedDate":"2024-03-27"}]},{"whaleSharkID":"471492438","coordinates":[{"lat":-22.234982,"long":113.607436,"eventDate":"2024-03-27","parsedDate":"2024-03-27"}]},{"whaleSharkID":"472623316","coordinates":[{"lat":24.183947,"long":-110.481977,"eventDate":"2024-03-31","parsedDate":"2024-03-31"}]},{"whaleSharkID":"472854570","coordinates":[{"lat":-3.66527,"long":133.722894,"eventDate":"2024-03-21","parsedDate":"2024-03-21"}]},{"whaleSharkID":"484428761","coordinates":[{"lat":12.931487,"long":123.403986,"eventDate":"2024-03-28","parsedDate":"2024-03-28"}]},{"whaleSharkID":"497352548","coordinates":[{"lat":3.667893,"long":73.464593,"eventDate":"2024-03-24","parsedDate":"2024-03-24"}]},{"whaleSharkID":"497767998","coordinates":[{"lat":3.369165,"long":73.769638,"eventDate":"2024-03-28","parsedDate":"2024-03-28"}]},{"whaleSharkID":"585685014","coordinates":[{"lat":24.224921,"long":-110.524488,"eventDate":"2024-03-03","parsedDate":"2024-03-03"}]},{"whaleSharkID":"585688500","coordinates":[{"lat":24.213717,"long":-110.517712,"eventDate":"2024-03-03","parsedDate":"2024-03-03"}]},{"whaleSharkID":"467038627","coordinates":[{"lat":-22.059221,"long":113.98258,"eventDate":"2024-04-05","parsedDate":"2024-04-05"}]},{"whaleSharkID":"471830814","coordinates":[{"lat":28.907516,"long":-113.496428,"eventDate":"2024-04-16","parsedDate":"2024-04-16"}]},{"whaleSharkID":"471837830","coordinates":[{"lat":24.337693,"long":-110.43094,"eventDate":"2024-04-15","parsedDate":"2024-04-15"}]},{"whaleSharkID":"472540374","coordinates":[{"lat":28.903196,"long":-113.479457,"eventDate":"2024-04-18","parsedDate":"2024-04-18"}]},{"whaleSharkID":"472540320","coordinates":[{"lat":28.899731,"long":-113.506279,"eventDate":"2024-04-18","parsedDate":"2024-04-18"}]},{"whaleSharkID":"473077114","coordinates":[{"lat":26.645078,"long":51.906428,"eventDate":"2024-04-20","parsedDate":"2024-04-20"}]},{"whaleSharkID":"473388034","coordinates":[{"lat":18.429201,"long":84.565331,"eventDate":"2024-04-20","parsedDate":"2024-04-20"}]},{"whaleSharkID":"481097900","coordinates":[{"lat":25.79707,"long":-111.308083,"eventDate":"2024-04-30","parsedDate":"2024-04-30"}]},{"whaleSharkID":"481099406","coordinates":[{"lat":25.796058,"long":-111.309937,"eventDate":"2024-04-30","parsedDate":"2024-04-30"}]},{"whaleSharkID":"549686638","coordinates":[{"lat":-22.702834,"long":113.625387,"eventDate":"2024-04-01","parsedDate":"2024-04-01"}]},{"whaleSharkID":"589346574","coordinates":[{"lat":3.667832,"long":72.616831,"eventDate":"2024-04-03","parsedDate":"2024-04-03"}]},{"whaleSharkID":"590424690","coordinates":[{"lat":9.522049,"long":123.419616,"eventDate":"2024-04-25","parsedDate":"2024-04-25"}]},{"whaleSharkID":"482616254","coordinates":[{"lat":-22.169629,"long":113.747176,"eventDate":"2024-05-05","parsedDate":"2024-05-05"}]},{"whaleSharkID":"483495080","coordinates":[{"lat":26.528721,"long":51.567688,"eventDate":"2024-05-07","parsedDate":"2024-05-07"}]},{"whaleSharkID":"486027147","coordinates":[{"lat":3.445965,"long":72.999154,"eventDate":"2024-05-11","parsedDate":"2024-05-11"}]},{"whaleSharkID":"487725075","coordinates":[{"lat":16.151761,"long":-95.21631,"eventDate":"2024-05-08","parsedDate":"2024-05-08"}]},{"whaleSharkID":"489025911","coordinates":[{"lat":9.451539,"long":123.339104,"eventDate":"2024-05-19","parsedDate":"2024-05-19"}]},{"whaleSharkID":"489085733","coordinates":[{"lat":-5.658714,"long":106.650125,"eventDate":"2024-05-04","parsedDate":"2024-05-04"}]},{"whaleSharkID":"494685508","coordinates":[{"lat":-22.658107,"long":113.669629,"eventDate":"2024-05-30","parsedDate":"2024-05-30"}]},{"whaleSharkID":"495870519","coordinates":[{"lat":8.86836,"long":119.823946,"eventDate":"2024-05-18","parsedDate":"2024-05-18"}]},{"whaleSharkID":"519365756","coordinates":[{"lat":-21.857057,"long":113.955272,"eventDate":"2024-05-10","parsedDate":"2024-05-10"}]},{"whaleSharkID":"501275467","coordinates":[{"lat":22.065677,"long":-80.548821,"eventDate":"2024-06-02","parsedDate":"2024-06-02"}]},{"whaleSharkID":"503412499","coordinates":[{"lat":-21.876859,"long":113.615306,"eventDate":"2024-06-12","parsedDate":"2024-06-12"}]},{"whaleSharkID":"503464783","coordinates":[{"lat":-21.916766,"long":113.818395,"eventDate":"2024-06-13","parsedDate":"2024-06-13"}]},{"whaleSharkID":"503464812","coordinates":[{"lat":-21.987936,"long":113.873113,"eventDate":"2024-06-13","parsedDate":"2024-06-13"}]},{"whaleSharkID":"503464827","coordinates":[{"lat":-21.999855,"long":113.933144,"eventDate":"2024-06-13","parsedDate":"2024-06-13"}]},{"whaleSharkID":"503464830","coordinates":[{"lat":-21.816799,"long":113.985989,"eventDate":"2024-06-13","parsedDate":"2024-06-13"}]},{"whaleSharkID":"503464833","coordinates":[{"lat":-21.886635,"long":113.863064,"eventDate":"2024-06-13","parsedDate":"2024-06-13"}]},{"whaleSharkID":"503822254","coordinates":[{"lat":-21.871596,"long":113.785201,"eventDate":"2024-06-13","parsedDate":"2024-06-13"}]},{"whaleSharkID":"503822255","coordinates":[{"lat":-22.035814,"long":113.427668,"eventDate":"2024-06-13","parsedDate":"2024-06-13"}]},{"whaleSharkID":"503822256","coordinates":[{"lat":-22.150506,"long":113.735097,"eventDate":"2024-06-13","parsedDate":"2024-06-13"}]},{"whaleSharkID":"505745212","coordinates":[{"lat":-8.772936,"long":118.085211,"eventDate":"2024-06-22","parsedDate":"2024-06-22"}]},{"whaleSharkID":"508829985","coordinates":[{"lat":21.216839,"long":-86.180596,"eventDate":"2024-06-04","parsedDate":"2024-06-04"}]},{"whaleSharkID":"505986569","coordinates":[{"lat":21.541629,"long":-86.753518,"eventDate":"2024-06-25","parsedDate":"2024-06-25"}]},{"whaleSharkID":"506563223","coordinates":[{"lat":-22.296849,"long":113.604233,"eventDate":"2024-06-25","parsedDate":"2024-06-25"}]},{"whaleSharkID":"509369833","coordinates":[{"lat":28.995107,"long":-113.509426,"eventDate":"2024-06-26","parsedDate":"2024-06-26"}]},{"whaleSharkID":"513325478","coordinates":[{"lat":9.534977,"long":123.867535,"eventDate":"2024-06-27","parsedDate":"2024-06-27"}]},{"whaleSharkID":"515635656","coordinates":[{"lat":1.691946,"long":-92.117976,"eventDate":"2024-06-19","parsedDate":"2024-06-19"}]},{"whaleSharkID":"518611582","coordinates":[{"lat":-8.372524,"long":116.990293,"eventDate":"2024-06-23","parsedDate":"2024-06-23"}]},{"whaleSharkID":"547368095","coordinates":[{"lat":-21.812125,"long":113.821431,"eventDate":"2024-06-20","parsedDate":"2024-06-20"}]},{"whaleSharkID":"593477055","coordinates":[{"lat":9.462728,"long":123.481182,"eventDate":"2024-06-09","parsedDate":"2024-06-09"}]},{"whaleSharkID":"599201621","coordinates":[{"lat":-24.013084,"long":35.796648,"eventDate":"2024-06-25","parsedDate":"2024-06-25"}]},{"whaleSharkID":"511316933","coordinates":[{"lat":21.540349,"long":-86.549782,"eventDate":"2024-07-02","parsedDate":"2024-07-02"}]},{"whaleSharkID":"512314941","coordinates":[{"lat":28.89562,"long":-113.480278,"eventDate":"2024-07-02","parsedDate":"2024-07-02"}]},{"whaleSharkID":"514591551","coordinates":[{"lat":-22.106217,"long":113.83591,"eventDate":"2024-07-14","parsedDate":"2024-07-14"}]},{"whaleSharkID":"514592216","coordinates":[{"lat":-22.000739,"long":113.939141,"eventDate":"2024-07-14","parsedDate":"2024-07-14"}]},{"whaleSharkID":"516247491","coordinates":[{"lat":9.410088,"long":123.261494,"eventDate":"2024-07-19","parsedDate":"2024-07-19"}]},{"whaleSharkID":"516277853","coordinates":[{"lat":-21.942797,"long":113.89549,"eventDate":"2024-07-09","parsedDate":"2024-07-09"}]},{"whaleSharkID":"521583774","coordinates":[{"lat":9.516088,"long":123.377681,"eventDate":"2024-07-18","parsedDate":"2024-07-18"}]},{"whaleSharkID":"521583748","coordinates":[{"lat":9.586076,"long":123.377075,"eventDate":"2024-07-18","parsedDate":"2024-07-18"}]},{"whaleSharkID":"528543483","coordinates":[{"lat":-21.828265,"long":113.877247,"eventDate":"2024-07-28","parsedDate":"2024-07-28"}]},{"whaleSharkID":"537113515","coordinates":[{"lat":16.312367,"long":-86.427944,"eventDate":"2024-07-12","parsedDate":"2024-07-12"}]},{"whaleSharkID":"579856329","coordinates":[{"lat":9.495793,"long":123.244784,"eventDate":"2024-07-25","parsedDate":"2024-07-25"}]},{"whaleSharkID":"579856331","coordinates":[{"lat":9.407504,"long":123.293755,"eventDate":"2024-07-25","parsedDate":"2024-07-25"}]},{"whaleSharkID":"579856334","coordinates":[{"lat":9.52525,"long":123.323891,"eventDate":"2024-07-25","parsedDate":"2024-07-25"}]},{"whaleSharkID":"579859102","coordinates":[{"lat":9.465067,"long":123.384298,"eventDate":"2024-07-25","parsedDate":"2024-07-25"}]},{"whaleSharkID":"579856340","coordinates":[{"lat":9.584845,"long":123.394787,"eventDate":"2024-07-25","parsedDate":"2024-07-25"}]},{"whaleSharkID":"579856350","coordinates":[{"lat":9.495579,"long":123.381249,"eventDate":"2024-07-25","parsedDate":"2024-07-25"}]},{"whaleSharkID":"579856362","coordinates":[{"lat":9.506418,"long":123.21995,"eventDate":"2024-07-25","parsedDate":"2024-07-25"}]},{"whaleSharkID":"591306657","coordinates":[{"lat":28.895633,"long":-113.480264,"eventDate":"2024-07-02","parsedDate":"2024-07-02"}]},{"whaleSharkID":"595834814","coordinates":[{"lat":9.48557,"long":123.562029,"eventDate":"2024-07-21","parsedDate":"2024-07-21"}]},{"whaleSharkID":"525766371","coordinates":[{"lat":-4.489445,"long":55.422569,"eventDate":"2024-08-10","parsedDate":"2024-08-10"}]},{"whaleSharkID":"527830836","coordinates":[{"lat":9.583031,"long":123.964401,"eventDate":"2024-08-15","parsedDate":"2024-08-15"}]},{"whaleSharkID":"528070170","coordinates":[{"lat":28.005835,"long":34.995719,"eventDate":"2024-08-15","parsedDate":"2024-08-15"}]},{"whaleSharkID":"528646572","coordinates":[{"lat":3.508963,"long":72.823699,"eventDate":"2024-08-10","parsedDate":"2024-08-10"}]},{"whaleSharkID":"529152601","coordinates":[{"lat":9.480696,"long":123.456821,"eventDate":"2024-08-13","parsedDate":"2024-08-13"}]},{"whaleSharkID":"530590192","coordinates":[{"lat":28.913312,"long":-113.475804,"eventDate":"2024-08-09","parsedDate":"2024-08-09"}]},{"whaleSharkID":"531623829","coordinates":[{"lat":12.652881,"long":121.615616,"eventDate":"2024-08-24","parsedDate":"2024-08-24"}]},{"whaleSharkID":"532028089","coordinates":[{"lat":10.187449,"long":99.791919,"eventDate":"2024-08-25","parsedDate":"2024-08-25"}]},{"whaleSharkID":"532492528","coordinates":[{"lat":-21.67961,"long":114.360676,"eventDate":"2024-08-24","parsedDate":"2024-08-24"}]},{"whaleSharkID":"534066203","coordinates":[{"lat":21.55493,"long":-86.216968,"eventDate":"2024-08-18","parsedDate":"2024-08-18"}]},{"whaleSharkID":"538357896","coordinates":[{"lat":37.979688,"long":-31.570049,"eventDate":"2024-08-14","parsedDate":"2024-08-14"}]},{"whaleSharkID":"545621090","coordinates":[{"lat":28.894533,"long":-113.517617,"eventDate":"2024-08-04","parsedDate":"2024-08-04"}]},{"whaleSharkID":"545767064","coordinates":[{"lat":-4.616534,"long":55.303836,"eventDate":"2024-08-28","parsedDate":"2024-08-28"}]},{"whaleSharkID":"545767068","coordinates":[{"lat":-4.71482,"long":55.232185,"eventDate":"2024-08-05","parsedDate":"2024-08-05"}]},{"whaleSharkID":"545767069","coordinates":[{"lat":-4.724549,"long":55.312706,"eventDate":"2024-08-29","parsedDate":"2024-08-29"}]},{"whaleSharkID":"549261788","coordinates":[{"lat":28.89237,"long":-113.513388,"eventDate":"2024-08-04","parsedDate":"2024-08-04"}]},{"whaleSharkID":"549262627","coordinates":[{"lat":28.891895,"long":-113.510947,"eventDate":"2024-08-04","parsedDate":"2024-08-04"}]},{"whaleSharkID":"549263068","coordinates":[{"lat":28.89193,"long":-113.510925,"eventDate":"2024-08-04","parsedDate":"2024-08-04"}]},{"whaleSharkID":"549263905","coordinates":[{"lat":28.902695,"long":-113.501755,"eventDate":"2024-08-07","parsedDate":"2024-08-07"}]},{"whaleSharkID":"549265286","coordinates":[{"lat":28.903353,"long":-113.501938,"eventDate":"2024-08-07","parsedDate":"2024-08-07"}]},{"whaleSharkID":"549270822","coordinates":[{"lat":28.894892,"long":-113.505233,"eventDate":"2024-08-07","parsedDate":"2024-08-07"}]},{"whaleSharkID":"557210899","coordinates":[{"lat":28.051902,"long":34.978634,"eventDate":"2024-08-16","parsedDate":"2024-08-16"}]},{"whaleSharkID":"581674895","coordinates":[{"lat":-6.22323,"long":39.528864,"eventDate":"2024-08-11","parsedDate":"2024-08-11"}]},{"whaleSharkID":"592804009","coordinates":[{"lat":29.019014,"long":-113.544283,"eventDate":"2024-08-09","parsedDate":"2024-08-09"}]},{"whaleSharkID":"537683622","coordinates":[{"lat":21.5081,"long":-86.500033,"eventDate":"2024-09-04","parsedDate":"2024-09-04"}]},{"whaleSharkID":"537683628","coordinates":[{"lat":21.444623,"long":-86.430544,"eventDate":"2024-09-04","parsedDate":"2024-09-04"}]},{"whaleSharkID":"538735271","coordinates":[{"lat":-13.273101,"long":47.965819,"eventDate":"2024-09-10","parsedDate":"2024-09-10"}]},{"whaleSharkID":"546723318","coordinates":[{"lat":-4.638607,"long":55.293338,"eventDate":"2024-09-29","parsedDate":"2024-09-29"}]},{"whaleSharkID":"547841012","coordinates":[{"lat":-7.950832,"long":39.611952,"eventDate":"2024-09-28","parsedDate":"2024-09-28"}]},{"whaleSharkID":"550181768","coordinates":[{"lat":-21.852634,"long":114.090995,"eventDate":"2024-09-23","parsedDate":"2024-09-23"}]},{"whaleSharkID":"557969144","coordinates":[{"lat":-4.75099,"long":55.352356,"eventDate":"2024-09-19","parsedDate":"2024-09-19"}]},{"whaleSharkID":"565624613","coordinates":[{"lat":-8.466907,"long":118.14315,"eventDate":"2024-09-12","parsedDate":"2024-09-12"}]},{"whaleSharkID":"550459077","coordinates":[{"lat":-13.393818,"long":48.003782,"eventDate":"2024-10-07","parsedDate":"2024-10-07"}]},{"whaleSharkID":"553443722","coordinates":[{"lat":-13.369507,"long":48.108176,"eventDate":"2024-10-12","parsedDate":"2024-10-12"}]},{"whaleSharkID":"554543385","coordinates":[{"lat":-21.910652,"long":113.947792,"eventDate":"2024-10-20","parsedDate":"2024-10-20"}]},{"whaleSharkID":"554559459","coordinates":[{"lat":4.404204,"long":118.871918,"eventDate":"2024-10-20","parsedDate":"2024-10-20"}]},{"whaleSharkID":"556044308","coordinates":[{"lat":-3.397621,"long":134.89944,"eventDate":"2024-10-08","parsedDate":"2024-10-08"}]},{"whaleSharkID":"556332348","coordinates":[{"lat":-8.570227,"long":118.15114,"eventDate":"2024-10-25","parsedDate":"2024-10-25"}]},{"whaleSharkID":"558747158","coordinates":[{"lat":-3.360017,"long":134.993214,"eventDate":"2024-10-30","parsedDate":"2024-10-30"}]},{"whaleSharkID":"559632466","coordinates":[{"lat":-22.147295,"long":113.807197,"eventDate":"2024-10-10","parsedDate":"2024-10-10"}]},{"whaleSharkID":"562030152","coordinates":[{"lat":-4.64407,"long":55.262733,"eventDate":"2024-10-04","parsedDate":"2024-10-04"}]},{"whaleSharkID":"564205195","coordinates":[{"lat":-11.758253,"long":143.944732,"eventDate":"2024-10-25","parsedDate":"2024-10-25"}]},{"whaleSharkID":"565002817","coordinates":[{"lat":-22.381049,"long":35.515841,"eventDate":"2024-10-25","parsedDate":"2024-10-25"}]},{"whaleSharkID":"572366560","coordinates":[{"lat":-8.515639,"long":125.991351,"eventDate":"2024-10-19","parsedDate":"2024-10-19"}]},{"whaleSharkID":"573239066","coordinates":[{"lat":-8.79762,"long":115.514032,"eventDate":"2024-10-22","parsedDate":"2024-10-22"}]},{"whaleSharkID":"564316462","coordinates":[{"lat":24.182512,"long":-110.324656,"eventDate":"2024-11-14","parsedDate":"2024-11-14"}]},{"whaleSharkID":"564345340","coordinates":[{"lat":3.473314,"long":73.079211,"eventDate":"2024-11-12","parsedDate":"2024-11-12"}]},{"whaleSharkID":"569559248","coordinates":[{"lat":19.020903,"long":-112.079648,"eventDate":"2024-11-26","parsedDate":"2024-11-26"}]},{"whaleSharkID":"570990907","coordinates":[{"lat":24.17778,"long":-110.350813,"eventDate":"2024-11-28","parsedDate":"2024-11-28"}]},{"whaleSharkID":"571074848","coordinates":[{"lat":-3.746958,"long":133.696911,"eventDate":"2024-11-19","parsedDate":"2024-11-19"}]},{"whaleSharkID":"573214273","coordinates":[{"lat":1.654579,"long":118.076189,"eventDate":"2024-11-16","parsedDate":"2024-11-16"}]},{"whaleSharkID":"571260368","coordinates":[{"lat":-5.660585,"long":120.557825,"eventDate":"2024-12-02","parsedDate":"2024-12-02"}]},{"whaleSharkID":"571762138","coordinates":[{"lat":2.691986,"long":72.814132,"eventDate":"2024-12-07","parsedDate":"2024-12-07"}]},{"whaleSharkID":"571911556","coordinates":[{"lat":24.177385,"long":-110.36244,"eventDate":"2024-12-05","parsedDate":"2024-12-05"}]},{"whaleSharkID":"572353324","coordinates":[{"lat":-8.393698,"long":127.017265,"eventDate":"2024-12-02","parsedDate":"2024-12-02"}]},{"whaleSharkID":"574952848","coordinates":[{"lat":24.153842,"long":-110.419571,"eventDate":"2024-12-06","parsedDate":"2024-12-06"}]},{"whaleSharkID":"575120758","coordinates":[{"lat":-5.680021,"long":120.579099,"eventDate":"2024-12-02","parsedDate":"2024-12-02"}]},{"whaleSharkID":"575152496","coordinates":[{"lat":3.40639,"long":72.627443,"eventDate":"2024-12-03","parsedDate":"2024-12-03"}]},{"whaleSharkID":"576085600","coordinates":[{"lat":24.194148,"long":-110.333461,"eventDate":"2024-12-20","parsedDate":"2024-12-20"}]},{"whaleSharkID":"577899545","coordinates":[{"lat":9.523781,"long":123.311151,"eventDate":"2024-12-09","parsedDate":"2024-12-09"}]},{"whaleSharkID":"578008984","coordinates":[{"lat":16.327985,"long":-86.42952,"eventDate":"2024-12-28","parsedDate":"2024-12-28"}]},{"whaleSharkID":"578204290","coordinates":[{"lat":-4.619827,"long":55.552654,"eventDate":"2024-12-29","parsedDate":"2024-12-29"}]},{"whaleSharkID":"578204357","coordinates":[{"lat":-4.737098,"long":55.402122,"eventDate":"2024-12-29","parsedDate":"2024-12-29"}]},{"whaleSharkID":"578204443","coordinates":[{"lat":-4.715881,"long":55.570291,"eventDate":"2024-12-29","parsedDate":"2024-12-29"}]},{"whaleSharkID":"578634487","coordinates":[{"lat":28.274016,"long":-90.220287,"eventDate":"2024-12-30","parsedDate":"2024-12-30"}]},{"whaleSharkID":"578687736","coordinates":[{"lat":24.177187,"long":-110.349494,"eventDate":"2024-12-22","parsedDate":"2024-12-22"}]},{"whaleSharkID":"580422774","coordinates":[{"lat":24.195861,"long":-110.37343,"eventDate":"2024-12-26","parsedDate":"2024-12-26"}]},{"whaleSharkID":"600061909","coordinates":[{"lat":9.429159,"long":123.670768,"eventDate":"2024-12-28","parsedDate":"2024-12-28"}]},{"whaleSharkID":"327125684","coordinates":[{"lat":-8.436706,"long":117.909212,"eventDate":"2023-01-07","parsedDate":"2023-01-07"}]},{"whaleSharkID":"327125646","coordinates":[{"lat":-8.480245,"long":117.851114,"eventDate":"2023-01-07","parsedDate":"2023-01-07"}]},{"whaleSharkID":"329385920","coordinates":[{"lat":1.656411,"long":-92.066524,"eventDate":"2023-01-23","parsedDate":"2023-01-23"}]},{"whaleSharkID":"329688862","coordinates":[{"lat":-34.645345,"long":173.439732,"eventDate":"2023-01-07","parsedDate":"2023-01-07"}]},{"whaleSharkID":"330811987","coordinates":[{"lat":24.190214,"long":-110.434871,"eventDate":"2023-01-29","parsedDate":"2023-01-29"}]},{"whaleSharkID":"374377598","coordinates":[{"lat":24.219836,"long":-110.427396,"eventDate":"2023-01-16","parsedDate":"2023-01-16"}]},{"whaleSharkID":"333879575","coordinates":[{"lat":-7.709691,"long":113.259439,"eventDate":"2023-02-02","parsedDate":"2023-02-02"}]},{"whaleSharkID":"337367937","coordinates":[{"lat":9.405457,"long":124.166672,"eventDate":"2023-02-27","parsedDate":"2023-02-27"}]},{"whaleSharkID":"337525202","coordinates":[{"lat":9.564079,"long":124.078478,"eventDate":"2023-02-27","parsedDate":"2023-02-27"}]},{"whaleSharkID":"342896134","coordinates":[{"lat":3.417945,"long":72.785168,"eventDate":"2023-02-01","parsedDate":"2023-02-01"}]},{"whaleSharkID":"439630298","coordinates":[{"lat":3.520241,"long":72.916977,"eventDate":"2023-02-04","parsedDate":"2023-02-04"}]},{"whaleSharkID":"339919977","coordinates":[{"lat":-1.449328,"long":-90.633973,"eventDate":"2023-03-08","parsedDate":"2023-03-08"}]},{"whaleSharkID":"340925297","coordinates":[{"lat":-30.431622,"long":153.0764,"eventDate":"2023-03-13","parsedDate":"2023-03-13"}]},{"whaleSharkID":"344647418","coordinates":[{"lat":-21.922179,"long":114.253,"eventDate":"2023-03-27","parsedDate":"2023-03-27"}]},{"whaleSharkID":"346285327","coordinates":[{"lat":3.556898,"long":72.700179,"eventDate":"2023-03-25","parsedDate":"2023-03-25"}]},{"whaleSharkID":"392687816","coordinates":[{"lat":21.844005,"long":-105.884752,"eventDate":"2023-03-02","parsedDate":"2023-03-02"}]},{"whaleSharkID":"434066668","coordinates":[{"lat":27.192008,"long":33.926741,"eventDate":"2023-03-27","parsedDate":"2023-03-27"}]},{"whaleSharkID":"434258255","coordinates":[{"lat":22.087963,"long":-108.638109,"eventDate":"2023-03-03","parsedDate":"2023-03-03"}]},{"whaleSharkID":"434258264","coordinates":[{"lat":21.936182,"long":-109.524394,"eventDate":"2023-03-04","parsedDate":"2023-03-04"}]},{"whaleSharkID":"444180660","coordinates":[{"lat":3.555796,"long":72.90021,"eventDate":"2023-03-18","parsedDate":"2023-03-18"}]},{"whaleSharkID":"524986335","coordinates":[{"lat":3.523002,"long":73.446509,"eventDate":"2023-03-20","parsedDate":"2023-03-20"}]},{"whaleSharkID":"347448613","coordinates":[{"lat":9.877377,"long":123.443492,"eventDate":"2023-04-06","parsedDate":"2023-04-06"}]},{"whaleSharkID":"350506081","coordinates":[{"lat":19.186474,"long":-104.275997,"eventDate":"2023-04-08","parsedDate":"2023-04-08"}]},{"whaleSharkID":"352967269","coordinates":[{"lat":20.16979,"long":40.346791,"eventDate":"2023-04-23","parsedDate":"2023-04-23"}]},{"whaleSharkID":"354640149","coordinates":[{"lat":6.874322,"long":79.813057,"eventDate":"2023-04-22","parsedDate":"2023-04-22"}]},{"whaleSharkID":"354641463","coordinates":[{"lat":-22.327269,"long":113.714935,"eventDate":"2023-04-21","parsedDate":"2023-04-21"}]},{"whaleSharkID":"355209545","coordinates":[{"lat":-9.918603,"long":144.04939,"eventDate":"2023-04-29","parsedDate":"2023-04-29"}]},{"whaleSharkID":"359472592","coordinates":[{"lat":16.143982,"long":-95.217966,"eventDate":"2023-04-24","parsedDate":"2023-04-24"}]},{"whaleSharkID":"359478114","coordinates":[{"lat":16.155335,"long":-95.214381,"eventDate":"2023-04-13","parsedDate":"2023-04-13"}]},{"whaleSharkID":"359479076","coordinates":[{"lat":16.148033,"long":-95.214468,"eventDate":"2023-04-13","parsedDate":"2023-04-13"}]},{"whaleSharkID":"441638821","coordinates":[{"lat":24.181342,"long":-110.372399,"eventDate":"2023-04-01","parsedDate":"2023-04-01"}]},{"whaleSharkID":"462817661","coordinates":[{"lat":-21.82411,"long":113.862015,"eventDate":"2023-04-18","parsedDate":"2023-04-18"}]},{"whaleSharkID":"487010824","coordinates":[{"lat":-22.311052,"long":166.074197,"eventDate":"2023-04-03","parsedDate":"2023-04-03"}]},{"whaleSharkID":"506664576","coordinates":[{"lat":0.511972,"long":123.059758,"eventDate":"2023-04-10","parsedDate":"2023-04-10"}]},{"whaleSharkID":"566791235","coordinates":[{"lat":-21.924031,"long":113.804566,"eventDate":"2023-04-16","parsedDate":"2023-04-16"}]},{"whaleSharkID":"358746992","coordinates":[{"lat":24.270943,"long":-110.617447,"eventDate":"2023-05-03","parsedDate":"2023-05-03"}]},{"whaleSharkID":"359475690","coordinates":[{"lat":16.166204,"long":-95.177317,"eventDate":"2023-05-03","parsedDate":"2023-05-03"}]},{"whaleSharkID":"361906064","coordinates":[{"lat":16.148904,"long":-95.214182,"eventDate":"2023-05-10","parsedDate":"2023-05-10"}]},{"whaleSharkID":"366482397","coordinates":[{"lat":24.110928,"long":-109.780074,"eventDate":"2023-05-22","parsedDate":"2023-05-22"}]},{"whaleSharkID":"391083234","coordinates":[{"lat":24.128994,"long":-109.783594,"eventDate":"2023-05-20","parsedDate":"2023-05-20"}]},{"whaleSharkID":"413431922","coordinates":[{"lat":-8.515963,"long":118.084709,"eventDate":"2023-05-18","parsedDate":"2023-05-18"}]},{"whaleSharkID":"371224840","coordinates":[{"lat":-21.995328,"long":113.879512,"eventDate":"2023-06-05","parsedDate":"2023-06-05"}]},{"whaleSharkID":"371660677","coordinates":[{"lat":-21.968759,"long":114.221809,"eventDate":"2023-06-05","parsedDate":"2023-06-05"}]},{"whaleSharkID":"372941403","coordinates":[{"lat":-21.856076,"long":113.664142,"eventDate":"2023-06-10","parsedDate":"2023-06-10"}]},{"whaleSharkID":"374829912","coordinates":[{"lat":-21.800306,"long":113.948171,"eventDate":"2023-06-14","parsedDate":"2023-06-14"}]},{"whaleSharkID":"374962815","coordinates":[{"lat":4.504867,"long":118.990531,"eventDate":"2023-06-15","parsedDate":"2023-06-15"}]},{"whaleSharkID":"380456737","coordinates":[{"lat":23.284291,"long":119.768229,"eventDate":"2023-06-29","parsedDate":"2023-06-29"}]},{"whaleSharkID":"387834534","coordinates":[{"lat":8.849292,"long":120.051801,"eventDate":"2023-06-12","parsedDate":"2023-06-12"}]},{"whaleSharkID":"392298922","coordinates":[{"lat":21.720951,"long":-87.247195,"eventDate":"2023-06-19","parsedDate":"2023-06-19"}]},{"whaleSharkID":"409020047","coordinates":[{"lat":21.742858,"long":-86.493153,"eventDate":"2023-06-28","parsedDate":"2023-06-28"}]},{"whaleSharkID":"439545760","coordinates":[{"lat":12.714385,"long":123.630995,"eventDate":"2023-06-16","parsedDate":"2023-06-16"}]},{"whaleSharkID":"484210951","coordinates":[{"lat":-8.52041,"long":118.165769,"eventDate":"2023-06-26","parsedDate":"2023-06-26"}]},{"whaleSharkID":"551619319","coordinates":[{"lat":21.651255,"long":-86.963197,"eventDate":"2023-06-22","parsedDate":"2023-06-22"}]},{"whaleSharkID":"381241775","coordinates":[{"lat":-23.849874,"long":35.43115,"eventDate":"2023-07-02","parsedDate":"2023-07-02"}]},{"whaleSharkID":"381477193","coordinates":[{"lat":28.890555,"long":-113.504455,"eventDate":"2023-07-02","parsedDate":"2023-07-02"}]},{"whaleSharkID":"384365573","coordinates":[{"lat":21.787909,"long":-87.004424,"eventDate":"2023-07-09","parsedDate":"2023-07-09"}]},{"whaleSharkID":"384488791","coordinates":[{"lat":-1.320949,"long":-81.040742,"eventDate":"2023-07-06","parsedDate":"2023-07-06"}]},{"whaleSharkID":"384902403","coordinates":[{"lat":21.236693,"long":-86.735768,"eventDate":"2023-07-11","parsedDate":"2023-07-11"}]},{"whaleSharkID":"384952267","coordinates":[{"lat":-21.662074,"long":114.113003,"eventDate":"2023-07-11","parsedDate":"2023-07-11"}]},{"whaleSharkID":"385166599","coordinates":[{"lat":21.236693,"long":-86.735768,"eventDate":"2023-07-11","parsedDate":"2023-07-11"}]},{"whaleSharkID":"385838210","coordinates":[{"lat":4.443589,"long":118.922736,"eventDate":"2023-07-14","parsedDate":"2023-07-14"}]},{"whaleSharkID":"386915607","coordinates":[{"lat":28.899908,"long":-113.490311,"eventDate":"2023-07-14","parsedDate":"2023-07-14"}]},{"whaleSharkID":"387416311","coordinates":[{"lat":21.236693,"long":-86.735768,"eventDate":"2023-07-11","parsedDate":"2023-07-11"}]},{"whaleSharkID":"388745002","coordinates":[{"lat":21.298125,"long":-86.766636,"eventDate":"2023-07-22","parsedDate":"2023-07-22"}]},{"whaleSharkID":"390215462","coordinates":[{"lat":21.074986,"long":-86.24148,"eventDate":"2023-07-17","parsedDate":"2023-07-17"}]},{"whaleSharkID":"390374150","coordinates":[{"lat":21.222053,"long":-86.766691,"eventDate":"2023-07-25","parsedDate":"2023-07-25"}]},{"whaleSharkID":"391250020","coordinates":[{"lat":9.556598,"long":123.299602,"eventDate":"2023-07-28","parsedDate":"2023-07-28"}]},{"whaleSharkID":"391229543","coordinates":[{"lat":9.542546,"long":123.246409,"eventDate":"2023-07-28","parsedDate":"2023-07-28"}]},{"whaleSharkID":"394791376","coordinates":[{"lat":21.462749,"long":-86.442552,"eventDate":"2023-07-24","parsedDate":"2023-07-24"}]},{"whaleSharkID":"396716103","coordinates":[{"lat":-21.922111,"long":113.961647,"eventDate":"2023-07-25","parsedDate":"2023-07-25"}]},{"whaleSharkID":"398680608","coordinates":[{"lat":21.285472,"long":-86.779311,"eventDate":"2023-07-07","parsedDate":"2023-07-07"}]},{"whaleSharkID":"434391715","coordinates":[{"lat":22.667862,"long":-86.307463,"eventDate":"2023-07-17","parsedDate":"2023-07-17"}]},{"whaleSharkID":"434392249","coordinates":[{"lat":22.043523,"long":-86.006512,"eventDate":"2023-07-17","parsedDate":"2023-07-17"}]},{"whaleSharkID":"448338213","coordinates":[{"lat":9.544678,"long":123.266128,"eventDate":"2023-07-15","parsedDate":"2023-07-15"}]},{"whaleSharkID":"534462282","coordinates":[{"lat":21.121398,"long":-86.855876,"eventDate":"2023-07-27","parsedDate":"2023-07-27"}]},{"whaleSharkID":"392873934","coordinates":[{"lat":21.482711,"long":-86.412424,"eventDate":"2023-08-02","parsedDate":"2023-08-02"}]},{"whaleSharkID":"395148496","coordinates":[{"lat":21.475448,"long":-86.376155,"eventDate":"2023-08-07","parsedDate":"2023-08-07"}]},{"whaleSharkID":"395721763","coordinates":[{"lat":27.881695,"long":34.835984,"eventDate":"2023-08-03","parsedDate":"2023-08-03"}]},{"whaleSharkID":"398212187","coordinates":[{"lat":39.412952,"long":-71.8018,"eventDate":"2023-08-14","parsedDate":"2023-08-14"}]},{"whaleSharkID":"397913419","coordinates":[{"lat":39.38137,"long":-71.760922,"eventDate":"2023-08-14","parsedDate":"2023-08-14"}]},{"whaleSharkID":"397912969","coordinates":[{"lat":39.440337,"long":-71.804812,"eventDate":"2023-08-14","parsedDate":"2023-08-14"}]},{"whaleSharkID":"398137639","coordinates":[{"lat":39.491329,"long":-71.845565,"eventDate":"2023-08-14","parsedDate":"2023-08-14"}]},{"whaleSharkID":"398145478","coordinates":[{"lat":39.423499,"long":-71.914174,"eventDate":"2023-08-14","parsedDate":"2023-08-14"}]},{"whaleSharkID":"398153378","coordinates":[{"lat":21.735729,"long":-87.211379,"eventDate":"2023-08-16","parsedDate":"2023-08-16"}]},{"whaleSharkID":"399040878","coordinates":[{"lat":39.449614,"long":-71.884273,"eventDate":"2023-08-14","parsedDate":"2023-08-14"}]},{"whaleSharkID":"399618603","coordinates":[{"lat":21.619366,"long":-87.282208,"eventDate":"2023-08-16","parsedDate":"2023-08-16"}]},{"whaleSharkID":"402845726","coordinates":[{"lat":21.60826,"long":-86.536766,"eventDate":"2023-08-25","parsedDate":"2023-08-25"}]},{"whaleSharkID":"402935021","coordinates":[{"lat":10.040041,"long":99.819808,"eventDate":"2023-08-30","parsedDate":"2023-08-30"}]},{"whaleSharkID":"404799295","coordinates":[{"lat":1.7767,"long":-91.988883,"eventDate":"2023-08-21","parsedDate":"2023-08-21"}]},{"whaleSharkID":"407379880","coordinates":[{"lat":-8.515617,"long":118.110736,"eventDate":"2023-08-10","parsedDate":"2023-08-10"}]},{"whaleSharkID":"414154852","coordinates":[{"lat":1.891362,"long":118.411055,"eventDate":"2023-08-27","parsedDate":"2023-08-27"}]},{"whaleSharkID":"414155431","coordinates":[{"lat":1.944714,"long":118.564715,"eventDate":"2023-08-27","parsedDate":"2023-08-27"}]},{"whaleSharkID":"414157836","coordinates":[{"lat":1.808881,"long":118.413526,"eventDate":"2023-08-27","parsedDate":"2023-08-27"}]},{"whaleSharkID":"414159024","coordinates":[{"lat":1.621501,"long":118.544009,"eventDate":"2023-08-27","parsedDate":"2023-08-27"}]},{"whaleSharkID":"414159939","coordinates":[{"lat":1.790983,"long":118.593879,"eventDate":"2023-08-27","parsedDate":"2023-08-27"}]},{"whaleSharkID":"414162469","coordinates":[{"lat":1.712307,"long":118.412616,"eventDate":"2023-08-27","parsedDate":"2023-08-27"}]},{"whaleSharkID":"416451802","coordinates":[{"lat":21.482583,"long":-86.536731,"eventDate":"2023-08-06","parsedDate":"2023-08-06"}]},{"whaleSharkID":"420066869","coordinates":[{"lat":-20.95684,"long":113.57492,"eventDate":"2023-08-30","parsedDate":"2023-08-30"}]},{"whaleSharkID":"453328797","coordinates":[{"lat":39.434364,"long":-72.083499,"eventDate":"2023-08-14","parsedDate":"2023-08-14"}]},{"whaleSharkID":"548990074","coordinates":[{"lat":39.469756,"long":-71.940715,"eventDate":"2023-08-14","parsedDate":"2023-08-14"}]},{"whaleSharkID":"406273837","coordinates":[{"lat":21.628489,"long":-86.412127,"eventDate":"2023-09-08","parsedDate":"2023-09-08"}]},{"whaleSharkID":"407072123","coordinates":[{"lat":38.429824,"long":-73.540076,"eventDate":"2023-09-10","parsedDate":"2023-09-10"}]},{"whaleSharkID":"407245280","coordinates":[{"lat":38.598785,"long":-73.495545,"eventDate":"2023-09-10","parsedDate":"2023-09-10"}]},{"whaleSharkID":"407488339","coordinates":[{"lat":38.587542,"long":-73.44792,"eventDate":"2023-09-10","parsedDate":"2023-09-10"}]},{"whaleSharkID":"407843236","coordinates":[{"lat":38.467462,"long":-73.557194,"eventDate":"2023-09-10","parsedDate":"2023-09-10"}]},{"whaleSharkID":"408656833","coordinates":[{"lat":38.495438,"long":-73.426524,"eventDate":"2023-09-10","parsedDate":"2023-09-10"}]},{"whaleSharkID":"410457982","coordinates":[{"lat":28.945314,"long":-113.501367,"eventDate":"2023-09-18","parsedDate":"2023-09-18"}]},{"whaleSharkID":"413272984","coordinates":[{"lat":28.919174,"long":-113.506338,"eventDate":"2023-09-05","parsedDate":"2023-09-05"}]},{"whaleSharkID":"413272988","coordinates":[{"lat":28.921171,"long":-113.507473,"eventDate":"2023-09-05","parsedDate":"2023-09-05"}]},{"whaleSharkID":"413273001","coordinates":[{"lat":28.92027,"long":-113.507393,"eventDate":"2023-09-05","parsedDate":"2023-09-05"}]},{"whaleSharkID":"413273011","coordinates":[{"lat":28.920417,"long":-113.507165,"eventDate":"2023-09-05","parsedDate":"2023-09-05"}]},{"whaleSharkID":"416415864","coordinates":[{"lat":21.466593,"long":-86.777198,"eventDate":"2023-09-12","parsedDate":"2023-09-12"}]},{"whaleSharkID":"433973843","coordinates":[{"lat":5.048582,"long":73.133546,"eventDate":"2023-09-04","parsedDate":"2023-09-04"}]},{"whaleSharkID":"435331648","coordinates":[{"lat":9.448778,"long":123.366287,"eventDate":"2023-09-21","parsedDate":"2023-09-21"}]},{"whaleSharkID":"471536623","coordinates":[{"lat":36.698898,"long":-24.966586,"eventDate":"2023-09-15","parsedDate":"2023-09-15"}]},{"whaleSharkID":"471804554","coordinates":[{"lat":28.893842,"long":-113.501647,"eventDate":"2023-09-10","parsedDate":"2023-09-10"}]},{"whaleSharkID":"472997628","coordinates":[{"lat":28.900997,"long":-113.501192,"eventDate":"2023-09-05","parsedDate":"2023-09-05"}]},{"whaleSharkID":"500196798","coordinates":[{"lat":28.928197,"long":-113.540947,"eventDate":"2023-09-02","parsedDate":"2023-09-02"}]},{"whaleSharkID":"585636628","coordinates":[{"lat":9.522533,"long":123.580499,"eventDate":"2023-09-04","parsedDate":"2023-09-04"}]},{"whaleSharkID":"415096867","coordinates":[{"lat":28.159002,"long":34.966528,"eventDate":"2023-10-05","parsedDate":"2023-10-05"}]},{"whaleSharkID":"418814053","coordinates":[{"lat":-3.070291,"long":135.098443,"eventDate":"2023-10-14","parsedDate":"2023-10-14"}]},{"whaleSharkID":"419589228","coordinates":[{"lat":28.909031,"long":-113.511519,"eventDate":"2023-10-17","parsedDate":"2023-10-17"}]},{"whaleSharkID":"421918749","coordinates":[{"lat":3.706906,"long":72.721354,"eventDate":"2023-10-24","parsedDate":"2023-10-24"}]},{"whaleSharkID":"428105948","coordinates":[{"lat":9.536375,"long":123.57866,"eventDate":"2023-10-11","parsedDate":"2023-10-11"}]},{"whaleSharkID":"439097682","coordinates":[{"lat":-13.49933,"long":48.126628,"eventDate":"2023-10-27","parsedDate":"2023-10-27"}]},{"whaleSharkID":"442100832","coordinates":[{"lat":-13.427692,"long":48.123433,"eventDate":"2023-10-28","parsedDate":"2023-10-28"}]},{"whaleSharkID":"471813349","coordinates":[{"lat":28.952264,"long":-113.548546,"eventDate":"2023-10-27","parsedDate":"2023-10-27"}]},{"whaleSharkID":"527177818","coordinates":[{"lat":-2.562096,"long":135.301722,"eventDate":"2023-10-18","parsedDate":"2023-10-18"}]},{"whaleSharkID":"549557901","coordinates":[{"lat":-13.582671,"long":48.393624,"eventDate":"2023-10-25","parsedDate":"2023-10-25"}]},{"whaleSharkID":"424986306","coordinates":[{"lat":5.269179,"long":73.373175,"eventDate":"2023-11-07","parsedDate":"2023-11-07"}]},{"whaleSharkID":"425675836","coordinates":[{"lat":3.862359,"long":73.487624,"eventDate":"2023-11-10","parsedDate":"2023-11-10"}]},{"whaleSharkID":"426151580","coordinates":[{"lat":9.519536,"long":123.252744,"eventDate":"2023-11-11","parsedDate":"2023-11-11"}]},{"whaleSharkID":"426544470","coordinates":[{"lat":9.488378,"long":123.346279,"eventDate":"2023-11-13","parsedDate":"2023-11-13"}]},{"whaleSharkID":"428378588","coordinates":[{"lat":0.461573,"long":123.10896,"eventDate":"2023-11-07","parsedDate":"2023-11-07"}]},{"whaleSharkID":"429175389","coordinates":[{"lat":16.065253,"long":94.282519,"eventDate":"2023-11-18","parsedDate":"2023-11-18"}]},{"whaleSharkID":"433626316","coordinates":[{"lat":9.530646,"long":123.559811,"eventDate":"2023-11-25","parsedDate":"2023-11-25"}]},{"whaleSharkID":"434016713","coordinates":[{"lat":-12.33143,"long":143.977606,"eventDate":"2023-11-30","parsedDate":"2023-11-30"}]},{"whaleSharkID":"434824177","coordinates":[{"lat":-7.844109,"long":39.721427,"eventDate":"2023-11-24","parsedDate":"2023-11-24"}]},{"whaleSharkID":"438473060","coordinates":[{"lat":26.930382,"long":33.957889,"eventDate":"2023-11-14","parsedDate":"2023-11-14"}]},{"whaleSharkID":"441841958","coordinates":[{"lat":-13.590051,"long":48.218951,"eventDate":"2023-11-27","parsedDate":"2023-11-27"}]},{"whaleSharkID":"551991543","coordinates":[{"lat":-13.204071,"long":48.005475,"eventDate":"2023-11-21","parsedDate":"2023-11-21"}]},{"whaleSharkID":"435893509","coordinates":[{"lat":24.190506,"long":-110.394618,"eventDate":"2023-12-07","parsedDate":"2023-12-07"}]},{"whaleSharkID":"440661832","coordinates":[{"lat":-4.422528,"long":39.414101,"eventDate":"2023-12-30","parsedDate":"2023-12-30"}]},{"whaleSharkID":"444318472","coordinates":[{"lat":24.24871,"long":-110.525755,"eventDate":"2023-12-18","parsedDate":"2023-12-18"}]},{"whaleSharkID":"455533921","coordinates":[{"lat":3.440135,"long":72.638373,"eventDate":"2023-12-29","parsedDate":"2023-12-29"}]},{"whaleSharkID":"232397263","coordinates":[{"lat":3.292924,"long":73.224174,"eventDate":"2022-01-18","parsedDate":"2022-01-18"}]},{"whaleSharkID":"233887957","coordinates":[{"lat":-36.224973,"long":175.800968,"eventDate":"2022-01-27","parsedDate":"2022-01-27"}]},{"whaleSharkID":"235173018","coordinates":[{"lat":19.400598,"long":-156.032806,"eventDate":"2022-01-29","parsedDate":"2022-01-29"}]},{"whaleSharkID":"237611513","coordinates":[{"lat":21.590216,"long":-105.565446,"eventDate":"2022-01-14","parsedDate":"2022-01-14"}]},{"whaleSharkID":"238212177","coordinates":[{"lat":24.132373,"long":-110.388821,"eventDate":"2022-02-02","parsedDate":"2022-02-02"}]},{"whaleSharkID":"238803313","coordinates":[{"lat":24.180058,"long":-110.382241,"eventDate":"2022-02-22","parsedDate":"2022-02-22"}]},{"whaleSharkID":"239247912","coordinates":[{"lat":15.637219,"long":-96.559467,"eventDate":"2022-02-26","parsedDate":"2022-02-26"}]},{"whaleSharkID":"265241828","coordinates":[{"lat":5.846472,"long":73.194449,"eventDate":"2022-02-01","parsedDate":"2022-02-01"}]},{"whaleSharkID":"289711431","coordinates":[{"lat":2.26968,"long":73.300937,"eventDate":"2022-02-17","parsedDate":"2022-02-17"}]},{"whaleSharkID":"290842897","coordinates":[{"lat":15.644211,"long":-96.571113,"eventDate":"2022-02-26","parsedDate":"2022-02-26"}]},{"whaleSharkID":"405180726","coordinates":[{"lat":3.87133,"long":72.909515,"eventDate":"2022-02-23","parsedDate":"2022-02-23"}]},{"whaleSharkID":"241060671","coordinates":[{"lat":9.453012,"long":123.229527,"eventDate":"2022-03-08","parsedDate":"2022-03-08"}]},{"whaleSharkID":"241163866","coordinates":[{"lat":21.643576,"long":-105.486511,"eventDate":"2022-03-04","parsedDate":"2022-03-04"}]},{"whaleSharkID":"242099180","coordinates":[{"lat":24.237664,"long":-110.532618,"eventDate":"2022-03-10","parsedDate":"2022-03-10"}]},{"whaleSharkID":"242686004","coordinates":[{"lat":21.701853,"long":-105.776703,"eventDate":"2022-03-04","parsedDate":"2022-03-04"}]},{"whaleSharkID":"242686028","coordinates":[{"lat":21.611348,"long":-105.785846,"eventDate":"2022-03-04","parsedDate":"2022-03-04"}]},{"whaleSharkID":"244274133","coordinates":[{"lat":8.441937,"long":-83.319032,"eventDate":"2022-03-24","parsedDate":"2022-03-24"}]},{"whaleSharkID":"245459632","coordinates":[{"lat":24.178064,"long":-110.400039,"eventDate":"2022-03-21","parsedDate":"2022-03-21"}]},{"whaleSharkID":"250150400","coordinates":[{"lat":6.540459,"long":-77.325738,"eventDate":"2022-03-24","parsedDate":"2022-03-24"}]},{"whaleSharkID":"258836433","coordinates":[{"lat":24.179522,"long":-110.355508,"eventDate":"2022-03-25","parsedDate":"2022-03-25"}]},{"whaleSharkID":"246579442","coordinates":[{"lat":24.188694,"long":-110.463288,"eventDate":"2022-04-02","parsedDate":"2022-04-02"}]},{"whaleSharkID":"247555597","coordinates":[{"lat":-2.446895,"long":40.744571,"eventDate":"2022-04-08","parsedDate":"2022-04-08"}]},{"whaleSharkID":"250729661","coordinates":[{"lat":27.549353,"long":-83.348526,"eventDate":"2022-04-16","parsedDate":"2022-04-16"}]},{"whaleSharkID":"252842361","coordinates":[{"lat":-19.2044,"long":114.173477,"eventDate":"2022-04-26","parsedDate":"2022-04-26"}]},{"whaleSharkID":"255572716","coordinates":[{"lat":5.283124,"long":-76.994113,"eventDate":"2022-04-13","parsedDate":"2022-04-13"}]},{"whaleSharkID":"261362231","coordinates":[{"lat":4.242059,"long":73.005575,"eventDate":"2022-04-19","parsedDate":"2022-04-19"}]},{"whaleSharkID":"274082654","coordinates":[{"lat":9.59922,"long":123.526064,"eventDate":"2022-04-06","parsedDate":"2022-04-06"}]},{"whaleSharkID":"258792146","coordinates":[{"lat":32.326823,"long":-64.803333,"eventDate":"2022-05-03","parsedDate":"2022-05-03"}]},{"whaleSharkID":"347006914","coordinates":[{"lat":23.935413,"long":58.000824,"eventDate":"2022-05-07","parsedDate":"2022-05-07"}]},{"whaleSharkID":"435275737","coordinates":[{"lat":2.835427,"long":72.878087,"eventDate":"2022-05-06","parsedDate":"2022-05-06"}]},{"whaleSharkID":"273754699","coordinates":[{"lat":21.598412,"long":-86.629894,"eventDate":"2022-06-26","parsedDate":"2022-06-26"}]},{"whaleSharkID":"274378782","coordinates":[{"lat":21.519053,"long":-86.65475,"eventDate":"2022-06-09","parsedDate":"2022-06-09"}]},{"whaleSharkID":"274378784","coordinates":[{"lat":21.52088,"long":-86.68601,"eventDate":"2022-06-09","parsedDate":"2022-06-09"}]},{"whaleSharkID":"274378785","coordinates":[{"lat":21.473327,"long":-86.730807,"eventDate":"2022-06-09","parsedDate":"2022-06-09"}]},{"whaleSharkID":"274378786","coordinates":[{"lat":21.481863,"long":-86.704884,"eventDate":"2022-06-09","parsedDate":"2022-06-09"}]},{"whaleSharkID":"276529286","coordinates":[{"lat":16.167317,"long":-95.177616,"eventDate":"2022-06-28","parsedDate":"2022-06-28"}]},{"whaleSharkID":"560802858","coordinates":[{"lat":23.436363,"long":-109.42963,"eventDate":"2022-06-08","parsedDate":"2022-06-08"}]},{"whaleSharkID":"277371011","coordinates":[{"lat":28.945688,"long":-113.554192,"eventDate":"2022-07-05","parsedDate":"2022-07-05"}]},{"whaleSharkID":"282145885","coordinates":[{"lat":21.352971,"long":-86.73422,"eventDate":"2022-07-11","parsedDate":"2022-07-11"}]},{"whaleSharkID":"282824639","coordinates":[{"lat":20.684849,"long":-86.636477,"eventDate":"2022-07-26","parsedDate":"2022-07-26"}]},{"whaleSharkID":"286278460","coordinates":[{"lat":-22.258409,"long":113.619018,"eventDate":"2022-07-24","parsedDate":"2022-07-24"}]},{"whaleSharkID":"288253761","coordinates":[{"lat":-23.182132,"long":113.617603,"eventDate":"2022-07-27","parsedDate":"2022-07-27"}]},{"whaleSharkID":"374507034","coordinates":[{"lat":21.275585,"long":-86.709454,"eventDate":"2022-07-06","parsedDate":"2022-07-06"}]},{"whaleSharkID":"286887280","coordinates":[{"lat":21.465801,"long":-86.732128,"eventDate":"2022-08-06","parsedDate":"2022-08-06"}]},{"whaleSharkID":"289318111","coordinates":[{"lat":-21.960208,"long":113.855771,"eventDate":"2022-08-14","parsedDate":"2022-08-14"}]},{"whaleSharkID":"290639374","coordinates":[{"lat":21.324813,"long":-86.643719,"eventDate":"2022-08-21","parsedDate":"2022-08-21"}]},{"whaleSharkID":"295767595","coordinates":[{"lat":29.479784,"long":-113.773072,"eventDate":"2022-08-22","parsedDate":"2022-08-22"}]},{"whaleSharkID":"297158315","coordinates":[{"lat":9.519656,"long":124.03988,"eventDate":"2022-08-11","parsedDate":"2022-08-11"}]},{"whaleSharkID":"315690571","coordinates":[{"lat":21.766645,"long":-86.581664,"eventDate":"2022-08-15","parsedDate":"2022-08-15"}]},{"whaleSharkID":"316054427","coordinates":[{"lat":-5.675014,"long":120.545894,"eventDate":"2022-08-31","parsedDate":"2022-08-31"}]},{"whaleSharkID":"377805269","coordinates":[{"lat":28.945638,"long":-113.554795,"eventDate":"2022-08-21","parsedDate":"2022-08-21"}]},{"whaleSharkID":"294820871","coordinates":[{"lat":0.207762,"long":-91.636682,"eventDate":"2022-09-01","parsedDate":"2022-09-01"}]},{"whaleSharkID":"296662694","coordinates":[{"lat":9.972183,"long":123.252953,"eventDate":"2022-09-08","parsedDate":"2022-09-08"}]},{"whaleSharkID":"297890607","coordinates":[{"lat":37.081042,"long":-25.371163,"eventDate":"2022-09-14","parsedDate":"2022-09-14"}]},{"whaleSharkID":"298113812","coordinates":[{"lat":27.103775,"long":-114.293285,"eventDate":"2022-09-01","parsedDate":"2022-09-01"}]},{"whaleSharkID":"300194218","coordinates":[{"lat":5.322595,"long":73.079051,"eventDate":"2022-09-21","parsedDate":"2022-09-21"}]},{"whaleSharkID":"305092865","coordinates":[{"lat":0.458593,"long":73.338236,"eventDate":"2022-09-15","parsedDate":"2022-09-15"}]},{"whaleSharkID":"308894553","coordinates":[{"lat":3.76947,"long":72.723255,"eventDate":"2022-09-25","parsedDate":"2022-09-25"}]},{"whaleSharkID":"366814940","coordinates":[{"lat":29.10658,"long":-113.429495,"eventDate":"2022-09-08","parsedDate":"2022-09-08"}]},{"whaleSharkID":"601215498","coordinates":[{"lat":-18.536013,"long":147.081275,"eventDate":"2022-09-04","parsedDate":"2022-09-04"}]},{"whaleSharkID":"303749426","coordinates":[{"lat":-18.89514,"long":147.740256,"eventDate":"2022-10-02","parsedDate":"2022-10-02"}]},{"whaleSharkID":"305274283","coordinates":[{"lat":-13.099724,"long":48.149172,"eventDate":"2022-10-10","parsedDate":"2022-10-10"}]},{"whaleSharkID":"310847776","coordinates":[{"lat":-18.204073,"long":147.312617,"eventDate":"2022-10-30","parsedDate":"2022-10-30"}]},{"whaleSharkID":"392364349","coordinates":[{"lat":-4.436755,"long":55.259139,"eventDate":"2022-10-15","parsedDate":"2022-10-15"}]},{"whaleSharkID":"426479973","coordinates":[{"lat":5.732842,"long":100.358763,"eventDate":"2022-10-29","parsedDate":"2022-10-29"}]},{"whaleSharkID":"601214723","coordinates":[{"lat":-18.549607,"long":147.174651,"eventDate":"2022-10-06","parsedDate":"2022-10-06"}]},{"whaleSharkID":"311241927","coordinates":[{"lat":25.67404,"long":34.457414,"eventDate":"2022-11-04","parsedDate":"2022-11-04"}]},{"whaleSharkID":"313141421","coordinates":[{"lat":-7.967087,"long":39.636897,"eventDate":"2022-11-12","parsedDate":"2022-11-12"}]},{"whaleSharkID":"314849146","coordinates":[{"lat":9.506132,"long":124.031866,"eventDate":"2022-11-07","parsedDate":"2022-11-07"}]},{"whaleSharkID":"316590295","coordinates":[{"lat":7.446905,"long":-81.654787,"eventDate":"2022-11-27","parsedDate":"2022-11-27"}]},{"whaleSharkID":"316796877","coordinates":[{"lat":16.184279,"long":-95.208763,"eventDate":"2022-11-12","parsedDate":"2022-11-12"}]},{"whaleSharkID":"328869119","coordinates":[{"lat":3.423381,"long":72.832618,"eventDate":"2022-11-01","parsedDate":"2022-11-01"}]},{"whaleSharkID":"347996580","coordinates":[{"lat":16.163113,"long":-95.193441,"eventDate":"2022-11-12","parsedDate":"2022-11-12"}]},{"whaleSharkID":"391785206","coordinates":[{"lat":16.153175,"long":-95.214553,"eventDate":"2022-11-16","parsedDate":"2022-11-16"}]},{"whaleSharkID":"392364368","coordinates":[{"lat":-4.350712,"long":55.648882,"eventDate":"2022-11-20","parsedDate":"2022-11-20"}]},{"whaleSharkID":"424118073","coordinates":[{"lat":3.95194,"long":72.8784,"eventDate":"2022-11-16","parsedDate":"2022-11-16"}]},{"whaleSharkID":"550862241","coordinates":[{"lat":3.666282,"long":72.982844,"eventDate":"2022-11-23","parsedDate":"2022-11-23"}]},{"whaleSharkID":"321709666","coordinates":[{"lat":24.182134,"long":-110.42804,"eventDate":"2022-12-19","parsedDate":"2022-12-19"}]},{"whaleSharkID":"321820926","coordinates":[{"lat":24.17832,"long":-110.383101,"eventDate":"2022-12-13","parsedDate":"2022-12-13"}]},{"whaleSharkID":"321820928","coordinates":[{"lat":24.178279,"long":-110.383098,"eventDate":"2022-12-13","parsedDate":"2022-12-13"}]},{"whaleSharkID":"322655898","coordinates":[{"lat":24.180694,"long":-110.322409,"eventDate":"2022-12-23","parsedDate":"2022-12-23"}]},{"whaleSharkID":"324459793","coordinates":[{"lat":24.178402,"long":-110.429379,"eventDate":"2022-12-26","parsedDate":"2022-12-26"}]},{"whaleSharkID":"325825744","coordinates":[{"lat":24.178858,"long":-110.333805,"eventDate":"2022-12-28","parsedDate":"2022-12-28"}]},{"whaleSharkID":"337263775","coordinates":[{"lat":9.54615,"long":123.276125,"eventDate":"2022-12-05","parsedDate":"2022-12-05"}]},{"whaleSharkID":"337412290","coordinates":[{"lat":-10.563755,"long":105.766892,"eventDate":"2022-12-24","parsedDate":"2022-12-24"}]},{"whaleSharkID":"2022_WS108","coordinates":[{"lat":-22.77862,"long":113.64065,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS111","coordinates":[{"lat":-22.77681,"long":113.63868,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS117","coordinates":[{"lat":-22.82463,"long":113.66011,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS121","coordinates":[{"lat":-22.82146,"long":113.6632,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS123","coordinates":[{"lat":-22.79539,"long":113.65087,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS125","coordinates":[{"lat":-22.79639,"long":113.64843,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS137","coordinates":[{"lat":-22.791,"long":113.64177,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS14","coordinates":[{"lat":-22.80528,"long":113.65598,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS157","coordinates":[{"lat":-22.80547,"long":113.65685,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS3","coordinates":[{"lat":-22.79048,"long":113.66398,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS36","coordinates":[{"lat":-22.7879,"long":113.6398,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS4","coordinates":[{"lat":-22.79344,"long":113.6605,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS43","coordinates":[{"lat":-22.78239,"long":113.63562,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS7","coordinates":[{"lat":-22.79892,"long":113.66302,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS82","coordinates":[{"lat":-22.77492,"long":113.62624,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS91","coordinates":[{"lat":-22.77495,"long":113.63306,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS92","coordinates":[{"lat":-22.77543,"long":113.63189,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"2022_WS93","coordinates":[{"lat":-22.7773,"long":113.63436,"eventDate":"2022","parsedDate":"2022-01-01"}]},{"whaleSharkID":"150073380","coordinates":[{"lat":-7.857261,"long":39.645733,"eventDate":"2021-01-05","parsedDate":"2021-01-05"}]},{"whaleSharkID":"151319047","coordinates":[{"lat":-34.503467,"long":173.581628,"eventDate":"2021-01-11","parsedDate":"2021-01-11"}]},{"whaleSharkID":"153515997","coordinates":[{"lat":24.189885,"long":-110.406616,"eventDate":"2021-01-11","parsedDate":"2021-01-11"}]},{"whaleSharkID":"343320451","coordinates":[{"lat":20.932809,"long":-78.948258,"eventDate":"2021-02-08","parsedDate":"2021-02-08"}]},{"whaleSharkID":"154662900","coordinates":[{"lat":-25.968444,"long":153.170965,"eventDate":"2021-02-13","parsedDate":"2021-02-13"}]},{"whaleSharkID":"162828066","coordinates":[{"lat":0.710182,"long":73.336975,"eventDate":"2021-02-25","parsedDate":"2021-02-25"}]},{"whaleSharkID":"431790674","coordinates":[{"lat":27.280727,"long":33.922005,"eventDate":"2021-03-08","parsedDate":"2021-03-08"}]},{"whaleSharkID":"530785297","coordinates":[{"lat":24.320249,"long":-110.632096,"eventDate":"2021-03-10","parsedDate":"2021-03-10"}]},{"whaleSharkID":"159136933","coordinates":[{"lat":24.171043,"long":-110.320993,"eventDate":"2021-03-10","parsedDate":"2021-03-10"}]},{"whaleSharkID":"160748393","coordinates":[{"lat":21.622934,"long":-105.797541,"eventDate":"2021-03-11","parsedDate":"2021-03-11"}]},{"whaleSharkID":"340215598","coordinates":[{"lat":-8.471222,"long":117.934764,"eventDate":"2021-04-17","parsedDate":"2021-04-17"}]},{"whaleSharkID":"419339197","coordinates":[{"lat":24.161195,"long":-110.415331,"eventDate":"2021-04-06","parsedDate":"2021-04-06"}]},{"whaleSharkID":"464219585","coordinates":[{"lat":4.152785,"long":9.232815,"eventDate":"2021-04-23","parsedDate":"2021-04-23"}]},{"whaleSharkID":"163655860","coordinates":[{"lat":-37.009497,"long":149.932372,"eventDate":"2021-04-06","parsedDate":"2021-04-06"}]},{"whaleSharkID":"164205405","coordinates":[{"lat":24.146721,"long":-110.347162,"eventDate":"2021-04-08","parsedDate":"2021-04-08"}]},{"whaleSharkID":"164610793","coordinates":[{"lat":24.182866,"long":-110.387023,"eventDate":"2021-04-09","parsedDate":"2021-04-09"}]},{"whaleSharkID":"164901355","coordinates":[{"lat":23.792175,"long":-106.881025,"eventDate":"2021-04-11","parsedDate":"2021-04-11"}]},{"whaleSharkID":"170046711","coordinates":[{"lat":24.213813,"long":-110.534017,"eventDate":"2021-04-09","parsedDate":"2021-04-09"}]},{"whaleSharkID":"471884190","coordinates":[{"lat":28.937271,"long":-113.525518,"eventDate":"2021-05-27","parsedDate":"2021-05-27"}]},{"whaleSharkID":"178216981","coordinates":[{"lat":-0.516535,"long":-90.329907,"eventDate":"2021-05-07","parsedDate":"2021-05-07"}]},{"whaleSharkID":"203657971","coordinates":[{"lat":-36.117757,"long":175.467685,"eventDate":"2021-05-28","parsedDate":"2021-05-28"}]},{"whaleSharkID":"258836363","coordinates":[{"lat":23.001406,"long":-87.314899,"eventDate":"2021-06-10","parsedDate":"2021-06-10"}]},{"whaleSharkID":"183801610","coordinates":[{"lat":9.274441,"long":-84.171649,"eventDate":"2021-06-16","parsedDate":"2021-06-16"}]},{"whaleSharkID":"193415541","coordinates":[{"lat":-22.495564,"long":113.628376,"eventDate":"2021-06-25","parsedDate":"2021-06-25"}]},{"whaleSharkID":"206930253","coordinates":[{"lat":21.485688,"long":-86.71951,"eventDate":"2021-06-13","parsedDate":"2021-06-13"}]},{"whaleSharkID":"242190060","coordinates":[{"lat":28.985466,"long":-113.484636,"eventDate":"2021-07-26","parsedDate":"2021-07-26"}]},{"whaleSharkID":"524247854","coordinates":[{"lat":3.528238,"long":72.878542,"eventDate":"2021-07-27","parsedDate":"2021-07-27"}]},{"whaleSharkID":"195006416","coordinates":[{"lat":20.114056,"long":-86.439639,"eventDate":"2021-07-29","parsedDate":"2021-07-29"}]},{"whaleSharkID":"195427205","coordinates":[{"lat":19.701945,"long":-156.048699,"eventDate":"2021-07-29","parsedDate":"2021-07-29"}]},{"whaleSharkID":"200642417","coordinates":[{"lat":21.888469,"long":-87.116565,"eventDate":"2021-07-04","parsedDate":"2021-07-04"}]},{"whaleSharkID":"200999590","coordinates":[{"lat":8.677603,"long":-83.915859,"eventDate":"2021-08-19","parsedDate":"2021-08-19"}]},{"whaleSharkID":"201251992","coordinates":[{"lat":21.794289,"long":-86.783763,"eventDate":"2021-08-17","parsedDate":"2021-08-17"}]},{"whaleSharkID":"207606172","coordinates":[{"lat":21.425016,"long":-86.697112,"eventDate":"2021-08-10","parsedDate":"2021-08-10"}]},{"whaleSharkID":"217766646","coordinates":[{"lat":24.142641,"long":-110.312753,"eventDate":"2021-08-29","parsedDate":"2021-08-29"}]},{"whaleSharkID":"224111083","coordinates":[{"lat":28.948247,"long":-113.506255,"eventDate":"2021-09-23","parsedDate":"2021-09-23"}]},{"whaleSharkID":"208954223","coordinates":[{"lat":-22.171754,"long":113.852871,"eventDate":"2021-09-14","parsedDate":"2021-09-14"}]},{"whaleSharkID":"219102510","coordinates":[{"lat":6.301547,"long":99.30958,"eventDate":"2021-10-24","parsedDate":"2021-10-24"}]},{"whaleSharkID":"330356750","coordinates":[{"lat":25.937232,"long":56.452379,"eventDate":"2021-10-03","parsedDate":"2021-10-03"}]},{"whaleSharkID":"403103931","coordinates":[{"lat":-7.99284,"long":39.661187,"eventDate":"2021-10-30","parsedDate":"2021-10-30"}]},{"whaleSharkID":"213166315","coordinates":[{"lat":-7.829769,"long":39.738868,"eventDate":"2021-10-10","parsedDate":"2021-10-10"}]},{"whaleSharkID":"214186809","coordinates":[{"lat":28.892603,"long":-113.492808,"eventDate":"2021-10-14","parsedDate":"2021-10-14"}]},{"whaleSharkID":"221679444","coordinates":[{"lat":24.190463,"long":-110.364361,"eventDate":"2021-11-15","parsedDate":"2021-11-15"}]},{"whaleSharkID":"284960036","coordinates":[{"lat":19.616241,"long":-156.150911,"eventDate":"2021-11-30","parsedDate":"2021-11-30"}]},{"whaleSharkID":"226387216","coordinates":[{"lat":-30.092514,"long":153.200622,"eventDate":"2021-12-16","parsedDate":"2021-12-16"}]},{"whaleSharkID":"228061821","coordinates":[{"lat":-13.34505,"long":47.822054,"eventDate":"2021-12-23","parsedDate":"2021-12-23"}]},{"whaleSharkID":"228069004","coordinates":[{"lat":-13.353516,"long":47.914181,"eventDate":"2021-12-23","parsedDate":"2021-12-23"}]},{"whaleSharkID":"230051870","coordinates":[{"lat":-7.84469,"long":39.784266,"eventDate":"2021-12-27","parsedDate":"2021-12-27"}]},{"whaleSharkID":"330356765","coordinates":[{"lat":25.908705,"long":56.421693,"eventDate":"2021-12-26","parsedDate":"2021-12-26"}]},{"whaleSharkID":"418966755","coordinates":[{"lat":2.882192,"long":72.617362,"eventDate":"2021-12-26","parsedDate":"2021-12-26"}]},{"whaleSharkID":"514242241","coordinates":[{"lat":25.053871,"long":34.874465,"eventDate":"2021-12-05","parsedDate":"2021-12-05"}]},{"whaleSharkID":"2021_WS114","coordinates":[{"lat":-22.78097,"long":113.64825,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS121","coordinates":[{"lat":-22.80633,"long":113.65309,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS147","coordinates":[{"lat":-22.77431,"long":113.63997,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS16","coordinates":[{"lat":-22.79983,"long":113.65085,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS178","coordinates":[{"lat":-22.80577,"long":113.64818,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS187","coordinates":[{"lat":-22.82791,"long":113.54837,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS19","coordinates":[{"lat":-22.79815,"long":113.65544,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS190","coordinates":[{"lat":-22.81593,"long":113.56856,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS31","coordinates":[{"lat":-22.7731,"long":113.62517,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS38","coordinates":[{"lat":-22.76213,"long":113.62538,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS39","coordinates":[{"lat":-22.75538,"long":113.62823,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS45","coordinates":[{"lat":-22.75561,"long":113.6221,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS64","coordinates":[{"lat":-22.7998,"long":113.64569,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS70","coordinates":[{"lat":-22.80491,"long":113.64964,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS82","coordinates":[{"lat":-22.81486,"long":113.62537,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS9","coordinates":[{"lat":-22.76724,"long":113.64097,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"2021_WS93","coordinates":[{"lat":-22.78305,"long":113.64237,"eventDate":"2021","parsedDate":"2021-01-01"}]},{"whaleSharkID":"304830057","coordinates":[{"lat":24.393893,"long":-110.534545,"eventDate":"2020-01-01","parsedDate":"2020-01-01"}]},{"whaleSharkID":"83004047","coordinates":[{"lat":24.185862,"long":-110.429718,"eventDate":"2020-01-07","parsedDate":"2020-01-07"}]},{"whaleSharkID":"84118172","coordinates":[{"lat":0.572573,"long":123.005757,"eventDate":"2020-01-18","parsedDate":"2020-01-18"}]},{"whaleSharkID":"84306441","coordinates":[{"lat":0.410854,"long":123.139188,"eventDate":"2020-01-18","parsedDate":"2020-01-18"}]},{"whaleSharkID":"84306661","coordinates":[{"lat":0.404136,"long":123.08506,"eventDate":"2020-01-18","parsedDate":"2020-01-18"}]},{"whaleSharkID":"84554796","coordinates":[{"lat":24.157094,"long":-110.322065,"eventDate":"2020-01-21","parsedDate":"2020-01-21"}]},{"whaleSharkID":"84555017","coordinates":[{"lat":24.158846,"long":-110.32366,"eventDate":"2020-01-21","parsedDate":"2020-01-21"}]},{"whaleSharkID":"84696670","coordinates":[{"lat":26.623427,"long":-110.785482,"eventDate":"2020-01-22","parsedDate":"2020-01-22"}]},{"whaleSharkID":"84705649","coordinates":[{"lat":26.696675,"long":-110.782369,"eventDate":"2020-01-21","parsedDate":"2020-01-21"}]},{"whaleSharkID":"104884582","coordinates":[{"lat":7.669773,"long":-81.706584,"eventDate":"2020-01-18","parsedDate":"2020-01-18"}]},{"whaleSharkID":"348252869","coordinates":[{"lat":-7.750192,"long":39.714956,"eventDate":"2020-02-04","parsedDate":"2020-02-04"}]},{"whaleSharkID":"88898731","coordinates":[{"lat":-7.845282,"long":39.755995,"eventDate":"2020-02-16","parsedDate":"2020-02-16"}]},{"whaleSharkID":"91109768","coordinates":[{"lat":24.19,"long":-110.41,"eventDate":"2020-02-28","parsedDate":"2020-02-28"}]},{"whaleSharkID":"93184037","coordinates":[{"lat":24.139314,"long":-110.328947,"eventDate":"2020-02-02","parsedDate":"2020-02-02"}]},{"whaleSharkID":"94621518","coordinates":[{"lat":7.052027,"long":98.874519,"eventDate":"2020-02-08","parsedDate":"2020-02-08"}]},{"whaleSharkID":"95268813","coordinates":[{"lat":21.86149,"long":-105.626598,"eventDate":"2020-02-21","parsedDate":"2020-02-21"}]},{"whaleSharkID":"96889598","coordinates":[{"lat":3.47879,"long":72.919927,"eventDate":"2020-02-18","parsedDate":"2020-02-18"}]},{"whaleSharkID":"99612700","coordinates":[{"lat":5.116714,"long":72.95016,"eventDate":"2020-02-18","parsedDate":"2020-02-18"}]},{"whaleSharkID":"132623297","coordinates":[{"lat":7.564975,"long":-81.599668,"eventDate":"2020-02-07","parsedDate":"2020-02-07"}]},{"whaleSharkID":"132801589","coordinates":[{"lat":3.723959,"long":72.948667,"eventDate":"2020-02-14","parsedDate":"2020-02-14"}]},{"whaleSharkID":"464260689","coordinates":[{"lat":25.129295,"long":-112.179134,"eventDate":"2020-03-17","parsedDate":"2020-03-17"}]},{"whaleSharkID":"464260690","coordinates":[{"lat":25.129295,"long":-112.179134,"eventDate":"2020-03-17","parsedDate":"2020-03-17"}]},{"whaleSharkID":"465014241","coordinates":[{"lat":13.569007,"long":144.708957,"eventDate":"2020-03-01","parsedDate":"2020-03-01"}]},{"whaleSharkID":"519621180","coordinates":[{"lat":8.993423,"long":97.972347,"eventDate":"2020-03-07","parsedDate":"2020-03-07"}]},{"whaleSharkID":"521338705","coordinates":[{"lat":7.628272,"long":98.331169,"eventDate":"2020-03-05","parsedDate":"2020-03-05"}]},{"whaleSharkID":"89835515","coordinates":[{"lat":24.183316,"long":-110.344609,"eventDate":"2020-03-09","parsedDate":"2020-03-09"}]},{"whaleSharkID":"102247363","coordinates":[{"lat":24.173586,"long":-110.351821,"eventDate":"2020-03-12","parsedDate":"2020-03-12"}]},{"whaleSharkID":"133356421","coordinates":[{"lat":14.133963,"long":74.356579,"eventDate":"2020-03-01","parsedDate":"2020-03-01"}]},{"whaleSharkID":"140335256","coordinates":[{"lat":9.340501,"long":97.949997,"eventDate":"2020-03-10","parsedDate":"2020-03-10"}]},{"whaleSharkID":"148261150","coordinates":[{"lat":21.126084,"long":-106.429538,"eventDate":"2020-03-02","parsedDate":"2020-03-02"}]},{"whaleSharkID":"188527627","coordinates":[{"lat":6.352153,"long":99.358458,"eventDate":"2020-03-10","parsedDate":"2020-03-10"}]},{"whaleSharkID":"206282231","coordinates":[{"lat":7.527284,"long":-81.699787,"eventDate":"2020-03-03","parsedDate":"2020-03-03"}]},{"whaleSharkID":"603605361","coordinates":[{"lat":9.460598,"long":123.391665,"eventDate":"2020-06-17","parsedDate":"2020-06-17"}]},{"whaleSharkID":"117558439","coordinates":[{"lat":27.518612,"long":-83.361437,"eventDate":"2020-06-30","parsedDate":"2020-06-30"}]},{"whaleSharkID":"142413378","coordinates":[{"lat":20.540974,"long":-85.480255,"eventDate":"2020-06-18","parsedDate":"2020-06-18"}]},{"whaleSharkID":"260836362","coordinates":[{"lat":-21.615543,"long":113.670861,"eventDate":"2020-07-22","parsedDate":"2020-07-22"}]},{"whaleSharkID":"115479637","coordinates":[{"lat":22.881247,"long":-109.801162,"eventDate":"2020-07-07","parsedDate":"2020-07-07"}]},{"whaleSharkID":"116640913","coordinates":[{"lat":21.441621,"long":-86.427098,"eventDate":"2020-07-12","parsedDate":"2020-07-12"}]},{"whaleSharkID":"118740444","coordinates":[{"lat":21.245533,"long":-86.713231,"eventDate":"2020-07-21","parsedDate":"2020-07-21"}]},{"whaleSharkID":"143048366","coordinates":[{"lat":21.319902,"long":-86.603522,"eventDate":"2020-07-12","parsedDate":"2020-07-12"}]},{"whaleSharkID":"173971435","coordinates":[{"lat":21.23218,"long":-86.734093,"eventDate":"2020-07-30","parsedDate":"2020-07-30"}]},{"whaleSharkID":"190425878","coordinates":[{"lat":5.88272,"long":103.076892,"eventDate":"2020-07-10","parsedDate":"2020-07-10"}]},{"whaleSharkID":"303629303","coordinates":[{"lat":28.93948,"long":-113.550278,"eventDate":"2020-08-09","parsedDate":"2020-08-09"}]},{"whaleSharkID":"124145534","coordinates":[{"lat":18.874965,"long":72.988407,"eventDate":"2020-08-12","parsedDate":"2020-08-12"}]},{"whaleSharkID":"136006088","coordinates":[{"lat":-23.809205,"long":35.481033,"eventDate":"2020-08-24","parsedDate":"2020-08-24"}]},{"whaleSharkID":"136006089","coordinates":[{"lat":-23.98684,"long":35.464899,"eventDate":"2020-08-24","parsedDate":"2020-08-24"}]},{"whaleSharkID":"154313246","coordinates":[{"lat":21.466698,"long":-86.644779,"eventDate":"2020-08-14","parsedDate":"2020-08-14"}]},{"whaleSharkID":"158212716","coordinates":[{"lat":37.93387,"long":-31.482332,"eventDate":"2020-08-31","parsedDate":"2020-08-31"}]},{"whaleSharkID":"202755749","coordinates":[{"lat":5.674278,"long":103.118683,"eventDate":"2020-08-23","parsedDate":"2020-08-23"}]},{"whaleSharkID":"445019679","coordinates":[{"lat":23.653807,"long":58.060665,"eventDate":"2020-09-04","parsedDate":"2020-09-04"}]},{"whaleSharkID":"130461810","coordinates":[{"lat":16.177181,"long":-86.961407,"eventDate":"2020-09-15","parsedDate":"2020-09-15"}]},{"whaleSharkID":"134777735","coordinates":[{"lat":23.757204,"long":58.244633,"eventDate":"2020-09-27","parsedDate":"2020-09-27"}]},{"whaleSharkID":"136009978","coordinates":[{"lat":-23.916941,"long":35.456481,"eventDate":"2020-09-18","parsedDate":"2020-09-18"}]},{"whaleSharkID":"139139055","coordinates":[{"lat":16.1687,"long":-95.185,"eventDate":"2020-09-24","parsedDate":"2020-09-24"}]},{"whaleSharkID":"134266714","coordinates":[{"lat":-7.868198,"long":39.651457,"eventDate":"2020-10-03","parsedDate":"2020-10-03"}]},{"whaleSharkID":"138119795","coordinates":[{"lat":28.955842,"long":-113.556414,"eventDate":"2020-10-23","parsedDate":"2020-10-23"}]},{"whaleSharkID":"139748548","coordinates":[{"lat":3.733997,"long":9.278348,"eventDate":"2020-10-23","parsedDate":"2020-10-23"}]},{"whaleSharkID":"138577118","coordinates":[{"lat":26.518118,"long":50.90625,"eventDate":"2020-10-23","parsedDate":"2020-10-23"}]},{"whaleSharkID":"138956047","coordinates":[{"lat":3.699808,"long":9.337034,"eventDate":"2020-10-23","parsedDate":"2020-10-23"}]},{"whaleSharkID":"183730879","coordinates":[{"lat":38.516537,"long":-28.487952,"eventDate":"2020-10-17","parsedDate":"2020-10-17"}]},{"whaleSharkID":"189294128","coordinates":[{"lat":6.534327,"long":99.203648,"eventDate":"2020-10-13","parsedDate":"2020-10-13"}]},{"whaleSharkID":"190435394","coordinates":[{"lat":5.777716,"long":103.105157,"eventDate":"2020-10-19","parsedDate":"2020-10-19"}]},{"whaleSharkID":"238029851","coordinates":[{"lat":-7.945222,"long":39.532633,"eventDate":"2020-11-27","parsedDate":"2020-11-27"}]},{"whaleSharkID":"140494702","coordinates":[{"lat":24.424172,"long":54.777734,"eventDate":"2020-11-07","parsedDate":"2020-11-07"}]},{"whaleSharkID":"144904485","coordinates":[{"lat":-8.167912,"long":118.785571,"eventDate":"2020-11-11","parsedDate":"2020-11-11"}]},{"whaleSharkID":"424384907","coordinates":[{"lat":3.391008,"long":73.243864,"eventDate":"2020-12-10","parsedDate":"2020-12-10"}]},{"whaleSharkID":"2020_WS14","coordinates":[{"lat":-22.75108,"long":113.62657,"eventDate":"2020","parsedDate":"2020-01-01"}]},{"whaleSharkID":"2020_WS24","coordinates":[{"lat":-22.70184,"long":113.60989,"eventDate":"2020","parsedDate":"2020-01-01"}]},{"whaleSharkID":"2020_WS28","coordinates":[{"lat":-22.70207,"long":113.62897,"eventDate":"2020","parsedDate":"2020-01-01"}]},{"whaleSharkID":"2020_WS3","coordinates":[{"lat":-22.80602,"long":113.65374,"eventDate":"2020","parsedDate":"2020-01-01"}]},{"whaleSharkID":"2020_WS33","coordinates":[{"lat":-22.75988,"long":113.62748,"eventDate":"2020","parsedDate":"2020-01-01"}]},{"whaleSharkID":"2020_WS4","coordinates":[{"lat":-22.75321,"long":113.62155,"eventDate":"2020","parsedDate":"2020-01-01"}]},{"whaleSharkID":"275325472","coordinates":[{"lat":24.209075,"long":-110.456999,"eventDate":"2019-01-05","parsedDate":"2019-01-05"}]},{"whaleSharkID":"57829","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-18.5,"long":114.5,"eventDate":"2016-08-07","parsedDate":"2016-08-07"},{"lat":-26.5,"long":113.5,"eventDate":"2017-01-06","parsedDate":"2017-01-06"},{"lat":-15.5,"long":121.5,"eventDate":"2017-07-29","parsedDate":"2017-07-29"},{"lat":-12.5,"long":118.5,"eventDate":"2018-10-23","parsedDate":"2018-10-23"},{"lat":-12.5,"long":117.5,"eventDate":"2018-10-25","parsedDate":"2018-10-25"},{"lat":-12.5,"long":116.5,"eventDate":"2018-10-29","parsedDate":"2018-10-29"},{"lat":-28.5,"long":120.5,"eventDate":"2019-01-12","parsedDate":"2019-01-12"},{"lat":-27.5,"long":119.5,"eventDate":"2019-01-25","parsedDate":"2019-01-25"},{"lat":-27.5,"long":120.5,"eventDate":"2019-01-25","parsedDate":"2019-01-25"}]},{"whaleSharkID":"287717479","coordinates":[{"lat":21.712864,"long":-105.611407,"eventDate":"2019-01-09","parsedDate":"2019-01-09"}]},{"whaleSharkID":"43604990","coordinates":[{"lat":-15.813915,"long":-5.646706,"eventDate":"2019-01-21","parsedDate":"2019-01-21"}]},{"whaleSharkID":"123448455","coordinates":[{"lat":24.330663,"long":-110.270394,"eventDate":"2019-01-05","parsedDate":"2019-01-05"}]},{"whaleSharkID":"130788415","coordinates":[{"lat":24.128059,"long":-110.380134,"eventDate":"2019-01-04","parsedDate":"2019-01-04"}]},{"whaleSharkID":"140337191","coordinates":[{"lat":-23.976647,"long":35.727428,"eventDate":"2019-01-05","parsedDate":"2019-01-05"}]},{"whaleSharkID":"150557924","coordinates":[{"lat":9.479606,"long":123.597992,"eventDate":"2019-01-14","parsedDate":"2019-01-14"}]},{"whaleSharkID":"200435998","coordinates":[{"lat":24.18228,"long":-110.422489,"eventDate":"2019-01-06","parsedDate":"2019-01-06"}]},{"whaleSharkID":"224922375","coordinates":[{"lat":-4.536906,"long":134.451695,"eventDate":"2019-02-19","parsedDate":"2019-02-19"}]},{"whaleSharkID":"235097395","coordinates":[{"lat":24.17752,"long":-110.320645,"eventDate":"2019-02-17","parsedDate":"2019-02-17"}]},{"whaleSharkID":"46173974","coordinates":[{"lat":10.479332,"long":-85.749519,"eventDate":"2019-02-21","parsedDate":"2019-02-21"}]},{"whaleSharkID":"46199221","coordinates":[{"lat":20.990389,"long":-156.698202,"eventDate":"2019-02-23","parsedDate":"2019-02-23"}]},{"whaleSharkID":"47419432","coordinates":[{"lat":24.176945,"long":-110.377697,"eventDate":"2019-02-26","parsedDate":"2019-02-26"}]},{"whaleSharkID":"497684273","coordinates":[{"lat":9.405806,"long":123.477868,"eventDate":"2019-02-06","parsedDate":"2019-02-06"}]},{"whaleSharkID":"93614911","coordinates":[{"lat":7.733477,"long":-81.692542,"eventDate":"2019-02-03","parsedDate":"2019-02-03"}]},{"whaleSharkID":"330042447","coordinates":[{"lat":9.412717,"long":98.127653,"eventDate":"2019-03-14","parsedDate":"2019-03-14"}]},{"whaleSharkID":"351429027","coordinates":[{"lat":21.846773,"long":-105.885853,"eventDate":"2019-03-10","parsedDate":"2019-03-10"}]},{"whaleSharkID":"456358831","coordinates":[{"lat":8.458198,"long":97.682348,"eventDate":"2019-03-14","parsedDate":"2019-03-14"}]},{"whaleSharkID":"48994528","coordinates":[{"lat":9.449556,"long":123.385588,"eventDate":"2019-03-20","parsedDate":"2019-03-20"}]},{"whaleSharkID":"605569691","coordinates":[{"lat":24.367546,"long":-110.445926,"eventDate":"2019-03-16","parsedDate":"2019-03-16"}]},{"whaleSharkID":"81200865","coordinates":[{"lat":12.907464,"long":123.549286,"eventDate":"2019-03-02","parsedDate":"2019-03-02"}]},{"whaleSharkID":"89525669","coordinates":[{"lat":21.50258,"long":-86.717905,"eventDate":"2019-03-23","parsedDate":"2019-03-23"}]},{"whaleSharkID":"96273961","coordinates":[{"lat":9.55642,"long":123.30759,"eventDate":"2019-03-22","parsedDate":"2019-03-22"}]},{"whaleSharkID":"57826","coordinates":[{"lat":-11.5,"long":114.5,"eventDate":"2018-07-10","parsedDate":"2018-07-10"},{"lat":-10.5,"long":113.5,"eventDate":"2018-07-12","parsedDate":"2018-07-12"},{"lat":-7.5,"long":106.5,"eventDate":"2018-07-31","parsedDate":"2018-07-31"},{"lat":-7.5,"long":108.5,"eventDate":"2018-08-03","parsedDate":"2018-08-03"},{"lat":-7.5,"long":109.5,"eventDate":"2018-08-09","parsedDate":"2018-08-09"},{"lat":-8.5,"long":109.5,"eventDate":"2018-08-11","parsedDate":"2018-08-11"},{"lat":-8.5,"long":110.5,"eventDate":"2018-08-17","parsedDate":"2018-08-17"},{"lat":-8.5,"long":111.5,"eventDate":"2018-08-28","parsedDate":"2018-08-28"},{"lat":-19.5,"long":104.5,"eventDate":"2019-04-26","parsedDate":"2019-04-26"},{"lat":-21.5,"long":109.5,"eventDate":"2019-05-02","parsedDate":"2019-05-02"}]},{"whaleSharkID":"330042756","coordinates":[{"lat":9.526798,"long":123.59446,"eventDate":"2019-04-08","parsedDate":"2019-04-08"}]},{"whaleSharkID":"456201035","coordinates":[{"lat":11.409076,"long":124.058398,"eventDate":"2019-04-07","parsedDate":"2019-04-07"}]},{"whaleSharkID":"50791219","coordinates":[{"lat":3.492084,"long":72.956311,"eventDate":"2019-04-13","parsedDate":"2019-04-13"}]},{"whaleSharkID":"51118365","coordinates":[{"lat":8.858845,"long":119.996489,"eventDate":"2019-04-03","parsedDate":"2019-04-03"}]},{"whaleSharkID":"517790354","coordinates":[{"lat":24.446486,"long":-110.531802,"eventDate":"2019-04-03","parsedDate":"2019-04-03"}]},{"whaleSharkID":"67591717","coordinates":[{"lat":9.012603,"long":123.250447,"eventDate":"2019-04-03","parsedDate":"2019-04-03"}]},{"whaleSharkID":"114374259","coordinates":[{"lat":3.242686,"long":73.308936,"eventDate":"2019-04-01","parsedDate":"2019-04-01"}]},{"whaleSharkID":"150199658","coordinates":[{"lat":0.547829,"long":69.7089,"eventDate":"2019-04-23","parsedDate":"2019-04-23"}]},{"whaleSharkID":"180183865","coordinates":[{"lat":-8.278236,"long":116.137123,"eventDate":"2019-04-28","parsedDate":"2019-04-28"}]},{"whaleSharkID":"347544286","coordinates":[{"lat":12.259064,"long":-71.813574,"eventDate":"2019-05-11","parsedDate":"2019-05-11"}]},{"whaleSharkID":"59071133","coordinates":[{"lat":9.550113,"long":123.307269,"eventDate":"2019-05-02","parsedDate":"2019-05-02"}]},{"whaleSharkID":"84165419","coordinates":[{"lat":-34.005543,"long":22.857016,"eventDate":"2019-05-05","parsedDate":"2019-05-05"}]},{"whaleSharkID":"84165420","coordinates":[{"lat":-34.041652,"long":22.876968,"eventDate":"2019-05-06","parsedDate":"2019-05-06"}]},{"whaleSharkID":"140749586","coordinates":[{"lat":-22.786777,"long":113.734076,"eventDate":"2019-05-06","parsedDate":"2019-05-06"}]},{"whaleSharkID":"279681009","coordinates":[{"lat":5.863601,"long":102.622238,"eventDate":"2019-06-21","parsedDate":"2019-06-21"}]},{"whaleSharkID":"569795081","coordinates":[{"lat":-21.974745,"long":113.45886,"eventDate":"2019-06-30","parsedDate":"2019-06-30"}]},{"whaleSharkID":"607236354","coordinates":[{"lat":21.5223,"long":-87.379596,"eventDate":"2019-06-26","parsedDate":"2019-06-26"}]},{"whaleSharkID":"58833132","coordinates":[{"lat":-22.772826,"long":113.635147,"eventDate":"2019-06-14","parsedDate":"2019-06-14"}]},{"whaleSharkID":"61526355","coordinates":[{"lat":21.546094,"long":-86.230633,"eventDate":"2019-06-11","parsedDate":"2019-06-11"}]},{"whaleSharkID":"76375773","coordinates":[{"lat":21.517442,"long":-86.407757,"eventDate":"2019-06-20","parsedDate":"2019-06-20"}]},{"whaleSharkID":"137827227","coordinates":[{"lat":18.734216,"long":-111.040556,"eventDate":"2019-06-19","parsedDate":"2019-06-19"}]},{"whaleSharkID":"140661331","coordinates":[{"lat":-22.819572,"long":113.69428,"eventDate":"2019-06-14","parsedDate":"2019-06-14"}]},{"whaleSharkID":"142295335","coordinates":[{"lat":18.797976,"long":-110.975445,"eventDate":"2019-06-20","parsedDate":"2019-06-20"}]},{"whaleSharkID":"146232207","coordinates":[{"lat":-21.951123,"long":113.823631,"eventDate":"2019-06-06","parsedDate":"2019-06-06"}]},{"whaleSharkID":"228560257","coordinates":[{"lat":1.686383,"long":-91.897679,"eventDate":"2019-07-28","parsedDate":"2019-07-28"}]},{"whaleSharkID":"295679078","coordinates":[{"lat":21.663426,"long":-86.944596,"eventDate":"2019-07-20","parsedDate":"2019-07-20"}]},{"whaleSharkID":"451097189","coordinates":[{"lat":21.73662,"long":-86.32429,"eventDate":"2019-07-17","parsedDate":"2019-07-17"}]},{"whaleSharkID":"61602346","coordinates":[{"lat":21.572748,"long":-86.900991,"eventDate":"2019-07-06","parsedDate":"2019-07-06"}]},{"whaleSharkID":"75059081","coordinates":[{"lat":21.437895,"long":-86.679793,"eventDate":"2019-07-31","parsedDate":"2019-07-31"}]},{"whaleSharkID":"75719773","coordinates":[{"lat":5.573273,"long":-87.068241,"eventDate":"2019-07-11","parsedDate":"2019-07-11"}]},{"whaleSharkID":"79591195","coordinates":[{"lat":21.551048,"long":-86.661057,"eventDate":"2019-07-29","parsedDate":"2019-07-29"}]},{"whaleSharkID":"79591196","coordinates":[{"lat":21.554693,"long":-86.79976,"eventDate":"2019-07-29","parsedDate":"2019-07-29"}]},{"whaleSharkID":"79591446","coordinates":[{"lat":21.525008,"long":-86.45702,"eventDate":"2019-07-28","parsedDate":"2019-07-28"}]},{"whaleSharkID":"237102444","coordinates":[{"lat":3.631946,"long":72.969484,"eventDate":"2019-08-06","parsedDate":"2019-08-06"}]},{"whaleSharkID":"447298391","coordinates":[{"lat":21.658176,"long":-87.214315,"eventDate":"2019-08-25","parsedDate":"2019-08-25"}]},{"whaleSharkID":"530784837","coordinates":[{"lat":1.746852,"long":-91.807174,"eventDate":"2019-08-24","parsedDate":"2019-08-24"}]},{"whaleSharkID":"66540533","coordinates":[{"lat":16.122853,"long":-86.945374,"eventDate":"2019-08-04","parsedDate":"2019-08-04"}]},{"whaleSharkID":"66541801","coordinates":[{"lat":16.159944,"long":-86.945875,"eventDate":"2019-08-05","parsedDate":"2019-08-05"}]},{"whaleSharkID":"66722968","coordinates":[{"lat":10.195919,"long":99.750547,"eventDate":"2019-08-13","parsedDate":"2019-08-13"}]},{"whaleSharkID":"68836243","coordinates":[{"lat":21.590477,"long":-86.286781,"eventDate":"2019-08-16","parsedDate":"2019-08-16"}]},{"whaleSharkID":"68980102","coordinates":[{"lat":21.75785,"long":-86.772663,"eventDate":"2019-08-28","parsedDate":"2019-08-28"}]},{"whaleSharkID":"69265623","coordinates":[{"lat":21.738573,"long":-87.117111,"eventDate":"2019-08-20","parsedDate":"2019-08-20"}]},{"whaleSharkID":"75062770","coordinates":[{"lat":21.455971,"long":-86.747413,"eventDate":"2019-08-30","parsedDate":"2019-08-30"}]},{"whaleSharkID":"75062771","coordinates":[{"lat":21.400836,"long":-86.750054,"eventDate":"2019-08-30","parsedDate":"2019-08-30"}]},{"whaleSharkID":"79588955","coordinates":[{"lat":21.425437,"long":-86.779933,"eventDate":"2019-08-03","parsedDate":"2019-08-03"}]},{"whaleSharkID":"79588956","coordinates":[{"lat":21.564978,"long":-86.781173,"eventDate":"2019-08-03","parsedDate":"2019-08-03"}]},{"whaleSharkID":"80341533","coordinates":[{"lat":21.456082,"long":-86.705862,"eventDate":"2019-08-03","parsedDate":"2019-08-03"}]},{"whaleSharkID":"91149492","coordinates":[{"lat":-34.161017,"long":22.864213,"eventDate":"2019-08-06","parsedDate":"2019-08-06"}]},{"whaleSharkID":"92991166","coordinates":[{"lat":21.574038,"long":-86.642722,"eventDate":"2019-08-24","parsedDate":"2019-08-24"}]},{"whaleSharkID":"94731976","coordinates":[{"lat":23.206258,"long":-85.627548,"eventDate":"2019-08-06","parsedDate":"2019-08-06"}]},{"whaleSharkID":"96899358","coordinates":[{"lat":21.312493,"long":-86.685247,"eventDate":"2019-08-21","parsedDate":"2019-08-21"}]},{"whaleSharkID":"122775667","coordinates":[{"lat":20.709879,"long":-89.094338,"eventDate":"2019-08-14","parsedDate":"2019-08-14"}]},{"whaleSharkID":"158613916","coordinates":[{"lat":21.245543,"long":-86.797686,"eventDate":"2019-08-26","parsedDate":"2019-08-26"}]},{"whaleSharkID":"239436872","coordinates":[{"lat":-1.10312,"long":130.544634,"eventDate":"2019-09-23","parsedDate":"2019-09-23"}]},{"whaleSharkID":"69527675","coordinates":[{"lat":21.402666,"long":-86.485957,"eventDate":"2019-09-03","parsedDate":"2019-09-03"}]},{"whaleSharkID":"71512790","coordinates":[{"lat":21.360636,"long":-86.447772,"eventDate":"2019-09-14","parsedDate":"2019-09-14"}]},{"whaleSharkID":"71513211","coordinates":[{"lat":21.345839,"long":-86.266947,"eventDate":"2019-09-14","parsedDate":"2019-09-14"}]},{"whaleSharkID":"71781757","coordinates":[{"lat":21.59257,"long":-86.401482,"eventDate":"2019-09-14","parsedDate":"2019-09-14"}]},{"whaleSharkID":"111485881","coordinates":[{"lat":21.241809,"long":-86.719975,"eventDate":"2019-09-15","parsedDate":"2019-09-15"}]},{"whaleSharkID":"111485483","coordinates":[{"lat":21.242609,"long":-86.709675,"eventDate":"2019-09-15","parsedDate":"2019-09-15"}]},{"whaleSharkID":"111481639","coordinates":[{"lat":21.233649,"long":-86.707959,"eventDate":"2019-09-15","parsedDate":"2019-09-15"}]},{"whaleSharkID":"111481591","coordinates":[{"lat":21.240849,"long":-86.693539,"eventDate":"2019-09-15","parsedDate":"2019-09-15"}]},{"whaleSharkID":"111481705","coordinates":[{"lat":21.236209,"long":-86.705384,"eventDate":"2019-09-15","parsedDate":"2019-09-15"}]},{"whaleSharkID":"111481664","coordinates":[{"lat":21.236695,"long":-86.735768,"eventDate":"2019-09-15","parsedDate":"2019-09-15"}]},{"whaleSharkID":"111481743","coordinates":[{"lat":21.229489,"long":-86.68956,"eventDate":"2019-09-15","parsedDate":"2019-09-15"}]},{"whaleSharkID":"138298487","coordinates":[{"lat":21.529271,"long":-86.70931,"eventDate":"2019-09-08","parsedDate":"2019-09-08"}]},{"whaleSharkID":"420998154","coordinates":[{"lat":-13.315131,"long":48.039125,"eventDate":"2019-10-25","parsedDate":"2019-10-25"}]},{"whaleSharkID":"420998178","coordinates":[{"lat":-13.317693,"long":48.187263,"eventDate":"2019-10-26","parsedDate":"2019-10-26"}]},{"whaleSharkID":"75368735","coordinates":[{"lat":9.598404,"long":123.505421,"eventDate":"2019-10-21","parsedDate":"2019-10-21"}]},{"whaleSharkID":"79153147","coordinates":[{"lat":24.179208,"long":-110.377055,"eventDate":"2019-10-22","parsedDate":"2019-10-22"}]},{"whaleSharkID":"93475705","coordinates":[{"lat":-13.300888,"long":48.15276,"eventDate":"2019-10-03","parsedDate":"2019-10-03"}]},{"whaleSharkID":"119117549","coordinates":[{"lat":24.183075,"long":-110.344742,"eventDate":"2019-10-27","parsedDate":"2019-10-27"}]},{"whaleSharkID":"171704671","coordinates":[{"lat":24.185747,"long":-110.356846,"eventDate":"2019-10-27","parsedDate":"2019-10-27"}]},{"whaleSharkID":"202971500","coordinates":[{"lat":4.196786,"long":73.42555,"eventDate":"2019-10-14","parsedDate":"2019-10-14"}]},{"whaleSharkID":"322451318","coordinates":[{"lat":9.447886,"long":123.361253,"eventDate":"2019-11-20","parsedDate":"2019-11-20"}]},{"whaleSharkID":"346001215","coordinates":[{"lat":24.185697,"long":-110.344646,"eventDate":"2019-11-13","parsedDate":"2019-11-13"}]},{"whaleSharkID":"76605717","coordinates":[{"lat":24.415425,"long":-110.306162,"eventDate":"2019-11-03","parsedDate":"2019-11-03"}]},{"whaleSharkID":"88224102","coordinates":[{"lat":9.560111,"long":123.461115,"eventDate":"2019-11-14","parsedDate":"2019-11-14"}]},{"whaleSharkID":"126968044","coordinates":[{"lat":24.325907,"long":-110.567428,"eventDate":"2019-11-02","parsedDate":"2019-11-02"}]},{"whaleSharkID":"81181604","coordinates":[{"lat":3.518191,"long":72.64699,"eventDate":"2019-12-21","parsedDate":"2019-12-21"}]},{"whaleSharkID":"81895876","coordinates":[{"lat":10.100056,"long":125.005383,"eventDate":"2019-12-20","parsedDate":"2019-12-20"}]},{"whaleSharkID":"83867479","coordinates":[{"lat":-10.592632,"long":105.570404,"eventDate":"2019-12-25","parsedDate":"2019-12-25"}]},{"whaleSharkID":"88760399","coordinates":[{"lat":-10.522185,"long":105.700177,"eventDate":"2019-12-16","parsedDate":"2019-12-16"}]},{"whaleSharkID":"90893014","coordinates":[{"lat":24.606403,"long":-110.473112,"eventDate":"2019-12-23","parsedDate":"2019-12-23"}]},{"whaleSharkID":"129406174","coordinates":[{"lat":24.142641,"long":-110.312753,"eventDate":"2019-12-30","parsedDate":"2019-12-30"}]},{"whaleSharkID":"213281697","coordinates":[{"lat":12.693324,"long":74.763932,"eventDate":"2019-12-28","parsedDate":"2019-12-28"}]},{"whaleSharkID":"2019_WS100","coordinates":[{"lat":-22.81632,"long":113.65875,"eventDate":"2019","parsedDate":"2019-01-01"}]},{"whaleSharkID":"2019_WS106","coordinates":[{"lat":-22.83846,"long":113.66846,"eventDate":"2019","parsedDate":"2019-01-01"}]},{"whaleSharkID":"2019_WS107","coordinates":[{"lat":-22.83833,"long":113.6733,"eventDate":"2019","parsedDate":"2019-01-01"}]},{"whaleSharkID":"2019_WS109","coordinates":[{"lat":-22.83717,"long":113.67447,"eventDate":"2019","parsedDate":"2019-01-01"}]},{"whaleSharkID":"2019_WS113","coordinates":[{"lat":-22.83629,"long":113.67399,"eventDate":"2019","parsedDate":"2019-01-01"}]},{"whaleSharkID":"2019_WS18","coordinates":[{"lat":-22.76856,"long":113.65136,"eventDate":"2019","parsedDate":"2019-01-01"}]},{"whaleSharkID":"2019_WS22","coordinates":[{"lat":-22.80305,"long":113.6511,"eventDate":"2019","parsedDate":"2019-01-01"}]},{"whaleSharkID":"2019_WS47","coordinates":[{"lat":-22.78255,"long":113.64904,"eventDate":"2019","parsedDate":"2019-01-01"}]},{"whaleSharkID":"2019_WS49","coordinates":[{"lat":-22.77879,"long":113.64822,"eventDate":"2019","parsedDate":"2019-01-01"}]},{"whaleSharkID":"2019_WS53","coordinates":[{"lat":-22.80312,"long":113.66482,"eventDate":"2019","parsedDate":"2019-01-01"}]},{"whaleSharkID":"2019_WS64","coordinates":[{"lat":-22.79414,"long":113.64098,"eventDate":"2019","parsedDate":"2019-01-01"}]},{"whaleSharkID":"2019_WS67","coordinates":[{"lat":-22.78588,"long":113.63219,"eventDate":"2019","parsedDate":"2019-01-01"}]},{"whaleSharkID":"2019_WS79","coordinates":[{"lat":-22.78954,"long":113.61384,"eventDate":"2019","parsedDate":"2019-01-01"}]},{"whaleSharkID":"2019_WS98","coordinates":[{"lat":-22.78042,"long":113.63739,"eventDate":"2019","parsedDate":"2019-01-01"}]},{"whaleSharkID":"24450142","coordinates":[{"lat":21.892254,"long":-105.736979,"eventDate":"2018-01-12","parsedDate":"2018-01-12"}]},{"whaleSharkID":"250369076","coordinates":[{"lat":24.21479,"long":-110.311441,"eventDate":"2018-01-17","parsedDate":"2018-01-17"}]},{"whaleSharkID":"381922540","coordinates":[{"lat":24.194046,"long":-110.353084,"eventDate":"2018-01-04","parsedDate":"2018-01-04"}]},{"whaleSharkID":"57988769","coordinates":[{"lat":9.477247,"long":123.44486,"eventDate":"2018-01-31","parsedDate":"2018-01-31"}]},{"whaleSharkID":"71089990","coordinates":[{"lat":17.84161,"long":-85.622213,"eventDate":"2018-01-25","parsedDate":"2018-01-25"}]},{"whaleSharkID":"77498435","coordinates":[{"lat":-10.584627,"long":105.658025,"eventDate":"2018-01-17","parsedDate":"2018-01-17"}]},{"whaleSharkID":"86595663","coordinates":[{"lat":24.414047,"long":-110.434079,"eventDate":"2018-01-20","parsedDate":"2018-01-20"}]},{"whaleSharkID":"20409833","coordinates":[{"lat":24.200977,"long":-110.489866,"eventDate":"2018-01-04","parsedDate":"2018-01-04"}]},{"whaleSharkID":"22049568","coordinates":[{"lat":-15.968261,"long":-5.766936,"eventDate":"2018-01-29","parsedDate":"2018-01-29"}]},{"whaleSharkID":"36309","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-20.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-18.5,"long":115.5,"eventDate":"2017-07-28","parsedDate":"2017-07-28"},{"lat":-17.5,"long":115.5,"eventDate":"2017-07-29","parsedDate":"2017-07-29"},{"lat":-16.5,"long":116.5,"eventDate":"2017-07-30","parsedDate":"2017-07-30"},{"lat":-17.5,"long":116.5,"eventDate":"2017-07-30","parsedDate":"2017-07-30"},{"lat":-15.5,"long":116.5,"eventDate":"2017-08-01","parsedDate":"2017-08-01"},{"lat":-14.5,"long":116.5,"eventDate":"2017-08-03","parsedDate":"2017-08-03"},{"lat":-31.5,"long":113.5,"eventDate":"2018-01-18","parsedDate":"2018-01-18"},{"lat":-31.5,"long":114.5,"eventDate":"2018-01-22","parsedDate":"2018-01-22"},{"lat":-30.5,"long":113.5,"eventDate":"2018-02-06","parsedDate":"2018-02-06"},{"lat":-30.5,"long":114.5,"eventDate":"2018-02-07","parsedDate":"2018-02-07"},{"lat":-29.5,"long":114.5,"eventDate":"2018-02-17","parsedDate":"2018-02-17"},{"lat":-28.5,"long":114.5,"eventDate":"2018-02-21","parsedDate":"2018-02-21"}]},{"whaleSharkID":"36324","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-19.5,"long":116.5,"eventDate":"2016-08-31","parsedDate":"2016-08-31"},{"lat":-18.5,"long":116.5,"eventDate":"2016-09-04","parsedDate":"2016-09-04"},{"lat":-23.5,"long":113.5,"eventDate":"2016-10-29","parsedDate":"2016-10-29"},{"lat":-25.5,"long":112.5,"eventDate":"2016-12-19","parsedDate":"2016-12-19"},{"lat":-17.5,"long":117.5,"eventDate":"2017-08-08","parsedDate":"2017-08-08"},{"lat":-25.5,"long":113.5,"eventDate":"2017-12-06","parsedDate":"2017-12-06"},{"lat":-24.5,"long":113.5,"eventDate":"2018-02-11","parsedDate":"2018-02-11"},{"lat":-24.5,"long":112.5,"eventDate":"2018-02-18","parsedDate":"2018-02-18"},{"lat":-23.5,"long":112.5,"eventDate":"2018-02-22","parsedDate":"2018-02-22"}]},{"whaleSharkID":"161731","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-25.5,"long":112.5,"eventDate":"2016-12-19","parsedDate":"2016-12-19"},{"lat":-26.5,"long":113.5,"eventDate":"2017-01-06","parsedDate":"2017-01-06"},{"lat":-14.5,"long":119.5,"eventDate":"2017-07-24","parsedDate":"2017-07-24"},{"lat":-15.5,"long":121.5,"eventDate":"2017-07-29","parsedDate":"2017-07-29"},{"lat":-29.5,"long":113.5,"eventDate":"2017-12-06","parsedDate":"2017-12-06"},{"lat":-32.5,"long":114.5,"eventDate":"2017-12-18","parsedDate":"2017-12-18"},{"lat":-32.5,"long":113.5,"eventDate":"2017-12-22","parsedDate":"2017-12-22"},{"lat":-32.5,"long":112.5,"eventDate":"2017-12-24","parsedDate":"2017-12-24"},{"lat":-30.5,"long":114.5,"eventDate":"2018-02-07","parsedDate":"2018-02-07"}]},{"whaleSharkID":"A69-9001-19476","coordinates":[{"lat":-21.88,"long":113.91,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.89,"long":113.91,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.89,"long":113.92,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.89,"long":113.92,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-21.89,"long":113.92,"eventDate":"2016-06-20","parsedDate":"2016-06-20"},{"lat":-21.9,"long":113.93,"eventDate":"2016-06-20","parsedDate":"2016-06-20"},{"lat":-21.9,"long":113.93,"eventDate":"2016-06-28","parsedDate":"2016-06-28"},{"lat":-21.89,"long":113.92,"eventDate":"2016-07-03","parsedDate":"2016-07-03"},{"lat":-21.9,"long":113.93,"eventDate":"2016-07-03","parsedDate":"2016-07-03"},{"lat":-21.89,"long":113.92,"eventDate":"2016-09-04","parsedDate":"2016-09-04"},{"lat":-21.9,"long":113.93,"eventDate":"2016-09-04","parsedDate":"2016-09-04"},{"lat":-21.9,"long":113.93,"eventDate":"2016-09-10","parsedDate":"2016-09-10"},{"lat":-21.88,"long":113.91,"eventDate":"2016-09-14","parsedDate":"2016-09-14"},{"lat":-21.9,"long":113.93,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":-21.9,"long":113.93,"eventDate":"2016-10-12","parsedDate":"2016-10-12"},{"lat":-22.59,"long":113.61,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":-22.6,"long":113.61,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":-22.6,"long":113.62,"eventDate":"2016-10-19","parsedDate":"2016-10-19"},{"lat":-22.59,"long":113.61,"eventDate":"2016-10-28","parsedDate":"2016-10-28"},{"lat":-22.6,"long":113.61,"eventDate":"2016-10-28","parsedDate":"2016-10-28"},{"lat":-22.6,"long":113.62,"eventDate":"2016-10-29","parsedDate":"2016-10-29"},{"lat":-21.9,"long":113.93,"eventDate":"2016-10-31","parsedDate":"2016-10-31"},{"lat":-21.89,"long":113.92,"eventDate":"2016-11-12","parsedDate":"2016-11-12"},{"lat":-21.9,"long":113.93,"eventDate":"2016-11-12","parsedDate":"2016-11-12"},{"lat":-22.6,"long":113.62,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":-22.6,"long":113.61,"eventDate":"2016-12-05","parsedDate":"2016-12-05"},{"lat":-22.6,"long":113.62,"eventDate":"2016-12-05","parsedDate":"2016-12-05"},{"lat":-23.13,"long":113.71,"eventDate":"2016-12-08","parsedDate":"2016-12-08"},{"lat":-23.13,"long":113.72,"eventDate":"2016-12-08","parsedDate":"2016-12-08"},{"lat":-23.13,"long":113.73,"eventDate":"2017-02-18","parsedDate":"2017-02-18"},{"lat":-23,"long":113.76,"eventDate":"2017-02-22","parsedDate":"2017-02-22"},{"lat":-23,"long":113.76,"eventDate":"2017-02-23","parsedDate":"2017-02-23"},{"lat":-23,"long":113.76,"eventDate":"2017-02-25","parsedDate":"2017-02-25"},{"lat":-23,"long":113.76,"eventDate":"2017-03-04","parsedDate":"2017-03-04"},{"lat":-23,"long":113.76,"eventDate":"2017-03-05","parsedDate":"2017-03-05"},{"lat":-22.59,"long":113.61,"eventDate":"2017-03-11","parsedDate":"2017-03-11"},{"lat":-22.6,"long":113.61,"eventDate":"2017-03-11","parsedDate":"2017-03-11"},{"lat":-22.59,"long":113.61,"eventDate":"2017-03-12","parsedDate":"2017-03-12"},{"lat":-22.6,"long":113.61,"eventDate":"2017-03-12","parsedDate":"2017-03-12"},{"lat":-22.6,"long":113.62,"eventDate":"2017-03-12","parsedDate":"2017-03-12"},{"lat":-21.89,"long":113.92,"eventDate":"2017-03-14","parsedDate":"2017-03-14"},{"lat":-21.89,"long":113.92,"eventDate":"2017-03-15","parsedDate":"2017-03-15"},{"lat":-21.9,"long":113.93,"eventDate":"2017-03-15","parsedDate":"2017-03-15"},{"lat":-22.6,"long":113.61,"eventDate":"2017-03-17","parsedDate":"2017-03-17"},{"lat":-22.6,"long":113.62,"eventDate":"2017-03-17","parsedDate":"2017-03-17"},{"lat":-22.59,"long":113.61,"eventDate":"2017-03-20","parsedDate":"2017-03-20"},{"lat":-22.6,"long":113.61,"eventDate":"2017-03-20","parsedDate":"2017-03-20"},{"lat":-21.89,"long":113.92,"eventDate":"2017-03-21","parsedDate":"2017-03-21"},{"lat":-21.88,"long":113.91,"eventDate":"2017-03-22","parsedDate":"2017-03-22"},{"lat":-21.9,"long":113.93,"eventDate":"2017-03-23","parsedDate":"2017-03-23"},{"lat":-21.88,"long":113.91,"eventDate":"2017-03-25","parsedDate":"2017-03-25"},{"lat":-21.88,"long":113.91,"eventDate":"2017-03-26","parsedDate":"2017-03-26"},{"lat":-21.89,"long":113.92,"eventDate":"2017-03-26","parsedDate":"2017-03-26"},{"lat":-21.88,"long":113.91,"eventDate":"2017-03-29","parsedDate":"2017-03-29"},{"lat":-22.59,"long":113.61,"eventDate":"2017-04-03","parsedDate":"2017-04-03"},{"lat":-22.6,"long":113.61,"eventDate":"2017-05-06","parsedDate":"2017-05-06"},{"lat":-22.6,"long":113.61,"eventDate":"2017-05-09","parsedDate":"2017-05-09"},{"lat":-22.6,"long":113.62,"eventDate":"2017-05-09","parsedDate":"2017-05-09"},{"lat":-21.88,"long":113.91,"eventDate":"2017-05-10","parsedDate":"2017-05-10"},{"lat":-21.9,"long":113.93,"eventDate":"2017-06-04","parsedDate":"2017-06-04"},{"lat":-21.88,"long":113.91,"eventDate":"2017-06-15","parsedDate":"2017-06-15"},{"lat":-21.9,"long":113.93,"eventDate":"2017-06-19","parsedDate":"2017-06-19"},{"lat":-21.9,"long":113.93,"eventDate":"2017-06-21","parsedDate":"2017-06-21"},{"lat":-21.89,"long":113.92,"eventDate":"2017-08-07","parsedDate":"2017-08-07"},{"lat":-23.12,"long":113.69,"eventDate":"2017-09-07","parsedDate":"2017-09-07"},{"lat":-23.12,"long":113.7,"eventDate":"2017-09-07","parsedDate":"2017-09-07"},{"lat":-23.13,"long":113.71,"eventDate":"2017-09-07","parsedDate":"2017-09-07"},{"lat":-23.13,"long":113.72,"eventDate":"2017-09-07","parsedDate":"2017-09-07"},{"lat":-23.13,"long":113.73,"eventDate":"2017-09-26","parsedDate":"2017-09-26"},{"lat":-22.59,"long":113.61,"eventDate":"2017-09-27","parsedDate":"2017-09-27"},{"lat":-22.6,"long":113.61,"eventDate":"2017-09-27","parsedDate":"2017-09-27"},{"lat":-21.89,"long":113.92,"eventDate":"2017-11-04","parsedDate":"2017-11-04"},{"lat":-21.89,"long":113.92,"eventDate":"2017-11-06","parsedDate":"2017-11-06"},{"lat":-21.89,"long":113.92,"eventDate":"2017-11-11","parsedDate":"2017-11-11"},{"lat":-22.6,"long":113.61,"eventDate":"2017-11-14","parsedDate":"2017-11-14"},{"lat":-22.6,"long":113.62,"eventDate":"2017-11-14","parsedDate":"2017-11-14"},{"lat":-23.12,"long":113.7,"eventDate":"2017-11-16","parsedDate":"2017-11-16"},{"lat":-22.6,"long":113.61,"eventDate":"2018-02-04","parsedDate":"2018-02-04"},{"lat":-22.6,"long":113.62,"eventDate":"2018-02-04","parsedDate":"2018-02-04"},{"lat":-23.12,"long":113.7,"eventDate":"2018-02-06","parsedDate":"2018-02-06"},{"lat":-23.13,"long":113.73,"eventDate":"2018-03-03","parsedDate":"2018-03-03"}]},{"whaleSharkID":"54958642","coordinates":[{"lat":24.177453,"long":-110.354417,"eventDate":"2018-02-20","parsedDate":"2018-02-20"}]},{"whaleSharkID":"176144192","coordinates":[{"lat":24.176753,"long":-110.395683,"eventDate":"2018-02-12","parsedDate":"2018-02-12"}]},{"whaleSharkID":"199299562","coordinates":[{"lat":24.22471,"long":-110.409611,"eventDate":"2018-02-05","parsedDate":"2018-02-05"}]},{"whaleSharkID":"199318859","coordinates":[{"lat":19.294364,"long":-110.805812,"eventDate":"2018-02-08","parsedDate":"2018-02-08"}]},{"whaleSharkID":"21728769","coordinates":[{"lat":21.406961,"long":-86.653345,"eventDate":"2018-02-04","parsedDate":"2018-02-04"}]},{"whaleSharkID":"369352390","coordinates":[{"lat":24.165822,"long":-110.380731,"eventDate":"2018-03-04","parsedDate":"2018-03-04"}]},{"whaleSharkID":"504087383","coordinates":[{"lat":-0.278394,"long":73.468575,"eventDate":"2018-03-26","parsedDate":"2018-03-26"}]},{"whaleSharkID":"145753109","coordinates":[{"lat":1.987098,"long":118.620372,"eventDate":"2018-03-22","parsedDate":"2018-03-22"}]},{"whaleSharkID":"155138529","coordinates":[{"lat":24.20886,"long":-110.390907,"eventDate":"2018-03-26","parsedDate":"2018-03-26"}]},{"whaleSharkID":"A69-1602-1571","coordinates":[{"lat":-21.94,"long":114.13,"eventDate":"2017-07-14","parsedDate":"2017-07-14"},{"lat":-22.6,"long":113.61,"eventDate":"2017-07-16","parsedDate":"2017-07-16"},{"lat":-22.6,"long":113.62,"eventDate":"2017-07-16","parsedDate":"2017-07-16"},{"lat":-23.13,"long":113.71,"eventDate":"2018-04-23","parsedDate":"2018-04-23"},{"lat":-22.59,"long":113.61,"eventDate":"2018-05-12","parsedDate":"2018-05-12"}]},{"whaleSharkID":"502810613","coordinates":[{"lat":7.594875,"long":98.883015,"eventDate":"2018-04-01","parsedDate":"2018-04-01"}]},{"whaleSharkID":"59567430","coordinates":[{"lat":10.082941,"long":99.879052,"eventDate":"2018-04-17","parsedDate":"2018-04-17"}]},{"whaleSharkID":"78467594","coordinates":[{"lat":24.186954,"long":-110.344117,"eventDate":"2018-04-01","parsedDate":"2018-04-01"}]},{"whaleSharkID":"118127791","coordinates":[{"lat":1.87036,"long":118.115867,"eventDate":"2018-04-21","parsedDate":"2018-04-21"}]},{"whaleSharkID":"158544473","coordinates":[{"lat":24.153292,"long":-110.408196,"eventDate":"2018-04-26","parsedDate":"2018-04-26"}]},{"whaleSharkID":"77595222","coordinates":[{"lat":16.415815,"long":-88.32089,"eventDate":"2018-05-07","parsedDate":"2018-05-07"}]},{"whaleSharkID":"221591280","coordinates":[{"lat":21.243999,"long":-86.7073,"eventDate":"2018-06-23","parsedDate":"2018-06-23"}]},{"whaleSharkID":"239600843","coordinates":[{"lat":19.011904,"long":-112.067012,"eventDate":"2018-06-30","parsedDate":"2018-06-30"}]},{"whaleSharkID":"31610608","coordinates":[{"lat":0.562835,"long":123.083971,"eventDate":"2018-06-19","parsedDate":"2018-06-19"}]},{"whaleSharkID":"49488281","coordinates":[{"lat":21.526414,"long":-87.380863,"eventDate":"2018-06-04","parsedDate":"2018-06-04"}]},{"whaleSharkID":"63899782","coordinates":[{"lat":1.621031,"long":-91.93798,"eventDate":"2018-06-15","parsedDate":"2018-06-15"}]},{"whaleSharkID":"67093153","coordinates":[{"lat":0.52544,"long":123.123778,"eventDate":"2018-06-19","parsedDate":"2018-06-19"}]},{"whaleSharkID":"67093154","coordinates":[{"lat":0.444329,"long":123.013305,"eventDate":"2018-06-19","parsedDate":"2018-06-19"}]},{"whaleSharkID":"82063141","coordinates":[{"lat":21.771294,"long":-86.570953,"eventDate":"2018-06-20","parsedDate":"2018-06-20"}]},{"whaleSharkID":"117400462","coordinates":[{"lat":8.982692,"long":119.93,"eventDate":"2018-06-22","parsedDate":"2018-06-22"}]},{"whaleSharkID":"117400751","coordinates":[{"lat":8.824019,"long":119.890229,"eventDate":"2018-06-22","parsedDate":"2018-06-22"}]},{"whaleSharkID":"117400981","coordinates":[{"lat":8.864393,"long":119.855343,"eventDate":"2018-06-22","parsedDate":"2018-06-22"}]},{"whaleSharkID":"199546989","coordinates":[{"lat":1.753915,"long":-91.973524,"eventDate":"2018-06-13","parsedDate":"2018-06-13"}]},{"whaleSharkID":"199546995","coordinates":[{"lat":1.62965,"long":-91.852418,"eventDate":"2018-06-13","parsedDate":"2018-06-13"}]},{"whaleSharkID":"199547057","coordinates":[{"lat":1.738802,"long":-91.91897,"eventDate":"2018-06-13","parsedDate":"2018-06-13"}]},{"whaleSharkID":"229720808","coordinates":[{"lat":21.882735,"long":-86.640411,"eventDate":"2018-07-06","parsedDate":"2018-07-06"}]},{"whaleSharkID":"238516818","coordinates":[{"lat":26.55643,"long":-83.198412,"eventDate":"2018-07-12","parsedDate":"2018-07-12"}]},{"whaleSharkID":"57823","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-21.5,"long":115.5,"eventDate":"2016-06-17","parsedDate":"2016-06-17"},{"lat":-11.5,"long":110.5,"eventDate":"2018-07-27","parsedDate":"2018-07-27"},{"lat":-17.5,"long":138.5,"eventDate":"2018-07-27","parsedDate":"2018-07-27"},{"lat":-10.5,"long":110.5,"eventDate":"2018-07-28","parsedDate":"2018-07-28"},{"lat":-10.5,"long":109.5,"eventDate":"2018-07-29","parsedDate":"2018-07-29"},{"lat":-9.5,"long":109.5,"eventDate":"2018-07-29","parsedDate":"2018-07-29"},{"lat":-9.5,"long":110.5,"eventDate":"2018-07-29","parsedDate":"2018-07-29"},{"lat":-8.5,"long":108.5,"eventDate":"2018-07-31","parsedDate":"2018-07-31"},{"lat":-8.5,"long":109.5,"eventDate":"2018-08-11","parsedDate":"2018-08-11"},{"lat":-8.5,"long":110.5,"eventDate":"2018-08-17","parsedDate":"2018-08-17"},{"lat":-7.5,"long":103.5,"eventDate":"2018-09-25","parsedDate":"2018-09-25"},{"lat":-7.5,"long":102.5,"eventDate":"2018-09-26","parsedDate":"2018-09-26"},{"lat":-8.5,"long":101.5,"eventDate":"2018-10-08","parsedDate":"2018-10-08"},{"lat":-8.5,"long":99.5,"eventDate":"2018-10-08","parsedDate":"2018-10-08"},{"lat":-8.5,"long":100.5,"eventDate":"2018-10-09","parsedDate":"2018-10-09"}]},{"whaleSharkID":"31230744","coordinates":[{"lat":27.904419,"long":-91.905382,"eventDate":"2018-07-15","parsedDate":"2018-07-15"}]},{"whaleSharkID":"331430701","coordinates":[{"lat":21.2968,"long":-86.753251,"eventDate":"2018-07-27","parsedDate":"2018-07-27"}]},{"whaleSharkID":"56677281","coordinates":[{"lat":21.307649,"long":-86.642447,"eventDate":"2018-07-01","parsedDate":"2018-07-01"}]},{"whaleSharkID":"91626802","coordinates":[{"lat":28.895243,"long":-113.512972,"eventDate":"2018-07-17","parsedDate":"2018-07-17"}]},{"whaleSharkID":"154605143","coordinates":[{"lat":21.324885,"long":-86.767507,"eventDate":"2018-07-08","parsedDate":"2018-07-08"}]},{"whaleSharkID":"154606646","coordinates":[{"lat":21.351572,"long":-86.672441,"eventDate":"2018-07-08","parsedDate":"2018-07-08"}]},{"whaleSharkID":"57821","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-22.5,"long":114.5,"eventDate":"2017-06-07","parsedDate":"2017-06-07"},{"lat":-15.5,"long":112.5,"eventDate":"2018-08-02","parsedDate":"2018-08-02"},{"lat":-16.5,"long":112.5,"eventDate":"2018-08-02","parsedDate":"2018-08-02"},{"lat":-14.5,"long":113.5,"eventDate":"2018-08-06","parsedDate":"2018-08-06"},{"lat":-15.5,"long":113.5,"eventDate":"2018-08-06","parsedDate":"2018-08-06"},{"lat":-13.5,"long":109.5,"eventDate":"2018-08-10","parsedDate":"2018-08-10"},{"lat":-14.5,"long":109.5,"eventDate":"2018-08-10","parsedDate":"2018-08-10"},{"lat":-11.5,"long":107.5,"eventDate":"2018-08-13","parsedDate":"2018-08-13"},{"lat":-11.5,"long":108.5,"eventDate":"2018-08-13","parsedDate":"2018-08-13"},{"lat":-10.5,"long":105.5,"eventDate":"2018-08-14","parsedDate":"2018-08-14"},{"lat":-11.5,"long":106.5,"eventDate":"2018-08-14","parsedDate":"2018-08-14"},{"lat":-10.5,"long":104.5,"eventDate":"2018-08-15","parsedDate":"2018-08-15"},{"lat":-11.5,"long":104.5,"eventDate":"2018-08-16","parsedDate":"2018-08-16"},{"lat":-12.5,"long":102.5,"eventDate":"2018-08-19","parsedDate":"2018-08-19"},{"lat":-12.5,"long":103.5,"eventDate":"2018-08-19","parsedDate":"2018-08-19"},{"lat":-13.5,"long":102.5,"eventDate":"2018-08-21","parsedDate":"2018-08-21"},{"lat":-13.5,"long":101.5,"eventDate":"2018-08-26","parsedDate":"2018-08-26"},{"lat":-14.5,"long":101.5,"eventDate":"2018-08-30","parsedDate":"2018-08-30"},{"lat":-14.5,"long":100.5,"eventDate":"2018-08-31","parsedDate":"2018-08-31"},{"lat":-13.5,"long":100.5,"eventDate":"2018-09-02","parsedDate":"2018-09-02"},{"lat":-12.5,"long":100.5,"eventDate":"2018-09-05","parsedDate":"2018-09-05"},{"lat":-12.5,"long":99.5,"eventDate":"2018-09-05","parsedDate":"2018-09-05"},{"lat":-12.5,"long":101.5,"eventDate":"2018-09-07","parsedDate":"2018-09-07"},{"lat":-14.5,"long":99.5,"eventDate":"2018-09-25","parsedDate":"2018-09-25"},{"lat":-13.5,"long":98.5,"eventDate":"2018-09-28","parsedDate":"2018-09-28"},{"lat":-13.5,"long":99.5,"eventDate":"2018-09-28","parsedDate":"2018-09-28"},{"lat":-12.5,"long":98.5,"eventDate":"2018-10-01","parsedDate":"2018-10-01"},{"lat":-12.5,"long":97.5,"eventDate":"2018-10-02","parsedDate":"2018-10-02"},{"lat":-11.5,"long":98.5,"eventDate":"2018-10-04","parsedDate":"2018-10-04"},{"lat":-11.5,"long":100.5,"eventDate":"2018-10-10","parsedDate":"2018-10-10"},{"lat":-11.5,"long":99.5,"eventDate":"2018-10-10","parsedDate":"2018-10-10"}]},{"whaleSharkID":"57827","coordinates":[{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-19.5,"long":114.5,"eventDate":"2016-08-01","parsedDate":"2016-08-01"},{"lat":-22.5,"long":114.5,"eventDate":"2017-06-07","parsedDate":"2017-06-07"},{"lat":-18.5,"long":115.5,"eventDate":"2017-07-28","parsedDate":"2017-07-28"},{"lat":-16.5,"long":116.5,"eventDate":"2017-07-30","parsedDate":"2017-07-30"},{"lat":-8.5,"long":130.5,"eventDate":"2018-08-14","parsedDate":"2018-08-14"},{"lat":-6.5,"long":133.5,"eventDate":"2018-08-20","parsedDate":"2018-08-20"},{"lat":-5.5,"long":133.5,"eventDate":"2018-08-30","parsedDate":"2018-08-30"},{"lat":-5.5,"long":132.5,"eventDate":"2018-09-03","parsedDate":"2018-09-03"}]},{"whaleSharkID":"57828","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-14.5,"long":121.5,"eventDate":"2016-07-22","parsedDate":"2016-07-22"},{"lat":-13.5,"long":122.5,"eventDate":"2016-07-24","parsedDate":"2016-07-24"},{"lat":-14.5,"long":117.5,"eventDate":"2016-07-29","parsedDate":"2016-07-29"},{"lat":-19.5,"long":114.5,"eventDate":"2016-08-01","parsedDate":"2016-08-01"},{"lat":-13.5,"long":120.5,"eventDate":"2016-08-05","parsedDate":"2016-08-05"},{"lat":-12.5,"long":123.5,"eventDate":"2016-08-08","parsedDate":"2016-08-08"},{"lat":-11.5,"long":123.5,"eventDate":"2016-08-10","parsedDate":"2016-08-10"},{"lat":-16.5,"long":115.5,"eventDate":"2016-08-15","parsedDate":"2016-08-15"},{"lat":-12.5,"long":120.5,"eventDate":"2016-08-21","parsedDate":"2016-08-21"},{"lat":-12.5,"long":121.5,"eventDate":"2016-08-24","parsedDate":"2016-08-24"},{"lat":-19.5,"long":116.5,"eventDate":"2016-08-31","parsedDate":"2016-08-31"},{"lat":-12.5,"long":122.5,"eventDate":"2016-09-10","parsedDate":"2016-09-10"},{"lat":-11.5,"long":119.5,"eventDate":"2016-10-01","parsedDate":"2016-10-01"},{"lat":-15.5,"long":121.5,"eventDate":"2017-07-29","parsedDate":"2017-07-29"},{"lat":-16.5,"long":116.5,"eventDate":"2017-07-30","parsedDate":"2017-07-30"},{"lat":-15.5,"long":116.5,"eventDate":"2017-08-01","parsedDate":"2017-08-01"},{"lat":-19.5,"long":112.5,"eventDate":"2018-06-26","parsedDate":"2018-06-26"},{"lat":-15.5,"long":117.5,"eventDate":"2018-08-27","parsedDate":"2018-08-27"},{"lat":-13.5,"long":117.5,"eventDate":"2018-08-29","parsedDate":"2018-08-29"},{"lat":-13.5,"long":118.5,"eventDate":"2018-08-30","parsedDate":"2018-08-30"},{"lat":-11.5,"long":118.5,"eventDate":"2018-09-02","parsedDate":"2018-09-02"},{"lat":-9.5,"long":121.5,"eventDate":"2018-09-02","parsedDate":"2018-09-02"},{"lat":-13.5,"long":121.5,"eventDate":"2018-09-11","parsedDate":"2018-09-11"},{"lat":-14.5,"long":120.5,"eventDate":"2018-09-18","parsedDate":"2018-09-18"},{"lat":-13.5,"long":123.5,"eventDate":"2018-09-28","parsedDate":"2018-09-28"}]},{"whaleSharkID":"34736011","coordinates":[{"lat":21.270183,"long":-86.788372,"eventDate":"2018-08-19","parsedDate":"2018-08-19"}]},{"whaleSharkID":"41318369","coordinates":[{"lat":28.975481,"long":-113.064248,"eventDate":"2018-08-19","parsedDate":"2018-08-19"}]},{"whaleSharkID":"42785417","coordinates":[{"lat":28.958873,"long":-113.547273,"eventDate":"2018-08-21","parsedDate":"2018-08-21"}]},{"whaleSharkID":"56798395","coordinates":[{"lat":21.476009,"long":-86.427612,"eventDate":"2018-08-19","parsedDate":"2018-08-19"}]},{"whaleSharkID":"63248419","coordinates":[{"lat":21.668689,"long":-86.61321,"eventDate":"2018-08-27","parsedDate":"2018-08-27"}]},{"whaleSharkID":"416675541","coordinates":[{"lat":7.593064,"long":-81.730594,"eventDate":"2018-09-03","parsedDate":"2018-09-03"}]},{"whaleSharkID":"485748508","coordinates":[{"lat":21.351364,"long":-86.763274,"eventDate":"2018-09-19","parsedDate":"2018-09-19"}]},{"whaleSharkID":"58086566","coordinates":[{"lat":10.176186,"long":99.968715,"eventDate":"2018-09-09","parsedDate":"2018-09-09"}]},{"whaleSharkID":"239366744","coordinates":[{"lat":-8.376226,"long":117.755206,"eventDate":"2018-10-15","parsedDate":"2018-10-15"}]},{"whaleSharkID":"37427296","coordinates":[{"lat":28.968184,"long":-113.5146,"eventDate":"2018-10-10","parsedDate":"2018-10-10"}]},{"whaleSharkID":"37427609","coordinates":[{"lat":28.913928,"long":-113.477446,"eventDate":"2018-10-08","parsedDate":"2018-10-08"}]},{"whaleSharkID":"37454884","coordinates":[{"lat":28.915952,"long":-113.47884,"eventDate":"2018-10-08","parsedDate":"2018-10-08"}]},{"whaleSharkID":"49118862","coordinates":[{"lat":28.893544,"long":-113.501046,"eventDate":"2018-10-23","parsedDate":"2018-10-23"}]},{"whaleSharkID":"510072893","coordinates":[{"lat":29.100268,"long":-113.132052,"eventDate":"2018-10-13","parsedDate":"2018-10-13"}]},{"whaleSharkID":"562151090","coordinates":[{"lat":29.042002,"long":-113.434999,"eventDate":"2018-10-18","parsedDate":"2018-10-18"}]},{"whaleSharkID":"156972305","coordinates":[{"lat":28.903969,"long":-113.506082,"eventDate":"2018-10-18","parsedDate":"2018-10-18"}]},{"whaleSharkID":"205816940","coordinates":[{"lat":28.825569,"long":-113.497463,"eventDate":"2018-10-18","parsedDate":"2018-10-18"}]},{"whaleSharkID":"39536064","coordinates":[{"lat":21.741207,"long":-105.506653,"eventDate":"2018-11-07","parsedDate":"2018-11-07"}]},{"whaleSharkID":"41356680","coordinates":[{"lat":-24.023907,"long":35.722909,"eventDate":"2018-11-06","parsedDate":"2018-11-06"}]},{"whaleSharkID":"42405729","coordinates":[{"lat":24.172018,"long":-110.386413,"eventDate":"2018-11-03","parsedDate":"2018-11-03"}]},{"whaleSharkID":"473020809","coordinates":[{"lat":24.230888,"long":-110.363895,"eventDate":"2018-11-13","parsedDate":"2018-11-13"}]},{"whaleSharkID":"132352336","coordinates":[{"lat":4.181688,"long":73.471476,"eventDate":"2018-11-28","parsedDate":"2018-11-28"}]},{"whaleSharkID":"214457102","coordinates":[{"lat":9.51637,"long":123.48965,"eventDate":"2018-11-03","parsedDate":"2018-11-03"}]},{"whaleSharkID":"214457106","coordinates":[{"lat":9.475103,"long":123.526777,"eventDate":"2018-11-03","parsedDate":"2018-11-03"}]},{"whaleSharkID":"214457107","coordinates":[{"lat":9.488109,"long":123.562244,"eventDate":"2018-11-03","parsedDate":"2018-11-03"}]},{"whaleSharkID":"41761297","coordinates":[{"lat":24.180988,"long":-110.418945,"eventDate":"2018-12-22","parsedDate":"2018-12-22"}]},{"whaleSharkID":"42405430","coordinates":[{"lat":24.182597,"long":-110.407203,"eventDate":"2018-12-22","parsedDate":"2018-12-22"}]},{"whaleSharkID":"44910213","coordinates":[{"lat":24.197825,"long":-110.353939,"eventDate":"2018-12-23","parsedDate":"2018-12-23"}]},{"whaleSharkID":"495335737","coordinates":[{"lat":24.219885,"long":-110.403467,"eventDate":"2018-12-01","parsedDate":"2018-12-01"}]},{"whaleSharkID":"51262995","coordinates":[{"lat":8.783644,"long":-83.59051,"eventDate":"2018-12-04","parsedDate":"2018-12-04"}]},{"whaleSharkID":"589325767","coordinates":[{"lat":5.844252,"long":80.451672,"eventDate":"2018-12-24","parsedDate":"2018-12-24"}]},{"whaleSharkID":"156110098","coordinates":[{"lat":-16.778467,"long":49.803559,"eventDate":"2018-12-27","parsedDate":"2018-12-27"}]},{"whaleSharkID":"189136380","coordinates":[{"lat":24.478297,"long":-110.409628,"eventDate":"2018-12-31","parsedDate":"2018-12-31"}]},{"whaleSharkID":"57824","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-12.5,"long":123.5,"eventDate":"2016-08-08","parsedDate":"2016-08-08"},{"lat":-23.5,"long":113.5,"eventDate":"2016-10-29","parsedDate":"2016-10-29"},{"lat":-25.5,"long":112.5,"eventDate":"2016-12-19","parsedDate":"2016-12-19"},{"lat":-26.5,"long":113.5,"eventDate":"2017-01-06","parsedDate":"2017-01-06"},{"lat":-17.5,"long":117.5,"eventDate":"2017-08-08","parsedDate":"2017-08-08"},{"lat":-18.5,"long":117.5,"eventDate":"2017-08-17","parsedDate":"2017-08-17"},{"lat":-25.5,"long":113.5,"eventDate":"2017-12-06","parsedDate":"2017-12-06"},{"lat":-24.5,"long":113.5,"eventDate":"2018-02-11","parsedDate":"2018-02-11"}]},{"whaleSharkID":"57825","coordinates":[{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-19.5,"long":114.5,"eventDate":"2016-08-01","parsedDate":"2016-08-01"},{"lat":-19.5,"long":113.5,"eventDate":"2016-12-09","parsedDate":"2016-12-09"},{"lat":-20.5,"long":113.5,"eventDate":"2017-07-27","parsedDate":"2017-07-27"},{"lat":-19.5,"long":112.5,"eventDate":"2018-06-26","parsedDate":"2018-06-26"}]},{"whaleSharkID":"2018_WS1","coordinates":[{"lat":-22.76302,"long":113.62172,"eventDate":"2018","parsedDate":"2018-01-01"}]},{"whaleSharkID":"2018_WS32","coordinates":[{"lat":-22.81048,"long":113.64555,"eventDate":"2018","parsedDate":"2018-01-01"}]},{"whaleSharkID":"2018_WS33","coordinates":[{"lat":-22.81625,"long":113.66345,"eventDate":"2018","parsedDate":"2018-01-01"}]},{"whaleSharkID":"2018_WS42","coordinates":[{"lat":-22.82285,"long":113.66608,"eventDate":"2018","parsedDate":"2018-01-01"}]},{"whaleSharkID":"2018_WS47","coordinates":[{"lat":-22.8172,"long":113.68225,"eventDate":"2018","parsedDate":"2018-01-01"}]},{"whaleSharkID":"2018_WS69","coordinates":[{"lat":-22.80887,"long":113.66843,"eventDate":"2018","parsedDate":"2018-01-01"}]},{"whaleSharkID":"2018_WS75","coordinates":[{"lat":-22.8133,"long":113.66532,"eventDate":"2018","parsedDate":"2018-01-01"}]},{"whaleSharkID":"2018_WS79","coordinates":[{"lat":-22.7987,"long":113.66205,"eventDate":"2018","parsedDate":"2018-01-01"}]},{"whaleSharkID":"2018_WS80","coordinates":[{"lat":-22.78273,"long":113.6416,"eventDate":"2018","parsedDate":"2018-01-01"}]},{"whaleSharkID":"2018_WS9","coordinates":[{"lat":-22.83208,"long":113.65113,"eventDate":"2018","parsedDate":"2018-01-01"}]},{"whaleSharkID":"247664632","coordinates":[{"lat":24.29154,"long":-110.595486,"eventDate":"2017-01-15","parsedDate":"2017-01-15"}]},{"whaleSharkID":"163471","coordinates":[{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-23.5,"long":113.5,"eventDate":"2016-10-29","parsedDate":"2016-10-29"},{"lat":-25.5,"long":112.5,"eventDate":"2016-12-19","parsedDate":"2016-12-19"},{"lat":-26.5,"long":113.5,"eventDate":"2017-01-06","parsedDate":"2017-01-06"},{"lat":-26.5,"long":112.5,"eventDate":"2017-01-25","parsedDate":"2017-01-25"}]},{"whaleSharkID":"A69-9001-19499","coordinates":[{"lat":-21.84,"long":113.97,"eventDate":"2016-06-02","parsedDate":"2016-06-02"},{"lat":-21.88,"long":113.91,"eventDate":"2016-06-02","parsedDate":"2016-06-02"},{"lat":-21.89,"long":113.92,"eventDate":"2016-06-06","parsedDate":"2016-06-06"},{"lat":-21.89,"long":113.92,"eventDate":"2017-01-17","parsedDate":"2017-01-17"},{"lat":-21.88,"long":113.91,"eventDate":"2017-01-18","parsedDate":"2017-01-18"},{"lat":-21.89,"long":113.92,"eventDate":"2017-01-18","parsedDate":"2017-01-18"},{"lat":-22.6,"long":113.61,"eventDate":"2017-01-25","parsedDate":"2017-01-25"},{"lat":-22.6,"long":113.62,"eventDate":"2017-01-25","parsedDate":"2017-01-25"},{"lat":-23,"long":113.76,"eventDate":"2017-01-26","parsedDate":"2017-01-26"},{"lat":-23.12,"long":113.7,"eventDate":"2017-02-04","parsedDate":"2017-02-04"},{"lat":-23.13,"long":113.71,"eventDate":"2017-02-04","parsedDate":"2017-02-04"},{"lat":-21.9,"long":113.93,"eventDate":"2017-02-28","parsedDate":"2017-02-28"},{"lat":-21.89,"long":113.92,"eventDate":"2017-03-05","parsedDate":"2017-03-05"},{"lat":-21.9,"long":113.93,"eventDate":"2017-03-05","parsedDate":"2017-03-05"},{"lat":-21.88,"long":113.91,"eventDate":"2017-03-10","parsedDate":"2017-03-10"},{"lat":-21.89,"long":113.92,"eventDate":"2017-03-10","parsedDate":"2017-03-10"},{"lat":-21.9,"long":113.93,"eventDate":"2017-03-11","parsedDate":"2017-03-11"},{"lat":-21.9,"long":113.93,"eventDate":"2017-03-18","parsedDate":"2017-03-18"},{"lat":-21.88,"long":113.91,"eventDate":"2017-03-22","parsedDate":"2017-03-22"},{"lat":-21.89,"long":113.92,"eventDate":"2017-03-22","parsedDate":"2017-03-22"},{"lat":-21.88,"long":113.91,"eventDate":"2017-03-24","parsedDate":"2017-03-24"},{"lat":-21.89,"long":113.92,"eventDate":"2017-03-29","parsedDate":"2017-03-29"},{"lat":-21.88,"long":113.91,"eventDate":"2017-03-30","parsedDate":"2017-03-30"},{"lat":-21.88,"long":113.91,"eventDate":"2017-04-01","parsedDate":"2017-04-01"},{"lat":-21.89,"long":113.92,"eventDate":"2017-04-01","parsedDate":"2017-04-01"},{"lat":-21.89,"long":113.92,"eventDate":"2017-04-04","parsedDate":"2017-04-04"},{"lat":-21.9,"long":113.93,"eventDate":"2017-04-04","parsedDate":"2017-04-04"},{"lat":-21.9,"long":113.93,"eventDate":"2017-04-12","parsedDate":"2017-04-12"},{"lat":-22.6,"long":113.62,"eventDate":"2017-05-12","parsedDate":"2017-05-12"},{"lat":-21.89,"long":113.92,"eventDate":"2017-05-13","parsedDate":"2017-05-13"}]},{"whaleSharkID":"A69-9001-19477","coordinates":[{"lat":-21.84,"long":113.97,"eventDate":"2016-06-02","parsedDate":"2016-06-02"},{"lat":-21.88,"long":113.91,"eventDate":"2016-06-02","parsedDate":"2016-06-02"},{"lat":-21.89,"long":113.92,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":-21.9,"long":113.93,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":-22.59,"long":113.61,"eventDate":"2016-11-16","parsedDate":"2016-11-16"},{"lat":-23,"long":113.76,"eventDate":"2017-01-30","parsedDate":"2017-01-30"},{"lat":-23.13,"long":113.72,"eventDate":"2017-02-05","parsedDate":"2017-02-05"},{"lat":-21.88,"long":113.91,"eventDate":"2017-03-27","parsedDate":"2017-03-27"},{"lat":-22.6,"long":113.62,"eventDate":"2017-03-29","parsedDate":"2017-03-29"}]},{"whaleSharkID":"455294481","coordinates":[{"lat":9.910911,"long":123.454158,"eventDate":"2017-01-01","parsedDate":"2017-01-01"}]},{"whaleSharkID":"473616624","coordinates":[{"lat":16.036215,"long":-86.801024,"eventDate":"2017-01-26","parsedDate":"2017-01-26"}]},{"whaleSharkID":"79487181","coordinates":[{"lat":24.200268,"long":-110.430851,"eventDate":"2017-01-11","parsedDate":"2017-01-11"}]},{"whaleSharkID":"Karol","coordinates":[{"lat":3.605,"long":-88.94443,"eventDate":"2012-11-22","parsedDate":"2012-11-22"},{"lat":3.8184,"long":-87.95691,"eventDate":"2012-11-26","parsedDate":"2012-11-26"},{"lat":5.27069,"long":-86.02816,"eventDate":"2012-12-09","parsedDate":"2012-12-09"},{"lat":1.66208,"long":-91.93135,"eventDate":"2016-10-17","parsedDate":"2016-10-17"},{"lat":1.67213,"long":-91.94349,"eventDate":"2016-10-17","parsedDate":"2016-10-17"},{"lat":1.6737,"long":-91.98911,"eventDate":"2016-10-17","parsedDate":"2016-10-17"},{"lat":1.24663,"long":-89.01447,"eventDate":"2016-11-01","parsedDate":"2016-11-01"},{"lat":1.30296,"long":-89.05227,"eventDate":"2016-11-01","parsedDate":"2016-11-01"},{"lat":1.31603,"long":-89.07234,"eventDate":"2016-11-01","parsedDate":"2016-11-01"},{"lat":1.33152,"long":-89.08488,"eventDate":"2016-11-01","parsedDate":"2016-11-01"},{"lat":1.33359,"long":-89.07237,"eventDate":"2016-11-01","parsedDate":"2016-11-01"},{"lat":1.37677,"long":-89.15499,"eventDate":"2016-11-02","parsedDate":"2016-11-02"},{"lat":1.40415,"long":-89.12788,"eventDate":"2016-11-02","parsedDate":"2016-11-02"},{"lat":1.43258,"long":-89.1683,"eventDate":"2016-11-02","parsedDate":"2016-11-02"},{"lat":1.45102,"long":-89.23115,"eventDate":"2016-11-02","parsedDate":"2016-11-02"},{"lat":1.46704,"long":-89.16671,"eventDate":"2016-11-02","parsedDate":"2016-11-02"},{"lat":1.49323,"long":-89.16287,"eventDate":"2016-11-02","parsedDate":"2016-11-02"},{"lat":1.49699,"long":-89.19755,"eventDate":"2016-11-02","parsedDate":"2016-11-02"},{"lat":1.54056,"long":-89.22171,"eventDate":"2016-11-02","parsedDate":"2016-11-02"},{"lat":1.55199,"long":-89.20095,"eventDate":"2016-11-02","parsedDate":"2016-11-02"},{"lat":1.64815,"long":-89.18401,"eventDate":"2016-11-02","parsedDate":"2016-11-02"},{"lat":1.69388,"long":-89.33812,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":1.71584,"long":-89.25389,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":1.71853,"long":-89.24493,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":1.71987,"long":-89.27308,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":1.72484,"long":-89.23531,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":1.77244,"long":-89.23605,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":1.7796,"long":-89.25024,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":1.79163,"long":-89.23178,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":1.8005,"long":-89.28406,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":1.80506,"long":-89.23827,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":1.82788,"long":-89.32435,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":1.8515,"long":-89.32784,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":1.8612,"long":-89.32093,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":1.86591,"long":-89.30984,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":1.87004,"long":-89.30034,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":1.88304,"long":-89.3146,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":1.91336,"long":-89.32135,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":1.923,"long":-89.34498,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":1.93808,"long":-89.31181,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":2.12063,"long":-89.43893,"eventDate":"2016-11-05","parsedDate":"2016-11-05"},{"lat":2.07886,"long":-89.53876,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":2.13496,"long":-89.54545,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":2.17627,"long":-89.51018,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":2.18622,"long":-89.52138,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":2.19575,"long":-89.74902,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":2.19819,"long":-89.54353,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":2.19939,"long":-89.54595,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":2.25111,"long":-89.59446,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":2.2516,"long":-89.58938,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":2.26212,"long":-89.58507,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":2.26433,"long":-89.57755,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":2.27337,"long":-89.61948,"eventDate":"2016-11-07","parsedDate":"2016-11-07"},{"lat":2.27656,"long":-89.62781,"eventDate":"2016-11-07","parsedDate":"2016-11-07"},{"lat":2.2768,"long":-89.59744,"eventDate":"2016-11-07","parsedDate":"2016-11-07"},{"lat":2.28185,"long":-89.62784,"eventDate":"2016-11-07","parsedDate":"2016-11-07"},{"lat":2.30187,"long":-89.62273,"eventDate":"2016-11-07","parsedDate":"2016-11-07"},{"lat":2.3035,"long":-89.61163,"eventDate":"2016-11-07","parsedDate":"2016-11-07"},{"lat":2.3035,"long":-89.61603,"eventDate":"2016-11-07","parsedDate":"2016-11-07"},{"lat":2.31309,"long":-89.65967,"eventDate":"2016-11-07","parsedDate":"2016-11-07"},{"lat":2.31324,"long":-89.62049,"eventDate":"2016-11-07","parsedDate":"2016-11-07"},{"lat":2.32356,"long":-89.61416,"eventDate":"2016-11-07","parsedDate":"2016-11-07"},{"lat":2.36127,"long":-89.6386,"eventDate":"2016-11-07","parsedDate":"2016-11-07"},{"lat":2.35104,"long":-89.65656,"eventDate":"2016-11-08","parsedDate":"2016-11-08"},{"lat":2.35211,"long":-89.65305,"eventDate":"2016-11-08","parsedDate":"2016-11-08"},{"lat":2.36065,"long":-89.63528,"eventDate":"2016-11-08","parsedDate":"2016-11-08"},{"lat":2.36885,"long":-89.62948,"eventDate":"2016-11-08","parsedDate":"2016-11-08"},{"lat":2.37878,"long":-89.67878,"eventDate":"2016-11-08","parsedDate":"2016-11-08"},{"lat":2.42302,"long":-89.68791,"eventDate":"2016-11-08","parsedDate":"2016-11-08"},{"lat":2.44294,"long":-89.74187,"eventDate":"2016-11-08","parsedDate":"2016-11-08"},{"lat":2.45661,"long":-89.67506,"eventDate":"2016-11-08","parsedDate":"2016-11-08"},{"lat":2.50087,"long":-89.67773,"eventDate":"2016-11-08","parsedDate":"2016-11-08"},{"lat":2.45316,"long":-89.66688,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.47061,"long":-89.6532,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.47291,"long":-89.65168,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.47531,"long":-89.64813,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.48123,"long":-89.64596,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.48364,"long":-89.64425,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.49571,"long":-89.63878,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.5246,"long":-89.67374,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.52858,"long":-89.67767,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.53599,"long":-89.67931,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.54657,"long":-89.62147,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.55423,"long":-89.68483,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.49908,"long":-89.40461,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":2.52174,"long":-89.48578,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":2.52357,"long":-89.48911,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":2.56154,"long":-89.72462,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":2.5758,"long":-89.76757,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":2.57987,"long":-89.78999,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":2.59494,"long":-89.77068,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":2.59677,"long":-89.65908,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":2.60487,"long":-89.753,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":2.61328,"long":-89.7457,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":2.61554,"long":-89.7456,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":2.61798,"long":-89.87282,"eventDate":"2016-11-11","parsedDate":"2016-11-11"},{"lat":2.62528,"long":-89.88141,"eventDate":"2016-11-11","parsedDate":"2016-11-11"},{"lat":2.6266,"long":-89.73469,"eventDate":"2016-11-11","parsedDate":"2016-11-11"},{"lat":2.62867,"long":-89.90597,"eventDate":"2016-11-11","parsedDate":"2016-11-11"},{"lat":2.63011,"long":-89.89061,"eventDate":"2016-11-11","parsedDate":"2016-11-11"},{"lat":2.63085,"long":-89.85909,"eventDate":"2016-11-11","parsedDate":"2016-11-11"},{"lat":2.63475,"long":-89.89555,"eventDate":"2016-11-11","parsedDate":"2016-11-11"},{"lat":2.60028,"long":-89.99468,"eventDate":"2016-11-12","parsedDate":"2016-11-12"},{"lat":2.61522,"long":-89.96645,"eventDate":"2016-11-12","parsedDate":"2016-11-12"},{"lat":2.64206,"long":-89.89722,"eventDate":"2016-11-12","parsedDate":"2016-11-12"},{"lat":2.81916,"long":-90.01033,"eventDate":"2016-11-12","parsedDate":"2016-11-12"},{"lat":2.84553,"long":-89.90707,"eventDate":"2016-11-12","parsedDate":"2016-11-12"},{"lat":2.85674,"long":-90.00149,"eventDate":"2016-11-12","parsedDate":"2016-11-12"},{"lat":2.91138,"long":-89.95048,"eventDate":"2016-11-12","parsedDate":"2016-11-12"},{"lat":2.94755,"long":-89.92191,"eventDate":"2016-11-13","parsedDate":"2016-11-13"},{"lat":2.99252,"long":-89.90291,"eventDate":"2016-11-13","parsedDate":"2016-11-13"},{"lat":3.07525,"long":-89.84692,"eventDate":"2016-11-13","parsedDate":"2016-11-13"},{"lat":3.07748,"long":-89.7287,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":3.08239,"long":-89.73236,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":3.08671,"long":-89.73558,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":3.08675,"long":-89.73617,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":3.09594,"long":-89.68077,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":3.10336,"long":-89.70341,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":3.10579,"long":-89.71508,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":3.10959,"long":-89.71429,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":3.11321,"long":-89.68624,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":3.11928,"long":-89.68466,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":3.12095,"long":-89.65193,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":3.09311,"long":-89.64118,"eventDate":"2016-11-15","parsedDate":"2016-11-15"},{"lat":3.09463,"long":-89.64625,"eventDate":"2016-11-15","parsedDate":"2016-11-15"},{"lat":3.11734,"long":-89.65487,"eventDate":"2016-11-15","parsedDate":"2016-11-15"},{"lat":3.1177,"long":-89.66878,"eventDate":"2016-11-15","parsedDate":"2016-11-15"},{"lat":3.12601,"long":-89.63385,"eventDate":"2016-11-15","parsedDate":"2016-11-15"},{"lat":3.13634,"long":-89.65727,"eventDate":"2016-11-15","parsedDate":"2016-11-15"},{"lat":3.1553,"long":-89.64165,"eventDate":"2016-11-15","parsedDate":"2016-11-15"},{"lat":3.23294,"long":-89.56149,"eventDate":"2016-11-16","parsedDate":"2016-11-16"},{"lat":3.23443,"long":-89.57324,"eventDate":"2016-11-16","parsedDate":"2016-11-16"},{"lat":3.24108,"long":-89.5659,"eventDate":"2016-11-16","parsedDate":"2016-11-16"},{"lat":3.24112,"long":-89.56435,"eventDate":"2016-11-16","parsedDate":"2016-11-16"},{"lat":3.24763,"long":-89.54086,"eventDate":"2016-11-16","parsedDate":"2016-11-16"},{"lat":3.24963,"long":-89.53367,"eventDate":"2016-11-16","parsedDate":"2016-11-16"},{"lat":3.25761,"long":-89.53118,"eventDate":"2016-11-16","parsedDate":"2016-11-16"},{"lat":3.27976,"long":-89.53256,"eventDate":"2016-11-16","parsedDate":"2016-11-16"},{"lat":3.28091,"long":-89.54058,"eventDate":"2016-11-16","parsedDate":"2016-11-16"},{"lat":3.29013,"long":-89.30552,"eventDate":"2016-11-17","parsedDate":"2016-11-17"},{"lat":3.29751,"long":-89.34675,"eventDate":"2016-11-17","parsedDate":"2016-11-17"},{"lat":3.3011,"long":-89.37101,"eventDate":"2016-11-17","parsedDate":"2016-11-17"},{"lat":3.30236,"long":-89.50536,"eventDate":"2016-11-17","parsedDate":"2016-11-17"},{"lat":3.30763,"long":-89.34491,"eventDate":"2016-11-17","parsedDate":"2016-11-17"},{"lat":3.32925,"long":-89.46881,"eventDate":"2016-11-17","parsedDate":"2016-11-17"},{"lat":3.36712,"long":-89.34895,"eventDate":"2016-11-17","parsedDate":"2016-11-17"},{"lat":3.14136,"long":-89.10431,"eventDate":"2016-11-18","parsedDate":"2016-11-18"},{"lat":3.1542,"long":-89.24065,"eventDate":"2016-11-18","parsedDate":"2016-11-18"},{"lat":3.16244,"long":-89.23821,"eventDate":"2016-11-18","parsedDate":"2016-11-18"},{"lat":3.16437,"long":-89.24512,"eventDate":"2016-11-18","parsedDate":"2016-11-18"},{"lat":3.37024,"long":-88.84504,"eventDate":"2016-11-18","parsedDate":"2016-11-18"},{"lat":3.41423,"long":-88.75693,"eventDate":"2016-11-18","parsedDate":"2016-11-18"},{"lat":3.11729,"long":-89.2337,"eventDate":"2016-11-19","parsedDate":"2016-11-19"},{"lat":3.1471,"long":-89.23648,"eventDate":"2016-11-19","parsedDate":"2016-11-19"},{"lat":3.16217,"long":-89.17868,"eventDate":"2016-11-19","parsedDate":"2016-11-19"},{"lat":3.16979,"long":-89.18539,"eventDate":"2016-11-19","parsedDate":"2016-11-19"},{"lat":3.11734,"long":-89.13784,"eventDate":"2016-11-20","parsedDate":"2016-11-20"},{"lat":3.16769,"long":-89.16313,"eventDate":"2016-11-20","parsedDate":"2016-11-20"},{"lat":3.30607,"long":-89.14267,"eventDate":"2016-11-21","parsedDate":"2016-11-21"},{"lat":3.31003,"long":-89.11273,"eventDate":"2016-11-21","parsedDate":"2016-11-21"},{"lat":3.31815,"long":-89.11282,"eventDate":"2016-11-21","parsedDate":"2016-11-21"},{"lat":3.35923,"long":-89.08238,"eventDate":"2016-11-21","parsedDate":"2016-11-21"},{"lat":3.3855,"long":-88.62735,"eventDate":"2016-11-22","parsedDate":"2016-11-22"},{"lat":3.65242,"long":-88.58786,"eventDate":"2016-11-23","parsedDate":"2016-11-23"},{"lat":3.66257,"long":-88.68874,"eventDate":"2016-11-23","parsedDate":"2016-11-23"},{"lat":3.61799,"long":-88.443,"eventDate":"2016-11-24","parsedDate":"2016-11-24"},{"lat":3.62863,"long":-88.42767,"eventDate":"2016-11-24","parsedDate":"2016-11-24"},{"lat":3.63081,"long":-88.45581,"eventDate":"2016-11-24","parsedDate":"2016-11-24"},{"lat":3.7052,"long":-88.39255,"eventDate":"2016-11-24","parsedDate":"2016-11-24"},{"lat":3.71054,"long":-88.41216,"eventDate":"2016-11-24","parsedDate":"2016-11-24"},{"lat":3.71447,"long":-88.41501,"eventDate":"2016-11-24","parsedDate":"2016-11-24"},{"lat":3.63129,"long":-88.42646,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":3.65466,"long":-88.34412,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":3.65721,"long":-88.28076,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":3.65768,"long":-88.28811,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":3.66279,"long":-88.34419,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":3.66521,"long":-88.33402,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":3.67074,"long":-88.27747,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":3.67431,"long":-88.32392,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":3.69084,"long":-88.32057,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":3.69309,"long":-88.27116,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":3.66198,"long":-88.23916,"eventDate":"2016-11-26","parsedDate":"2016-11-26"},{"lat":3.74062,"long":-88.14588,"eventDate":"2016-11-26","parsedDate":"2016-11-26"},{"lat":3.74276,"long":-88.15672,"eventDate":"2016-11-26","parsedDate":"2016-11-26"},{"lat":3.57984,"long":-88.29666,"eventDate":"2016-11-27","parsedDate":"2016-11-27"},{"lat":3.6975,"long":-88.12384,"eventDate":"2016-11-27","parsedDate":"2016-11-27"},{"lat":3.84107,"long":-87.89182,"eventDate":"2016-11-27","parsedDate":"2016-11-27"},{"lat":3.84197,"long":-87.89689,"eventDate":"2016-11-27","parsedDate":"2016-11-27"},{"lat":3.85361,"long":-87.93858,"eventDate":"2016-11-27","parsedDate":"2016-11-27"},{"lat":3.85988,"long":-87.93379,"eventDate":"2016-11-27","parsedDate":"2016-11-27"},{"lat":3.88484,"long":-87.75087,"eventDate":"2016-11-28","parsedDate":"2016-11-28"},{"lat":3.89223,"long":-87.73126,"eventDate":"2016-11-28","parsedDate":"2016-11-28"},{"lat":3.90004,"long":-87.80221,"eventDate":"2016-11-28","parsedDate":"2016-11-28"},{"lat":3.94344,"long":-87.75753,"eventDate":"2016-11-28","parsedDate":"2016-11-28"},{"lat":3.98889,"long":-87.75302,"eventDate":"2016-11-28","parsedDate":"2016-11-28"},{"lat":3.95197,"long":-87.57697,"eventDate":"2016-11-29","parsedDate":"2016-11-29"},{"lat":3.95838,"long":-87.4375,"eventDate":"2016-11-29","parsedDate":"2016-11-29"},{"lat":4.01462,"long":-87.50992,"eventDate":"2016-11-29","parsedDate":"2016-11-29"},{"lat":4.04212,"long":-87.64166,"eventDate":"2016-11-29","parsedDate":"2016-11-29"},{"lat":4.0469,"long":-87.43374,"eventDate":"2016-11-30","parsedDate":"2016-11-30"},{"lat":4.07495,"long":-87.39623,"eventDate":"2016-11-30","parsedDate":"2016-11-30"},{"lat":4.10463,"long":-87.26556,"eventDate":"2016-11-30","parsedDate":"2016-11-30"},{"lat":4.06549,"long":-86.9422,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":4.0687,"long":-86.95901,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":4.09113,"long":-86.99535,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":4.10097,"long":-86.91583,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":4.10367,"long":-86.94485,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":4.10557,"long":-86.93512,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":4.10864,"long":-86.99789,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":4.10877,"long":-87.01535,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":4.10896,"long":-86.92309,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":4.111,"long":-87.01742,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":4.13013,"long":-86.8893,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":4.13434,"long":-86.86677,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":4.03141,"long":-86.7815,"eventDate":"2016-12-02","parsedDate":"2016-12-02"},{"lat":4.04459,"long":-86.76639,"eventDate":"2016-12-02","parsedDate":"2016-12-02"},{"lat":4.07592,"long":-86.84067,"eventDate":"2016-12-02","parsedDate":"2016-12-02"},{"lat":4.10934,"long":-86.81689,"eventDate":"2016-12-02","parsedDate":"2016-12-02"},{"lat":4.11402,"long":-86.81419,"eventDate":"2016-12-02","parsedDate":"2016-12-02"},{"lat":4.12626,"long":-86.80498,"eventDate":"2016-12-02","parsedDate":"2016-12-02"},{"lat":4.08786,"long":-86.72476,"eventDate":"2016-12-03","parsedDate":"2016-12-03"},{"lat":4.17811,"long":-86.68842,"eventDate":"2016-12-03","parsedDate":"2016-12-03"},{"lat":4.3764,"long":-86.80503,"eventDate":"2016-12-04","parsedDate":"2016-12-04"},{"lat":4.38026,"long":-86.81786,"eventDate":"2016-12-04","parsedDate":"2016-12-04"},{"lat":4.37959,"long":-86.82787,"eventDate":"2016-12-05","parsedDate":"2016-12-05"},{"lat":4.38635,"long":-86.95258,"eventDate":"2016-12-05","parsedDate":"2016-12-05"},{"lat":4.38927,"long":-86.83662,"eventDate":"2016-12-05","parsedDate":"2016-12-05"},{"lat":4.40691,"long":-86.98515,"eventDate":"2016-12-05","parsedDate":"2016-12-05"},{"lat":4.70424,"long":-86.63828,"eventDate":"2016-12-06","parsedDate":"2016-12-06"},{"lat":4.76186,"long":-86.87608,"eventDate":"2016-12-06","parsedDate":"2016-12-06"},{"lat":4.67756,"long":-86.51054,"eventDate":"2016-12-07","parsedDate":"2016-12-07"},{"lat":4.84508,"long":-86.31888,"eventDate":"2016-12-07","parsedDate":"2016-12-07"},{"lat":4.92278,"long":-86.28241,"eventDate":"2016-12-07","parsedDate":"2016-12-07"},{"lat":5.00652,"long":-86.21377,"eventDate":"2016-12-08","parsedDate":"2016-12-08"},{"lat":5.05066,"long":-86.26794,"eventDate":"2016-12-08","parsedDate":"2016-12-08"},{"lat":5.06821,"long":-86.15177,"eventDate":"2016-12-09","parsedDate":"2016-12-09"},{"lat":5.09998,"long":-86.15409,"eventDate":"2016-12-09","parsedDate":"2016-12-09"},{"lat":5.25662,"long":-86.11025,"eventDate":"2016-12-09","parsedDate":"2016-12-09"},{"lat":5.31506,"long":-86.0711,"eventDate":"2016-12-09","parsedDate":"2016-12-09"},{"lat":5.24327,"long":-86.05028,"eventDate":"2016-12-10","parsedDate":"2016-12-10"},{"lat":5.40472,"long":-86.00992,"eventDate":"2016-12-10","parsedDate":"2016-12-10"},{"lat":5.41937,"long":-85.95457,"eventDate":"2016-12-11","parsedDate":"2016-12-11"},{"lat":5.30018,"long":-85.82839,"eventDate":"2016-12-12","parsedDate":"2016-12-12"},{"lat":5.36246,"long":-85.97677,"eventDate":"2016-12-12","parsedDate":"2016-12-12"},{"lat":5.08779,"long":-85.52368,"eventDate":"2016-12-13","parsedDate":"2016-12-13"},{"lat":5.0948,"long":-85.52562,"eventDate":"2016-12-13","parsedDate":"2016-12-13"},{"lat":5.12295,"long":-85.55244,"eventDate":"2016-12-13","parsedDate":"2016-12-13"},{"lat":5.16772,"long":-85.51222,"eventDate":"2016-12-13","parsedDate":"2016-12-13"},{"lat":5.06326,"long":-85.46738,"eventDate":"2016-12-14","parsedDate":"2016-12-14"},{"lat":5.06802,"long":-85.5081,"eventDate":"2016-12-14","parsedDate":"2016-12-14"},{"lat":5.08282,"long":-85.521,"eventDate":"2016-12-14","parsedDate":"2016-12-14"},{"lat":5.08302,"long":-85.51984,"eventDate":"2016-12-14","parsedDate":"2016-12-14"},{"lat":5.08872,"long":-85.45448,"eventDate":"2016-12-14","parsedDate":"2016-12-14"},{"lat":5.08969,"long":-85.51733,"eventDate":"2016-12-14","parsedDate":"2016-12-14"},{"lat":5.08979,"long":-85.48217,"eventDate":"2016-12-14","parsedDate":"2016-12-14"},{"lat":5.20163,"long":-85.44971,"eventDate":"2016-12-16","parsedDate":"2016-12-16"},{"lat":5.20397,"long":-85.46299,"eventDate":"2016-12-16","parsedDate":"2016-12-16"},{"lat":5.20419,"long":-85.45428,"eventDate":"2016-12-16","parsedDate":"2016-12-16"},{"lat":4.83318,"long":-84.9817,"eventDate":"2016-12-17","parsedDate":"2016-12-17"},{"lat":4.83401,"long":-84.96605,"eventDate":"2016-12-17","parsedDate":"2016-12-17"},{"lat":4.72622,"long":-85.04179,"eventDate":"2016-12-18","parsedDate":"2016-12-18"},{"lat":4.73061,"long":-85.04088,"eventDate":"2016-12-18","parsedDate":"2016-12-18"},{"lat":4.76023,"long":-85.0898,"eventDate":"2016-12-18","parsedDate":"2016-12-18"},{"lat":4.76106,"long":-85.12424,"eventDate":"2016-12-18","parsedDate":"2016-12-18"},{"lat":4.77942,"long":-85.02572,"eventDate":"2016-12-18","parsedDate":"2016-12-18"},{"lat":4.72388,"long":-85.04229,"eventDate":"2016-12-19","parsedDate":"2016-12-19"},{"lat":4.62021,"long":-85.03572,"eventDate":"2016-12-20","parsedDate":"2016-12-20"},{"lat":4.68912,"long":-85.32789,"eventDate":"2016-12-20","parsedDate":"2016-12-20"},{"lat":4.74814,"long":-85.43104,"eventDate":"2016-12-20","parsedDate":"2016-12-20"},{"lat":4.50018,"long":-85.06975,"eventDate":"2016-12-21","parsedDate":"2016-12-21"},{"lat":4.75246,"long":-84.72684,"eventDate":"2016-12-21","parsedDate":"2016-12-21"},{"lat":4.77211,"long":-84.88196,"eventDate":"2016-12-22","parsedDate":"2016-12-22"},{"lat":4.4457,"long":-84.99763,"eventDate":"2016-12-24","parsedDate":"2016-12-24"},{"lat":4.42873,"long":-84.94448,"eventDate":"2016-12-25","parsedDate":"2016-12-25"},{"lat":4.41511,"long":-84.76926,"eventDate":"2016-12-26","parsedDate":"2016-12-26"},{"lat":4.49917,"long":-84.55081,"eventDate":"2016-12-27","parsedDate":"2016-12-27"},{"lat":4.52007,"long":-84.57163,"eventDate":"2016-12-27","parsedDate":"2016-12-27"},{"lat":4.45055,"long":-84.25447,"eventDate":"2016-12-28","parsedDate":"2016-12-28"},{"lat":4.46509,"long":-84.24974,"eventDate":"2016-12-28","parsedDate":"2016-12-28"},{"lat":4.76982,"long":-83.28707,"eventDate":"2016-12-29","parsedDate":"2016-12-29"},{"lat":4.96945,"long":-83.33503,"eventDate":"2016-12-29","parsedDate":"2016-12-29"},{"lat":4.97634,"long":-83.31249,"eventDate":"2016-12-29","parsedDate":"2016-12-29"},{"lat":4.56865,"long":-83.52984,"eventDate":"2016-12-30","parsedDate":"2016-12-30"},{"lat":4.57145,"long":-83.54071,"eventDate":"2016-12-30","parsedDate":"2016-12-30"},{"lat":4.62192,"long":-83.57649,"eventDate":"2016-12-30","parsedDate":"2016-12-30"},{"lat":4.65159,"long":-83.41615,"eventDate":"2016-12-30","parsedDate":"2016-12-30"},{"lat":4.60229,"long":-82.98601,"eventDate":"2016-12-31","parsedDate":"2016-12-31"},{"lat":4.618,"long":-83.0121,"eventDate":"2016-12-31","parsedDate":"2016-12-31"},{"lat":4.62869,"long":-83.08122,"eventDate":"2016-12-31","parsedDate":"2016-12-31"},{"lat":4.63303,"long":-82.94741,"eventDate":"2016-12-31","parsedDate":"2016-12-31"},{"lat":4.64173,"long":-83.06674,"eventDate":"2016-12-31","parsedDate":"2016-12-31"},{"lat":4.65125,"long":-82.89018,"eventDate":"2016-12-31","parsedDate":"2016-12-31"},{"lat":4.56072,"long":-82.73392,"eventDate":"2017-01-01","parsedDate":"2017-01-01"},{"lat":4.60001,"long":-82.74993,"eventDate":"2017-01-01","parsedDate":"2017-01-01"},{"lat":4.64114,"long":-82.64534,"eventDate":"2017-01-01","parsedDate":"2017-01-01"},{"lat":4.69309,"long":-82.62783,"eventDate":"2017-01-01","parsedDate":"2017-01-01"},{"lat":4.7134,"long":-82.02559,"eventDate":"2017-01-03","parsedDate":"2017-01-03"},{"lat":4.71546,"long":-82.03184,"eventDate":"2017-01-03","parsedDate":"2017-01-03"},{"lat":4.56498,"long":-81.79911,"eventDate":"2017-01-04","parsedDate":"2017-01-04"},{"lat":4.57705,"long":-81.79192,"eventDate":"2017-01-04","parsedDate":"2017-01-04"},{"lat":4.58892,"long":-81.67853,"eventDate":"2017-01-04","parsedDate":"2017-01-04"},{"lat":4.71027,"long":-81.23634,"eventDate":"2017-01-05","parsedDate":"2017-01-05"},{"lat":4.92471,"long":-80.37219,"eventDate":"2017-01-06","parsedDate":"2017-01-06"},{"lat":4.49252,"long":-80.84823,"eventDate":"2017-01-07","parsedDate":"2017-01-07"},{"lat":4.58364,"long":-80.74961,"eventDate":"2017-01-07","parsedDate":"2017-01-07"},{"lat":4.58918,"long":-80.75565,"eventDate":"2017-01-07","parsedDate":"2017-01-07"},{"lat":4.26852,"long":-80.82789,"eventDate":"2017-01-08","parsedDate":"2017-01-08"},{"lat":4.30307,"long":-80.94548,"eventDate":"2017-01-08","parsedDate":"2017-01-08"},{"lat":4.36006,"long":-80.87624,"eventDate":"2017-01-08","parsedDate":"2017-01-08"},{"lat":4.3121,"long":-80.42531,"eventDate":"2017-01-09","parsedDate":"2017-01-09"},{"lat":4.60298,"long":-81.27704,"eventDate":"2017-01-10","parsedDate":"2017-01-10"},{"lat":4.60513,"long":-81.27773,"eventDate":"2017-01-10","parsedDate":"2017-01-10"},{"lat":4.78912,"long":-81.10648,"eventDate":"2017-01-11","parsedDate":"2017-01-11"},{"lat":5.02431,"long":-80.43965,"eventDate":"2017-01-12","parsedDate":"2017-01-12"},{"lat":4.7841,"long":-80.67383,"eventDate":"2017-01-13","parsedDate":"2017-01-13"},{"lat":4.78708,"long":-80.675,"eventDate":"2017-01-13","parsedDate":"2017-01-13"},{"lat":4.80282,"long":-80.67246,"eventDate":"2017-01-13","parsedDate":"2017-01-13"},{"lat":4.07976,"long":-80.9754,"eventDate":"2017-01-16","parsedDate":"2017-01-16"},{"lat":4.17348,"long":-81.09958,"eventDate":"2017-01-16","parsedDate":"2017-01-16"},{"lat":4.28195,"long":-81.28372,"eventDate":"2017-01-17","parsedDate":"2017-01-17"},{"lat":4.28743,"long":-81.27984,"eventDate":"2017-01-17","parsedDate":"2017-01-17"},{"lat":4.2895,"long":-81.28861,"eventDate":"2017-01-17","parsedDate":"2017-01-17"},{"lat":4.3048,"long":-81.30083,"eventDate":"2017-01-17","parsedDate":"2017-01-17"},{"lat":4.23971,"long":-81.29,"eventDate":"2017-01-18","parsedDate":"2017-01-18"},{"lat":4.36555,"long":-81.53894,"eventDate":"2017-01-18","parsedDate":"2017-01-18"},{"lat":4.05426,"long":-81.18831,"eventDate":"2017-01-19","parsedDate":"2017-01-19"},{"lat":4.07685,"long":-81.20301,"eventDate":"2017-01-19","parsedDate":"2017-01-19"},{"lat":4.07942,"long":-81.16698,"eventDate":"2017-01-19","parsedDate":"2017-01-19"}]},{"whaleSharkID":"Nati","coordinates":[{"lat":-12.60716,"long":-82.32818,"eventDate":"2013-01-24","parsedDate":"2013-01-24"},{"lat":-12.60827,"long":-82.36528,"eventDate":"2013-01-24","parsedDate":"2013-01-24"},{"lat":1.6737,"long":-91.98911,"eventDate":"2016-09-07","parsedDate":"2016-09-07"},{"lat":1.17781,"long":-87.56649,"eventDate":"2016-09-25","parsedDate":"2016-09-25"},{"lat":1.18207,"long":-87.57076,"eventDate":"2016-09-25","parsedDate":"2016-09-25"},{"lat":1.20179,"long":-87.55248,"eventDate":"2016-09-25","parsedDate":"2016-09-25"},{"lat":-12.61236,"long":-81.31474,"eventDate":"2017-01-13","parsedDate":"2017-01-13"},{"lat":-12.61747,"long":-81.31315,"eventDate":"2017-01-13","parsedDate":"2017-01-13"},{"lat":-12.61802,"long":-81.33607,"eventDate":"2017-01-13","parsedDate":"2017-01-13"},{"lat":-12.61978,"long":-81.31194,"eventDate":"2017-01-13","parsedDate":"2017-01-13"},{"lat":-12.6228,"long":-81.3312,"eventDate":"2017-01-13","parsedDate":"2017-01-13"},{"lat":-12.62501,"long":-81.3534,"eventDate":"2017-01-13","parsedDate":"2017-01-13"},{"lat":-12.62959,"long":-81.36088,"eventDate":"2017-01-13","parsedDate":"2017-01-13"},{"lat":-12.63375,"long":-81.35542,"eventDate":"2017-01-13","parsedDate":"2017-01-13"},{"lat":-12.63521,"long":-81.36213,"eventDate":"2017-01-13","parsedDate":"2017-01-13"},{"lat":-12.64428,"long":-81.36692,"eventDate":"2017-01-14","parsedDate":"2017-01-14"},{"lat":-12.6465,"long":-81.36596,"eventDate":"2017-01-14","parsedDate":"2017-01-14"},{"lat":-12.64734,"long":-81.3717,"eventDate":"2017-01-14","parsedDate":"2017-01-14"},{"lat":-12.64763,"long":-81.37417,"eventDate":"2017-01-14","parsedDate":"2017-01-14"},{"lat":-12.64955,"long":-81.36655,"eventDate":"2017-01-14","parsedDate":"2017-01-14"},{"lat":-12.67805,"long":-81.45703,"eventDate":"2017-01-15","parsedDate":"2017-01-15"},{"lat":-12.68594,"long":-81.46939,"eventDate":"2017-01-15","parsedDate":"2017-01-15"},{"lat":-12.6889,"long":-81.47101,"eventDate":"2017-01-15","parsedDate":"2017-01-15"},{"lat":-12.75398,"long":-81.60374,"eventDate":"2017-01-16","parsedDate":"2017-01-16"},{"lat":-12.75898,"long":-81.61057,"eventDate":"2017-01-16","parsedDate":"2017-01-16"},{"lat":-12.76084,"long":-81.61265,"eventDate":"2017-01-16","parsedDate":"2017-01-16"},{"lat":-12.7931,"long":-81.5983,"eventDate":"2017-01-16","parsedDate":"2017-01-16"},{"lat":-12.779,"long":-81.7106,"eventDate":"2017-01-17","parsedDate":"2017-01-17"},{"lat":-12.77979,"long":-81.71668,"eventDate":"2017-01-17","parsedDate":"2017-01-17"},{"lat":-12.78008,"long":-81.72391,"eventDate":"2017-01-17","parsedDate":"2017-01-17"},{"lat":-12.78096,"long":-81.72869,"eventDate":"2017-01-17","parsedDate":"2017-01-17"},{"lat":-12.80422,"long":-81.77379,"eventDate":"2017-01-18","parsedDate":"2017-01-18"},{"lat":-12.80474,"long":-81.77223,"eventDate":"2017-01-18","parsedDate":"2017-01-18"},{"lat":-12.80481,"long":-81.77223,"eventDate":"2017-01-18","parsedDate":"2017-01-18"},{"lat":-12.80906,"long":-81.77396,"eventDate":"2017-01-18","parsedDate":"2017-01-18"},{"lat":-12.81139,"long":-81.77594,"eventDate":"2017-01-18","parsedDate":"2017-01-18"},{"lat":-12.81554,"long":-81.77345,"eventDate":"2017-01-18","parsedDate":"2017-01-18"},{"lat":-12.83875,"long":-81.82944,"eventDate":"2017-01-19","parsedDate":"2017-01-19"},{"lat":-12.84418,"long":-81.84712,"eventDate":"2017-01-19","parsedDate":"2017-01-19"},{"lat":-12.84497,"long":-81.82721,"eventDate":"2017-01-19","parsedDate":"2017-01-19"},{"lat":-12.84536,"long":-81.83222,"eventDate":"2017-01-19","parsedDate":"2017-01-19"},{"lat":-12.84879,"long":-81.84232,"eventDate":"2017-01-19","parsedDate":"2017-01-19"},{"lat":-12.86849,"long":-81.93785,"eventDate":"2017-01-20","parsedDate":"2017-01-20"},{"lat":-12.86888,"long":-81.92795,"eventDate":"2017-01-20","parsedDate":"2017-01-20"},{"lat":-12.87056,"long":-81.93538,"eventDate":"2017-01-20","parsedDate":"2017-01-20"},{"lat":-12.87136,"long":-81.93336,"eventDate":"2017-01-20","parsedDate":"2017-01-20"},{"lat":-12.87391,"long":-81.93331,"eventDate":"2017-01-20","parsedDate":"2017-01-20"},{"lat":-12.84742,"long":-82.00815,"eventDate":"2017-01-21","parsedDate":"2017-01-21"},{"lat":-12.88009,"long":-82.01167,"eventDate":"2017-01-21","parsedDate":"2017-01-21"},{"lat":-12.88131,"long":-82.00122,"eventDate":"2017-01-21","parsedDate":"2017-01-21"},{"lat":-12.8824,"long":-82.01173,"eventDate":"2017-01-21","parsedDate":"2017-01-21"},{"lat":-12.88643,"long":-82.00437,"eventDate":"2017-01-21","parsedDate":"2017-01-21"},{"lat":-12.88663,"long":-82.01199,"eventDate":"2017-01-21","parsedDate":"2017-01-21"},{"lat":-12.89306,"long":-82.00344,"eventDate":"2017-01-21","parsedDate":"2017-01-21"},{"lat":-12.89745,"long":-82.00561,"eventDate":"2017-01-21","parsedDate":"2017-01-21"},{"lat":-12.90945,"long":-82.00299,"eventDate":"2017-01-21","parsedDate":"2017-01-21"},{"lat":-12.9185,"long":-82.0173,"eventDate":"2017-01-21","parsedDate":"2017-01-21"},{"lat":-12.79138,"long":-82.07422,"eventDate":"2017-01-22","parsedDate":"2017-01-22"},{"lat":-12.80322,"long":-82.03481,"eventDate":"2017-01-22","parsedDate":"2017-01-22"},{"lat":-12.80528,"long":-82.0591,"eventDate":"2017-01-22","parsedDate":"2017-01-22"},{"lat":-12.81185,"long":-82.01716,"eventDate":"2017-01-22","parsedDate":"2017-01-22"},{"lat":-12.82357,"long":-82.01158,"eventDate":"2017-01-22","parsedDate":"2017-01-22"},{"lat":-12.83245,"long":-82.01249,"eventDate":"2017-01-22","parsedDate":"2017-01-22"},{"lat":-12.76615,"long":-82.08418,"eventDate":"2017-01-23","parsedDate":"2017-01-23"},{"lat":-12.76805,"long":-82.09111,"eventDate":"2017-01-23","parsedDate":"2017-01-23"},{"lat":-12.77578,"long":-82.08842,"eventDate":"2017-01-23","parsedDate":"2017-01-23"},{"lat":-12.6275,"long":-82.20946,"eventDate":"2017-01-24","parsedDate":"2017-01-24"},{"lat":-12.63864,"long":-82.21058,"eventDate":"2017-01-24","parsedDate":"2017-01-24"},{"lat":-12.64148,"long":-82.20218,"eventDate":"2017-01-24","parsedDate":"2017-01-24"},{"lat":-12.65042,"long":-82.19568,"eventDate":"2017-01-24","parsedDate":"2017-01-24"},{"lat":-12.65151,"long":-82.19101,"eventDate":"2017-01-24","parsedDate":"2017-01-24"},{"lat":-12.65763,"long":-82.18722,"eventDate":"2017-01-24","parsedDate":"2017-01-24"},{"lat":-12.66071,"long":-82.17404,"eventDate":"2017-01-24","parsedDate":"2017-01-24"},{"lat":-12.67077,"long":-82.18238,"eventDate":"2017-01-24","parsedDate":"2017-01-24"},{"lat":-12.68629,"long":-82.14072,"eventDate":"2017-01-24","parsedDate":"2017-01-24"},{"lat":-12.59066,"long":-82.31901,"eventDate":"2017-01-25","parsedDate":"2017-01-25"},{"lat":-12.59179,"long":-82.2793,"eventDate":"2017-01-25","parsedDate":"2017-01-25"},{"lat":-12.59799,"long":-82.32773,"eventDate":"2017-01-25","parsedDate":"2017-01-25"},{"lat":-12.59934,"long":-82.27637,"eventDate":"2017-01-25","parsedDate":"2017-01-25"},{"lat":-12.60074,"long":-82.39113,"eventDate":"2017-01-25","parsedDate":"2017-01-25"},{"lat":-12.60415,"long":-82.36516,"eventDate":"2017-01-25","parsedDate":"2017-01-25"},{"lat":-12.60466,"long":-82.39681,"eventDate":"2017-01-25","parsedDate":"2017-01-25"},{"lat":-12.605,"long":-82.37959,"eventDate":"2017-01-25","parsedDate":"2017-01-25"},{"lat":-12.60654,"long":-82.39741,"eventDate":"2017-01-25","parsedDate":"2017-01-25"},{"lat":-12.60695,"long":-82.38878,"eventDate":"2017-01-25","parsedDate":"2017-01-25"},{"lat":-12.60848,"long":-82.38239,"eventDate":"2017-01-25","parsedDate":"2017-01-25"},{"lat":-12.54157,"long":-82.51987,"eventDate":"2017-01-26","parsedDate":"2017-01-26"},{"lat":-12.54955,"long":-82.5026,"eventDate":"2017-01-26","parsedDate":"2017-01-26"},{"lat":-12.55234,"long":-82.4959,"eventDate":"2017-01-26","parsedDate":"2017-01-26"},{"lat":-12.58048,"long":-82.44955,"eventDate":"2017-01-26","parsedDate":"2017-01-26"},{"lat":-12.58454,"long":-82.44122,"eventDate":"2017-01-26","parsedDate":"2017-01-26"},{"lat":-12.58625,"long":-82.45646,"eventDate":"2017-01-26","parsedDate":"2017-01-26"}]},{"whaleSharkID":"9832154","coordinates":[{"lat":24.179517,"long":-110.374153,"eventDate":"2017-01-05","parsedDate":"2017-01-05"}]},{"whaleSharkID":"9859765","coordinates":[{"lat":24.17948,"long":-110.374122,"eventDate":"2017-01-05","parsedDate":"2017-01-05"}]},{"whaleSharkID":"112763571","coordinates":[{"lat":9.431919,"long":123.340774,"eventDate":"2017-01-28","parsedDate":"2017-01-28"}]},{"whaleSharkID":"162236614","coordinates":[{"lat":-2.295167,"long":130.743764,"eventDate":"2017-01-01","parsedDate":"2017-01-01"}]},{"whaleSharkID":"507918999","coordinates":[{"lat":9.5701,"long":123.415208,"eventDate":"2017-02-20","parsedDate":"2017-02-20"}]},{"whaleSharkID":"587334479","coordinates":[{"lat":5.955077,"long":80.519325,"eventDate":"2017-02-13","parsedDate":"2017-02-13"}]},{"whaleSharkID":"86910830","coordinates":[{"lat":21.532789,"long":-86.49684,"eventDate":"2017-02-13","parsedDate":"2017-02-13"}]},{"whaleSharkID":"142817202","coordinates":[{"lat":9.615194,"long":123.373015,"eventDate":"2017-02-10","parsedDate":"2017-02-10"}]},{"whaleSharkID":"18430151","coordinates":[{"lat":26.011985,"long":-111.317253,"eventDate":"2017-02-05","parsedDate":"2017-02-05"}]},{"whaleSharkID":"A69-9001-19497","coordinates":[{"lat":-21.95,"long":113.89,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.89,"long":113.92,"eventDate":"2016-06-05","parsedDate":"2016-06-05"},{"lat":-21.9,"long":113.93,"eventDate":"2016-11-22","parsedDate":"2016-11-22"},{"lat":-21.9,"long":113.93,"eventDate":"2016-11-23","parsedDate":"2016-11-23"},{"lat":-22.6,"long":113.63,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":-23.12,"long":113.69,"eventDate":"2016-11-26","parsedDate":"2016-11-26"},{"lat":-23.12,"long":113.7,"eventDate":"2016-11-26","parsedDate":"2016-11-26"},{"lat":-22.59,"long":113.61,"eventDate":"2017-03-23","parsedDate":"2017-03-23"},{"lat":-22.6,"long":113.61,"eventDate":"2017-03-23","parsedDate":"2017-03-23"},{"lat":-22.6,"long":113.61,"eventDate":"2017-04-01","parsedDate":"2017-04-01"},{"lat":-22.6,"long":113.62,"eventDate":"2017-04-05","parsedDate":"2017-04-05"},{"lat":-21.88,"long":113.91,"eventDate":"2017-05-02","parsedDate":"2017-05-02"},{"lat":-21.89,"long":113.92,"eventDate":"2017-05-02","parsedDate":"2017-05-02"},{"lat":-22.6,"long":113.61,"eventDate":"2017-05-06","parsedDate":"2017-05-06"},{"lat":-21.9,"long":113.93,"eventDate":"2017-05-13","parsedDate":"2017-05-13"},{"lat":-21.89,"long":113.92,"eventDate":"2017-05-26","parsedDate":"2017-05-26"},{"lat":-21.9,"long":113.93,"eventDate":"2017-06-01","parsedDate":"2017-06-01"}]},{"whaleSharkID":"30700365","coordinates":[{"lat":16.052432,"long":-86.947953,"eventDate":"2017-03-26","parsedDate":"2017-03-26"}]},{"whaleSharkID":"516243762","coordinates":[{"lat":23.000391,"long":-110.015175,"eventDate":"2017-03-15","parsedDate":"2017-03-15"}]},{"whaleSharkID":"89191282","coordinates":[{"lat":-30.202139,"long":153.266957,"eventDate":"2017-03-01","parsedDate":"2017-03-01"}]},{"whaleSharkID":"641219a7-ad81-47a4-abf1-a7cb79df396a","coordinates":[{"lat":-34.0375,"long":23.030278,"eventDate":"2017-03-11","parsedDate":"2017-03-11"}]},{"whaleSharkID":"206406111","coordinates":[{"lat":9.55905,"long":123.506026,"eventDate":"2017-03-10","parsedDate":"2017-03-10"}]},{"whaleSharkID":"77042231","coordinates":[{"lat":16.042487,"long":-86.810463,"eventDate":"2017-04-24","parsedDate":"2017-04-24"}]},{"whaleSharkID":"112763599","coordinates":[{"lat":12.968749,"long":123.52603,"eventDate":"2017-04-10","parsedDate":"2017-04-10"}]},{"whaleSharkID":"173834119","coordinates":[{"lat":-22.927687,"long":113.73895,"eventDate":"2017-04-07","parsedDate":"2017-04-07"}]},{"whaleSharkID":"215037324","coordinates":[{"lat":-21.864734,"long":113.911871,"eventDate":"2017-04-22","parsedDate":"2017-04-22"}]},{"whaleSharkID":"232161568","coordinates":[{"lat":-21.894096,"long":113.844159,"eventDate":"2017-05-03","parsedDate":"2017-05-03"}]},{"whaleSharkID":"349288635","coordinates":[{"lat":9.529618,"long":123.549842,"eventDate":"2017-05-17","parsedDate":"2017-05-17"}]},{"whaleSharkID":"12546737","coordinates":[{"lat":24.179313,"long":-110.428042,"eventDate":"2017-05-01","parsedDate":"2017-05-01"}]},{"whaleSharkID":"13142682","coordinates":[{"lat":-21.879068,"long":113.967562,"eventDate":"2017-05-04","parsedDate":"2017-05-04"}]},{"whaleSharkID":"216566326","coordinates":[{"lat":9.074406,"long":120.557006,"eventDate":"2017-05-28","parsedDate":"2017-05-28"}]},{"whaleSharkID":"216636009","coordinates":[{"lat":8.94672,"long":120.689151,"eventDate":"2017-05-30","parsedDate":"2017-05-30"}]},{"whaleSharkID":"33006567","coordinates":[{"lat":-22.112832,"long":113.66774,"eventDate":"2017-06-24","parsedDate":"2017-06-24"}]},{"whaleSharkID":"33006568","coordinates":[{"lat":-22.061191,"long":113.693478,"eventDate":"2017-06-24","parsedDate":"2017-06-24"}]},{"whaleSharkID":"33006569","coordinates":[{"lat":-22.123429,"long":113.641961,"eventDate":"2017-06-24","parsedDate":"2017-06-24"}]},{"whaleSharkID":"435194394","coordinates":[{"lat":10.314548,"long":123.88734,"eventDate":"2017-06-19","parsedDate":"2017-06-19"}]},{"whaleSharkID":"151578699","coordinates":[{"lat":21.528025,"long":-86.400577,"eventDate":"2017-06-13","parsedDate":"2017-06-13"}]},{"whaleSharkID":"198553515","coordinates":[{"lat":-8.332756,"long":117.569014,"eventDate":"2017-06-30","parsedDate":"2017-06-30"}]},{"whaleSharkID":"A69-1602-1569","coordinates":[{"lat":-21.94,"long":114.13,"eventDate":"2017-07-18","parsedDate":"2017-07-18"},{"lat":-21.9,"long":113.93,"eventDate":"2017-07-20","parsedDate":"2017-07-20"},{"lat":-21.89,"long":113.92,"eventDate":"2017-07-21","parsedDate":"2017-07-21"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-23","parsedDate":"2017-07-23"},{"lat":-21.9,"long":113.93,"eventDate":"2017-09-24","parsedDate":"2017-09-24"},{"lat":-21.9,"long":113.93,"eventDate":"2017-09-27","parsedDate":"2017-09-27"}]},{"whaleSharkID":"A69-1602-1570","coordinates":[{"lat":-21.88,"long":113.91,"eventDate":"2017-07-19","parsedDate":"2017-07-19"},{"lat":-24.94,"long":114.13,"eventDate":"2017-07-19","parsedDate":"2017-07-19"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-20","parsedDate":"2017-07-20"},{"lat":-21.9,"long":113.93,"eventDate":"2017-07-20","parsedDate":"2017-07-20"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-21","parsedDate":"2017-07-21"},{"lat":-21.89,"long":113.92,"eventDate":"2017-07-21","parsedDate":"2017-07-21"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-27","parsedDate":"2017-07-27"},{"lat":-21.89,"long":113.92,"eventDate":"2017-07-27","parsedDate":"2017-07-27"},{"lat":-21.9,"long":113.93,"eventDate":"2017-07-29","parsedDate":"2017-07-29"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-31","parsedDate":"2017-07-31"},{"lat":-21.89,"long":113.92,"eventDate":"2017-07-31","parsedDate":"2017-07-31"},{"lat":-21.88,"long":113.91,"eventDate":"2017-08-01","parsedDate":"2017-08-01"},{"lat":-21.89,"long":113.92,"eventDate":"2017-08-01","parsedDate":"2017-08-01"},{"lat":-21.89,"long":113.92,"eventDate":"2017-08-02","parsedDate":"2017-08-02"},{"lat":-21.9,"long":113.93,"eventDate":"2017-08-02","parsedDate":"2017-08-02"},{"lat":-21.89,"long":113.92,"eventDate":"2017-08-31","parsedDate":"2017-08-31"},{"lat":-21.9,"long":113.93,"eventDate":"2017-09-07","parsedDate":"2017-09-07"},{"lat":-21.89,"long":113.92,"eventDate":"2017-09-09","parsedDate":"2017-09-09"},{"lat":-21.9,"long":113.93,"eventDate":"2017-09-09","parsedDate":"2017-09-09"},{"lat":-21.89,"long":113.92,"eventDate":"2017-09-10","parsedDate":"2017-09-10"},{"lat":-21.9,"long":113.93,"eventDate":"2017-09-10","parsedDate":"2017-09-10"},{"lat":-21.89,"long":113.92,"eventDate":"2017-09-23","parsedDate":"2017-09-23"},{"lat":-21.89,"long":113.92,"eventDate":"2017-09-24","parsedDate":"2017-09-24"},{"lat":-21.9,"long":113.93,"eventDate":"2017-09-27","parsedDate":"2017-09-27"},{"lat":-21.9,"long":113.93,"eventDate":"2017-09-28","parsedDate":"2017-09-28"},{"lat":-21.89,"long":113.92,"eventDate":"2017-09-30","parsedDate":"2017-09-30"}]},{"whaleSharkID":"A69-1602-1572","coordinates":[{"lat":-21.94,"long":114.13,"eventDate":"2017-07-09","parsedDate":"2017-07-09"}]},{"whaleSharkID":"A69-1602-1573","coordinates":[{"lat":-21.94,"long":114.13,"eventDate":"2017-07-19","parsedDate":"2017-07-19"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-20","parsedDate":"2017-07-20"},{"lat":-21.89,"long":113.92,"eventDate":"2017-07-20","parsedDate":"2017-07-20"},{"lat":-21.9,"long":113.93,"eventDate":"2017-07-20","parsedDate":"2017-07-20"},{"lat":-21.89,"long":113.92,"eventDate":"2017-07-28","parsedDate":"2017-07-28"},{"lat":-21.88,"long":113.91,"eventDate":"2017-09-27","parsedDate":"2017-09-27"},{"lat":-21.89,"long":113.92,"eventDate":"2017-09-27","parsedDate":"2017-09-27"},{"lat":-21.88,"long":113.91,"eventDate":"2017-09-28","parsedDate":"2017-09-28"},{"lat":-22.6,"long":113.61,"eventDate":"2017-09-30","parsedDate":"2017-09-30"}]},{"whaleSharkID":"A69-1602-1574","coordinates":[{"lat":-21.94,"long":114.13,"eventDate":"2017-07-21","parsedDate":"2017-07-21"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-23","parsedDate":"2017-07-23"},{"lat":-21.89,"long":113.92,"eventDate":"2017-07-23","parsedDate":"2017-07-23"},{"lat":-21.9,"long":113.93,"eventDate":"2017-07-23","parsedDate":"2017-07-23"},{"lat":-21.88,"long":113.91,"eventDate":"2017-09-02","parsedDate":"2017-09-02"},{"lat":-21.89,"long":113.92,"eventDate":"2017-09-02","parsedDate":"2017-09-02"},{"lat":-21.9,"long":113.93,"eventDate":"2017-09-02","parsedDate":"2017-09-02"},{"lat":-21.88,"long":113.91,"eventDate":"2017-09-03","parsedDate":"2017-09-03"},{"lat":-21.9,"long":113.93,"eventDate":"2017-09-03","parsedDate":"2017-09-03"},{"lat":-21.89,"long":113.92,"eventDate":"2017-09-04","parsedDate":"2017-09-04"},{"lat":-21.9,"long":113.93,"eventDate":"2017-09-04","parsedDate":"2017-09-04"},{"lat":-21.9,"long":113.93,"eventDate":"2017-12-15","parsedDate":"2017-12-15"}]},{"whaleSharkID":"A69-1602-1575","coordinates":[{"lat":-21.94,"long":114.13,"eventDate":"2017-07-18","parsedDate":"2017-07-18"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-20","parsedDate":"2017-07-20"},{"lat":-21.9,"long":113.93,"eventDate":"2017-07-21","parsedDate":"2017-07-21"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-23","parsedDate":"2017-07-23"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-28","parsedDate":"2017-07-28"},{"lat":-21.89,"long":113.92,"eventDate":"2017-07-28","parsedDate":"2017-07-28"},{"lat":-21.89,"long":113.92,"eventDate":"2017-09-24","parsedDate":"2017-09-24"},{"lat":-21.89,"long":113.92,"eventDate":"2017-09-27","parsedDate":"2017-09-27"},{"lat":-21.9,"long":113.93,"eventDate":"2017-09-27","parsedDate":"2017-09-27"},{"lat":-22.59,"long":113.61,"eventDate":"2017-09-29","parsedDate":"2017-09-29"},{"lat":-23.12,"long":113.7,"eventDate":"2017-10-16","parsedDate":"2017-10-16"},{"lat":-23.13,"long":113.71,"eventDate":"2017-10-16","parsedDate":"2017-10-16"},{"lat":-23.13,"long":113.72,"eventDate":"2017-10-16","parsedDate":"2017-10-16"},{"lat":-23.13,"long":113.71,"eventDate":"2017-10-17","parsedDate":"2017-10-17"},{"lat":-23.13,"long":113.72,"eventDate":"2017-10-17","parsedDate":"2017-10-17"},{"lat":-22.6,"long":113.62,"eventDate":"2017-11-03","parsedDate":"2017-11-03"},{"lat":-21.89,"long":113.92,"eventDate":"2017-11-10","parsedDate":"2017-11-10"},{"lat":-21.9,"long":113.93,"eventDate":"2017-11-10","parsedDate":"2017-11-10"}]},{"whaleSharkID":"A69-1602-1576","coordinates":[{"lat":-21.94,"long":114.13,"eventDate":"2017-07-12","parsedDate":"2017-07-12"},{"lat":-22.6,"long":113.61,"eventDate":"2017-09-24","parsedDate":"2017-09-24"},{"lat":-21.88,"long":113.91,"eventDate":"2017-10-12","parsedDate":"2017-10-12"},{"lat":-22.6,"long":113.62,"eventDate":"2017-10-13","parsedDate":"2017-10-13"}]},{"whaleSharkID":"A69-1602-1577","coordinates":[{"lat":-21.94,"long":114.13,"eventDate":"2017-07-19","parsedDate":"2017-07-19"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-20","parsedDate":"2017-07-20"},{"lat":-21.89,"long":113.92,"eventDate":"2017-07-20","parsedDate":"2017-07-20"},{"lat":-21.9,"long":113.93,"eventDate":"2017-07-20","parsedDate":"2017-07-20"},{"lat":-21.9,"long":113.93,"eventDate":"2017-07-22","parsedDate":"2017-07-22"},{"lat":-21.9,"long":113.93,"eventDate":"2017-07-25","parsedDate":"2017-07-25"}]},{"whaleSharkID":"A69-1602-1578","coordinates":[{"lat":-21.94,"long":114.13,"eventDate":"2017-07-21","parsedDate":"2017-07-21"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-23","parsedDate":"2017-07-23"},{"lat":-21.89,"long":113.92,"eventDate":"2017-07-23","parsedDate":"2017-07-23"},{"lat":-21.9,"long":113.93,"eventDate":"2017-07-23","parsedDate":"2017-07-23"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-27","parsedDate":"2017-07-27"},{"lat":-21.89,"long":113.92,"eventDate":"2017-07-27","parsedDate":"2017-07-27"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-29","parsedDate":"2017-07-29"},{"lat":-21.88,"long":113.91,"eventDate":"2017-07-30","parsedDate":"2017-07-30"},{"lat":-21.9,"long":113.93,"eventDate":"2017-08-02","parsedDate":"2017-08-02"}]},{"whaleSharkID":"351723497","coordinates":[{"lat":21.432583,"long":-86.489238,"eventDate":"2017-07-21","parsedDate":"2017-07-21"}]},{"whaleSharkID":"436769574","coordinates":[{"lat":21.314455,"long":-86.642881,"eventDate":"2017-07-29","parsedDate":"2017-07-29"}]},{"whaleSharkID":"75410707","coordinates":[{"lat":21.584823,"long":-86.719467,"eventDate":"2017-07-31","parsedDate":"2017-07-31"}]},{"whaleSharkID":"75410709","coordinates":[{"lat":21.436045,"long":-86.602338,"eventDate":"2017-07-31","parsedDate":"2017-07-31"}]},{"whaleSharkID":"75410711","coordinates":[{"lat":21.50297,"long":-86.740138,"eventDate":"2017-07-31","parsedDate":"2017-07-31"}]},{"whaleSharkID":"75410718","coordinates":[{"lat":21.455855,"long":-86.781001,"eventDate":"2017-07-31","parsedDate":"2017-07-31"}]},{"whaleSharkID":"75410721","coordinates":[{"lat":21.552638,"long":-86.723534,"eventDate":"2017-07-31","parsedDate":"2017-07-31"}]},{"whaleSharkID":"75410723","coordinates":[{"lat":21.587639,"long":-86.778327,"eventDate":"2017-07-31","parsedDate":"2017-07-31"}]},{"whaleSharkID":"75410729","coordinates":[{"lat":21.570018,"long":-86.604028,"eventDate":"2017-07-31","parsedDate":"2017-07-31"}]},{"whaleSharkID":"75410732","coordinates":[{"lat":21.524941,"long":-86.619307,"eventDate":"2017-07-31","parsedDate":"2017-07-31"}]},{"whaleSharkID":"75410733","coordinates":[{"lat":21.409979,"long":-86.6938,"eventDate":"2017-07-31","parsedDate":"2017-07-31"}]},{"whaleSharkID":"131201184","coordinates":[{"lat":8.078797,"long":113.08512,"eventDate":"2017-07-16","parsedDate":"2017-07-16"}]},{"whaleSharkID":"14811271","coordinates":[{"lat":-21.72011,"long":113.963417,"eventDate":"2017-07-21","parsedDate":"2017-07-21"}]},{"whaleSharkID":"14856016","coordinates":[{"lat":21.443254,"long":-86.911767,"eventDate":"2017-07-17","parsedDate":"2017-07-17"}]},{"whaleSharkID":"16070140","coordinates":[{"lat":2.12218,"long":118.345454,"eventDate":"2017-07-16","parsedDate":"2017-07-16"}]},{"whaleSharkID":"17177494","coordinates":[{"lat":21.199043,"long":-86.730678,"eventDate":"2017-07-26","parsedDate":"2017-07-26"}]},{"whaleSharkID":"17693168","coordinates":[{"lat":21.53454,"long":-86.91234,"eventDate":"2017-07-17","parsedDate":"2017-07-17"}]},{"whaleSharkID":"17693359","coordinates":[{"lat":21.550451,"long":-86.922935,"eventDate":"2017-07-17","parsedDate":"2017-07-17"}]},{"whaleSharkID":"27583185","coordinates":[{"lat":21.061645,"long":-86.188135,"eventDate":"2017-08-05","parsedDate":"2017-08-05"}]},{"whaleSharkID":"28364062","coordinates":[{"lat":15.718755,"long":-96.160385,"eventDate":"2017-08-13","parsedDate":"2017-08-13"}]},{"whaleSharkID":"15617474","coordinates":[{"lat":15.713736,"long":-96.170626,"eventDate":"2017-08-13","parsedDate":"2017-08-13"}]},{"whaleSharkID":"15632750","coordinates":[{"lat":21.440012,"long":-86.853143,"eventDate":"2017-08-01","parsedDate":"2017-08-01"}]},{"whaleSharkID":"15827103","coordinates":[{"lat":21.708964,"long":-86.907536,"eventDate":"2017-08-19","parsedDate":"2017-08-19"}]},{"whaleSharkID":"15827290","coordinates":[{"lat":21.718094,"long":-86.834873,"eventDate":"2017-08-19","parsedDate":"2017-08-19"}]},{"whaleSharkID":"19313787","coordinates":[{"lat":21.596248,"long":-86.059391,"eventDate":"2017-08-16","parsedDate":"2017-08-16"}]},{"whaleSharkID":"19313790","coordinates":[{"lat":21.532211,"long":-86.167573,"eventDate":"2017-08-16","parsedDate":"2017-08-16"}]},{"whaleSharkID":"19313789","coordinates":[{"lat":21.56703,"long":-86.009906,"eventDate":"2017-08-16","parsedDate":"2017-08-16"}]},{"whaleSharkID":"199070561","coordinates":[{"lat":21.303751,"long":-86.650556,"eventDate":"2017-08-18","parsedDate":"2017-08-18"}]},{"whaleSharkID":"36325","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-18.5,"long":114.5,"eventDate":"2016-08-07","parsedDate":"2016-08-07"},{"lat":-16.5,"long":115.5,"eventDate":"2016-08-15","parsedDate":"2016-08-15"},{"lat":-19.5,"long":116.5,"eventDate":"2016-08-31","parsedDate":"2016-08-31"},{"lat":-18.5,"long":116.5,"eventDate":"2016-09-04","parsedDate":"2016-09-04"},{"lat":-18.5,"long":115.5,"eventDate":"2017-07-28","parsedDate":"2017-07-28"},{"lat":-17.5,"long":115.5,"eventDate":"2017-07-29","parsedDate":"2017-07-29"},{"lat":-16.5,"long":116.5,"eventDate":"2017-07-30","parsedDate":"2017-07-30"},{"lat":-17.5,"long":117.5,"eventDate":"2017-08-08","parsedDate":"2017-08-08"},{"lat":-17.5,"long":118.5,"eventDate":"2017-08-08","parsedDate":"2017-08-08"},{"lat":-18.5,"long":118.5,"eventDate":"2017-08-11","parsedDate":"2017-08-11"},{"lat":-18.5,"long":117.5,"eventDate":"2017-08-17","parsedDate":"2017-08-17"},{"lat":-20.5,"long":116.5,"eventDate":"2017-09-10","parsedDate":"2017-09-10"}]},{"whaleSharkID":"161732","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-20.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-19.5,"long":116.5,"eventDate":"2016-08-31","parsedDate":"2016-08-31"},{"lat":-17.5,"long":118.5,"eventDate":"2017-08-08","parsedDate":"2017-08-08"},{"lat":-15.5,"long":123.5,"eventDate":"2017-09-06","parsedDate":"2017-09-06"},{"lat":-11.5,"long":137.5,"eventDate":"2017-09-27","parsedDate":"2017-09-27"},{"lat":-14.5,"long":138.5,"eventDate":"2017-10-11","parsedDate":"2017-10-11"},{"lat":-13.5,"long":138.5,"eventDate":"2017-10-17","parsedDate":"2017-10-17"},{"lat":-15.5,"long":138.5,"eventDate":"2017-10-22","parsedDate":"2017-10-22"}]},{"whaleSharkID":"298005089","coordinates":[{"lat":21.413306,"long":-86.696924,"eventDate":"2017-09-10","parsedDate":"2017-09-10"}]},{"whaleSharkID":"114487972","coordinates":[{"lat":21.953996,"long":-87.069386,"eventDate":"2017-09-01","parsedDate":"2017-09-01"}]},{"whaleSharkID":"239823704","coordinates":[{"lat":28.892382,"long":-113.491828,"eventDate":"2017-10-11","parsedDate":"2017-10-11"}]},{"whaleSharkID":"80537816","coordinates":[{"lat":21.676083,"long":-86.682163,"eventDate":"2017-10-13","parsedDate":"2017-10-13"}]},{"whaleSharkID":"95941755","coordinates":[{"lat":3.511968,"long":72.984073,"eventDate":"2017-10-19","parsedDate":"2017-10-19"}]},{"whaleSharkID":"18450771","coordinates":[{"lat":28.900534,"long":-113.512287,"eventDate":"2017-10-27","parsedDate":"2017-10-27"}]},{"whaleSharkID":"18450772","coordinates":[{"lat":28.895845,"long":-113.493018,"eventDate":"2017-10-27","parsedDate":"2017-10-27"}]},{"whaleSharkID":"18450777","coordinates":[{"lat":28.894267,"long":-113.508639,"eventDate":"2017-10-27","parsedDate":"2017-10-27"}]},{"whaleSharkID":"26318557","coordinates":[{"lat":24.126609,"long":-110.333881,"eventDate":"2017-11-18","parsedDate":"2017-11-18"}]},{"whaleSharkID":"36872170","coordinates":[{"lat":0.813281,"long":73.380612,"eventDate":"2017-11-07","parsedDate":"2017-11-07"}]},{"whaleSharkID":"394946271","coordinates":[{"lat":24.190945,"long":-110.359955,"eventDate":"2017-11-05","parsedDate":"2017-11-05"}]},{"whaleSharkID":"41812683","coordinates":[{"lat":-7.783029,"long":39.656505,"eventDate":"2017-11-12","parsedDate":"2017-11-12"}]},{"whaleSharkID":"125053995","coordinates":[{"lat":-23.99019,"long":35.482123,"eventDate":"2017-11-13","parsedDate":"2017-11-13"}]},{"whaleSharkID":"206020101","coordinates":[{"lat":-13.521786,"long":48.097085,"eventDate":"2017-11-04","parsedDate":"2017-11-04"}]},{"whaleSharkID":"21407237","coordinates":[{"lat":24.268195,"long":-110.503078,"eventDate":"2017-11-20","parsedDate":"2017-11-20"}]},{"whaleSharkID":"21407240","coordinates":[{"lat":24.298084,"long":-110.41731,"eventDate":"2017-11-20","parsedDate":"2017-11-20"}]},{"whaleSharkID":"21407244","coordinates":[{"lat":24.234171,"long":-110.436889,"eventDate":"2017-11-20","parsedDate":"2017-11-20"}]},{"whaleSharkID":"21407254","coordinates":[{"lat":24.207789,"long":-110.452799,"eventDate":"2017-11-20","parsedDate":"2017-11-20"}]},{"whaleSharkID":"21407255","coordinates":[{"lat":24.368401,"long":-110.597472,"eventDate":"2017-11-20","parsedDate":"2017-11-20"}]},{"whaleSharkID":"21407256","coordinates":[{"lat":24.233359,"long":-110.512148,"eventDate":"2017-11-20","parsedDate":"2017-11-20"}]},{"whaleSharkID":"21407257","coordinates":[{"lat":24.38904,"long":-110.447743,"eventDate":"2017-11-20","parsedDate":"2017-11-20"}]},{"whaleSharkID":"21407265","coordinates":[{"lat":24.43048,"long":-110.324707,"eventDate":"2017-11-20","parsedDate":"2017-11-20"}]},{"whaleSharkID":"21407276","coordinates":[{"lat":24.285611,"long":-110.592609,"eventDate":"2017-11-20","parsedDate":"2017-11-20"}]},{"whaleSharkID":"21407281","coordinates":[{"lat":24.358483,"long":-110.585655,"eventDate":"2017-11-20","parsedDate":"2017-11-20"}]},{"whaleSharkID":"459771683","coordinates":[{"lat":24.309656,"long":-110.557963,"eventDate":"2017-12-12","parsedDate":"2017-12-12"}]},{"whaleSharkID":"54013247","coordinates":[{"lat":24.357088,"long":-110.566546,"eventDate":"2017-12-28","parsedDate":"2017-12-28"}]},{"whaleSharkID":"94748906","coordinates":[{"lat":24.17975,"long":-110.391096,"eventDate":"2017-12-04","parsedDate":"2017-12-04"}]},{"whaleSharkID":"20466894","coordinates":[{"lat":24.185312,"long":-110.378212,"eventDate":"2017-12-30","parsedDate":"2017-12-30"}]},{"whaleSharkID":"497063895","coordinates":[{"lat":21.161908,"long":-86.851528,"eventDate":"2016-01-01","parsedDate":"2016-01-01"}]},{"whaleSharkID":"4747535","coordinates":[{"lat":24.189511,"long":-110.359642,"eventDate":"2016-01-04","parsedDate":"2016-01-04"}]},{"whaleSharkID":"Ranger","coordinates":[{"lat":1.95513,"long":-91.91767,"eventDate":"2011-10-30","parsedDate":"2011-10-30"},{"lat":1.6714,"long":-91.98927,"eventDate":"2015-10-28","parsedDate":"2015-10-28"},{"lat":1.9591,"long":-91.91873,"eventDate":"2015-10-31","parsedDate":"2015-10-31"},{"lat":1.99694,"long":-91.8606,"eventDate":"2015-10-31","parsedDate":"2015-10-31"},{"lat":1.92903,"long":-91.67115,"eventDate":"2015-11-01","parsedDate":"2015-11-01"},{"lat":1.85085,"long":-90.67553,"eventDate":"2015-11-04","parsedDate":"2015-11-04"},{"lat":1.79945,"long":-90.65361,"eventDate":"2015-11-05","parsedDate":"2015-11-05"},{"lat":0.75441,"long":-92.13287,"eventDate":"2015-11-08","parsedDate":"2015-11-08"},{"lat":0.78517,"long":-92.13739,"eventDate":"2015-11-08","parsedDate":"2015-11-08"},{"lat":1.26478,"long":-91.54512,"eventDate":"2015-11-30","parsedDate":"2015-11-30"},{"lat":-4.94192,"long":-88.14631,"eventDate":"2015-12-28","parsedDate":"2015-12-28"},{"lat":-4.95365,"long":-88.16408,"eventDate":"2015-12-28","parsedDate":"2015-12-28"},{"lat":-6.31462,"long":-82.95513,"eventDate":"2016-01-07","parsedDate":"2016-01-07"},{"lat":-5.68591,"long":-82.50295,"eventDate":"2016-01-08","parsedDate":"2016-01-08"},{"lat":-5.69497,"long":-82.50674,"eventDate":"2016-01-08","parsedDate":"2016-01-08"},{"lat":-5.70977,"long":-82.50764,"eventDate":"2016-01-08","parsedDate":"2016-01-08"},{"lat":-5.71662,"long":-82.50328,"eventDate":"2016-01-08","parsedDate":"2016-01-08"},{"lat":-5.72502,"long":-82.52911,"eventDate":"2016-01-08","parsedDate":"2016-01-08"},{"lat":-5.61091,"long":-82.16355,"eventDate":"2016-01-09","parsedDate":"2016-01-09"},{"lat":-5.6188,"long":-82.18271,"eventDate":"2016-01-09","parsedDate":"2016-01-09"},{"lat":-5.62304,"long":-82.17987,"eventDate":"2016-01-09","parsedDate":"2016-01-09"},{"lat":-5.66418,"long":-82.48786,"eventDate":"2016-01-09","parsedDate":"2016-01-09"},{"lat":-5.73817,"long":-82.1277,"eventDate":"2016-01-11","parsedDate":"2016-01-11"},{"lat":-6.85713,"long":-81.53253,"eventDate":"2016-01-15","parsedDate":"2016-01-15"},{"lat":-7.95241,"long":-81.71325,"eventDate":"2016-01-16","parsedDate":"2016-01-16"}]},{"whaleSharkID":"Karla","coordinates":[{"lat":1.84972,"long":-87.83907,"eventDate":"2011-09-23","parsedDate":"2011-09-23"},{"lat":-0.29885,"long":-82.00553,"eventDate":"2011-10-25","parsedDate":"2011-10-25"},{"lat":-6.58237,"long":-84.48695,"eventDate":"2011-12-08","parsedDate":"2011-12-08"},{"lat":-6.2986,"long":-82.15474,"eventDate":"2011-12-18","parsedDate":"2011-12-18"},{"lat":-5.4986,"long":-83.12553,"eventDate":"2011-12-25","parsedDate":"2011-12-25"},{"lat":1.6714,"long":-91.98927,"eventDate":"2015-09-11","parsedDate":"2015-09-11"},{"lat":1.90339,"long":-92.04359,"eventDate":"2015-09-12","parsedDate":"2015-09-12"},{"lat":1.91521,"long":-92.04981,"eventDate":"2015-09-12","parsedDate":"2015-09-12"},{"lat":2.05241,"long":-92.1188,"eventDate":"2015-09-12","parsedDate":"2015-09-12"},{"lat":2.12725,"long":-92.12483,"eventDate":"2015-09-12","parsedDate":"2015-09-12"},{"lat":2.26178,"long":-92.06523,"eventDate":"2015-09-13","parsedDate":"2015-09-13"},{"lat":2.27599,"long":-91.92289,"eventDate":"2015-09-13","parsedDate":"2015-09-13"},{"lat":2.2812,"long":-91.96076,"eventDate":"2015-09-13","parsedDate":"2015-09-13"},{"lat":2.28149,"long":-91.94699,"eventDate":"2015-09-13","parsedDate":"2015-09-13"},{"lat":2.31054,"long":-91.96588,"eventDate":"2015-09-13","parsedDate":"2015-09-13"},{"lat":2.16938,"long":-91.77542,"eventDate":"2015-09-14","parsedDate":"2015-09-14"},{"lat":2.18349,"long":-91.75928,"eventDate":"2015-09-14","parsedDate":"2015-09-14"},{"lat":2.18933,"long":-91.75559,"eventDate":"2015-09-14","parsedDate":"2015-09-14"},{"lat":2.19246,"long":-91.74837,"eventDate":"2015-09-14","parsedDate":"2015-09-14"},{"lat":2.21949,"long":-91.93,"eventDate":"2015-09-14","parsedDate":"2015-09-14"},{"lat":2.04096,"long":-91.48225,"eventDate":"2015-09-15","parsedDate":"2015-09-15"},{"lat":2.08283,"long":-91.74568,"eventDate":"2015-09-15","parsedDate":"2015-09-15"},{"lat":2.08305,"long":-91.75443,"eventDate":"2015-09-15","parsedDate":"2015-09-15"},{"lat":2.08859,"long":-91.25278,"eventDate":"2015-09-16","parsedDate":"2015-09-16"},{"lat":2.09218,"long":-91.24786,"eventDate":"2015-09-16","parsedDate":"2015-09-16"},{"lat":2.10983,"long":-91.15227,"eventDate":"2015-09-16","parsedDate":"2015-09-16"},{"lat":2.17881,"long":-90.96875,"eventDate":"2015-09-17","parsedDate":"2015-09-17"},{"lat":2.18104,"long":-90.95817,"eventDate":"2015-09-17","parsedDate":"2015-09-17"},{"lat":2.18263,"long":-90.93432,"eventDate":"2015-09-17","parsedDate":"2015-09-17"},{"lat":2.18514,"long":-90.90924,"eventDate":"2015-09-17","parsedDate":"2015-09-17"},{"lat":2.18568,"long":-90.90323,"eventDate":"2015-09-17","parsedDate":"2015-09-17"},{"lat":2.19083,"long":-90.96241,"eventDate":"2015-09-17","parsedDate":"2015-09-17"},{"lat":2.22207,"long":-90.88453,"eventDate":"2015-09-17","parsedDate":"2015-09-17"},{"lat":2.2535,"long":-90.9006,"eventDate":"2015-09-17","parsedDate":"2015-09-17"},{"lat":2.23817,"long":-90.86917,"eventDate":"2015-09-18","parsedDate":"2015-09-18"},{"lat":2.369,"long":-90.74225,"eventDate":"2015-09-18","parsedDate":"2015-09-18"},{"lat":2.44836,"long":-90.61141,"eventDate":"2015-09-18","parsedDate":"2015-09-18"},{"lat":2.44958,"long":-90.63233,"eventDate":"2015-09-18","parsedDate":"2015-09-18"},{"lat":2.50533,"long":-90.57822,"eventDate":"2015-09-19","parsedDate":"2015-09-19"},{"lat":2.60339,"long":-90.34211,"eventDate":"2015-09-19","parsedDate":"2015-09-19"},{"lat":2.71469,"long":-90.14463,"eventDate":"2015-09-20","parsedDate":"2015-09-20"},{"lat":2.86958,"long":-89.9054,"eventDate":"2015-09-21","parsedDate":"2015-09-21"},{"lat":2.04553,"long":-88.85805,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":2.04622,"long":-88.87543,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":2.4859,"long":-88.7698,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":1.92198,"long":-88.3654,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":1.9342,"long":-88.43966,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":1.946,"long":-88.38554,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":1.87904,"long":-88.02298,"eventDate":"2015-09-24","parsedDate":"2015-09-24"},{"lat":1.88593,"long":-88.02085,"eventDate":"2015-09-24","parsedDate":"2015-09-24"},{"lat":1.8918,"long":-88.05855,"eventDate":"2015-09-24","parsedDate":"2015-09-24"},{"lat":1.7927,"long":-87.55336,"eventDate":"2015-09-25","parsedDate":"2015-09-25"},{"lat":1.8049,"long":-87.60912,"eventDate":"2015-09-25","parsedDate":"2015-09-25"},{"lat":1.84461,"long":-87.81402,"eventDate":"2015-09-25","parsedDate":"2015-09-25"},{"lat":1.84531,"long":-87.81432,"eventDate":"2015-09-25","parsedDate":"2015-09-25"},{"lat":1.72434,"long":-87.2988,"eventDate":"2015-09-26","parsedDate":"2015-09-26"},{"lat":1.78131,"long":-87.43453,"eventDate":"2015-09-26","parsedDate":"2015-09-26"},{"lat":1.78153,"long":-87.43449,"eventDate":"2015-09-26","parsedDate":"2015-09-26"},{"lat":1.7822,"long":-87.43422,"eventDate":"2015-09-26","parsedDate":"2015-09-26"},{"lat":1.79501,"long":-87.34506,"eventDate":"2015-09-26","parsedDate":"2015-09-26"},{"lat":1.79856,"long":-87.35161,"eventDate":"2015-09-26","parsedDate":"2015-09-26"},{"lat":1.87712,"long":-87.12094,"eventDate":"2015-09-27","parsedDate":"2015-09-27"},{"lat":1.88095,"long":-87.10366,"eventDate":"2015-09-27","parsedDate":"2015-09-27"},{"lat":1.89414,"long":-87.13774,"eventDate":"2015-09-27","parsedDate":"2015-09-27"},{"lat":1.94872,"long":-87.0535,"eventDate":"2015-09-27","parsedDate":"2015-09-27"},{"lat":1.96346,"long":-87.02892,"eventDate":"2015-09-27","parsedDate":"2015-09-27"},{"lat":1.93292,"long":-87.02656,"eventDate":"2015-09-28","parsedDate":"2015-09-28"},{"lat":2.02969,"long":-86.8316,"eventDate":"2015-09-28","parsedDate":"2015-09-28"},{"lat":2.04295,"long":-86.80443,"eventDate":"2015-09-28","parsedDate":"2015-09-28"},{"lat":1.74197,"long":-87.36402,"eventDate":"2015-09-30","parsedDate":"2015-09-30"},{"lat":1.97888,"long":-86.41808,"eventDate":"2015-10-01","parsedDate":"2015-10-01"},{"lat":0.63347,"long":-85.39842,"eventDate":"2015-10-02","parsedDate":"2015-10-02"},{"lat":0.645,"long":-85.41497,"eventDate":"2015-10-02","parsedDate":"2015-10-02"},{"lat":0.53755,"long":-85.34044,"eventDate":"2015-10-03","parsedDate":"2015-10-03"},{"lat":0.55457,"long":-85.35208,"eventDate":"2015-10-03","parsedDate":"2015-10-03"},{"lat":0.61377,"long":-85.39161,"eventDate":"2015-10-03","parsedDate":"2015-10-03"},{"lat":0.17679,"long":-85.25416,"eventDate":"2015-10-04","parsedDate":"2015-10-04"},{"lat":-0.22821,"long":-85.07055,"eventDate":"2015-10-05","parsedDate":"2015-10-05"},{"lat":-0.5002,"long":-84.89474,"eventDate":"2015-10-06","parsedDate":"2015-10-06"},{"lat":-0.82066,"long":-84.62119,"eventDate":"2015-10-07","parsedDate":"2015-10-07"},{"lat":-0.83586,"long":-84.61157,"eventDate":"2015-10-07","parsedDate":"2015-10-07"},{"lat":-0.83911,"long":-84.60701,"eventDate":"2015-10-07","parsedDate":"2015-10-07"},{"lat":-0.84644,"long":-84.60493,"eventDate":"2015-10-07","parsedDate":"2015-10-07"},{"lat":-0.85124,"long":-84.60167,"eventDate":"2015-10-07","parsedDate":"2015-10-07"},{"lat":-1.28584,"long":-84.32004,"eventDate":"2015-10-08","parsedDate":"2015-10-08"},{"lat":-0.85828,"long":-83.57318,"eventDate":"2015-10-09","parsedDate":"2015-10-09"},{"lat":-0.88595,"long":-83.65904,"eventDate":"2015-10-09","parsedDate":"2015-10-09"},{"lat":-0.97216,"long":-83.73039,"eventDate":"2015-10-09","parsedDate":"2015-10-09"},{"lat":-0.98529,"long":-83.73125,"eventDate":"2015-10-09","parsedDate":"2015-10-09"},{"lat":-1.02038,"long":-83.73152,"eventDate":"2015-10-09","parsedDate":"2015-10-09"},{"lat":-0.32876,"long":-83.14462,"eventDate":"2015-10-10","parsedDate":"2015-10-10"},{"lat":-0.35499,"long":-83.16413,"eventDate":"2015-10-10","parsedDate":"2015-10-10"},{"lat":-0.37928,"long":-83.18431,"eventDate":"2015-10-10","parsedDate":"2015-10-10"},{"lat":-0.40604,"long":-83.2021,"eventDate":"2015-10-10","parsedDate":"2015-10-10"},{"lat":-0.42169,"long":-83.21311,"eventDate":"2015-10-10","parsedDate":"2015-10-10"},{"lat":-0.44768,"long":-83.23228,"eventDate":"2015-10-10","parsedDate":"2015-10-10"},{"lat":-0.50562,"long":-83.2689,"eventDate":"2015-10-10","parsedDate":"2015-10-10"},{"lat":-0.54616,"long":-83.30436,"eventDate":"2015-10-10","parsedDate":"2015-10-10"},{"lat":-0.55002,"long":-83.30893,"eventDate":"2015-10-10","parsedDate":"2015-10-10"},{"lat":-0.55719,"long":-83.31604,"eventDate":"2015-10-10","parsedDate":"2015-10-10"},{"lat":-0.24158,"long":-83.10208,"eventDate":"2015-10-11","parsedDate":"2015-10-11"},{"lat":0.09426,"long":-82.94387,"eventDate":"2015-10-11","parsedDate":"2015-10-11"},{"lat":0.10353,"long":-82.94414,"eventDate":"2015-10-11","parsedDate":"2015-10-11"},{"lat":0.24528,"long":-82.8084,"eventDate":"2015-10-11","parsedDate":"2015-10-11"},{"lat":0.45496,"long":-82.65102,"eventDate":"2015-10-12","parsedDate":"2015-10-12"},{"lat":0.74939,"long":-82.53719,"eventDate":"2015-10-13","parsedDate":"2015-10-13"},{"lat":0.75019,"long":-82.5301,"eventDate":"2015-10-13","parsedDate":"2015-10-13"},{"lat":0.70829,"long":-82.46965,"eventDate":"2015-10-15","parsedDate":"2015-10-15"},{"lat":-2.60807,"long":-81.22444,"eventDate":"2015-10-17","parsedDate":"2015-10-17"},{"lat":-2.64105,"long":-81.1392,"eventDate":"2015-10-17","parsedDate":"2015-10-17"},{"lat":-2.65046,"long":-81.13191,"eventDate":"2015-10-17","parsedDate":"2015-10-17"},{"lat":-2.848,"long":-81.17567,"eventDate":"2015-10-17","parsedDate":"2015-10-17"},{"lat":-3.00616,"long":-81.38925,"eventDate":"2015-10-18","parsedDate":"2015-10-18"},{"lat":-0.28642,"long":-82.00221,"eventDate":"2015-10-27","parsedDate":"2015-10-27"},{"lat":-0.29798,"long":-82.00467,"eventDate":"2015-10-27","parsedDate":"2015-10-27"},{"lat":0.47735,"long":-82.39777,"eventDate":"2015-10-28","parsedDate":"2015-10-28"},{"lat":0.61652,"long":-82.45598,"eventDate":"2015-10-28","parsedDate":"2015-10-28"},{"lat":0.75969,"long":-82.58518,"eventDate":"2015-10-28","parsedDate":"2015-10-28"},{"lat":0.79629,"long":-82.55847,"eventDate":"2015-10-28","parsedDate":"2015-10-28"},{"lat":1.16877,"long":-82.6968,"eventDate":"2015-10-29","parsedDate":"2015-10-29"},{"lat":1.18655,"long":-82.71537,"eventDate":"2015-10-29","parsedDate":"2015-10-29"},{"lat":1.79708,"long":-82.90826,"eventDate":"2015-10-30","parsedDate":"2015-10-30"},{"lat":1.79791,"long":-83.05323,"eventDate":"2015-10-30","parsedDate":"2015-10-30"},{"lat":1.86715,"long":-82.88227,"eventDate":"2015-10-30","parsedDate":"2015-10-30"},{"lat":1.88137,"long":-82.89848,"eventDate":"2015-10-30","parsedDate":"2015-10-30"},{"lat":1.89953,"long":-82.90793,"eventDate":"2015-10-30","parsedDate":"2015-10-30"},{"lat":1.92063,"long":-82.91757,"eventDate":"2015-10-30","parsedDate":"2015-10-30"},{"lat":1.99331,"long":-82.91492,"eventDate":"2015-10-31","parsedDate":"2015-10-31"},{"lat":2.13734,"long":-82.91189,"eventDate":"2015-10-31","parsedDate":"2015-10-31"},{"lat":2.14779,"long":-82.92671,"eventDate":"2015-10-31","parsedDate":"2015-10-31"},{"lat":2.22694,"long":-82.89564,"eventDate":"2015-11-01","parsedDate":"2015-11-01"},{"lat":2.10497,"long":-82.81461,"eventDate":"2015-11-02","parsedDate":"2015-11-02"},{"lat":2.18305,"long":-82.80919,"eventDate":"2015-11-02","parsedDate":"2015-11-02"},{"lat":2.20577,"long":-82.80735,"eventDate":"2015-11-02","parsedDate":"2015-11-02"},{"lat":2.37022,"long":-82.78818,"eventDate":"2015-11-02","parsedDate":"2015-11-02"},{"lat":2.38566,"long":-82.78543,"eventDate":"2015-11-02","parsedDate":"2015-11-02"},{"lat":1.60491,"long":-82.87105,"eventDate":"2015-11-03","parsedDate":"2015-11-03"},{"lat":1.76649,"long":-82.85737,"eventDate":"2015-11-03","parsedDate":"2015-11-03"},{"lat":1.23635,"long":-83.00011,"eventDate":"2015-11-04","parsedDate":"2015-11-04"},{"lat":0.32687,"long":-84.35682,"eventDate":"2015-11-05","parsedDate":"2015-11-05"},{"lat":-0.19004,"long":-84.6886,"eventDate":"2015-11-06","parsedDate":"2015-11-06"},{"lat":-0.20211,"long":-84.80659,"eventDate":"2015-11-06","parsedDate":"2015-11-06"},{"lat":-0.23421,"long":-84.85157,"eventDate":"2015-11-06","parsedDate":"2015-11-06"},{"lat":-0.84105,"long":-85.60108,"eventDate":"2015-11-07","parsedDate":"2015-11-07"},{"lat":-1.1115,"long":-86.14442,"eventDate":"2015-11-08","parsedDate":"2015-11-08"},{"lat":-1.12766,"long":-86.64142,"eventDate":"2015-11-09","parsedDate":"2015-11-09"},{"lat":-1.23219,"long":-86.82705,"eventDate":"2015-11-09","parsedDate":"2015-11-09"},{"lat":-2.36487,"long":-90.53719,"eventDate":"2015-11-14","parsedDate":"2015-11-14"},{"lat":-4.10239,"long":-93.30889,"eventDate":"2015-11-19","parsedDate":"2015-11-19"},{"lat":-4.15357,"long":-93.39544,"eventDate":"2015-11-19","parsedDate":"2015-11-19"},{"lat":-5.77435,"long":-89.13638,"eventDate":"2015-11-22","parsedDate":"2015-11-22"},{"lat":-5.78205,"long":-89.13838,"eventDate":"2015-11-22","parsedDate":"2015-11-22"},{"lat":-5.82409,"long":-89.19358,"eventDate":"2015-11-22","parsedDate":"2015-11-22"},{"lat":-5.82811,"long":-89.17203,"eventDate":"2015-11-22","parsedDate":"2015-11-22"},{"lat":-5.83553,"long":-89.13419,"eventDate":"2015-11-22","parsedDate":"2015-11-22"},{"lat":-5.74433,"long":-89.12479,"eventDate":"2015-11-23","parsedDate":"2015-11-23"},{"lat":-5.74612,"long":-89.11644,"eventDate":"2015-11-23","parsedDate":"2015-11-23"},{"lat":-5.75075,"long":-89.1221,"eventDate":"2015-11-23","parsedDate":"2015-11-23"},{"lat":-5.7657,"long":-89.1164,"eventDate":"2015-11-23","parsedDate":"2015-11-23"},{"lat":-5.70782,"long":-89.12101,"eventDate":"2015-11-24","parsedDate":"2015-11-24"},{"lat":-5.65324,"long":-89.17136,"eventDate":"2015-11-25","parsedDate":"2015-11-25"},{"lat":-5.6772,"long":-89.15731,"eventDate":"2015-11-25","parsedDate":"2015-11-25"},{"lat":-5.67838,"long":-89.07489,"eventDate":"2015-11-25","parsedDate":"2015-11-25"},{"lat":-5.68212,"long":-89.07365,"eventDate":"2015-11-25","parsedDate":"2015-11-25"},{"lat":-5.6874,"long":-89.09837,"eventDate":"2015-11-25","parsedDate":"2015-11-25"},{"lat":-5.68797,"long":-89.15439,"eventDate":"2015-11-25","parsedDate":"2015-11-25"},{"lat":-5.70302,"long":-89.08583,"eventDate":"2015-11-25","parsedDate":"2015-11-25"},{"lat":-5.65018,"long":-89.13484,"eventDate":"2015-11-26","parsedDate":"2015-11-26"},{"lat":-5.65196,"long":-89.12807,"eventDate":"2015-11-26","parsedDate":"2015-11-26"},{"lat":-5.65262,"long":-89.13279,"eventDate":"2015-11-26","parsedDate":"2015-11-26"},{"lat":-5.65747,"long":-89.12857,"eventDate":"2015-11-26","parsedDate":"2015-11-26"},{"lat":-5.66993,"long":-89.13988,"eventDate":"2015-11-26","parsedDate":"2015-11-26"},{"lat":-5.68467,"long":-89.13546,"eventDate":"2015-11-26","parsedDate":"2015-11-26"},{"lat":-5.68495,"long":-89.13665,"eventDate":"2015-11-26","parsedDate":"2015-11-26"},{"lat":-5.55021,"long":-88.92767,"eventDate":"2015-11-29","parsedDate":"2015-11-29"},{"lat":-6.30514,"long":-86.44301,"eventDate":"2015-12-02","parsedDate":"2015-12-02"},{"lat":-6.32015,"long":-86.4301,"eventDate":"2015-12-02","parsedDate":"2015-12-02"},{"lat":-6.33028,"long":-86.41187,"eventDate":"2015-12-02","parsedDate":"2015-12-02"},{"lat":-6.34952,"long":-86.38361,"eventDate":"2015-12-03","parsedDate":"2015-12-03"},{"lat":-6.35281,"long":-86.37893,"eventDate":"2015-12-03","parsedDate":"2015-12-03"},{"lat":-6.79057,"long":-85.71497,"eventDate":"2015-12-05","parsedDate":"2015-12-05"},{"lat":-6.52418,"long":-86.07874,"eventDate":"2015-12-06","parsedDate":"2015-12-06"},{"lat":-6.76836,"long":-84.97721,"eventDate":"2015-12-06","parsedDate":"2015-12-06"},{"lat":-6.77414,"long":-84.98699,"eventDate":"2015-12-06","parsedDate":"2015-12-06"},{"lat":-6.77742,"long":-84.99123,"eventDate":"2015-12-06","parsedDate":"2015-12-06"},{"lat":-6.77831,"long":-85.00873,"eventDate":"2015-12-06","parsedDate":"2015-12-06"},{"lat":-6.78228,"long":-84.99981,"eventDate":"2015-12-06","parsedDate":"2015-12-06"},{"lat":-6.79012,"long":-85.02134,"eventDate":"2015-12-06","parsedDate":"2015-12-06"},{"lat":-6.79696,"long":-85.03177,"eventDate":"2015-12-06","parsedDate":"2015-12-06"},{"lat":-6.70539,"long":-84.72871,"eventDate":"2015-12-07","parsedDate":"2015-12-07"},{"lat":-6.70572,"long":-84.73732,"eventDate":"2015-12-07","parsedDate":"2015-12-07"},{"lat":-6.70817,"long":-84.73358,"eventDate":"2015-12-07","parsedDate":"2015-12-07"},{"lat":-6.71361,"long":-84.74834,"eventDate":"2015-12-07","parsedDate":"2015-12-07"},{"lat":-6.71407,"long":-84.74304,"eventDate":"2015-12-07","parsedDate":"2015-12-07"},{"lat":-6.71823,"long":-84.7463,"eventDate":"2015-12-07","parsedDate":"2015-12-07"},{"lat":-6.71934,"long":-84.73596,"eventDate":"2015-12-07","parsedDate":"2015-12-07"},{"lat":-6.71944,"long":-84.74373,"eventDate":"2015-12-07","parsedDate":"2015-12-07"},{"lat":-6.60738,"long":-84.55972,"eventDate":"2015-12-08","parsedDate":"2015-12-08"},{"lat":-6.60839,"long":-84.56282,"eventDate":"2015-12-08","parsedDate":"2015-12-08"},{"lat":-6.60959,"long":-84.49428,"eventDate":"2015-12-08","parsedDate":"2015-12-08"},{"lat":-6.61214,"long":-84.5713,"eventDate":"2015-12-08","parsedDate":"2015-12-08"},{"lat":-6.62526,"long":-84.51778,"eventDate":"2015-12-08","parsedDate":"2015-12-08"},{"lat":-6.62696,"long":-84.49732,"eventDate":"2015-12-08","parsedDate":"2015-12-08"},{"lat":-6.62763,"long":-84.49004,"eventDate":"2015-12-08","parsedDate":"2015-12-08"},{"lat":-6.62897,"long":-84.51246,"eventDate":"2015-12-08","parsedDate":"2015-12-08"},{"lat":-6.58574,"long":-84.4796,"eventDate":"2015-12-09","parsedDate":"2015-12-09"},{"lat":-6.48182,"long":-84.07798,"eventDate":"2015-12-10","parsedDate":"2015-12-10"},{"lat":-6.49954,"long":-83.98414,"eventDate":"2015-12-10","parsedDate":"2015-12-10"},{"lat":-6.54285,"long":-84.15583,"eventDate":"2015-12-10","parsedDate":"2015-12-10"},{"lat":-6.39131,"long":-83.97092,"eventDate":"2015-12-11","parsedDate":"2015-12-11"},{"lat":-6.45674,"long":-84.05383,"eventDate":"2015-12-11","parsedDate":"2015-12-11"},{"lat":-6.72777,"long":-82.99752,"eventDate":"2015-12-13","parsedDate":"2015-12-13"},{"lat":-6.72971,"long":-82.99343,"eventDate":"2015-12-13","parsedDate":"2015-12-13"},{"lat":-6.72152,"long":-82.78722,"eventDate":"2015-12-14","parsedDate":"2015-12-14"},{"lat":-6.72474,"long":-82.81865,"eventDate":"2015-12-14","parsedDate":"2015-12-14"},{"lat":-6.7372,"long":-82.83711,"eventDate":"2015-12-14","parsedDate":"2015-12-14"},{"lat":-6.74005,"long":-82.84051,"eventDate":"2015-12-14","parsedDate":"2015-12-14"},{"lat":-6.76496,"long":-82.83747,"eventDate":"2015-12-14","parsedDate":"2015-12-14"},{"lat":-6.77557,"long":-82.84192,"eventDate":"2015-12-14","parsedDate":"2015-12-14"},{"lat":-6.6893,"long":-82.72146,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-6.6938,"long":-82.83346,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-6.69524,"long":-82.82555,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-6.70143,"long":-82.74137,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-6.70678,"long":-82.75689,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-6.71038,"long":-82.74557,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-6.75686,"long":-82.83556,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-6.78099,"long":-82.84447,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-6.78458,"long":-82.84755,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-6.79758,"long":-82.85159,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-6.657,"long":-82.54773,"eventDate":"2015-12-16","parsedDate":"2015-12-16"},{"lat":-6.6573,"long":-82.55724,"eventDate":"2015-12-16","parsedDate":"2015-12-16"},{"lat":-6.66307,"long":-82.55437,"eventDate":"2015-12-17","parsedDate":"2015-12-17"},{"lat":-6.66564,"long":-82.54575,"eventDate":"2015-12-17","parsedDate":"2015-12-17"},{"lat":-6.67555,"long":-82.43686,"eventDate":"2015-12-17","parsedDate":"2015-12-17"},{"lat":-6.68329,"long":-82.44198,"eventDate":"2015-12-17","parsedDate":"2015-12-17"},{"lat":-6.35024,"long":-82.19407,"eventDate":"2015-12-18","parsedDate":"2015-12-18"},{"lat":-6.36143,"long":-82.20697,"eventDate":"2015-12-18","parsedDate":"2015-12-18"},{"lat":-6.40049,"long":-82.18602,"eventDate":"2015-12-18","parsedDate":"2015-12-18"},{"lat":-6.43533,"long":-82.21538,"eventDate":"2015-12-18","parsedDate":"2015-12-18"},{"lat":-6.56933,"long":-82.25161,"eventDate":"2015-12-18","parsedDate":"2015-12-18"},{"lat":-6.25575,"long":-82.16124,"eventDate":"2015-12-19","parsedDate":"2015-12-19"},{"lat":-6.28041,"long":-82.15905,"eventDate":"2015-12-19","parsedDate":"2015-12-19"},{"lat":-6.28298,"long":-82.14675,"eventDate":"2015-12-19","parsedDate":"2015-12-19"},{"lat":-6.2864,"long":-82.14518,"eventDate":"2015-12-19","parsedDate":"2015-12-19"},{"lat":-6.11859,"long":-82.22677,"eventDate":"2015-12-20","parsedDate":"2015-12-20"},{"lat":-6.13491,"long":-82.21103,"eventDate":"2015-12-20","parsedDate":"2015-12-20"},{"lat":-6.13879,"long":-82.19835,"eventDate":"2015-12-20","parsedDate":"2015-12-20"},{"lat":-6.14054,"long":-82.21023,"eventDate":"2015-12-20","parsedDate":"2015-12-20"},{"lat":-6.24405,"long":-82.18305,"eventDate":"2015-12-20","parsedDate":"2015-12-20"},{"lat":-6.0943,"long":-82.37975,"eventDate":"2015-12-21","parsedDate":"2015-12-21"},{"lat":-6.09434,"long":-82.37957,"eventDate":"2015-12-21","parsedDate":"2015-12-21"},{"lat":-6.11561,"long":-82.36658,"eventDate":"2015-12-21","parsedDate":"2015-12-21"},{"lat":-6.11592,"long":-82.36206,"eventDate":"2015-12-21","parsedDate":"2015-12-21"},{"lat":-5.96366,"long":-82.68904,"eventDate":"2015-12-22","parsedDate":"2015-12-22"},{"lat":-5.96575,"long":-82.45771,"eventDate":"2015-12-22","parsedDate":"2015-12-22"},{"lat":-5.97262,"long":-82.67062,"eventDate":"2015-12-22","parsedDate":"2015-12-22"},{"lat":-5.98204,"long":-82.66096,"eventDate":"2015-12-22","parsedDate":"2015-12-22"},{"lat":-5.98588,"long":-82.67567,"eventDate":"2015-12-22","parsedDate":"2015-12-22"},{"lat":-6.00325,"long":-82.60041,"eventDate":"2015-12-22","parsedDate":"2015-12-22"},{"lat":-6.09445,"long":-82.37803,"eventDate":"2015-12-22","parsedDate":"2015-12-22"},{"lat":-5.75809,"long":-82.78468,"eventDate":"2015-12-23","parsedDate":"2015-12-23"},{"lat":-5.78841,"long":-82.79964,"eventDate":"2015-12-23","parsedDate":"2015-12-23"},{"lat":-5.85071,"long":-82.7266,"eventDate":"2015-12-23","parsedDate":"2015-12-23"},{"lat":-5.85309,"long":-82.72358,"eventDate":"2015-12-23","parsedDate":"2015-12-23"},{"lat":-5.8582,"long":-82.71635,"eventDate":"2015-12-23","parsedDate":"2015-12-23"},{"lat":-5.86342,"long":-82.70727,"eventDate":"2015-12-23","parsedDate":"2015-12-23"},{"lat":-5.88238,"long":-82.692,"eventDate":"2015-12-23","parsedDate":"2015-12-23"},{"lat":-5.49674,"long":-82.93487,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-5.52853,"long":-82.92007,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-5.53125,"long":-82.91484,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-5.53879,"long":-82.90433,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-5.57787,"long":-82.90556,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-5.60358,"long":-82.88206,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-5.61829,"long":-82.86605,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-5.64564,"long":-82.86112,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-5.65532,"long":-82.86037,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-5.42609,"long":-83.00849,"eventDate":"2015-12-25","parsedDate":"2015-12-25"},{"lat":-5.43879,"long":-83.01112,"eventDate":"2015-12-25","parsedDate":"2015-12-25"},{"lat":-5.45948,"long":-83.00521,"eventDate":"2015-12-25","parsedDate":"2015-12-25"},{"lat":-5.49176,"long":-82.99125,"eventDate":"2015-12-25","parsedDate":"2015-12-25"},{"lat":-5.52063,"long":-82.96667,"eventDate":"2015-12-25","parsedDate":"2015-12-25"},{"lat":-5.52804,"long":-82.96242,"eventDate":"2015-12-25","parsedDate":"2015-12-25"},{"lat":-5.53407,"long":-82.95896,"eventDate":"2015-12-25","parsedDate":"2015-12-25"},{"lat":-5.42855,"long":-82.96818,"eventDate":"2015-12-26","parsedDate":"2015-12-26"},{"lat":-5.44279,"long":-82.96953,"eventDate":"2015-12-26","parsedDate":"2015-12-26"},{"lat":-5.44999,"long":-82.9697,"eventDate":"2015-12-26","parsedDate":"2015-12-26"},{"lat":-5.45059,"long":-82.96766,"eventDate":"2015-12-26","parsedDate":"2015-12-26"},{"lat":-5.46712,"long":-83.14163,"eventDate":"2015-12-26","parsedDate":"2015-12-26"},{"lat":-5.48673,"long":-83.1327,"eventDate":"2015-12-26","parsedDate":"2015-12-26"},{"lat":-5.38436,"long":-83.19467,"eventDate":"2015-12-27","parsedDate":"2015-12-27"},{"lat":-5.86873,"long":-83.75863,"eventDate":"2015-12-28","parsedDate":"2015-12-28"},{"lat":-6.98546,"long":-84.15095,"eventDate":"2015-12-31","parsedDate":"2015-12-31"},{"lat":-6.98725,"long":-84.14875,"eventDate":"2015-12-31","parsedDate":"2015-12-31"},{"lat":-6.95571,"long":-83.9385,"eventDate":"2016-01-01","parsedDate":"2016-01-01"},{"lat":-6.63228,"long":-83.49443,"eventDate":"2016-01-02","parsedDate":"2016-01-02"},{"lat":-6.63695,"long":-83.51586,"eventDate":"2016-01-02","parsedDate":"2016-01-02"},{"lat":-6.63815,"long":-83.4994,"eventDate":"2016-01-02","parsedDate":"2016-01-02"},{"lat":-6.64285,"long":-83.55428,"eventDate":"2016-01-02","parsedDate":"2016-01-02"},{"lat":-6.64304,"long":-83.55435,"eventDate":"2016-01-02","parsedDate":"2016-01-02"},{"lat":-6.55712,"long":-83.20824,"eventDate":"2016-01-03","parsedDate":"2016-01-03"},{"lat":-6.56353,"long":-83.22609,"eventDate":"2016-01-03","parsedDate":"2016-01-03"},{"lat":-6.56929,"long":-83.24653,"eventDate":"2016-01-03","parsedDate":"2016-01-03"},{"lat":-6.39536,"long":-83.18273,"eventDate":"2016-01-04","parsedDate":"2016-01-04"},{"lat":-6.40111,"long":-83.15858,"eventDate":"2016-01-04","parsedDate":"2016-01-04"},{"lat":-6.40258,"long":-83.14169,"eventDate":"2016-01-04","parsedDate":"2016-01-04"},{"lat":-6.40408,"long":-83.20297,"eventDate":"2016-01-04","parsedDate":"2016-01-04"},{"lat":-6.43108,"long":-83.18779,"eventDate":"2016-01-04","parsedDate":"2016-01-04"},{"lat":-6.45174,"long":-83.21056,"eventDate":"2016-01-04","parsedDate":"2016-01-04"},{"lat":-6.45302,"long":-83.21286,"eventDate":"2016-01-04","parsedDate":"2016-01-04"},{"lat":-6.47784,"long":-83.24291,"eventDate":"2016-01-04","parsedDate":"2016-01-04"},{"lat":-6.16975,"long":-82.87257,"eventDate":"2016-01-05","parsedDate":"2016-01-05"},{"lat":-6.17505,"long":-82.87883,"eventDate":"2016-01-05","parsedDate":"2016-01-05"},{"lat":-6.191,"long":-82.86981,"eventDate":"2016-01-05","parsedDate":"2016-01-05"},{"lat":-6.19823,"long":-82.89955,"eventDate":"2016-01-05","parsedDate":"2016-01-05"},{"lat":-6.21639,"long":-82.92603,"eventDate":"2016-01-05","parsedDate":"2016-01-05"},{"lat":-6.21641,"long":-82.92604,"eventDate":"2016-01-05","parsedDate":"2016-01-05"},{"lat":-6.21647,"long":-82.92607,"eventDate":"2016-01-05","parsedDate":"2016-01-05"},{"lat":-6.01909,"long":-82.65197,"eventDate":"2016-01-06","parsedDate":"2016-01-06"},{"lat":-6.03546,"long":-82.66594,"eventDate":"2016-01-06","parsedDate":"2016-01-06"},{"lat":-6.04394,"long":-82.66671,"eventDate":"2016-01-06","parsedDate":"2016-01-06"},{"lat":-6.04645,"long":-82.6527,"eventDate":"2016-01-06","parsedDate":"2016-01-06"},{"lat":-6.07387,"long":-82.65132,"eventDate":"2016-01-06","parsedDate":"2016-01-06"},{"lat":-6.15371,"long":-82.76218,"eventDate":"2016-01-06","parsedDate":"2016-01-06"},{"lat":-6.16383,"long":-82.82234,"eventDate":"2016-01-06","parsedDate":"2016-01-06"},{"lat":-5.86376,"long":-82.56471,"eventDate":"2016-01-07","parsedDate":"2016-01-07"},{"lat":-5.87055,"long":-82.56835,"eventDate":"2016-01-07","parsedDate":"2016-01-07"},{"lat":-5.87322,"long":-82.53791,"eventDate":"2016-01-07","parsedDate":"2016-01-07"},{"lat":-5.87361,"long":-82.56004,"eventDate":"2016-01-07","parsedDate":"2016-01-07"},{"lat":-5.87387,"long":-82.53202,"eventDate":"2016-01-07","parsedDate":"2016-01-07"},{"lat":-6.00496,"long":-82.64095,"eventDate":"2016-01-07","parsedDate":"2016-01-07"},{"lat":-5.69991,"long":-82.56108,"eventDate":"2016-01-08","parsedDate":"2016-01-08"},{"lat":-5.71356,"long":-82.56988,"eventDate":"2016-01-08","parsedDate":"2016-01-08"},{"lat":-5.83312,"long":-82.48464,"eventDate":"2016-01-08","parsedDate":"2016-01-08"},{"lat":-5.69301,"long":-82.48756,"eventDate":"2016-01-09","parsedDate":"2016-01-09"},{"lat":-5.69318,"long":-82.47907,"eventDate":"2016-01-09","parsedDate":"2016-01-09"},{"lat":-5.7124,"long":-82.36191,"eventDate":"2016-01-09","parsedDate":"2016-01-09"},{"lat":-5.71293,"long":-82.35589,"eventDate":"2016-01-09","parsedDate":"2016-01-09"},{"lat":-5.73863,"long":-82.37128,"eventDate":"2016-01-09","parsedDate":"2016-01-09"},{"lat":-5.73865,"long":-82.37112,"eventDate":"2016-01-09","parsedDate":"2016-01-09"},{"lat":-5.75322,"long":-82.34461,"eventDate":"2016-01-09","parsedDate":"2016-01-09"},{"lat":-5.75559,"long":-82.34162,"eventDate":"2016-01-09","parsedDate":"2016-01-09"},{"lat":-5.75878,"long":-82.36052,"eventDate":"2016-01-09","parsedDate":"2016-01-09"},{"lat":-5.51203,"long":-82.30614,"eventDate":"2016-01-10","parsedDate":"2016-01-10"},{"lat":-5.51291,"long":-82.30639,"eventDate":"2016-01-10","parsedDate":"2016-01-10"},{"lat":-5.54192,"long":-82.30802,"eventDate":"2016-01-10","parsedDate":"2016-01-10"},{"lat":-5.56045,"long":-82.32076,"eventDate":"2016-01-10","parsedDate":"2016-01-10"},{"lat":-5.60066,"long":-82.29806,"eventDate":"2016-01-10","parsedDate":"2016-01-10"},{"lat":-5.61639,"long":-82.30616,"eventDate":"2016-01-10","parsedDate":"2016-01-10"},{"lat":-5.76382,"long":-82.32239,"eventDate":"2016-01-10","parsedDate":"2016-01-10"},{"lat":-5.76472,"long":-82.3221,"eventDate":"2016-01-10","parsedDate":"2016-01-10"},{"lat":-5.36969,"long":-82.37832,"eventDate":"2016-01-11","parsedDate":"2016-01-11"},{"lat":-5.37514,"long":-82.35549,"eventDate":"2016-01-11","parsedDate":"2016-01-11"},{"lat":-5.395,"long":-82.26761,"eventDate":"2016-01-11","parsedDate":"2016-01-11"},{"lat":-5.40183,"long":-82.28739,"eventDate":"2016-01-11","parsedDate":"2016-01-11"},{"lat":-5.43154,"long":-82.22392,"eventDate":"2016-01-11","parsedDate":"2016-01-11"},{"lat":-5.43502,"long":-82.22608,"eventDate":"2016-01-11","parsedDate":"2016-01-11"},{"lat":-5.43515,"long":-82.22389,"eventDate":"2016-01-11","parsedDate":"2016-01-11"},{"lat":-5.49097,"long":-82.30057,"eventDate":"2016-01-11","parsedDate":"2016-01-11"},{"lat":-5.53056,"long":-82.30558,"eventDate":"2016-01-11","parsedDate":"2016-01-11"},{"lat":-4.77487,"long":-82.73186,"eventDate":"2016-01-12","parsedDate":"2016-01-12"},{"lat":-5.00623,"long":-82.7682,"eventDate":"2016-01-12","parsedDate":"2016-01-12"},{"lat":-5.00975,"long":-82.78042,"eventDate":"2016-01-12","parsedDate":"2016-01-12"},{"lat":-5.2324,"long":-82.52354,"eventDate":"2016-01-12","parsedDate":"2016-01-12"},{"lat":-4.75132,"long":-82.86104,"eventDate":"2016-01-13","parsedDate":"2016-01-13"},{"lat":-4.64472,"long":-82.60322,"eventDate":"2016-01-15","parsedDate":"2016-01-15"},{"lat":-4.6592,"long":-82.58182,"eventDate":"2016-01-15","parsedDate":"2016-01-15"},{"lat":-4.56773,"long":-82.52625,"eventDate":"2016-01-16","parsedDate":"2016-01-16"},{"lat":-4.56995,"long":-82.53378,"eventDate":"2016-01-16","parsedDate":"2016-01-16"},{"lat":-4.63511,"long":-82.59007,"eventDate":"2016-01-16","parsedDate":"2016-01-16"},{"lat":-4.69105,"long":-82.6191,"eventDate":"2016-01-16","parsedDate":"2016-01-16"},{"lat":-4.76446,"long":-82.58759,"eventDate":"2016-01-17","parsedDate":"2016-01-17"},{"lat":-4.8758,"long":-82.59786,"eventDate":"2016-01-17","parsedDate":"2016-01-17"},{"lat":-4.89575,"long":-82.5996,"eventDate":"2016-01-17","parsedDate":"2016-01-17"},{"lat":-5.04641,"long":-82.73141,"eventDate":"2016-01-17","parsedDate":"2016-01-17"},{"lat":-5.04948,"long":-82.69468,"eventDate":"2016-01-17","parsedDate":"2016-01-17"},{"lat":-5.06733,"long":-82.73641,"eventDate":"2016-01-18","parsedDate":"2016-01-18"},{"lat":-5.08358,"long":-82.69644,"eventDate":"2016-01-18","parsedDate":"2016-01-18"},{"lat":-5.08641,"long":-82.69941,"eventDate":"2016-01-18","parsedDate":"2016-01-18"},{"lat":-5.25896,"long":-82.51288,"eventDate":"2016-01-18","parsedDate":"2016-01-18"},{"lat":-5.07375,"long":-82.66411,"eventDate":"2016-01-19","parsedDate":"2016-01-19"},{"lat":-5.07859,"long":-82.67219,"eventDate":"2016-01-19","parsedDate":"2016-01-19"},{"lat":-5.09321,"long":-82.67184,"eventDate":"2016-01-19","parsedDate":"2016-01-19"},{"lat":-5.10573,"long":-82.67679,"eventDate":"2016-01-19","parsedDate":"2016-01-19"},{"lat":-5.13209,"long":-82.70553,"eventDate":"2016-01-19","parsedDate":"2016-01-19"},{"lat":-5.0315,"long":-82.62472,"eventDate":"2016-01-20","parsedDate":"2016-01-20"},{"lat":-5.03735,"long":-82.69037,"eventDate":"2016-01-20","parsedDate":"2016-01-20"},{"lat":-5.06075,"long":-82.64536,"eventDate":"2016-01-20","parsedDate":"2016-01-20"},{"lat":-4.9366,"long":-82.46441,"eventDate":"2016-01-21","parsedDate":"2016-01-21"},{"lat":-5.5425,"long":-82.16906,"eventDate":"2016-01-23","parsedDate":"2016-01-23"},{"lat":-5.54597,"long":-82.1795,"eventDate":"2016-01-23","parsedDate":"2016-01-23"},{"lat":-5.55535,"long":-82.20886,"eventDate":"2016-01-23","parsedDate":"2016-01-23"},{"lat":-5.56239,"long":-82.22427,"eventDate":"2016-01-23","parsedDate":"2016-01-23"},{"lat":-5.56243,"long":-82.22436,"eventDate":"2016-01-23","parsedDate":"2016-01-23"},{"lat":-5.56721,"long":-82.23374,"eventDate":"2016-01-23","parsedDate":"2016-01-23"},{"lat":-5.57451,"long":-82.24684,"eventDate":"2016-01-23","parsedDate":"2016-01-23"},{"lat":-5.58242,"long":-82.24978,"eventDate":"2016-01-23","parsedDate":"2016-01-23"},{"lat":-5.44402,"long":-81.98084,"eventDate":"2016-01-24","parsedDate":"2016-01-24"},{"lat":-5.46301,"long":-82.00305,"eventDate":"2016-01-24","parsedDate":"2016-01-24"},{"lat":-5.49017,"long":-82.00112,"eventDate":"2016-01-24","parsedDate":"2016-01-24"},{"lat":-5.49021,"long":-82.00572,"eventDate":"2016-01-24","parsedDate":"2016-01-24"},{"lat":-5.49816,"long":-81.98778,"eventDate":"2016-01-24","parsedDate":"2016-01-24"},{"lat":-5.50102,"long":-81.99694,"eventDate":"2016-01-24","parsedDate":"2016-01-24"},{"lat":-5.3813,"long":-81.86531,"eventDate":"2016-01-25","parsedDate":"2016-01-25"},{"lat":-5.39463,"long":-81.8661,"eventDate":"2016-01-25","parsedDate":"2016-01-25"},{"lat":-5.44318,"long":-81.86991,"eventDate":"2016-01-25","parsedDate":"2016-01-25"},{"lat":-5.47788,"long":-81.9265,"eventDate":"2016-01-25","parsedDate":"2016-01-25"},{"lat":-5.47881,"long":-81.92957,"eventDate":"2016-01-25","parsedDate":"2016-01-25"},{"lat":-5.48561,"long":-81.89838,"eventDate":"2016-01-25","parsedDate":"2016-01-25"},{"lat":-5.49901,"long":-81.89042,"eventDate":"2016-01-25","parsedDate":"2016-01-25"},{"lat":-5.51354,"long":-81.90953,"eventDate":"2016-01-25","parsedDate":"2016-01-25"},{"lat":-5.2592,"long":-82.07599,"eventDate":"2016-01-26","parsedDate":"2016-01-26"},{"lat":-5.27238,"long":-82.07062,"eventDate":"2016-01-26","parsedDate":"2016-01-26"},{"lat":-5.32281,"long":-82.04874,"eventDate":"2016-01-26","parsedDate":"2016-01-26"},{"lat":-5.35067,"long":-82.03425,"eventDate":"2016-01-26","parsedDate":"2016-01-26"},{"lat":-5.35129,"long":-82.02982,"eventDate":"2016-01-26","parsedDate":"2016-01-26"},{"lat":-5.38504,"long":-81.98144,"eventDate":"2016-01-26","parsedDate":"2016-01-26"},{"lat":-5.40345,"long":-81.85209,"eventDate":"2016-01-26","parsedDate":"2016-01-26"},{"lat":-5.40597,"long":-81.87284,"eventDate":"2016-01-26","parsedDate":"2016-01-26"},{"lat":-5.40654,"long":-81.86551,"eventDate":"2016-01-26","parsedDate":"2016-01-26"},{"lat":-5.4089,"long":-81.86632,"eventDate":"2016-01-26","parsedDate":"2016-01-26"},{"lat":-5.14055,"long":-82.06271,"eventDate":"2016-01-27","parsedDate":"2016-01-27"},{"lat":-5.14332,"long":-82.05716,"eventDate":"2016-01-27","parsedDate":"2016-01-27"},{"lat":-5.15494,"long":-81.81671,"eventDate":"2016-01-27","parsedDate":"2016-01-27"},{"lat":-5.15536,"long":-81.8248,"eventDate":"2016-01-27","parsedDate":"2016-01-27"},{"lat":-5.15965,"long":-81.86483,"eventDate":"2016-01-27","parsedDate":"2016-01-27"},{"lat":-5.16257,"long":-81.86304,"eventDate":"2016-01-27","parsedDate":"2016-01-27"},{"lat":-5.26238,"long":-82.04179,"eventDate":"2016-01-27","parsedDate":"2016-01-27"},{"lat":-5.15421,"long":-81.79364,"eventDate":"2016-01-28","parsedDate":"2016-01-28"},{"lat":-5.16741,"long":-81.85156,"eventDate":"2016-01-28","parsedDate":"2016-01-28"},{"lat":-5.19609,"long":-82.05727,"eventDate":"2016-01-30","parsedDate":"2016-01-30"},{"lat":-4.79112,"long":-82.43369,"eventDate":"2016-01-31","parsedDate":"2016-01-31"},{"lat":-4.79997,"long":-82.4371,"eventDate":"2016-01-31","parsedDate":"2016-01-31"},{"lat":-4.80096,"long":-82.45005,"eventDate":"2016-01-31","parsedDate":"2016-01-31"},{"lat":-4.80803,"long":-82.45222,"eventDate":"2016-01-31","parsedDate":"2016-01-31"},{"lat":-4.71549,"long":-82.39497,"eventDate":"2016-02-01","parsedDate":"2016-02-01"},{"lat":-4.78317,"long":-82.43178,"eventDate":"2016-02-01","parsedDate":"2016-02-01"},{"lat":-4.53447,"long":-82.48339,"eventDate":"2016-02-02","parsedDate":"2016-02-02"},{"lat":-4.54472,"long":-82.47212,"eventDate":"2016-02-02","parsedDate":"2016-02-02"},{"lat":-4.54476,"long":-82.47195,"eventDate":"2016-02-02","parsedDate":"2016-02-02"},{"lat":-4.54656,"long":-82.46771,"eventDate":"2016-02-02","parsedDate":"2016-02-02"},{"lat":-4.58902,"long":-82.32977,"eventDate":"2016-02-02","parsedDate":"2016-02-02"},{"lat":-4.41588,"long":-82.59317,"eventDate":"2016-02-03","parsedDate":"2016-02-03"},{"lat":-4.42263,"long":-82.57025,"eventDate":"2016-02-03","parsedDate":"2016-02-03"},{"lat":-4.45034,"long":-82.60063,"eventDate":"2016-02-03","parsedDate":"2016-02-03"},{"lat":-4.47875,"long":-82.58277,"eventDate":"2016-02-03","parsedDate":"2016-02-03"},{"lat":-4.49668,"long":-82.49937,"eventDate":"2016-02-03","parsedDate":"2016-02-03"},{"lat":-4.50317,"long":-82.50072,"eventDate":"2016-02-03","parsedDate":"2016-02-03"},{"lat":-4.07587,"long":-82.61943,"eventDate":"2016-02-04","parsedDate":"2016-02-04"},{"lat":-4.07857,"long":-82.61983,"eventDate":"2016-02-04","parsedDate":"2016-02-04"},{"lat":-4.10822,"long":-82.62015,"eventDate":"2016-02-04","parsedDate":"2016-02-04"},{"lat":-4.16768,"long":-82.75508,"eventDate":"2016-02-04","parsedDate":"2016-02-04"},{"lat":-4.40209,"long":-82.6291,"eventDate":"2016-02-04","parsedDate":"2016-02-04"},{"lat":-3.93614,"long":-82.65116,"eventDate":"2016-02-05","parsedDate":"2016-02-05"},{"lat":-3.93651,"long":-82.65333,"eventDate":"2016-02-05","parsedDate":"2016-02-05"},{"lat":-3.93822,"long":-82.6541,"eventDate":"2016-02-05","parsedDate":"2016-02-05"},{"lat":-3.93979,"long":-82.65395,"eventDate":"2016-02-05","parsedDate":"2016-02-05"},{"lat":-3.94961,"long":-82.64471,"eventDate":"2016-02-05","parsedDate":"2016-02-05"},{"lat":-3.96022,"long":-82.64167,"eventDate":"2016-02-05","parsedDate":"2016-02-05"},{"lat":-3.98811,"long":-82.62998,"eventDate":"2016-02-05","parsedDate":"2016-02-05"},{"lat":-3.94251,"long":-82.64291,"eventDate":"2016-02-06","parsedDate":"2016-02-06"},{"lat":-3.97338,"long":-82.64978,"eventDate":"2016-02-06","parsedDate":"2016-02-06"},{"lat":-3.97567,"long":-82.65038,"eventDate":"2016-02-06","parsedDate":"2016-02-06"},{"lat":-3.9772,"long":-82.68412,"eventDate":"2016-02-06","parsedDate":"2016-02-06"},{"lat":-3.97931,"long":-82.67708,"eventDate":"2016-02-06","parsedDate":"2016-02-06"},{"lat":-3.97958,"long":-82.68147,"eventDate":"2016-02-06","parsedDate":"2016-02-06"},{"lat":-3.98321,"long":-82.65128,"eventDate":"2016-02-06","parsedDate":"2016-02-06"},{"lat":-3.98379,"long":-82.65137,"eventDate":"2016-02-06","parsedDate":"2016-02-06"},{"lat":-3.98433,"long":-82.67613,"eventDate":"2016-02-06","parsedDate":"2016-02-06"},{"lat":-3.99559,"long":-82.66543,"eventDate":"2016-02-06","parsedDate":"2016-02-06"},{"lat":-4.19193,"long":-82.57853,"eventDate":"2016-02-08","parsedDate":"2016-02-08"},{"lat":-4.34227,"long":-82.54119,"eventDate":"2016-02-08","parsedDate":"2016-02-08"},{"lat":-4.34461,"long":-82.51497,"eventDate":"2016-02-08","parsedDate":"2016-02-08"},{"lat":-4.34755,"long":-82.52954,"eventDate":"2016-02-08","parsedDate":"2016-02-08"},{"lat":-4.56336,"long":-82.52064,"eventDate":"2016-02-09","parsedDate":"2016-02-09"},{"lat":-4.59724,"long":-82.52903,"eventDate":"2016-02-09","parsedDate":"2016-02-09"},{"lat":-4.60263,"long":-82.52541,"eventDate":"2016-02-09","parsedDate":"2016-02-09"},{"lat":-4.62608,"long":-82.53406,"eventDate":"2016-02-09","parsedDate":"2016-02-09"},{"lat":-4.6377,"long":-82.53253,"eventDate":"2016-02-09","parsedDate":"2016-02-09"},{"lat":-4.65355,"long":-82.58999,"eventDate":"2016-02-09","parsedDate":"2016-02-09"},{"lat":-4.67709,"long":-82.52383,"eventDate":"2016-02-09","parsedDate":"2016-02-09"},{"lat":-4.69837,"long":-82.52384,"eventDate":"2016-02-09","parsedDate":"2016-02-09"},{"lat":-4.64262,"long":-82.51883,"eventDate":"2016-02-10","parsedDate":"2016-02-10"},{"lat":-4.69678,"long":-82.52518,"eventDate":"2016-02-10","parsedDate":"2016-02-10"},{"lat":-4.71594,"long":-82.50628,"eventDate":"2016-02-10","parsedDate":"2016-02-10"},{"lat":-4.94394,"long":-82.49345,"eventDate":"2016-02-10","parsedDate":"2016-02-10"},{"lat":-5.17656,"long":-82.47061,"eventDate":"2016-02-11","parsedDate":"2016-02-11"},{"lat":-5.21353,"long":-82.42363,"eventDate":"2016-02-12","parsedDate":"2016-02-12"},{"lat":-5.22768,"long":-82.41922,"eventDate":"2016-02-12","parsedDate":"2016-02-12"},{"lat":-5.26285,"long":-82.37684,"eventDate":"2016-02-12","parsedDate":"2016-02-12"},{"lat":-5.53249,"long":-82.30403,"eventDate":"2016-02-14","parsedDate":"2016-02-14"},{"lat":-5.41611,"long":-82.16591,"eventDate":"2016-02-15","parsedDate":"2016-02-15"},{"lat":-5.48656,"long":-82.24098,"eventDate":"2016-02-15","parsedDate":"2016-02-15"},{"lat":-5.49192,"long":-82.07022,"eventDate":"2016-02-15","parsedDate":"2016-02-15"},{"lat":-5.49288,"long":-82.26314,"eventDate":"2016-02-15","parsedDate":"2016-02-15"},{"lat":-5.64222,"long":-81.86685,"eventDate":"2016-02-16","parsedDate":"2016-02-16"},{"lat":-5.55425,"long":-82.07126,"eventDate":"2016-02-18","parsedDate":"2016-02-18"},{"lat":-5.57343,"long":-82.03701,"eventDate":"2016-02-18","parsedDate":"2016-02-18"},{"lat":-5.60426,"long":-81.93546,"eventDate":"2016-02-18","parsedDate":"2016-02-18"},{"lat":-5.24269,"long":-81.92779,"eventDate":"2016-02-20","parsedDate":"2016-02-20"},{"lat":-5.27709,"long":-81.89189,"eventDate":"2016-02-20","parsedDate":"2016-02-20"},{"lat":-5.32984,"long":-81.80904,"eventDate":"2016-02-20","parsedDate":"2016-02-20"},{"lat":-5.35011,"long":-81.80155,"eventDate":"2016-02-20","parsedDate":"2016-02-20"},{"lat":-5.35304,"long":-81.89739,"eventDate":"2016-02-20","parsedDate":"2016-02-20"},{"lat":-5.53097,"long":-81.73129,"eventDate":"2016-02-20","parsedDate":"2016-02-20"},{"lat":-5.07093,"long":-82.10546,"eventDate":"2016-02-21","parsedDate":"2016-02-21"},{"lat":-5.23716,"long":-81.93244,"eventDate":"2016-02-21","parsedDate":"2016-02-21"},{"lat":-4.94505,"long":-82.02997,"eventDate":"2016-02-22","parsedDate":"2016-02-22"},{"lat":-4.95661,"long":-82.02755,"eventDate":"2016-02-22","parsedDate":"2016-02-22"},{"lat":-4.95113,"long":-82.02907,"eventDate":"2016-02-23","parsedDate":"2016-02-23"},{"lat":-5.49632,"long":-82.55799,"eventDate":"2016-02-24","parsedDate":"2016-02-24"},{"lat":-5.77679,"long":-82.36514,"eventDate":"2016-03-01","parsedDate":"2016-03-01"},{"lat":-5.77785,"long":-82.36605,"eventDate":"2016-03-01","parsedDate":"2016-03-01"},{"lat":-5.77932,"long":-82.36663,"eventDate":"2016-03-01","parsedDate":"2016-03-01"},{"lat":-5.78614,"long":-82.35271,"eventDate":"2016-03-01","parsedDate":"2016-03-01"},{"lat":-5.79461,"long":-82.35706,"eventDate":"2016-03-01","parsedDate":"2016-03-01"},{"lat":-5.99431,"long":-82.50875,"eventDate":"2016-03-01","parsedDate":"2016-03-01"},{"lat":-6.30902,"long":-82.37457,"eventDate":"2016-03-01","parsedDate":"2016-03-01"},{"lat":-5.71717,"long":-82.56553,"eventDate":"2016-03-02","parsedDate":"2016-03-02"},{"lat":-5.72648,"long":-82.5456,"eventDate":"2016-03-02","parsedDate":"2016-03-02"},{"lat":-5.75139,"long":-82.50892,"eventDate":"2016-03-02","parsedDate":"2016-03-02"},{"lat":-5.75715,"long":-82.49542,"eventDate":"2016-03-02","parsedDate":"2016-03-02"},{"lat":-5.81938,"long":-82.45711,"eventDate":"2016-03-02","parsedDate":"2016-03-02"},{"lat":-5.73009,"long":-82.55706,"eventDate":"2016-03-03","parsedDate":"2016-03-03"},{"lat":-5.75458,"long":-82.29476,"eventDate":"2016-03-03","parsedDate":"2016-03-03"},{"lat":-5.80045,"long":-82.31568,"eventDate":"2016-03-03","parsedDate":"2016-03-03"}]},{"whaleSharkID":"George","coordinates":[{"lat":1.87639,"long":-85.11587,"eventDate":"2011-10-28","parsedDate":"2011-10-28"},{"lat":1.6714,"long":-91.98927,"eventDate":"2015-07-10","parsedDate":"2015-07-10"},{"lat":1.71844,"long":-92.03451,"eventDate":"2015-07-18","parsedDate":"2015-07-18"},{"lat":1.81376,"long":-92.03768,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":1.87867,"long":-91.97128,"eventDate":"2015-07-26","parsedDate":"2015-07-26"},{"lat":1.70164,"long":-91.43374,"eventDate":"2015-08-09","parsedDate":"2015-08-09"},{"lat":1.41376,"long":-91.46639,"eventDate":"2015-08-13","parsedDate":"2015-08-13"},{"lat":1.15313,"long":-91.36471,"eventDate":"2015-08-21","parsedDate":"2015-08-21"},{"lat":1.73299,"long":-87.60352,"eventDate":"2015-08-24","parsedDate":"2015-08-24"},{"lat":1.50129,"long":-87.62938,"eventDate":"2015-08-30","parsedDate":"2015-08-30"},{"lat":1.50941,"long":-87.43383,"eventDate":"2015-08-30","parsedDate":"2015-08-30"},{"lat":1.57934,"long":-85.71217,"eventDate":"2015-09-03","parsedDate":"2015-09-03"},{"lat":0.95422,"long":-86.12829,"eventDate":"2015-09-07","parsedDate":"2015-09-07"},{"lat":1.17638,"long":-85.50063,"eventDate":"2015-09-07","parsedDate":"2015-09-07"},{"lat":1.01125,"long":-85.4055,"eventDate":"2015-09-09","parsedDate":"2015-09-09"},{"lat":1.79773,"long":-85.88198,"eventDate":"2015-09-12","parsedDate":"2015-09-12"},{"lat":1.73992,"long":-85.65108,"eventDate":"2015-09-14","parsedDate":"2015-09-14"},{"lat":1.74563,"long":-85.63142,"eventDate":"2015-09-14","parsedDate":"2015-09-14"},{"lat":1.60733,"long":-85.45973,"eventDate":"2015-09-15","parsedDate":"2015-09-15"},{"lat":1.63618,"long":-85.46701,"eventDate":"2015-09-15","parsedDate":"2015-09-15"},{"lat":1.14194,"long":-84.6829,"eventDate":"2015-09-18","parsedDate":"2015-09-18"},{"lat":1.19524,"long":-85.29069,"eventDate":"2015-09-18","parsedDate":"2015-09-18"},{"lat":1.16125,"long":-85.09934,"eventDate":"2015-09-20","parsedDate":"2015-09-20"},{"lat":1.26052,"long":-84.85312,"eventDate":"2015-09-21","parsedDate":"2015-09-21"},{"lat":1.27464,"long":-85.07831,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":1.53362,"long":-84.8797,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":1.34498,"long":-84.87517,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":1.3496,"long":-84.89725,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":1.35049,"long":-84.9011,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":1.3552,"long":-84.90233,"eventDate":"2015-09-24","parsedDate":"2015-09-24"},{"lat":1.83626,"long":-84.99697,"eventDate":"2015-09-24","parsedDate":"2015-09-24"},{"lat":1.95855,"long":-85.0129,"eventDate":"2015-09-27","parsedDate":"2015-09-27"},{"lat":1.95057,"long":-83.99312,"eventDate":"2015-09-28","parsedDate":"2015-09-28"},{"lat":1.12534,"long":-84.12517,"eventDate":"2015-10-01","parsedDate":"2015-10-01"},{"lat":1.10641,"long":-84.1852,"eventDate":"2015-10-02","parsedDate":"2015-10-02"},{"lat":0.40567,"long":-84.42359,"eventDate":"2015-10-03","parsedDate":"2015-10-03"},{"lat":0.37752,"long":-84.594,"eventDate":"2015-10-04","parsedDate":"2015-10-04"},{"lat":0.38332,"long":-84.56705,"eventDate":"2015-10-04","parsedDate":"2015-10-04"},{"lat":0.39429,"long":-84.63089,"eventDate":"2015-10-04","parsedDate":"2015-10-04"},{"lat":0.40561,"long":-84.42361,"eventDate":"2015-10-04","parsedDate":"2015-10-04"},{"lat":0.38306,"long":-84.59429,"eventDate":"2015-10-05","parsedDate":"2015-10-05"},{"lat":0.41321,"long":-84.78121,"eventDate":"2015-10-05","parsedDate":"2015-10-05"},{"lat":0.05761,"long":-84.72982,"eventDate":"2015-10-06","parsedDate":"2015-10-06"},{"lat":0.08147,"long":-84.74825,"eventDate":"2015-10-06","parsedDate":"2015-10-06"},{"lat":0.08655,"long":-84.7422,"eventDate":"2015-10-06","parsedDate":"2015-10-06"},{"lat":0.11627,"long":-84.74971,"eventDate":"2015-10-06","parsedDate":"2015-10-06"},{"lat":0.61988,"long":-85.15686,"eventDate":"2015-10-09","parsedDate":"2015-10-09"},{"lat":0.84169,"long":-85.68716,"eventDate":"2015-10-10","parsedDate":"2015-10-10"},{"lat":1.93802,"long":-86.51089,"eventDate":"2015-10-12","parsedDate":"2015-10-12"},{"lat":1.97209,"long":-86.54159,"eventDate":"2015-10-12","parsedDate":"2015-10-12"},{"lat":2.00376,"long":-86.70326,"eventDate":"2015-10-13","parsedDate":"2015-10-13"},{"lat":1.07876,"long":-84.56637,"eventDate":"2015-10-14","parsedDate":"2015-10-14"},{"lat":1.08302,"long":-84.57157,"eventDate":"2015-10-14","parsedDate":"2015-10-14"},{"lat":1.08422,"long":-84.57299,"eventDate":"2015-10-14","parsedDate":"2015-10-14"},{"lat":1.1104,"long":-84.44653,"eventDate":"2015-10-17","parsedDate":"2015-10-17"},{"lat":1.51699,"long":-84.39173,"eventDate":"2015-10-18","parsedDate":"2015-10-18"},{"lat":1.53999,"long":-84.40279,"eventDate":"2015-10-18","parsedDate":"2015-10-18"},{"lat":1.40472,"long":-84.01968,"eventDate":"2015-10-20","parsedDate":"2015-10-20"},{"lat":1.26135,"long":-83.89349,"eventDate":"2015-10-21","parsedDate":"2015-10-21"},{"lat":1.2623,"long":-83.89424,"eventDate":"2015-10-21","parsedDate":"2015-10-21"},{"lat":1.24063,"long":-83.88499,"eventDate":"2015-10-22","parsedDate":"2015-10-22"},{"lat":1.35235,"long":-83.91487,"eventDate":"2015-10-22","parsedDate":"2015-10-22"},{"lat":1.35932,"long":-83.92339,"eventDate":"2015-10-22","parsedDate":"2015-10-22"},{"lat":1.48662,"long":-84.93497,"eventDate":"2015-10-23","parsedDate":"2015-10-23"},{"lat":1.49659,"long":-85.03832,"eventDate":"2015-10-23","parsedDate":"2015-10-23"},{"lat":1.50369,"long":-84.94577,"eventDate":"2015-10-23","parsedDate":"2015-10-23"},{"lat":1.54265,"long":-85.08132,"eventDate":"2015-10-23","parsedDate":"2015-10-23"},{"lat":1.60153,"long":-85.11424,"eventDate":"2015-10-23","parsedDate":"2015-10-23"},{"lat":1.81334,"long":-85.30356,"eventDate":"2015-10-24","parsedDate":"2015-10-24"},{"lat":1.84663,"long":-85.25399,"eventDate":"2015-10-24","parsedDate":"2015-10-24"},{"lat":1.85662,"long":-85.26085,"eventDate":"2015-10-24","parsedDate":"2015-10-24"},{"lat":1.86242,"long":-85.26438,"eventDate":"2015-10-24","parsedDate":"2015-10-24"},{"lat":2.1357,"long":-85.23117,"eventDate":"2015-10-25","parsedDate":"2015-10-25"},{"lat":2.14003,"long":-85.24252,"eventDate":"2015-10-25","parsedDate":"2015-10-25"},{"lat":2.15369,"long":-85.28161,"eventDate":"2015-10-25","parsedDate":"2015-10-25"},{"lat":2.15462,"long":-85.28398,"eventDate":"2015-10-25","parsedDate":"2015-10-25"},{"lat":2.17181,"long":-85.29588,"eventDate":"2015-10-25","parsedDate":"2015-10-25"},{"lat":2.12402,"long":-85.24301,"eventDate":"2015-10-26","parsedDate":"2015-10-26"},{"lat":2.12627,"long":-85.23543,"eventDate":"2015-10-26","parsedDate":"2015-10-26"},{"lat":2.17186,"long":-85.29048,"eventDate":"2015-10-27","parsedDate":"2015-10-27"},{"lat":2.20649,"long":-85.3524,"eventDate":"2015-10-27","parsedDate":"2015-10-27"},{"lat":1.86667,"long":-85.11454,"eventDate":"2015-10-29","parsedDate":"2015-10-29"},{"lat":2.29202,"long":-85.25781,"eventDate":"2015-11-04","parsedDate":"2015-11-04"},{"lat":0.74139,"long":-86.31235,"eventDate":"2015-11-12","parsedDate":"2015-11-12"},{"lat":-0.22625,"long":-84.41649,"eventDate":"2015-11-13","parsedDate":"2015-11-13"},{"lat":-0.22633,"long":-84.41616,"eventDate":"2015-11-13","parsedDate":"2015-11-13"},{"lat":-0.08118,"long":-84.24629,"eventDate":"2015-11-21","parsedDate":"2015-11-21"},{"lat":-0.1119,"long":-84.17297,"eventDate":"2015-11-22","parsedDate":"2015-11-22"},{"lat":0.17628,"long":-84.43864,"eventDate":"2015-11-22","parsedDate":"2015-11-22"},{"lat":0.24691,"long":-84.26486,"eventDate":"2015-11-24","parsedDate":"2015-11-24"},{"lat":-2.13871,"long":-85.69297,"eventDate":"2015-12-11","parsedDate":"2015-12-11"},{"lat":0.16407,"long":-83.52183,"eventDate":"2015-12-12","parsedDate":"2015-12-12"},{"lat":0.16416,"long":-83.52205,"eventDate":"2015-12-12","parsedDate":"2015-12-12"},{"lat":-2.4154,"long":-81.58237,"eventDate":"2016-01-02","parsedDate":"2016-01-02"},{"lat":-2.41886,"long":-81.62501,"eventDate":"2016-01-02","parsedDate":"2016-01-02"},{"lat":-2.42678,"long":-81.57879,"eventDate":"2016-01-02","parsedDate":"2016-01-02"},{"lat":-2.43028,"long":-81.57867,"eventDate":"2016-01-02","parsedDate":"2016-01-02"},{"lat":-2.43974,"long":-81.57744,"eventDate":"2016-01-02","parsedDate":"2016-01-02"},{"lat":-2.32186,"long":-81.55397,"eventDate":"2016-01-03","parsedDate":"2016-01-03"},{"lat":-2.33088,"long":-81.55995,"eventDate":"2016-01-03","parsedDate":"2016-01-03"},{"lat":-2.35153,"long":-81.56848,"eventDate":"2016-01-03","parsedDate":"2016-01-03"},{"lat":-2.36277,"long":-81.57758,"eventDate":"2016-01-03","parsedDate":"2016-01-03"},{"lat":-2.38837,"long":-81.57644,"eventDate":"2016-01-03","parsedDate":"2016-01-03"},{"lat":-2.40183,"long":-81.57716,"eventDate":"2016-01-03","parsedDate":"2016-01-03"},{"lat":-2.40301,"long":-81.58097,"eventDate":"2016-01-03","parsedDate":"2016-01-03"},{"lat":-2.06356,"long":-81.64518,"eventDate":"2016-01-04","parsedDate":"2016-01-04"}]},{"whaleSharkID":"108106","coordinates":[{"lat":-4.18426,"long":-86.77979,"eventDate":"2011-12-31","parsedDate":"2011-12-31"},{"lat":1.6714,"long":-91.98927,"eventDate":"2015-07-10","parsedDate":"2015-07-10"},{"lat":1.68079,"long":-91.99711,"eventDate":"2015-07-10","parsedDate":"2015-07-10"},{"lat":1.6714,"long":-91.98927,"eventDate":"2015-09-11","parsedDate":"2015-09-11"},{"lat":3.164,"long":-87.64296,"eventDate":"2015-09-20","parsedDate":"2015-09-20"},{"lat":1.2095,"long":-86.74881,"eventDate":"2015-10-13","parsedDate":"2015-10-13"},{"lat":1.57501,"long":-84.7246,"eventDate":"2015-10-14","parsedDate":"2015-10-14"},{"lat":1.45835,"long":-82.2169,"eventDate":"2015-10-16","parsedDate":"2015-10-16"},{"lat":1.46818,"long":-82.21391,"eventDate":"2015-10-16","parsedDate":"2015-10-16"},{"lat":1.47606,"long":-82.20626,"eventDate":"2015-10-16","parsedDate":"2015-10-16"},{"lat":1.47631,"long":-82.20721,"eventDate":"2015-10-16","parsedDate":"2015-10-16"},{"lat":1.48168,"long":-82.17506,"eventDate":"2015-10-16","parsedDate":"2015-10-16"},{"lat":1.48195,"long":-82.20607,"eventDate":"2015-10-16","parsedDate":"2015-10-16"},{"lat":1.50277,"long":-82.15912,"eventDate":"2015-10-16","parsedDate":"2015-10-16"},{"lat":1.96791,"long":-81.6693,"eventDate":"2015-10-17","parsedDate":"2015-10-17"},{"lat":1.99573,"long":-81.85978,"eventDate":"2015-10-17","parsedDate":"2015-10-17"},{"lat":2.05217,"long":-81.63559,"eventDate":"2015-10-18","parsedDate":"2015-10-18"},{"lat":1.79669,"long":-81.7347,"eventDate":"2015-10-19","parsedDate":"2015-10-19"},{"lat":1.61286,"long":-81.82974,"eventDate":"2015-10-20","parsedDate":"2015-10-20"},{"lat":1.40441,"long":-80.59471,"eventDate":"2015-10-21","parsedDate":"2015-10-21"},{"lat":1.40503,"long":-80.59578,"eventDate":"2015-10-21","parsedDate":"2015-10-21"},{"lat":1.4115,"long":-80.59925,"eventDate":"2015-10-21","parsedDate":"2015-10-21"},{"lat":1.4125,"long":-80.59965,"eventDate":"2015-10-21","parsedDate":"2015-10-21"},{"lat":1.56124,"long":-80.67835,"eventDate":"2015-10-24","parsedDate":"2015-10-24"},{"lat":1.74987,"long":-80.61554,"eventDate":"2015-10-25","parsedDate":"2015-10-25"},{"lat":2.02158,"long":-80.56529,"eventDate":"2015-10-26","parsedDate":"2015-10-26"},{"lat":-0.70404,"long":-83.59667,"eventDate":"2015-11-06","parsedDate":"2015-11-06"},{"lat":-0.70848,"long":-83.59646,"eventDate":"2015-11-06","parsedDate":"2015-11-06"},{"lat":-0.52655,"long":-83.7043,"eventDate":"2015-11-07","parsedDate":"2015-11-07"},{"lat":-0.63642,"long":-83.61654,"eventDate":"2015-11-07","parsedDate":"2015-11-07"},{"lat":-0.67518,"long":-83.61116,"eventDate":"2015-11-07","parsedDate":"2015-11-07"},{"lat":-0.69022,"long":-83.60378,"eventDate":"2015-11-07","parsedDate":"2015-11-07"},{"lat":-0.41781,"long":-83.67318,"eventDate":"2015-11-08","parsedDate":"2015-11-08"},{"lat":-0.43686,"long":-83.70478,"eventDate":"2015-11-09","parsedDate":"2015-11-09"},{"lat":0.3069,"long":-83.59435,"eventDate":"2015-11-10","parsedDate":"2015-11-10"},{"lat":0.50122,"long":-83.43589,"eventDate":"2015-11-13","parsedDate":"2015-11-13"},{"lat":0.34104,"long":-83.19279,"eventDate":"2015-11-15","parsedDate":"2015-11-15"},{"lat":0.65355,"long":-83.14066,"eventDate":"2015-11-16","parsedDate":"2015-11-16"},{"lat":0.3042,"long":-82.83985,"eventDate":"2015-11-17","parsedDate":"2015-11-17"},{"lat":1.90843,"long":-82.18502,"eventDate":"2015-11-20","parsedDate":"2015-11-20"},{"lat":1.90844,"long":-82.18504,"eventDate":"2015-11-20","parsedDate":"2015-11-20"},{"lat":1.1919,"long":-83.76631,"eventDate":"2015-12-13","parsedDate":"2015-12-13"},{"lat":1.14595,"long":-83.95081,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-3.56821,"long":-86.46382,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-3.58892,"long":-86.47037,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-3.8516,"long":-86.92754,"eventDate":"2015-12-31","parsedDate":"2015-12-31"},{"lat":-4.96952,"long":-86.03564,"eventDate":"2016-01-05","parsedDate":"2016-01-05"},{"lat":-5.78528,"long":-83.01264,"eventDate":"2016-01-08","parsedDate":"2016-01-08"}]},{"whaleSharkID":"9967098","coordinates":[{"lat":-15.922514,"long":-5.706737,"eventDate":"2016-01-09","parsedDate":"2016-01-09"}]},{"whaleSharkID":"9967270","coordinates":[{"lat":-15.92007,"long":-5.636867,"eventDate":"2016-01-10","parsedDate":"2016-01-10"}]},{"whaleSharkID":"9967208","coordinates":[{"lat":-15.899648,"long":-5.751878,"eventDate":"2016-01-10","parsedDate":"2016-01-10"}]},{"whaleSharkID":"276898856","coordinates":[{"lat":9.508311,"long":123.240984,"eventDate":"2016-02-11","parsedDate":"2016-02-11"}]},{"whaleSharkID":"A69-9002-11972","coordinates":[{"lat":-22.16,"long":113.85,"eventDate":"2015-06-01","parsedDate":"2015-06-01"},{"lat":-23.13,"long":113.73,"eventDate":"2016-02-08","parsedDate":"2016-02-08"}]},{"whaleSharkID":"A69-9002-11974","coordinates":[{"lat":-22.17,"long":113.85,"eventDate":"2015-06-01","parsedDate":"2015-06-01"},{"lat":-21.9,"long":113.93,"eventDate":"2015-06-02","parsedDate":"2015-06-02"},{"lat":-21.88,"long":113.91,"eventDate":"2015-06-18","parsedDate":"2015-06-18"},{"lat":-21.89,"long":113.92,"eventDate":"2015-06-20","parsedDate":"2015-06-20"},{"lat":-23.13,"long":113.72,"eventDate":"2015-09-10","parsedDate":"2015-09-10"},{"lat":-23.13,"long":113.73,"eventDate":"2015-09-10","parsedDate":"2015-09-10"},{"lat":-23.13,"long":113.72,"eventDate":"2015-09-26","parsedDate":"2015-09-26"},{"lat":-23.13,"long":113.73,"eventDate":"2015-10-02","parsedDate":"2015-10-02"},{"lat":-23.13,"long":113.71,"eventDate":"2015-10-03","parsedDate":"2015-10-03"},{"lat":-23.13,"long":113.72,"eventDate":"2015-10-03","parsedDate":"2015-10-03"},{"lat":-23.13,"long":113.73,"eventDate":"2015-10-03","parsedDate":"2015-10-03"},{"lat":-21.9,"long":113.93,"eventDate":"2015-10-09","parsedDate":"2015-10-09"},{"lat":-22.6,"long":113.61,"eventDate":"2015-10-22","parsedDate":"2015-10-22"},{"lat":-22.6,"long":113.61,"eventDate":"2015-10-23","parsedDate":"2015-10-23"},{"lat":-22.6,"long":113.62,"eventDate":"2015-10-24","parsedDate":"2015-10-24"},{"lat":-22.6,"long":113.61,"eventDate":"2015-10-31","parsedDate":"2015-10-31"},{"lat":-22.6,"long":113.62,"eventDate":"2015-10-31","parsedDate":"2015-10-31"},{"lat":-22.6,"long":113.61,"eventDate":"2015-11-03","parsedDate":"2015-11-03"},{"lat":-23.13,"long":113.71,"eventDate":"2015-11-06","parsedDate":"2015-11-06"},{"lat":-23.13,"long":113.72,"eventDate":"2015-11-06","parsedDate":"2015-11-06"},{"lat":-22.6,"long":113.62,"eventDate":"2015-11-10","parsedDate":"2015-11-10"},{"lat":-22.6,"long":113.62,"eventDate":"2015-11-19","parsedDate":"2015-11-19"},{"lat":-22.6,"long":113.61,"eventDate":"2015-12-05","parsedDate":"2015-12-05"},{"lat":-22.6,"long":113.62,"eventDate":"2015-12-05","parsedDate":"2015-12-05"},{"lat":-22.6,"long":113.62,"eventDate":"2015-12-06","parsedDate":"2015-12-06"},{"lat":-22.6,"long":113.61,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-22.6,"long":113.62,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-22.6,"long":113.61,"eventDate":"2015-12-27","parsedDate":"2015-12-27"},{"lat":-22.6,"long":113.62,"eventDate":"2016-02-08","parsedDate":"2016-02-08"}]},{"whaleSharkID":"444869774","coordinates":[{"lat":25.667661,"long":-111.169342,"eventDate":"2016-02-16","parsedDate":"2016-02-16"}]},{"whaleSharkID":"94183348","coordinates":[{"lat":21.340918,"long":-86.76291,"eventDate":"2016-02-04","parsedDate":"2016-02-04"}]},{"whaleSharkID":"182758683","coordinates":[{"lat":9.40427,"long":123.537418,"eventDate":"2016-02-02","parsedDate":"2016-02-02"}]},{"whaleSharkID":"A69-9002-11970","coordinates":[{"lat":-22.15,"long":113.85,"eventDate":"2015-06-01","parsedDate":"2015-06-01"},{"lat":-21.9,"long":113.93,"eventDate":"2015-06-11","parsedDate":"2015-06-11"},{"lat":-21.9,"long":113.93,"eventDate":"2015-06-15","parsedDate":"2015-06-15"},{"lat":-21.89,"long":113.92,"eventDate":"2016-03-19","parsedDate":"2016-03-19"},{"lat":-21.9,"long":113.93,"eventDate":"2016-03-19","parsedDate":"2016-03-19"},{"lat":-21.88,"long":113.91,"eventDate":"2016-03-21","parsedDate":"2016-03-21"},{"lat":-21.89,"long":113.92,"eventDate":"2016-03-21","parsedDate":"2016-03-21"},{"lat":-21.9,"long":113.93,"eventDate":"2016-03-21","parsedDate":"2016-03-21"},{"lat":-22.59,"long":113.61,"eventDate":"2016-03-22","parsedDate":"2016-03-22"},{"lat":-22.6,"long":113.61,"eventDate":"2016-03-22","parsedDate":"2016-03-22"},{"lat":-22.6,"long":113.62,"eventDate":"2016-03-22","parsedDate":"2016-03-22"},{"lat":-22.59,"long":113.61,"eventDate":"2016-03-23","parsedDate":"2016-03-23"},{"lat":-22.6,"long":113.61,"eventDate":"2016-03-23","parsedDate":"2016-03-23"},{"lat":-21.88,"long":113.91,"eventDate":"2016-03-29","parsedDate":"2016-03-29"},{"lat":-21.88,"long":113.91,"eventDate":"2016-03-31","parsedDate":"2016-03-31"},{"lat":-21.9,"long":113.93,"eventDate":"2016-04-01","parsedDate":"2016-04-01"},{"lat":-22.59,"long":113.61,"eventDate":"2016-04-04","parsedDate":"2016-04-04"},{"lat":-22.6,"long":113.61,"eventDate":"2016-04-04","parsedDate":"2016-04-04"}]},{"whaleSharkID":"34572183","coordinates":[{"lat":21.739054,"long":-105.505752,"eventDate":"2016-03-06","parsedDate":"2016-03-06"}]},{"whaleSharkID":"41576194","coordinates":[{"lat":24.146319,"long":-110.405724,"eventDate":"2016-03-02","parsedDate":"2016-03-02"}]},{"whaleSharkID":"41577018","coordinates":[{"lat":24.142641,"long":-110.404077,"eventDate":"2016-03-02","parsedDate":"2016-03-02"}]},{"whaleSharkID":"42848898","coordinates":[{"lat":21.91096,"long":-87.103033,"eventDate":"2016-03-26","parsedDate":"2016-03-26"}]},{"whaleSharkID":"445668263","coordinates":[{"lat":26.700067,"long":-111.880719,"eventDate":"2016-03-13","parsedDate":"2016-03-13"}]},{"whaleSharkID":"445721116","coordinates":[{"lat":26.719309,"long":-111.900389,"eventDate":"2016-03-20","parsedDate":"2016-03-20"}]},{"whaleSharkID":"162423521","coordinates":[{"lat":10.041289,"long":115.601272,"eventDate":"2016-03-30","parsedDate":"2016-03-30"}]},{"whaleSharkID":"244108682","coordinates":[{"lat":10.299863,"long":123.971099,"eventDate":"2016-04-21","parsedDate":"2016-04-21"}]},{"whaleSharkID":"381138256","coordinates":[{"lat":24.382181,"long":-110.504,"eventDate":"2016-04-11","parsedDate":"2016-04-11"}]},{"whaleSharkID":"5959345","coordinates":[{"lat":20.082471,"long":40.280465,"eventDate":"2016-04-29","parsedDate":"2016-04-29"}]},{"whaleSharkID":"80537826","coordinates":[{"lat":16.192955,"long":-86.904994,"eventDate":"2016-04-14","parsedDate":"2016-04-14"}]},{"whaleSharkID":"83112455","coordinates":[{"lat":16.063411,"long":-86.915603,"eventDate":"2016-04-21","parsedDate":"2016-04-21"}]},{"whaleSharkID":"83112457","coordinates":[{"lat":16.181838,"long":-86.986009,"eventDate":"2016-04-22","parsedDate":"2016-04-22"}]},{"whaleSharkID":"9917594","coordinates":[{"lat":-21.84651,"long":113.965302,"eventDate":"2016-04-04","parsedDate":"2016-04-04"}]},{"whaleSharkID":"155352248","coordinates":[{"lat":24.218492,"long":-110.386791,"eventDate":"2016-04-10","parsedDate":"2016-04-10"}]},{"whaleSharkID":"22133739","coordinates":[{"lat":-33.798488,"long":26.594991,"eventDate":"2016-05-01","parsedDate":"2016-05-01"}]},{"whaleSharkID":"29146457","coordinates":[{"lat":9.466583,"long":123.487323,"eventDate":"2016-05-23","parsedDate":"2016-05-23"}]},{"whaleSharkID":"37411958","coordinates":[{"lat":9.545883,"long":123.46015,"eventDate":"2016-05-23","parsedDate":"2016-05-23"}]},{"whaleSharkID":"73889520","coordinates":[{"lat":12.826532,"long":123.445155,"eventDate":"2016-05-03","parsedDate":"2016-05-03"}]},{"whaleSharkID":"74107525","coordinates":[{"lat":12.94562,"long":123.576523,"eventDate":"2016-05-03","parsedDate":"2016-05-03"}]},{"whaleSharkID":"75541281","coordinates":[{"lat":12.850823,"long":123.490637,"eventDate":"2016-05-03","parsedDate":"2016-05-03"}]},{"whaleSharkID":"75549605","coordinates":[{"lat":12.941715,"long":123.429198,"eventDate":"2016-05-02","parsedDate":"2016-05-02"}]},{"whaleSharkID":"75549747","coordinates":[{"lat":12.973777,"long":123.530717,"eventDate":"2016-05-03","parsedDate":"2016-05-03"}]},{"whaleSharkID":"75623511","coordinates":[{"lat":12.934074,"long":123.411854,"eventDate":"2016-05-03","parsedDate":"2016-05-03"}]},{"whaleSharkID":"75623734","coordinates":[{"lat":12.920951,"long":123.454567,"eventDate":"2016-05-03","parsedDate":"2016-05-03"}]},{"whaleSharkID":"75623983","coordinates":[{"lat":12.894196,"long":123.538456,"eventDate":"2016-05-02","parsedDate":"2016-05-02"}]},{"whaleSharkID":"18999542","coordinates":[{"lat":2.649194,"long":104.00334,"eventDate":"2016-05-14","parsedDate":"2016-05-14"}]},{"whaleSharkID":"161737","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-20.5,"long":112.5,"eventDate":"2016-06-09","parsedDate":"2016-06-09"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"}]},{"whaleSharkID":"A69-9001-19482","coordinates":[{"lat":-21.85,"long":113.97,"eventDate":"2015-06-01","parsedDate":"2015-06-01"},{"lat":-21.9,"long":113.93,"eventDate":"2016-06-03","parsedDate":"2016-06-03"}]},{"whaleSharkID":"A69-9001-19479","coordinates":[{"lat":-21.84,"long":113.97,"eventDate":"2015-06-01","parsedDate":"2015-06-01"},{"lat":-21.9,"long":113.93,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-22.6,"long":113.62,"eventDate":"2016-06-05","parsedDate":"2016-06-05"},{"lat":-21.9,"long":113.93,"eventDate":"2016-07-27","parsedDate":"2016-07-27"},{"lat":-21.9,"long":113.93,"eventDate":"2016-07-31","parsedDate":"2016-07-31"},{"lat":-22.6,"long":113.61,"eventDate":"2016-08-08","parsedDate":"2016-08-08"},{"lat":-22.6,"long":113.62,"eventDate":"2016-08-08","parsedDate":"2016-08-08"},{"lat":-21.9,"long":113.93,"eventDate":"2016-08-09","parsedDate":"2016-08-09"},{"lat":-22.6,"long":113.63,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":-21.89,"long":113.92,"eventDate":"2016-09-18","parsedDate":"2016-09-18"},{"lat":-21.9,"long":113.93,"eventDate":"2016-09-18","parsedDate":"2016-09-18"},{"lat":-22.6,"long":113.61,"eventDate":"2016-10-30","parsedDate":"2016-10-30"}]},{"whaleSharkID":"A69-9001-19503","coordinates":[{"lat":-21.85,"long":113.98,"eventDate":"2015-06-02","parsedDate":"2015-06-02"},{"lat":-21.88,"long":113.91,"eventDate":"2016-06-02","parsedDate":"2016-06-02"},{"lat":-21.88,"long":113.91,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.88,"long":113.91,"eventDate":"2016-06-04","parsedDate":"2016-06-04"}]},{"whaleSharkID":"A69-9001-19501","coordinates":[{"lat":-21.85,"long":113.96,"eventDate":"2016-06-02","parsedDate":"2016-06-02"},{"lat":-21.88,"long":113.91,"eventDate":"2016-06-02","parsedDate":"2016-06-02"},{"lat":-21.89,"long":113.92,"eventDate":"2016-10-07","parsedDate":"2016-10-07"},{"lat":-22.6,"long":113.61,"eventDate":"2016-10-08","parsedDate":"2016-10-08"},{"lat":-21.88,"long":113.91,"eventDate":"2016-10-11","parsedDate":"2016-10-11"},{"lat":-21.89,"long":113.92,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":-22.6,"long":113.61,"eventDate":"2016-11-13","parsedDate":"2016-11-13"},{"lat":-22.6,"long":113.61,"eventDate":"2016-11-15","parsedDate":"2016-11-15"},{"lat":-21.89,"long":113.92,"eventDate":"2016-11-16","parsedDate":"2016-11-16"}]},{"whaleSharkID":"A69-9001-19475","coordinates":[{"lat":-21.84,"long":113.97,"eventDate":"2016-06-02","parsedDate":"2016-06-02"},{"lat":-21.88,"long":113.91,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.9,"long":113.93,"eventDate":"2016-06-13","parsedDate":"2016-06-13"},{"lat":-21.9,"long":113.93,"eventDate":"2016-12-02","parsedDate":"2016-12-02"}]},{"whaleSharkID":"A69-9001-19478","coordinates":[{"lat":-21.89,"long":113.92,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.9,"long":113.93,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.95,"long":113.9,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.88,"long":113.91,"eventDate":"2016-06-04","parsedDate":"2016-06-04"},{"lat":-21.88,"long":113.91,"eventDate":"2016-08-02","parsedDate":"2016-08-02"},{"lat":-21.9,"long":113.93,"eventDate":"2016-08-04","parsedDate":"2016-08-04"}]},{"whaleSharkID":"34350805","coordinates":[{"lat":20.295652,"long":38.402069,"eventDate":"2016-06-17","parsedDate":"2016-06-17"}]},{"whaleSharkID":"34352805","coordinates":[{"lat":20.262691,"long":38.450625,"eventDate":"2016-06-17","parsedDate":"2016-06-17"}]},{"whaleSharkID":"365035075","coordinates":[{"lat":-22.38926,"long":166.184499,"eventDate":"2016-06-10","parsedDate":"2016-06-10"}]},{"whaleSharkID":"107909090","coordinates":[{"lat":-13.39723,"long":48.033264,"eventDate":"2016-06-11","parsedDate":"2016-06-11"}]},{"whaleSharkID":"130860226","coordinates":[{"lat":8.659988,"long":-83.242404,"eventDate":"2016-06-14","parsedDate":"2016-06-14"}]},{"whaleSharkID":"214401034","coordinates":[{"lat":9.453966,"long":123.270207,"eventDate":"2016-06-14","parsedDate":"2016-06-14"}]},{"whaleSharkID":"161733","coordinates":[{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-21.5,"long":115.5,"eventDate":"2016-06-17","parsedDate":"2016-06-17"},{"lat":-18.5,"long":119.5,"eventDate":"2016-07-09","parsedDate":"2016-07-09"},{"lat":-17.5,"long":119.5,"eventDate":"2016-07-10","parsedDate":"2016-07-10"},{"lat":-17.5,"long":120.5,"eventDate":"2016-07-14","parsedDate":"2016-07-14"},{"lat":-14.5,"long":121.5,"eventDate":"2016-07-22","parsedDate":"2016-07-22"},{"lat":-13.5,"long":122.5,"eventDate":"2016-07-24","parsedDate":"2016-07-24"},{"lat":-14.5,"long":122.5,"eventDate":"2016-07-26","parsedDate":"2016-07-26"},{"lat":-12.5,"long":123.5,"eventDate":"2016-08-08","parsedDate":"2016-08-08"},{"lat":-11.5,"long":123.5,"eventDate":"2016-08-10","parsedDate":"2016-08-10"}]},{"whaleSharkID":"163470","coordinates":[{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-20.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-18.5,"long":119.5,"eventDate":"2016-07-09","parsedDate":"2016-07-09"},{"lat":-14.5,"long":117.5,"eventDate":"2016-07-29","parsedDate":"2016-07-29"},{"lat":-14.5,"long":118.5,"eventDate":"2016-07-30","parsedDate":"2016-07-30"},{"lat":-13.5,"long":120.5,"eventDate":"2016-08-05","parsedDate":"2016-08-05"},{"lat":-12.5,"long":120.5,"eventDate":"2016-08-21","parsedDate":"2016-08-21"},{"lat":-12.5,"long":121.5,"eventDate":"2016-08-24","parsedDate":"2016-08-24"},{"lat":-11.5,"long":122.5,"eventDate":"2016-08-30","parsedDate":"2016-08-30"},{"lat":-11.5,"long":121.5,"eventDate":"2016-08-31","parsedDate":"2016-08-31"},{"lat":-11.5,"long":120.5,"eventDate":"2016-09-03","parsedDate":"2016-09-03"},{"lat":-12.5,"long":122.5,"eventDate":"2016-09-10","parsedDate":"2016-09-10"},{"lat":-10.5,"long":121.5,"eventDate":"2016-09-19","parsedDate":"2016-09-19"},{"lat":-12.5,"long":119.5,"eventDate":"2016-09-26","parsedDate":"2016-09-26"},{"lat":-11.5,"long":119.5,"eventDate":"2016-10-01","parsedDate":"2016-10-01"},{"lat":-16.5,"long":120.5,"eventDate":"2016-10-23","parsedDate":"2016-10-23"},{"lat":-16.5,"long":119.5,"eventDate":"2016-10-26","parsedDate":"2016-10-26"},{"lat":-19.5,"long":113.5,"eventDate":"2016-12-09","parsedDate":"2016-12-09"},{"lat":-18.5,"long":112.5,"eventDate":"2016-12-11","parsedDate":"2016-12-11"},{"lat":-19.5,"long":110.5,"eventDate":"2016-12-19","parsedDate":"2016-12-19"}]},{"whaleSharkID":"313935399","coordinates":[{"lat":-22.076092,"long":113.745801,"eventDate":"2016-07-12","parsedDate":"2016-07-12"}]},{"whaleSharkID":"375388525","coordinates":[{"lat":9.408216,"long":123.365435,"eventDate":"2016-07-26","parsedDate":"2016-07-26"}]},{"whaleSharkID":"375388531","coordinates":[{"lat":9.489251,"long":123.325789,"eventDate":"2016-07-26","parsedDate":"2016-07-26"}]},{"whaleSharkID":"480977433","coordinates":[{"lat":21.780909,"long":-86.193737,"eventDate":"2016-07-23","parsedDate":"2016-07-23"}]},{"whaleSharkID":"550052982","coordinates":[{"lat":21.610292,"long":-87.536376,"eventDate":"2016-07-29","parsedDate":"2016-07-29"}]},{"whaleSharkID":"88676801","coordinates":[{"lat":10.142521,"long":125.082556,"eventDate":"2016-07-14","parsedDate":"2016-07-14"}]},{"whaleSharkID":"18588697","coordinates":[{"lat":28.895705,"long":-113.499733,"eventDate":"2016-07-25","parsedDate":"2016-07-25"}]},{"whaleSharkID":"205274764","coordinates":[{"lat":9.53722,"long":123.528053,"eventDate":"2016-07-11","parsedDate":"2016-07-11"}]},{"whaleSharkID":"21013404","coordinates":[{"lat":-23.811816,"long":35.466226,"eventDate":"2016-07-25","parsedDate":"2016-07-25"}]},{"whaleSharkID":"21492563","coordinates":[{"lat":-23.997513,"long":35.469598,"eventDate":"2016-07-24","parsedDate":"2016-07-24"}]},{"whaleSharkID":"143670","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-20.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-19.5,"long":114.5,"eventDate":"2016-08-01","parsedDate":"2016-08-01"},{"lat":-18.5,"long":114.5,"eventDate":"2016-08-07","parsedDate":"2016-08-07"},{"lat":-17.5,"long":114.5,"eventDate":"2016-08-11","parsedDate":"2016-08-11"},{"lat":-16.5,"long":114.5,"eventDate":"2016-08-14","parsedDate":"2016-08-14"},{"lat":-16.5,"long":115.5,"eventDate":"2016-08-15","parsedDate":"2016-08-15"}]},{"whaleSharkID":"75603394","coordinates":[{"lat":21.482061,"long":-86.740551,"eventDate":"2016-08-11","parsedDate":"2016-08-11"}]},{"whaleSharkID":"82494295","coordinates":[{"lat":-2.169944,"long":134.654478,"eventDate":"2016-08-09","parsedDate":"2016-08-09"}]},{"whaleSharkID":"82494302","coordinates":[{"lat":-2.107038,"long":134.66743,"eventDate":"2016-08-09","parsedDate":"2016-08-09"}]},{"whaleSharkID":"82494326","coordinates":[{"lat":-2.056267,"long":134.636161,"eventDate":"2016-08-11","parsedDate":"2016-08-11"}]},{"whaleSharkID":"7751810","coordinates":[{"lat":21.441767,"long":-86.728921,"eventDate":"2016-08-27","parsedDate":"2016-08-27"}]},{"whaleSharkID":"7794079","coordinates":[{"lat":28.892553,"long":-113.492889,"eventDate":"2016-08-06","parsedDate":"2016-08-06"}]},{"whaleSharkID":"7794117","coordinates":[{"lat":28.893289,"long":-113.494286,"eventDate":"2016-08-06","parsedDate":"2016-08-06"}]},{"whaleSharkID":"8572837","coordinates":[{"lat":21.497199,"long":-86.7377,"eventDate":"2016-08-18","parsedDate":"2016-08-18"}]},{"whaleSharkID":"8586438","coordinates":[{"lat":21.42854,"long":-86.713568,"eventDate":"2016-08-18","parsedDate":"2016-08-18"}]},{"whaleSharkID":"10392075","coordinates":[{"lat":21.451849,"long":-86.607789,"eventDate":"2016-08-18","parsedDate":"2016-08-18"}]},{"whaleSharkID":"9175380","coordinates":[{"lat":26.524264,"long":34.186717,"eventDate":"2016-08-04","parsedDate":"2016-08-04"}]},{"whaleSharkID":"164090362","coordinates":[{"lat":28.901108,"long":-113.480025,"eventDate":"2016-08-01","parsedDate":"2016-08-01"}]},{"whaleSharkID":"226896578","coordinates":[{"lat":9.04787,"long":123.255252,"eventDate":"2016-09-23","parsedDate":"2016-09-23"}]},{"whaleSharkID":"161736","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-19.5,"long":116.5,"eventDate":"2016-08-31","parsedDate":"2016-08-31"},{"lat":-18.5,"long":116.5,"eventDate":"2016-09-04","parsedDate":"2016-09-04"},{"lat":-19.5,"long":117.5,"eventDate":"2016-09-06","parsedDate":"2016-09-06"}]},{"whaleSharkID":"35466639","coordinates":[{"lat":28.945156,"long":-113.538572,"eventDate":"2016-09-30","parsedDate":"2016-09-30"}]},{"whaleSharkID":"532397914","coordinates":[{"lat":-4.218282,"long":55.907164,"eventDate":"2016-09-19","parsedDate":"2016-09-19"}]},{"whaleSharkID":"553853366","coordinates":[{"lat":21.398591,"long":-86.371062,"eventDate":"2016-09-05","parsedDate":"2016-09-05"}]},{"whaleSharkID":"605028084","coordinates":[{"lat":5.610403,"long":102.902632,"eventDate":"2016-09-01","parsedDate":"2016-09-01"}]},{"whaleSharkID":"8130752","coordinates":[{"lat":28.912854,"long":-113.518658,"eventDate":"2016-09-17","parsedDate":"2016-09-17"}]},{"whaleSharkID":"8321895","coordinates":[{"lat":28.902397,"long":-113.504047,"eventDate":"2016-09-17","parsedDate":"2016-09-17"}]},{"whaleSharkID":"96223638","coordinates":[{"lat":1.797989,"long":-91.963951,"eventDate":"2016-09-28","parsedDate":"2016-09-28"}]},{"whaleSharkID":"8683706","coordinates":[{"lat":24.185585,"long":-110.450232,"eventDate":"2016-09-03","parsedDate":"2016-09-03"}]},{"whaleSharkID":"Esther","coordinates":[{"lat":1.6737,"long":-91.98911,"eventDate":"2016-09-04","parsedDate":"2016-09-04"},{"lat":1.67357,"long":-91.99514,"eventDate":"2016-09-05","parsedDate":"2016-09-05"}]},{"whaleSharkID":"Sebas","coordinates":[{"lat":1.6737,"long":-91.98911,"eventDate":"2016-09-05","parsedDate":"2016-09-05"},{"lat":0.89784,"long":-92.58431,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":0.89797,"long":-92.58428,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":0.91006,"long":-92.56397,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":0.98047,"long":-92.6173,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":1.01043,"long":-92.61802,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":1.01465,"long":-92.61006,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":1.02438,"long":-92.61108,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":1.02513,"long":-92.61015,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":1.05365,"long":-92.60496,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":1.05122,"long":-92.61524,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.35847,"long":-92.56308,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.4922,"long":-92.57255,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.72787,"long":-92.52136,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.75458,"long":-92.629,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.7635,"long":-92.51077,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.71294,"long":-92.00046,"eventDate":"2016-09-11","parsedDate":"2016-09-11"},{"lat":1.77439,"long":-92.50795,"eventDate":"2016-09-11","parsedDate":"2016-09-11"},{"lat":2.12505,"long":-90.83417,"eventDate":"2016-09-13","parsedDate":"2016-09-13"},{"lat":2.27526,"long":-90.32231,"eventDate":"2016-09-14","parsedDate":"2016-09-14"},{"lat":2.44718,"long":-90.52532,"eventDate":"2016-09-14","parsedDate":"2016-09-14"},{"lat":2.85759,"long":-90.16401,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":2.87529,"long":-90.1603,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":2.9212,"long":-90.14763,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":3.00803,"long":-90.12547,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":3.23911,"long":-89.33984,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":3.24067,"long":-89.34256,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":3.24653,"long":-89.33837,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":3.25938,"long":-89.33254,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":3.25952,"long":-89.33887,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":3.26043,"long":-89.32735,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":3.52163,"long":-89.96626,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":3.26099,"long":-89.31023,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":3.26572,"long":-89.31496,"eventDate":"2016-09-17","parsedDate":"2016-09-17"}]},{"whaleSharkID":"Alicia","coordinates":[{"lat":1.07041,"long":-89.02227,"eventDate":"2012-09-19","parsedDate":"2012-09-19"},{"lat":2.53559,"long":-88.78426,"eventDate":"2012-09-24","parsedDate":"2012-09-24"},{"lat":0.88778,"long":-86.57626,"eventDate":"2012-10-01","parsedDate":"2012-10-01"},{"lat":0.49193,"long":-88.14233,"eventDate":"2012-10-05","parsedDate":"2012-10-05"},{"lat":2.59394,"long":-91.68244,"eventDate":"2012-10-10","parsedDate":"2012-10-10"},{"lat":1.55876,"long":-92.58584,"eventDate":"2012-10-12","parsedDate":"2012-10-12"},{"lat":1.31472,"long":-96.8663,"eventDate":"2012-10-22","parsedDate":"2012-10-22"},{"lat":1.42818,"long":-97.7331,"eventDate":"2012-10-24","parsedDate":"2012-10-24"},{"lat":1.6737,"long":-91.98911,"eventDate":"2016-09-07","parsedDate":"2016-09-07"},{"lat":1.65916,"long":-92.03347,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":1.66524,"long":-92.0375,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":1.70624,"long":-92.00809,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":1.69578,"long":-91.97735,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.71431,"long":-91.9624,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.80529,"long":-91.97927,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.83325,"long":-92.00793,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.8719,"long":-91.99582,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.91725,"long":-92.0142,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.957,"long":-92.022,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":2.05649,"long":-91.85972,"eventDate":"2016-09-10","parsedDate":"2016-09-10"},{"lat":2.06291,"long":-91.85908,"eventDate":"2016-09-10","parsedDate":"2016-09-10"},{"lat":2.15542,"long":-92.0384,"eventDate":"2016-09-10","parsedDate":"2016-09-10"},{"lat":1.7287,"long":-91.60585,"eventDate":"2016-09-11","parsedDate":"2016-09-11"},{"lat":1.73819,"long":-91.59756,"eventDate":"2016-09-11","parsedDate":"2016-09-11"},{"lat":1.74449,"long":-91.57763,"eventDate":"2016-09-11","parsedDate":"2016-09-11"},{"lat":1.76278,"long":-91.58358,"eventDate":"2016-09-11","parsedDate":"2016-09-11"},{"lat":1.78423,"long":-91.55954,"eventDate":"2016-09-12","parsedDate":"2016-09-12"},{"lat":2.86859,"long":-90.53156,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":2.88409,"long":-90.54684,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":2.8901,"long":-90.53073,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":2.92275,"long":-90.52024,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":2.95014,"long":-90.51468,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":2.99063,"long":-90.52505,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":3.02912,"long":-90.46428,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":3.04456,"long":-90.47395,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":3.07769,"long":-90.46806,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":3.12899,"long":-90.43638,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":3.18101,"long":-90.40665,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":3.07137,"long":-89.93369,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":3.09563,"long":-89.96885,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":3.10123,"long":-89.96238,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":3.21343,"long":-90.12332,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":3.22655,"long":-90.30873,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":3.23536,"long":-90.38547,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":3.24086,"long":-90.14504,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":2.60556,"long":-89.48082,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":2.60878,"long":-89.4742,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":2.64745,"long":-89.4862,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":2.71003,"long":-89.53711,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":2.74645,"long":-89.58118,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":2.75373,"long":-89.59678,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":2.76845,"long":-89.62364,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":2.77769,"long":-89.62911,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":2.78112,"long":-89.63799,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":2.81488,"long":-89.65129,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":2.81967,"long":-89.65012,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":1.96679,"long":-89.2611,"eventDate":"2016-09-18","parsedDate":"2016-09-18"},{"lat":1.9725,"long":-89.27401,"eventDate":"2016-09-18","parsedDate":"2016-09-18"},{"lat":1.99803,"long":-89.26942,"eventDate":"2016-09-18","parsedDate":"2016-09-18"},{"lat":2.04267,"long":-89.28263,"eventDate":"2016-09-18","parsedDate":"2016-09-18"},{"lat":2.12648,"long":-89.31944,"eventDate":"2016-09-18","parsedDate":"2016-09-18"},{"lat":2.13438,"long":-89.32668,"eventDate":"2016-09-18","parsedDate":"2016-09-18"},{"lat":2.18693,"long":-89.19766,"eventDate":"2016-09-18","parsedDate":"2016-09-18"},{"lat":1.55522,"long":-89.12775,"eventDate":"2016-09-19","parsedDate":"2016-09-19"},{"lat":1.62535,"long":-89.17097,"eventDate":"2016-09-19","parsedDate":"2016-09-19"},{"lat":1.62942,"long":-89.16786,"eventDate":"2016-09-19","parsedDate":"2016-09-19"},{"lat":1.70408,"long":-89.13881,"eventDate":"2016-09-19","parsedDate":"2016-09-19"},{"lat":0.93674,"long":-89.01928,"eventDate":"2016-09-20","parsedDate":"2016-09-20"},{"lat":0.95275,"long":-89.02466,"eventDate":"2016-09-20","parsedDate":"2016-09-20"},{"lat":1.01058,"long":-89.0386,"eventDate":"2016-09-20","parsedDate":"2016-09-20"},{"lat":1.04957,"long":-89.04058,"eventDate":"2016-09-20","parsedDate":"2016-09-20"},{"lat":1.09711,"long":-89.02785,"eventDate":"2016-09-20","parsedDate":"2016-09-20"},{"lat":1.10272,"long":-89.03315,"eventDate":"2016-09-20","parsedDate":"2016-09-20"},{"lat":0.58106,"long":-89.08364,"eventDate":"2016-09-21","parsedDate":"2016-09-21"},{"lat":0.59283,"long":-89.07589,"eventDate":"2016-09-21","parsedDate":"2016-09-21"},{"lat":0.60602,"long":-89.07765,"eventDate":"2016-09-21","parsedDate":"2016-09-21"},{"lat":0.65233,"long":-89.34769,"eventDate":"2016-09-22","parsedDate":"2016-09-22"},{"lat":0.92547,"long":-88.88506,"eventDate":"2016-09-22","parsedDate":"2016-09-22"},{"lat":0.936,"long":-88.9209,"eventDate":"2016-09-22","parsedDate":"2016-09-22"},{"lat":0.97692,"long":-88.94353,"eventDate":"2016-09-22","parsedDate":"2016-09-22"},{"lat":0.99956,"long":-88.9373,"eventDate":"2016-09-22","parsedDate":"2016-09-22"},{"lat":1.00696,"long":-88.93745,"eventDate":"2016-09-22","parsedDate":"2016-09-22"},{"lat":1.30111,"long":-89.13928,"eventDate":"2016-09-23","parsedDate":"2016-09-23"},{"lat":1.47029,"long":-88.97947,"eventDate":"2016-09-23","parsedDate":"2016-09-23"},{"lat":1.58996,"long":-88.98093,"eventDate":"2016-09-23","parsedDate":"2016-09-23"},{"lat":1.60965,"long":-89.00439,"eventDate":"2016-09-23","parsedDate":"2016-09-23"},{"lat":1.7779,"long":-89.07155,"eventDate":"2016-09-23","parsedDate":"2016-09-23"},{"lat":1.9612,"long":-88.97304,"eventDate":"2016-09-24","parsedDate":"2016-09-24"},{"lat":1.99251,"long":-88.96237,"eventDate":"2016-09-24","parsedDate":"2016-09-24"},{"lat":2.0019,"long":-88.96381,"eventDate":"2016-09-24","parsedDate":"2016-09-24"},{"lat":2.0151,"long":-88.95927,"eventDate":"2016-09-24","parsedDate":"2016-09-24"},{"lat":2.04129,"long":-88.96608,"eventDate":"2016-09-24","parsedDate":"2016-09-24"},{"lat":2.1358,"long":-88.93708,"eventDate":"2016-09-24","parsedDate":"2016-09-24"},{"lat":2.22483,"long":-88.89151,"eventDate":"2016-09-24","parsedDate":"2016-09-24"},{"lat":2.58489,"long":-88.74137,"eventDate":"2016-09-25","parsedDate":"2016-09-25"},{"lat":2.77039,"long":-88.65479,"eventDate":"2016-09-25","parsedDate":"2016-09-25"},{"lat":2.80863,"long":-88.66072,"eventDate":"2016-09-25","parsedDate":"2016-09-25"},{"lat":2.85203,"long":-88.62865,"eventDate":"2016-09-25","parsedDate":"2016-09-25"},{"lat":2.85546,"long":-88.64606,"eventDate":"2016-09-25","parsedDate":"2016-09-25"},{"lat":2.87438,"long":-88.59963,"eventDate":"2016-09-25","parsedDate":"2016-09-25"},{"lat":3.20914,"long":-88.29542,"eventDate":"2016-09-26","parsedDate":"2016-09-26"},{"lat":3.22104,"long":-88.25901,"eventDate":"2016-09-26","parsedDate":"2016-09-26"},{"lat":3.23174,"long":-88.38296,"eventDate":"2016-09-26","parsedDate":"2016-09-26"},{"lat":3.23218,"long":-88.3817,"eventDate":"2016-09-26","parsedDate":"2016-09-26"},{"lat":3.24852,"long":-88.31341,"eventDate":"2016-09-26","parsedDate":"2016-09-26"},{"lat":3.2425,"long":-88.06935,"eventDate":"2016-09-27","parsedDate":"2016-09-27"},{"lat":3.51503,"long":-88.0052,"eventDate":"2016-09-27","parsedDate":"2016-09-27"},{"lat":3.55381,"long":-87.92069,"eventDate":"2016-09-27","parsedDate":"2016-09-27"},{"lat":3.55815,"long":-87.89607,"eventDate":"2016-09-27","parsedDate":"2016-09-27"},{"lat":3.57283,"long":-87.86999,"eventDate":"2016-09-27","parsedDate":"2016-09-27"},{"lat":3.57905,"long":-87.85414,"eventDate":"2016-09-27","parsedDate":"2016-09-27"},{"lat":3.19996,"long":-87.2638,"eventDate":"2016-09-28","parsedDate":"2016-09-28"},{"lat":3.20252,"long":-87.28761,"eventDate":"2016-09-28","parsedDate":"2016-09-28"},{"lat":2.67034,"long":-86.99335,"eventDate":"2016-09-29","parsedDate":"2016-09-29"},{"lat":2.70087,"long":-87.07957,"eventDate":"2016-09-29","parsedDate":"2016-09-29"},{"lat":2.76106,"long":-87.03975,"eventDate":"2016-09-29","parsedDate":"2016-09-29"},{"lat":2.81292,"long":-87.05687,"eventDate":"2016-09-29","parsedDate":"2016-09-29"},{"lat":2.81642,"long":-87.03514,"eventDate":"2016-09-29","parsedDate":"2016-09-29"},{"lat":2.09547,"long":-86.77048,"eventDate":"2016-09-30","parsedDate":"2016-09-30"},{"lat":2.19916,"long":-86.82251,"eventDate":"2016-09-30","parsedDate":"2016-09-30"},{"lat":2.234,"long":-86.83304,"eventDate":"2016-09-30","parsedDate":"2016-09-30"},{"lat":2.24928,"long":-86.82972,"eventDate":"2016-09-30","parsedDate":"2016-09-30"},{"lat":2.25134,"long":-86.86256,"eventDate":"2016-09-30","parsedDate":"2016-09-30"},{"lat":2.25441,"long":-86.8423,"eventDate":"2016-09-30","parsedDate":"2016-09-30"},{"lat":2.28658,"long":-86.85704,"eventDate":"2016-09-30","parsedDate":"2016-09-30"},{"lat":1.56253,"long":-86.65446,"eventDate":"2016-10-01","parsedDate":"2016-10-01"},{"lat":1.57011,"long":-86.5702,"eventDate":"2016-10-01","parsedDate":"2016-10-01"},{"lat":1.63047,"long":-86.60421,"eventDate":"2016-10-01","parsedDate":"2016-10-01"},{"lat":1.72853,"long":-86.62971,"eventDate":"2016-10-01","parsedDate":"2016-10-01"},{"lat":1.74478,"long":-86.6712,"eventDate":"2016-10-01","parsedDate":"2016-10-01"},{"lat":1.7691,"long":-86.65267,"eventDate":"2016-10-01","parsedDate":"2016-10-01"},{"lat":0.80889,"long":-86.56891,"eventDate":"2016-10-02","parsedDate":"2016-10-02"},{"lat":0.91129,"long":-86.5792,"eventDate":"2016-10-02","parsedDate":"2016-10-02"},{"lat":0.94185,"long":-86.58029,"eventDate":"2016-10-02","parsedDate":"2016-10-02"},{"lat":1.01552,"long":-86.62248,"eventDate":"2016-10-02","parsedDate":"2016-10-02"},{"lat":1.07049,"long":-86.61973,"eventDate":"2016-10-02","parsedDate":"2016-10-02"},{"lat":1.10317,"long":-86.58831,"eventDate":"2016-10-02","parsedDate":"2016-10-02"},{"lat":1.4433,"long":-86.56682,"eventDate":"2016-10-02","parsedDate":"2016-10-02"},{"lat":1.45991,"long":-86.58168,"eventDate":"2016-10-02","parsedDate":"2016-10-02"},{"lat":1.47213,"long":-86.55981,"eventDate":"2016-10-02","parsedDate":"2016-10-02"},{"lat":0.41869,"long":-86.55251,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":0.41872,"long":-86.55251,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":0.44945,"long":-86.56183,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":0.46027,"long":-86.56223,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":0.49222,"long":-86.56467,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":0.60598,"long":-86.56645,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":0.75337,"long":-86.56787,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":-0.1287,"long":-86.68766,"eventDate":"2016-10-04","parsedDate":"2016-10-04"},{"lat":-0.14183,"long":-86.48201,"eventDate":"2016-10-04","parsedDate":"2016-10-04"},{"lat":-0.17367,"long":-86.72542,"eventDate":"2016-10-04","parsedDate":"2016-10-04"},{"lat":-0.18828,"long":-86.78083,"eventDate":"2016-10-04","parsedDate":"2016-10-04"},{"lat":-0.2003,"long":-86.9261,"eventDate":"2016-10-04","parsedDate":"2016-10-04"},{"lat":-0.02006,"long":-87.3685,"eventDate":"2016-10-05","parsedDate":"2016-10-05"},{"lat":-0.03979,"long":-87.29717,"eventDate":"2016-10-05","parsedDate":"2016-10-05"},{"lat":-0.24648,"long":-86.90775,"eventDate":"2016-10-05","parsedDate":"2016-10-05"},{"lat":0.0118,"long":-87.41003,"eventDate":"2016-10-05","parsedDate":"2016-10-05"},{"lat":0.03483,"long":-87.45504,"eventDate":"2016-10-05","parsedDate":"2016-10-05"},{"lat":0.04565,"long":-87.47579,"eventDate":"2016-10-05","parsedDate":"2016-10-05"},{"lat":0.07009,"long":-87.52318,"eventDate":"2016-10-05","parsedDate":"2016-10-05"},{"lat":0.13941,"long":-87.79884,"eventDate":"2016-10-06","parsedDate":"2016-10-06"},{"lat":0.27102,"long":-87.9558,"eventDate":"2016-10-06","parsedDate":"2016-10-06"},{"lat":0.27992,"long":-87.96308,"eventDate":"2016-10-06","parsedDate":"2016-10-06"},{"lat":0.39378,"long":-88.0047,"eventDate":"2016-10-06","parsedDate":"2016-10-06"},{"lat":0.41769,"long":-88.03935,"eventDate":"2016-10-06","parsedDate":"2016-10-06"},{"lat":0.51848,"long":-88.16922,"eventDate":"2016-10-06","parsedDate":"2016-10-06"},{"lat":0.70969,"long":-88.44705,"eventDate":"2016-10-07","parsedDate":"2016-10-07"},{"lat":0.79367,"long":-88.50264,"eventDate":"2016-10-07","parsedDate":"2016-10-07"},{"lat":0.87023,"long":-88.59071,"eventDate":"2016-10-07","parsedDate":"2016-10-07"},{"lat":0.97379,"long":-88.87083,"eventDate":"2016-10-07","parsedDate":"2016-10-07"},{"lat":0.98323,"long":-88.87744,"eventDate":"2016-10-07","parsedDate":"2016-10-07"},{"lat":1.01995,"long":-88.91285,"eventDate":"2016-10-07","parsedDate":"2016-10-07"},{"lat":1.298,"long":-89.48146,"eventDate":"2016-10-08","parsedDate":"2016-10-08"},{"lat":1.45735,"long":-90.08907,"eventDate":"2016-10-08","parsedDate":"2016-10-08"},{"lat":1.49684,"long":-90.12337,"eventDate":"2016-10-08","parsedDate":"2016-10-08"},{"lat":1.74368,"long":-90.35762,"eventDate":"2016-10-09","parsedDate":"2016-10-09"},{"lat":1.84455,"long":-90.4536,"eventDate":"2016-10-09","parsedDate":"2016-10-09"},{"lat":1.89305,"long":-90.49558,"eventDate":"2016-10-09","parsedDate":"2016-10-09"},{"lat":1.91623,"long":-90.51683,"eventDate":"2016-10-09","parsedDate":"2016-10-09"},{"lat":1.9326,"long":-90.53548,"eventDate":"2016-10-09","parsedDate":"2016-10-09"},{"lat":1.96094,"long":-90.56889,"eventDate":"2016-10-09","parsedDate":"2016-10-09"},{"lat":1.97983,"long":-90.57397,"eventDate":"2016-10-09","parsedDate":"2016-10-09"},{"lat":2.18818,"long":-90.77851,"eventDate":"2016-10-10","parsedDate":"2016-10-10"},{"lat":2.29507,"long":-91.08223,"eventDate":"2016-10-10","parsedDate":"2016-10-10"},{"lat":2.3042,"long":-91.09359,"eventDate":"2016-10-10","parsedDate":"2016-10-10"},{"lat":2.30904,"long":-91.10489,"eventDate":"2016-10-10","parsedDate":"2016-10-10"},{"lat":2.34088,"long":-91.14595,"eventDate":"2016-10-10","parsedDate":"2016-10-10"},{"lat":2.35414,"long":-91.00176,"eventDate":"2016-10-10","parsedDate":"2016-10-10"},{"lat":2.35457,"long":-91.13002,"eventDate":"2016-10-10","parsedDate":"2016-10-10"},{"lat":2.58617,"long":-91.67548,"eventDate":"2016-10-11","parsedDate":"2016-10-11"},{"lat":2.59306,"long":-91.6936,"eventDate":"2016-10-11","parsedDate":"2016-10-11"},{"lat":2.59635,"long":-91.63903,"eventDate":"2016-10-11","parsedDate":"2016-10-11"},{"lat":2.4232,"long":-92.6828,"eventDate":"2016-10-12","parsedDate":"2016-10-12"},{"lat":1.51666,"long":-92.52394,"eventDate":"2016-10-13","parsedDate":"2016-10-13"},{"lat":1.54101,"long":-92.54408,"eventDate":"2016-10-13","parsedDate":"2016-10-13"},{"lat":1.54159,"long":-92.56212,"eventDate":"2016-10-13","parsedDate":"2016-10-13"},{"lat":1.56363,"long":-92.59949,"eventDate":"2016-10-13","parsedDate":"2016-10-13"},{"lat":1.67648,"long":-92.5391,"eventDate":"2016-10-13","parsedDate":"2016-10-13"},{"lat":1.69008,"long":-92.56447,"eventDate":"2016-10-13","parsedDate":"2016-10-13"},{"lat":1.71012,"long":-92.57668,"eventDate":"2016-10-13","parsedDate":"2016-10-13"},{"lat":1.75742,"long":-92.41392,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":1.76935,"long":-92.5253,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":1.77501,"long":-92.45013,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":1.77693,"long":-92.52324,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":1.77735,"long":-92.51024,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":1.78859,"long":-92.4675,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":1.7936,"long":-92.47427,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":1.80602,"long":-92.48733,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":1.81681,"long":-92.48616,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":1.83332,"long":-92.48795,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":1.83783,"long":-92.49728,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":1.88295,"long":-92.50803,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":1.86117,"long":-92.50876,"eventDate":"2016-10-15","parsedDate":"2016-10-15"},{"lat":1.88696,"long":-92.73936,"eventDate":"2016-10-15","parsedDate":"2016-10-15"},{"lat":1.89807,"long":-92.79123,"eventDate":"2016-10-15","parsedDate":"2016-10-15"},{"lat":1.89975,"long":-92.77073,"eventDate":"2016-10-15","parsedDate":"2016-10-15"},{"lat":1.91894,"long":-92.83281,"eventDate":"2016-10-15","parsedDate":"2016-10-15"},{"lat":1.93833,"long":-92.83059,"eventDate":"2016-10-16","parsedDate":"2016-10-16"},{"lat":1.95543,"long":-92.8272,"eventDate":"2016-10-16","parsedDate":"2016-10-16"},{"lat":1.95674,"long":-92.85043,"eventDate":"2016-10-16","parsedDate":"2016-10-16"},{"lat":1.95693,"long":-92.85012,"eventDate":"2016-10-16","parsedDate":"2016-10-16"},{"lat":1.98669,"long":-92.87102,"eventDate":"2016-10-16","parsedDate":"2016-10-16"},{"lat":1.99408,"long":-92.87771,"eventDate":"2016-10-16","parsedDate":"2016-10-16"},{"lat":1.32568,"long":-96.98585,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.33208,"long":-96.97837,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.33801,"long":-96.96693,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.34724,"long":-97.0266,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.34927,"long":-97.02699,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.35023,"long":-97.06653,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.35393,"long":-97.1519,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.35441,"long":-97.10708,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.35795,"long":-97.17814,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.35918,"long":-97.21582,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.35919,"long":-97.20473,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.36115,"long":-97.29696,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.36303,"long":-97.24353,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.36489,"long":-97.2588,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.36578,"long":-97.31408,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.36632,"long":-97.31099,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.3693,"long":-97.35322,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.3709,"long":-97.45802,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.37391,"long":-97.47929,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.38212,"long":-97.507,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.38536,"long":-97.56838,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.38563,"long":-97.53062,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":1.39427,"long":-97.62332,"eventDate":"2016-10-25","parsedDate":"2016-10-25"},{"lat":1.39495,"long":-97.62708,"eventDate":"2016-10-25","parsedDate":"2016-10-25"},{"lat":1.40095,"long":-97.6023,"eventDate":"2016-10-25","parsedDate":"2016-10-25"},{"lat":1.40185,"long":-97.87925,"eventDate":"2016-10-25","parsedDate":"2016-10-25"},{"lat":1.40187,"long":-97.65432,"eventDate":"2016-10-25","parsedDate":"2016-10-25"},{"lat":1.4071,"long":-97.84105,"eventDate":"2016-10-25","parsedDate":"2016-10-25"},{"lat":1.40773,"long":-97.67989,"eventDate":"2016-10-25","parsedDate":"2016-10-25"},{"lat":1.40831,"long":-97.6807,"eventDate":"2016-10-25","parsedDate":"2016-10-25"},{"lat":1.40847,"long":-97.81518,"eventDate":"2016-10-25","parsedDate":"2016-10-25"},{"lat":1.41535,"long":-97.86646,"eventDate":"2016-10-25","parsedDate":"2016-10-25"},{"lat":1.41611,"long":-97.76367,"eventDate":"2016-10-25","parsedDate":"2016-10-25"}]},{"whaleSharkID":"Patricia","coordinates":[{"lat":1.6737,"long":-91.98911,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":1.74479,"long":-91.98849,"eventDate":"2016-09-10","parsedDate":"2016-09-10"},{"lat":2.07688,"long":-92.13542,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":2.08444,"long":-92.14757,"eventDate":"2016-09-17","parsedDate":"2016-09-17"}]},{"whaleSharkID":"Alex","coordinates":[{"lat":1.6737,"long":-91.98911,"eventDate":"2016-09-05","parsedDate":"2016-09-05"},{"lat":-0.09139,"long":-89.38566,"eventDate":"2016-09-21","parsedDate":"2016-09-21"}]},{"whaleSharkID":"Dani","coordinates":[{"lat":1.60132,"long":-92.20502,"eventDate":"2012-09-10","parsedDate":"2012-09-10"},{"lat":0.77232,"long":-93.05725,"eventDate":"2012-09-12","parsedDate":"2012-09-12"},{"lat":1.6737,"long":-91.98911,"eventDate":"2016-09-07","parsedDate":"2016-09-07"},{"lat":1.68964,"long":-92.00779,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.71379,"long":-92.01345,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.71925,"long":-91.99732,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.7474,"long":-92.08981,"eventDate":"2016-09-10","parsedDate":"2016-09-10"},{"lat":1.75561,"long":-92.08383,"eventDate":"2016-09-10","parsedDate":"2016-09-10"},{"lat":1.59905,"long":-92.19479,"eventDate":"2016-09-11","parsedDate":"2016-09-11"},{"lat":1.18025,"long":-92.59994,"eventDate":"2016-09-12","parsedDate":"2016-09-12"},{"lat":1.21118,"long":-92.56431,"eventDate":"2016-09-12","parsedDate":"2016-09-12"},{"lat":1.21318,"long":-92.5649,"eventDate":"2016-09-12","parsedDate":"2016-09-12"},{"lat":1.23996,"long":-92.5316,"eventDate":"2016-09-12","parsedDate":"2016-09-12"},{"lat":0.77008,"long":-93.05768,"eventDate":"2016-09-13","parsedDate":"2016-09-13"},{"lat":0.78733,"long":-93.03385,"eventDate":"2016-09-13","parsedDate":"2016-09-13"},{"lat":0.80037,"long":-93.02133,"eventDate":"2016-09-13","parsedDate":"2016-09-13"},{"lat":0.47909,"long":-93.57743,"eventDate":"2016-09-14","parsedDate":"2016-09-14"},{"lat":0.48368,"long":-93.49221,"eventDate":"2016-09-14","parsedDate":"2016-09-14"}]},{"whaleSharkID":"Cindy","coordinates":[{"lat":2.0727,"long":-93.5963,"eventDate":"2012-09-14","parsedDate":"2012-09-14"},{"lat":1.6737,"long":-91.98911,"eventDate":"2016-09-06","parsedDate":"2016-09-06"},{"lat":1.55501,"long":-91.77153,"eventDate":"2016-09-07","parsedDate":"2016-09-07"},{"lat":1.5599,"long":-91.78307,"eventDate":"2016-09-07","parsedDate":"2016-09-07"},{"lat":1.57348,"long":-91.8263,"eventDate":"2016-09-07","parsedDate":"2016-09-07"},{"lat":1.58227,"long":-91.74632,"eventDate":"2016-09-07","parsedDate":"2016-09-07"},{"lat":1.55863,"long":-91.6409,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":1.58203,"long":-91.45514,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":1.68113,"long":-91.33785,"eventDate":"2016-09-08","parsedDate":"2016-09-08"},{"lat":1.71216,"long":-91.2634,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.93971,"long":-91.03104,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":1.96066,"long":-91.02948,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":2.00915,"long":-90.97242,"eventDate":"2016-09-09","parsedDate":"2016-09-09"},{"lat":2.35851,"long":-90.83113,"eventDate":"2016-09-10","parsedDate":"2016-09-10"},{"lat":2.36044,"long":-90.8191,"eventDate":"2016-09-10","parsedDate":"2016-09-10"},{"lat":2.3699,"long":-90.8313,"eventDate":"2016-09-10","parsedDate":"2016-09-10"},{"lat":2.45042,"long":-90.97025,"eventDate":"2016-09-11","parsedDate":"2016-09-11"},{"lat":2.64239,"long":-91.07553,"eventDate":"2016-09-11","parsedDate":"2016-09-11"},{"lat":2.64845,"long":-91.09521,"eventDate":"2016-09-11","parsedDate":"2016-09-11"},{"lat":2.66604,"long":-91.11956,"eventDate":"2016-09-11","parsedDate":"2016-09-11"},{"lat":2.68054,"long":-91.13026,"eventDate":"2016-09-11","parsedDate":"2016-09-11"},{"lat":2.7117,"long":-91.16816,"eventDate":"2016-09-11","parsedDate":"2016-09-11"},{"lat":2.85258,"long":-91.71704,"eventDate":"2016-09-12","parsedDate":"2016-09-12"},{"lat":2.89747,"long":-91.56048,"eventDate":"2016-09-12","parsedDate":"2016-09-12"},{"lat":2.90303,"long":-91.52769,"eventDate":"2016-09-12","parsedDate":"2016-09-12"},{"lat":2.90542,"long":-91.693,"eventDate":"2016-09-12","parsedDate":"2016-09-12"},{"lat":2.91109,"long":-91.68041,"eventDate":"2016-09-12","parsedDate":"2016-09-12"},{"lat":2.762,"long":-92.04523,"eventDate":"2016-09-13","parsedDate":"2016-09-13"},{"lat":2.77476,"long":-91.93152,"eventDate":"2016-09-13","parsedDate":"2016-09-13"},{"lat":2.42162,"long":-92.88323,"eventDate":"2016-09-14","parsedDate":"2016-09-14"},{"lat":2.48002,"long":-92.84947,"eventDate":"2016-09-14","parsedDate":"2016-09-14"},{"lat":2.5324,"long":-92.57655,"eventDate":"2016-09-14","parsedDate":"2016-09-14"},{"lat":2.55106,"long":-92.81104,"eventDate":"2016-09-14","parsedDate":"2016-09-14"},{"lat":2.11564,"long":-93.50274,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":2.19966,"long":-93.38132,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":2.39358,"long":-92.90242,"eventDate":"2016-09-15","parsedDate":"2016-09-15"},{"lat":1.61977,"long":-94.16583,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":1.64801,"long":-94.09797,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":1.66724,"long":-94.01907,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":1.72606,"long":-94.00348,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":1.73631,"long":-93.95435,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":1.7478,"long":-93.92593,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":2.01045,"long":-93.68776,"eventDate":"2016-09-16","parsedDate":"2016-09-16"},{"lat":1.22537,"long":-94.72016,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":1.26959,"long":-94.56584,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":1.28249,"long":-94.56816,"eventDate":"2016-09-17","parsedDate":"2016-09-17"},{"lat":0.73377,"long":-95.48557,"eventDate":"2016-09-18","parsedDate":"2016-09-18"},{"lat":0.75784,"long":-95.42662,"eventDate":"2016-09-18","parsedDate":"2016-09-18"},{"lat":0.77705,"long":-95.40399,"eventDate":"2016-09-18","parsedDate":"2016-09-18"},{"lat":0.87261,"long":-95.23688,"eventDate":"2016-09-18","parsedDate":"2016-09-18"},{"lat":0.38675,"long":-96.03447,"eventDate":"2016-09-19","parsedDate":"2016-09-19"},{"lat":0.40023,"long":-95.96481,"eventDate":"2016-09-19","parsedDate":"2016-09-19"},{"lat":0.40049,"long":-95.95394,"eventDate":"2016-09-19","parsedDate":"2016-09-19"},{"lat":0.40122,"long":-95.95216,"eventDate":"2016-09-19","parsedDate":"2016-09-19"},{"lat":0.099,"long":-97.02601,"eventDate":"2016-09-20","parsedDate":"2016-09-20"},{"lat":0.12138,"long":-97.04469,"eventDate":"2016-09-20","parsedDate":"2016-09-20"},{"lat":0.14696,"long":-96.98017,"eventDate":"2016-09-20","parsedDate":"2016-09-20"},{"lat":-0.09861,"long":-97.54508,"eventDate":"2016-09-21","parsedDate":"2016-09-21"},{"lat":-0.09925,"long":-97.5436,"eventDate":"2016-09-21","parsedDate":"2016-09-21"},{"lat":-0.12798,"long":-97.61956,"eventDate":"2016-09-21","parsedDate":"2016-09-21"},{"lat":-0.14797,"long":-97.6628,"eventDate":"2016-09-21","parsedDate":"2016-09-21"},{"lat":-0.14974,"long":-97.66612,"eventDate":"2016-09-21","parsedDate":"2016-09-21"},{"lat":-0.16822,"long":-97.71204,"eventDate":"2016-09-21","parsedDate":"2016-09-21"},{"lat":-0.19085,"long":-97.76207,"eventDate":"2016-09-21","parsedDate":"2016-09-21"},{"lat":0.01047,"long":-97.47048,"eventDate":"2016-09-21","parsedDate":"2016-09-21"},{"lat":-0.34589,"long":-98.06622,"eventDate":"2016-09-22","parsedDate":"2016-09-22"},{"lat":-0.36549,"long":-98.25876,"eventDate":"2016-09-22","parsedDate":"2016-09-22"},{"lat":-0.39442,"long":-98.24726,"eventDate":"2016-09-22","parsedDate":"2016-09-22"},{"lat":-0.41292,"long":-98.42667,"eventDate":"2016-09-22","parsedDate":"2016-09-22"},{"lat":-0.51136,"long":-98.9622,"eventDate":"2016-09-23","parsedDate":"2016-09-23"},{"lat":-0.6761,"long":-98.97448,"eventDate":"2016-09-23","parsedDate":"2016-09-23"},{"lat":-0.68696,"long":-98.99117,"eventDate":"2016-09-23","parsedDate":"2016-09-23"},{"lat":-0.69692,"long":-98.9966,"eventDate":"2016-09-23","parsedDate":"2016-09-23"},{"lat":-0.99896,"long":-99.25444,"eventDate":"2016-09-24","parsedDate":"2016-09-24"},{"lat":-1.01062,"long":-99.26413,"eventDate":"2016-09-24","parsedDate":"2016-09-24"},{"lat":-1.02493,"long":-99.27745,"eventDate":"2016-09-24","parsedDate":"2016-09-24"},{"lat":-1.04239,"long":-99.28099,"eventDate":"2016-09-24","parsedDate":"2016-09-24"},{"lat":-1.05859,"long":-99.30907,"eventDate":"2016-09-24","parsedDate":"2016-09-24"},{"lat":-1.13206,"long":-99.35209,"eventDate":"2016-09-24","parsedDate":"2016-09-24"},{"lat":-1.14858,"long":-99.39202,"eventDate":"2016-09-24","parsedDate":"2016-09-24"},{"lat":-1.56908,"long":-99.82631,"eventDate":"2016-09-25","parsedDate":"2016-09-25"},{"lat":-1.65357,"long":-99.72795,"eventDate":"2016-09-25","parsedDate":"2016-09-25"},{"lat":-1.89415,"long":-99.98143,"eventDate":"2016-09-26","parsedDate":"2016-09-26"},{"lat":-1.89433,"long":-99.98783,"eventDate":"2016-09-26","parsedDate":"2016-09-26"},{"lat":-2.09981,"long":-100.09789,"eventDate":"2016-09-26","parsedDate":"2016-09-26"},{"lat":-2.16341,"long":-100.0992,"eventDate":"2016-09-26","parsedDate":"2016-09-26"},{"lat":-2.1934,"long":-100.10749,"eventDate":"2016-09-26","parsedDate":"2016-09-26"},{"lat":-2.21395,"long":-100.1782,"eventDate":"2016-09-26","parsedDate":"2016-09-26"},{"lat":-2.4496,"long":-100.70729,"eventDate":"2016-09-27","parsedDate":"2016-09-27"},{"lat":-2.48365,"long":-100.75982,"eventDate":"2016-09-27","parsedDate":"2016-09-27"},{"lat":-2.50405,"long":-100.78111,"eventDate":"2016-09-27","parsedDate":"2016-09-27"},{"lat":-2.52343,"long":-100.73489,"eventDate":"2016-09-27","parsedDate":"2016-09-27"},{"lat":-2.56936,"long":-100.83041,"eventDate":"2016-09-27","parsedDate":"2016-09-27"},{"lat":-2.67966,"long":-100.97774,"eventDate":"2016-09-28","parsedDate":"2016-09-28"},{"lat":-3.24544,"long":-101.79326,"eventDate":"2016-09-29","parsedDate":"2016-09-29"},{"lat":-3.33092,"long":-101.74012,"eventDate":"2016-09-29","parsedDate":"2016-09-29"},{"lat":-3.36289,"long":-101.78098,"eventDate":"2016-09-29","parsedDate":"2016-09-29"},{"lat":-3.3972,"long":-101.7706,"eventDate":"2016-09-30","parsedDate":"2016-09-30"},{"lat":-3.96661,"long":-103.25502,"eventDate":"2016-10-01","parsedDate":"2016-10-01"},{"lat":-3.97489,"long":-103.2564,"eventDate":"2016-10-01","parsedDate":"2016-10-01"},{"lat":-3.97878,"long":-103.257,"eventDate":"2016-10-01","parsedDate":"2016-10-01"},{"lat":-4.23872,"long":-103.77351,"eventDate":"2016-10-02","parsedDate":"2016-10-02"},{"lat":-4.27458,"long":-103.7616,"eventDate":"2016-10-02","parsedDate":"2016-10-02"},{"lat":-4.2748,"long":-103.76184,"eventDate":"2016-10-02","parsedDate":"2016-10-02"},{"lat":-4.3048,"long":-103.79836,"eventDate":"2016-10-02","parsedDate":"2016-10-02"},{"lat":-4.33097,"long":-103.83531,"eventDate":"2016-10-02","parsedDate":"2016-10-02"},{"lat":-4.82774,"long":-104.11752,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":-4.84824,"long":-104.12984,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":-4.87989,"long":-104.14349,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":-4.90579,"long":-104.16159,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":-4.94935,"long":-104.20544,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":-5.08609,"long":-104.30445,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":-5.10741,"long":-104.31778,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":-5.11718,"long":-104.32493,"eventDate":"2016-10-03","parsedDate":"2016-10-03"},{"lat":-5.16426,"long":-104.2923,"eventDate":"2016-10-04","parsedDate":"2016-10-04"},{"lat":-5.48099,"long":-104.50788,"eventDate":"2016-10-04","parsedDate":"2016-10-04"},{"lat":-5.49273,"long":-104.51341,"eventDate":"2016-10-04","parsedDate":"2016-10-04"},{"lat":-5.54748,"long":-104.53134,"eventDate":"2016-10-04","parsedDate":"2016-10-04"},{"lat":-5.63896,"long":-104.54061,"eventDate":"2016-10-04","parsedDate":"2016-10-04"},{"lat":-5.72042,"long":-104.57339,"eventDate":"2016-10-04","parsedDate":"2016-10-04"},{"lat":-5.73976,"long":-104.58023,"eventDate":"2016-10-04","parsedDate":"2016-10-04"},{"lat":-5.81452,"long":-104.60438,"eventDate":"2016-10-05","parsedDate":"2016-10-05"},{"lat":-6.22467,"long":-104.62561,"eventDate":"2016-10-05","parsedDate":"2016-10-05"},{"lat":-6.37396,"long":-104.66218,"eventDate":"2016-10-05","parsedDate":"2016-10-05"},{"lat":-6.74736,"long":-104.76714,"eventDate":"2016-10-06","parsedDate":"2016-10-06"},{"lat":-6.78321,"long":-104.76932,"eventDate":"2016-10-06","parsedDate":"2016-10-06"},{"lat":-6.79844,"long":-104.84322,"eventDate":"2016-10-06","parsedDate":"2016-10-06"},{"lat":-6.82846,"long":-104.86137,"eventDate":"2016-10-06","parsedDate":"2016-10-06"},{"lat":-6.83501,"long":-104.75162,"eventDate":"2016-10-06","parsedDate":"2016-10-06"},{"lat":-7.02233,"long":-105.01973,"eventDate":"2016-10-07","parsedDate":"2016-10-07"}]},{"whaleSharkID":"10650325","coordinates":[{"lat":40.136799,"long":-68.508979,"eventDate":"2016-09-24","parsedDate":"2016-09-24"}]},{"whaleSharkID":"45784695","coordinates":[{"lat":24.174589,"long":-110.322142,"eventDate":"2016-10-12","parsedDate":"2016-10-12"}]},{"whaleSharkID":"604019949","coordinates":[{"lat":-7.893018,"long":39.787086,"eventDate":"2016-10-27","parsedDate":"2016-10-27"}]},{"whaleSharkID":"604019952","coordinates":[{"lat":-7.911784,"long":39.601494,"eventDate":"2016-10-27","parsedDate":"2016-10-27"}]},{"whaleSharkID":"604019955","coordinates":[{"lat":-7.874598,"long":39.610416,"eventDate":"2016-10-27","parsedDate":"2016-10-27"}]},{"whaleSharkID":"604019957","coordinates":[{"lat":-7.808497,"long":39.61527,"eventDate":"2016-10-27","parsedDate":"2016-10-27"}]},{"whaleSharkID":"604019963","coordinates":[{"lat":-7.853259,"long":39.621883,"eventDate":"2016-10-27","parsedDate":"2016-10-27"}]},{"whaleSharkID":"604019966","coordinates":[{"lat":-7.892518,"long":39.703274,"eventDate":"2016-10-27","parsedDate":"2016-10-27"}]},{"whaleSharkID":"604019967","coordinates":[{"lat":-7.959057,"long":39.74926,"eventDate":"2016-10-27","parsedDate":"2016-10-27"}]},{"whaleSharkID":"8516847","coordinates":[{"lat":-7.889363,"long":39.625146,"eventDate":"2016-10-12","parsedDate":"2016-10-12"}]},{"whaleSharkID":"Kika","coordinates":[{"lat":1.6737,"long":-91.98911,"eventDate":"2016-10-21","parsedDate":"2016-10-21"}]},{"whaleSharkID":"Michelle","coordinates":[{"lat":1.6737,"long":-91.98911,"eventDate":"2016-10-20","parsedDate":"2016-10-20"},{"lat":0.65019,"long":-92.57395,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":0.65104,"long":-92.57787,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":0.6573,"long":-92.42431,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":0.65983,"long":-92.53605,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":0.67786,"long":-92.62225,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":0.70022,"long":-92.343,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":0.81194,"long":-92.98832,"eventDate":"2016-10-25","parsedDate":"2016-10-25"},{"lat":0.85066,"long":-93.08494,"eventDate":"2016-10-25","parsedDate":"2016-10-25"},{"lat":0.85683,"long":-93.11561,"eventDate":"2016-10-25","parsedDate":"2016-10-25"},{"lat":0.77723,"long":-93.50848,"eventDate":"2016-10-26","parsedDate":"2016-10-26"},{"lat":0.80083,"long":-93.52377,"eventDate":"2016-10-26","parsedDate":"2016-10-26"},{"lat":0.80648,"long":-93.501,"eventDate":"2016-10-26","parsedDate":"2016-10-26"},{"lat":0.81073,"long":-93.53402,"eventDate":"2016-10-26","parsedDate":"2016-10-26"},{"lat":0.84699,"long":-93.42728,"eventDate":"2016-10-26","parsedDate":"2016-10-26"},{"lat":0.70222,"long":-93.98276,"eventDate":"2016-10-27","parsedDate":"2016-10-27"},{"lat":0.71389,"long":-94.00822,"eventDate":"2016-10-27","parsedDate":"2016-10-27"},{"lat":0.71437,"long":-93.94788,"eventDate":"2016-10-27","parsedDate":"2016-10-27"},{"lat":0.77233,"long":-93.88021,"eventDate":"2016-10-27","parsedDate":"2016-10-27"},{"lat":0.77876,"long":-93.86516,"eventDate":"2016-10-27","parsedDate":"2016-10-27"},{"lat":0.82676,"long":-93.8825,"eventDate":"2016-10-27","parsedDate":"2016-10-27"},{"lat":0.74469,"long":-94.43563,"eventDate":"2016-10-28","parsedDate":"2016-10-28"},{"lat":0.795,"long":-94.44059,"eventDate":"2016-10-28","parsedDate":"2016-10-28"},{"lat":0.814,"long":-94.39964,"eventDate":"2016-10-28","parsedDate":"2016-10-28"},{"lat":0.84976,"long":-94.44269,"eventDate":"2016-10-28","parsedDate":"2016-10-28"},{"lat":0.93007,"long":-95.04717,"eventDate":"2016-10-29","parsedDate":"2016-10-29"},{"lat":0.94932,"long":-94.99504,"eventDate":"2016-10-29","parsedDate":"2016-10-29"},{"lat":0.98903,"long":-95.10047,"eventDate":"2016-10-29","parsedDate":"2016-10-29"},{"lat":1.0046,"long":-95.14233,"eventDate":"2016-10-29","parsedDate":"2016-10-29"},{"lat":1.03779,"long":-95.19894,"eventDate":"2016-10-29","parsedDate":"2016-10-29"},{"lat":1.22175,"long":-95.45403,"eventDate":"2016-10-30","parsedDate":"2016-10-30"},{"lat":1.38847,"long":-95.69831,"eventDate":"2016-10-30","parsedDate":"2016-10-30"},{"lat":1.46873,"long":-96.17604,"eventDate":"2016-10-31","parsedDate":"2016-10-31"},{"lat":1.48904,"long":-96.1504,"eventDate":"2016-10-31","parsedDate":"2016-10-31"},{"lat":1.50699,"long":-96.15994,"eventDate":"2016-10-31","parsedDate":"2016-10-31"},{"lat":1.7259,"long":-96.24372,"eventDate":"2016-11-01","parsedDate":"2016-11-01"},{"lat":1.77729,"long":-96.66158,"eventDate":"2016-11-01","parsedDate":"2016-11-01"},{"lat":1.78593,"long":-96.67103,"eventDate":"2016-11-01","parsedDate":"2016-11-01"},{"lat":2.15048,"long":-97.18057,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":2.15166,"long":-97.22557,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":2.15893,"long":-97.1907,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":2.1617,"long":-97.22016,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":2.16278,"long":-97.22922,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":2.1861,"long":-97.16391,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":2.19907,"long":-97.51701,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":2.20649,"long":-97.47884,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":2.21655,"long":-97.63317,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":2.22796,"long":-97.66499,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":2.18188,"long":-97.92439,"eventDate":"2016-11-05","parsedDate":"2016-11-05"},{"lat":2.18457,"long":-97.92537,"eventDate":"2016-11-05","parsedDate":"2016-11-05"},{"lat":2.25359,"long":-98.01933,"eventDate":"2016-11-05","parsedDate":"2016-11-05"},{"lat":2.3772,"long":-98.23001,"eventDate":"2016-11-05","parsedDate":"2016-11-05"},{"lat":2.18316,"long":-98.23839,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":2.2005,"long":-98.67971,"eventDate":"2016-11-07","parsedDate":"2016-11-07"},{"lat":2.45045,"long":-99.31476,"eventDate":"2016-11-08","parsedDate":"2016-11-08"},{"lat":2.47085,"long":-99.30726,"eventDate":"2016-11-08","parsedDate":"2016-11-08"},{"lat":2.47335,"long":-99.31395,"eventDate":"2016-11-08","parsedDate":"2016-11-08"},{"lat":2.59068,"long":-99.47625,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.59254,"long":-99.37708,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.59366,"long":-99.42764,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":2.47075,"long":-100.05192,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":2.54567,"long":-100.09772,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":2.55906,"long":-100.0414,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":2.51762,"long":-100.55405,"eventDate":"2016-11-11","parsedDate":"2016-11-11"},{"lat":2.54002,"long":-100.61773,"eventDate":"2016-11-11","parsedDate":"2016-11-11"},{"lat":2.57746,"long":-100.7582,"eventDate":"2016-11-11","parsedDate":"2016-11-11"},{"lat":2.58144,"long":-100.71397,"eventDate":"2016-11-11","parsedDate":"2016-11-11"},{"lat":2.59284,"long":-100.76608,"eventDate":"2016-11-11","parsedDate":"2016-11-11"},{"lat":2.50453,"long":-100.87762,"eventDate":"2016-11-12","parsedDate":"2016-11-12"},{"lat":2.66113,"long":-101.20811,"eventDate":"2016-11-12","parsedDate":"2016-11-12"},{"lat":3.03822,"long":-102.40356,"eventDate":"2016-11-13","parsedDate":"2016-11-13"},{"lat":3.07027,"long":-102.36027,"eventDate":"2016-11-13","parsedDate":"2016-11-13"},{"lat":2.8729,"long":-102.04587,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":2.93816,"long":-102.17156,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":2.94545,"long":-102.21351,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":2.94605,"long":-102.18082,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":2.96001,"long":-102.26295,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":2.97236,"long":-102.42264,"eventDate":"2016-11-15","parsedDate":"2016-11-15"},{"lat":2.9736,"long":-102.43297,"eventDate":"2016-11-15","parsedDate":"2016-11-15"},{"lat":2.98509,"long":-102.16829,"eventDate":"2016-11-15","parsedDate":"2016-11-15"},{"lat":3.19778,"long":-102.44763,"eventDate":"2016-11-16","parsedDate":"2016-11-16"},{"lat":3.22241,"long":-103.34202,"eventDate":"2016-11-18","parsedDate":"2016-11-18"},{"lat":3.28984,"long":-103.28064,"eventDate":"2016-11-18","parsedDate":"2016-11-18"},{"lat":3.29396,"long":-103.22878,"eventDate":"2016-11-18","parsedDate":"2016-11-18"},{"lat":3.28408,"long":-104.00634,"eventDate":"2016-11-19","parsedDate":"2016-11-19"},{"lat":3.28655,"long":-104.03741,"eventDate":"2016-11-19","parsedDate":"2016-11-19"},{"lat":3.35025,"long":-104.38579,"eventDate":"2016-11-20","parsedDate":"2016-11-20"},{"lat":3.35462,"long":-104.34152,"eventDate":"2016-11-20","parsedDate":"2016-11-20"},{"lat":3.40834,"long":-104.30686,"eventDate":"2016-11-20","parsedDate":"2016-11-20"},{"lat":3.41129,"long":-104.3378,"eventDate":"2016-11-20","parsedDate":"2016-11-20"},{"lat":3.4794,"long":-104.50104,"eventDate":"2016-11-21","parsedDate":"2016-11-21"},{"lat":3.44574,"long":-105.02565,"eventDate":"2016-11-23","parsedDate":"2016-11-23"},{"lat":3.49652,"long":-104.94933,"eventDate":"2016-11-23","parsedDate":"2016-11-23"},{"lat":3.55692,"long":-104.88373,"eventDate":"2016-11-23","parsedDate":"2016-11-23"},{"lat":3.88197,"long":-105.47896,"eventDate":"2016-12-03","parsedDate":"2016-12-03"},{"lat":3.94159,"long":-105.53621,"eventDate":"2016-12-03","parsedDate":"2016-12-03"},{"lat":3.88069,"long":-105.49848,"eventDate":"2016-12-04","parsedDate":"2016-12-04"}]},{"whaleSharkID":"Caroline","coordinates":[{"lat":1.6737,"long":-91.98911,"eventDate":"2016-10-14","parsedDate":"2016-10-14"}]},{"whaleSharkID":"QueenMabel","coordinates":[{"lat":0.31098,"long":-96.28749,"eventDate":"2012-10-24","parsedDate":"2012-10-24"},{"lat":3.66135,"long":-115.69056,"eventDate":"2012-11-20","parsedDate":"2012-11-20"},{"lat":3.51546,"long":-113.57074,"eventDate":"2012-12-07","parsedDate":"2012-12-07"},{"lat":1.6737,"long":-91.98911,"eventDate":"2016-10-16","parsedDate":"2016-10-16"},{"lat":1.7348,"long":-92.911,"eventDate":"2016-10-19","parsedDate":"2016-10-19"},{"lat":1.17536,"long":-92.87378,"eventDate":"2016-10-20","parsedDate":"2016-10-20"},{"lat":1.27554,"long":-92.68429,"eventDate":"2016-10-20","parsedDate":"2016-10-20"},{"lat":1.2786,"long":-92.66294,"eventDate":"2016-10-20","parsedDate":"2016-10-20"},{"lat":1.05294,"long":-93.22575,"eventDate":"2016-10-21","parsedDate":"2016-10-21"},{"lat":1.20745,"long":-93.17121,"eventDate":"2016-10-21","parsedDate":"2016-10-21"},{"lat":0.69463,"long":-94.07127,"eventDate":"2016-10-22","parsedDate":"2016-10-22"},{"lat":0.71352,"long":-93.35856,"eventDate":"2016-10-22","parsedDate":"2016-10-22"},{"lat":0.75885,"long":-93.87657,"eventDate":"2016-10-22","parsedDate":"2016-10-22"},{"lat":0.76092,"long":-93.88418,"eventDate":"2016-10-22","parsedDate":"2016-10-22"},{"lat":0.81118,"long":-94.15231,"eventDate":"2016-10-22","parsedDate":"2016-10-22"},{"lat":0.52977,"long":-95.12401,"eventDate":"2016-10-23","parsedDate":"2016-10-23"},{"lat":0.55959,"long":-94.58655,"eventDate":"2016-10-23","parsedDate":"2016-10-23"},{"lat":0.56024,"long":-94.70621,"eventDate":"2016-10-23","parsedDate":"2016-10-23"},{"lat":0.796,"long":-93.99923,"eventDate":"2016-10-23","parsedDate":"2016-10-23"},{"lat":0.81276,"long":-94.106,"eventDate":"2016-10-23","parsedDate":"2016-10-23"},{"lat":0.8586,"long":-94.11341,"eventDate":"2016-10-23","parsedDate":"2016-10-23"},{"lat":0.3759,"long":-95.25151,"eventDate":"2016-10-24","parsedDate":"2016-10-24"},{"lat":0.30418,"long":-96.37263,"eventDate":"2016-10-25","parsedDate":"2016-10-25"},{"lat":0.22093,"long":-96.93826,"eventDate":"2016-10-26","parsedDate":"2016-10-26"},{"lat":0.22986,"long":-96.58138,"eventDate":"2016-10-26","parsedDate":"2016-10-26"},{"lat":0.30302,"long":-96.70229,"eventDate":"2016-10-26","parsedDate":"2016-10-26"},{"lat":0.10166,"long":-97.3093,"eventDate":"2016-10-27","parsedDate":"2016-10-27"},{"lat":0.12317,"long":-97.27963,"eventDate":"2016-10-27","parsedDate":"2016-10-27"},{"lat":0.20625,"long":-97.14895,"eventDate":"2016-10-27","parsedDate":"2016-10-27"},{"lat":0.24125,"long":-96.88517,"eventDate":"2016-10-27","parsedDate":"2016-10-27"},{"lat":0.26283,"long":-96.92155,"eventDate":"2016-10-27","parsedDate":"2016-10-27"},{"lat":0.28625,"long":-96.83428,"eventDate":"2016-10-27","parsedDate":"2016-10-27"},{"lat":0.218,"long":-98.75787,"eventDate":"2016-10-28","parsedDate":"2016-10-28"},{"lat":0.23241,"long":-98.78505,"eventDate":"2016-10-28","parsedDate":"2016-10-28"},{"lat":0.23532,"long":-98.69854,"eventDate":"2016-10-28","parsedDate":"2016-10-28"},{"lat":0.27866,"long":-98.66254,"eventDate":"2016-10-28","parsedDate":"2016-10-28"},{"lat":0.31139,"long":-97.98533,"eventDate":"2016-10-28","parsedDate":"2016-10-28"},{"lat":0.32055,"long":-98.43647,"eventDate":"2016-10-28","parsedDate":"2016-10-28"},{"lat":0.328,"long":-97.95657,"eventDate":"2016-10-28","parsedDate":"2016-10-28"},{"lat":0.45198,"long":-97.88004,"eventDate":"2016-10-28","parsedDate":"2016-10-28"},{"lat":0.22762,"long":-99.20602,"eventDate":"2016-10-29","parsedDate":"2016-10-29"},{"lat":0.23786,"long":-99.29711,"eventDate":"2016-10-29","parsedDate":"2016-10-29"},{"lat":0.24475,"long":-98.86267,"eventDate":"2016-10-29","parsedDate":"2016-10-29"},{"lat":0.30154,"long":-99.54768,"eventDate":"2016-10-29","parsedDate":"2016-10-29"},{"lat":0.30949,"long":-100.1936,"eventDate":"2016-10-30","parsedDate":"2016-10-30"},{"lat":0.33471,"long":-100.13289,"eventDate":"2016-10-30","parsedDate":"2016-10-30"},{"lat":0.37006,"long":-99.87286,"eventDate":"2016-10-30","parsedDate":"2016-10-30"},{"lat":0.38006,"long":-99.97024,"eventDate":"2016-10-30","parsedDate":"2016-10-30"},{"lat":0.41539,"long":-101.5983,"eventDate":"2016-10-31","parsedDate":"2016-10-31"},{"lat":0.47892,"long":-101.37062,"eventDate":"2016-10-31","parsedDate":"2016-10-31"},{"lat":0.50004,"long":-102.46524,"eventDate":"2016-11-01","parsedDate":"2016-11-01"},{"lat":0.50159,"long":-102.48747,"eventDate":"2016-11-01","parsedDate":"2016-11-01"},{"lat":0.50944,"long":-102.54649,"eventDate":"2016-11-01","parsedDate":"2016-11-01"},{"lat":0.53989,"long":-102.56469,"eventDate":"2016-11-01","parsedDate":"2016-11-01"},{"lat":0.62712,"long":-103.0125,"eventDate":"2016-11-02","parsedDate":"2016-11-02"},{"lat":0.93795,"long":-103.78213,"eventDate":"2016-11-02","parsedDate":"2016-11-02"},{"lat":1.01498,"long":-103.99101,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":1.26815,"long":-103.67766,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":1.28615,"long":-103.63207,"eventDate":"2016-11-03","parsedDate":"2016-11-03"},{"lat":0.74139,"long":-106.13982,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":0.78883,"long":-104.01926,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":1.00227,"long":-103.88562,"eventDate":"2016-11-04","parsedDate":"2016-11-04"},{"lat":1.09489,"long":-106.16914,"eventDate":"2016-11-05","parsedDate":"2016-11-05"},{"lat":1.1342,"long":-106.63203,"eventDate":"2016-11-05","parsedDate":"2016-11-05"},{"lat":1.07413,"long":-107.67933,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":1.1774,"long":-106.61149,"eventDate":"2016-11-06","parsedDate":"2016-11-06"},{"lat":1.23003,"long":-108.89118,"eventDate":"2016-11-07","parsedDate":"2016-11-07"},{"lat":1.03022,"long":-109.24005,"eventDate":"2016-11-08","parsedDate":"2016-11-08"},{"lat":1.1451,"long":-109.56678,"eventDate":"2016-11-08","parsedDate":"2016-11-08"},{"lat":1.05769,"long":-111.44524,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":1.11558,"long":-111.58961,"eventDate":"2016-11-09","parsedDate":"2016-11-09"},{"lat":1.01619,"long":-112.62749,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":1.08578,"long":-112.54833,"eventDate":"2016-11-10","parsedDate":"2016-11-10"},{"lat":1.06362,"long":-113.40765,"eventDate":"2016-11-11","parsedDate":"2016-11-11"},{"lat":1.19068,"long":-113.28578,"eventDate":"2016-11-11","parsedDate":"2016-11-11"},{"lat":1.01254,"long":-113.35052,"eventDate":"2016-11-12","parsedDate":"2016-11-12"},{"lat":1.08961,"long":-113.4856,"eventDate":"2016-11-12","parsedDate":"2016-11-12"},{"lat":1.11652,"long":-113.49305,"eventDate":"2016-11-12","parsedDate":"2016-11-12"},{"lat":0.95944,"long":-114.29337,"eventDate":"2016-11-13","parsedDate":"2016-11-13"},{"lat":1.01362,"long":-114.20593,"eventDate":"2016-11-13","parsedDate":"2016-11-13"},{"lat":1.11691,"long":-113.92781,"eventDate":"2016-11-13","parsedDate":"2016-11-13"},{"lat":1.11196,"long":-114.42092,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":1.19544,"long":-114.25716,"eventDate":"2016-11-14","parsedDate":"2016-11-14"},{"lat":1.21529,"long":-114.26041,"eventDate":"2016-11-15","parsedDate":"2016-11-15"},{"lat":1.44548,"long":-114.27496,"eventDate":"2016-11-15","parsedDate":"2016-11-15"},{"lat":1.47246,"long":-114.28505,"eventDate":"2016-11-15","parsedDate":"2016-11-15"},{"lat":1.53115,"long":-115.23305,"eventDate":"2016-11-16","parsedDate":"2016-11-16"},{"lat":1.59567,"long":-115.06052,"eventDate":"2016-11-16","parsedDate":"2016-11-16"},{"lat":1.67189,"long":-115.5949,"eventDate":"2016-11-17","parsedDate":"2016-11-17"},{"lat":1.9275,"long":-115.17399,"eventDate":"2016-11-18","parsedDate":"2016-11-18"},{"lat":1.76175,"long":-114.09781,"eventDate":"2016-11-19","parsedDate":"2016-11-19"},{"lat":2.3035,"long":-113.73926,"eventDate":"2016-11-20","parsedDate":"2016-11-20"},{"lat":3.67992,"long":-115.66559,"eventDate":"2016-11-21","parsedDate":"2016-11-21"},{"lat":4.13094,"long":-116.57971,"eventDate":"2016-11-22","parsedDate":"2016-11-22"},{"lat":4.30773,"long":-115.89748,"eventDate":"2016-11-23","parsedDate":"2016-11-23"},{"lat":4.31535,"long":-115.96683,"eventDate":"2016-11-23","parsedDate":"2016-11-23"},{"lat":4.50478,"long":-115.1979,"eventDate":"2016-11-24","parsedDate":"2016-11-24"},{"lat":4.42621,"long":-114.89275,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":4.50922,"long":-114.87956,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":4.53615,"long":-114.9739,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":4.55622,"long":-114.9014,"eventDate":"2016-11-25","parsedDate":"2016-11-25"},{"lat":4.7369,"long":-114.83731,"eventDate":"2016-11-26","parsedDate":"2016-11-26"},{"lat":4.75425,"long":-114.86548,"eventDate":"2016-11-26","parsedDate":"2016-11-26"},{"lat":4.77709,"long":-114.89668,"eventDate":"2016-11-26","parsedDate":"2016-11-26"},{"lat":4.78567,"long":-114.89117,"eventDate":"2016-11-26","parsedDate":"2016-11-26"},{"lat":4.70528,"long":-115.26079,"eventDate":"2016-11-27","parsedDate":"2016-11-27"},{"lat":4.7233,"long":-115.28148,"eventDate":"2016-11-27","parsedDate":"2016-11-27"},{"lat":4.39769,"long":-115.78127,"eventDate":"2016-11-28","parsedDate":"2016-11-28"},{"lat":4.42405,"long":-114.32838,"eventDate":"2016-11-29","parsedDate":"2016-11-29"},{"lat":4.46238,"long":-114.4112,"eventDate":"2016-11-29","parsedDate":"2016-11-29"},{"lat":3.78137,"long":-113.75848,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":3.80979,"long":-113.6988,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":3.8347,"long":-113.72876,"eventDate":"2016-12-01","parsedDate":"2016-12-01"},{"lat":3.69888,"long":-113.73876,"eventDate":"2016-12-02","parsedDate":"2016-12-02"},{"lat":3.72096,"long":-113.78023,"eventDate":"2016-12-02","parsedDate":"2016-12-02"},{"lat":3.74243,"long":-113.81011,"eventDate":"2016-12-02","parsedDate":"2016-12-02"},{"lat":3.83264,"long":-113.67518,"eventDate":"2016-12-02","parsedDate":"2016-12-02"},{"lat":3.44647,"long":-113.83765,"eventDate":"2016-12-03","parsedDate":"2016-12-03"},{"lat":3.45214,"long":-113.83804,"eventDate":"2016-12-03","parsedDate":"2016-12-03"},{"lat":3.55356,"long":-113.83505,"eventDate":"2016-12-03","parsedDate":"2016-12-03"},{"lat":3.58479,"long":-113.85137,"eventDate":"2016-12-03","parsedDate":"2016-12-03"},{"lat":3.46578,"long":-115.23863,"eventDate":"2016-12-04","parsedDate":"2016-12-04"},{"lat":3.54013,"long":-115.2327,"eventDate":"2016-12-04","parsedDate":"2016-12-04"},{"lat":3.15801,"long":-113.53761,"eventDate":"2016-12-05","parsedDate":"2016-12-05"},{"lat":3.25704,"long":-113.68036,"eventDate":"2016-12-05","parsedDate":"2016-12-05"},{"lat":3.4881,"long":-113.9855,"eventDate":"2016-12-05","parsedDate":"2016-12-05"},{"lat":3.25401,"long":-113.53293,"eventDate":"2016-12-06","parsedDate":"2016-12-06"},{"lat":3.25829,"long":-113.60036,"eventDate":"2016-12-06","parsedDate":"2016-12-06"},{"lat":3.57752,"long":-113.51434,"eventDate":"2016-12-07","parsedDate":"2016-12-07"},{"lat":3.45667,"long":-114.09529,"eventDate":"2016-12-08","parsedDate":"2016-12-08"},{"lat":3.63504,"long":-114.4922,"eventDate":"2016-12-09","parsedDate":"2016-12-09"},{"lat":3.78445,"long":-114.17501,"eventDate":"2016-12-09","parsedDate":"2016-12-09"},{"lat":3.66466,"long":-114.90602,"eventDate":"2016-12-10","parsedDate":"2016-12-10"}]},{"whaleSharkID":"Inti","coordinates":[{"lat":-0.41951,"long":-90.76255,"eventDate":"2012-11-28","parsedDate":"2012-11-28"},{"lat":1.6737,"long":-91.98911,"eventDate":"2016-10-16","parsedDate":"2016-10-16"}]},{"whaleSharkID":"MissJamie","coordinates":[{"lat":1.6737,"long":-91.98911,"eventDate":"2016-10-16","parsedDate":"2016-10-16"},{"lat":1.6679,"long":-91.97162,"eventDate":"2016-10-17","parsedDate":"2016-10-17"}]},{"whaleSharkID":"Juliana","coordinates":[{"lat":1.6737,"long":-91.98911,"eventDate":"2016-10-14","parsedDate":"2016-10-14"},{"lat":1.67192,"long":-91.98031,"eventDate":"2016-10-15","parsedDate":"2016-10-15"},{"lat":1.67954,"long":-91.98609,"eventDate":"2016-10-15","parsedDate":"2016-10-15"}]},{"whaleSharkID":"114106722","coordinates":[{"lat":28.924179,"long":-113.521118,"eventDate":"2016-10-19","parsedDate":"2016-10-19"}]},{"whaleSharkID":"18834165","coordinates":[{"lat":1.66563,"long":118.269542,"eventDate":"2016-10-08","parsedDate":"2016-10-08"}]},{"whaleSharkID":"342423354","coordinates":[{"lat":26.900565,"long":-111.945462,"eventDate":"2016-11-21","parsedDate":"2016-11-21"}]},{"whaleSharkID":"85212338","coordinates":[{"lat":9.583747,"long":123.3727,"eventDate":"2016-11-20","parsedDate":"2016-11-20"}]},{"whaleSharkID":"11368800","coordinates":[{"lat":24.240801,"long":-110.375354,"eventDate":"2016-11-19","parsedDate":"2016-11-19"}]},{"whaleSharkID":"13231764","coordinates":[{"lat":24.215657,"long":-110.343018,"eventDate":"2016-11-19","parsedDate":"2016-11-19"}]},{"whaleSharkID":"72368598","coordinates":[{"lat":9.567244,"long":123.305505,"eventDate":"2016-12-08","parsedDate":"2016-12-08"}]},{"whaleSharkID":"9804529","coordinates":[{"lat":24.28425,"long":-110.470216,"eventDate":"2016-12-30","parsedDate":"2016-12-30"}]},{"whaleSharkID":"9985063","coordinates":[{"lat":24.357503,"long":-110.479244,"eventDate":"2016-12-30","parsedDate":"2016-12-30"}]},{"whaleSharkID":"18169430","coordinates":[{"lat":24.266142,"long":-110.544296,"eventDate":"2016-12-17","parsedDate":"2016-12-17"}]},{"whaleSharkID":"2016_WS13","coordinates":[{"lat":-22.69151,"long":113.59904,"eventDate":"2016","parsedDate":"2016-01-01"}]},{"whaleSharkID":"2016_WS22","coordinates":[{"lat":-22.67527,"long":113.54474,"eventDate":"2016","parsedDate":"2016-01-01"}]},{"whaleSharkID":"2016_WS23","coordinates":[{"lat":-22.67264,"long":113.53608,"eventDate":"2016","parsedDate":"2016-01-01"}]},{"whaleSharkID":"2016_WS36","coordinates":[{"lat":-22.62894,"long":113.57747,"eventDate":"2016","parsedDate":"2016-01-01"}]},{"whaleSharkID":"2016_WS45","coordinates":[{"lat":-22.62068,"long":113.61277,"eventDate":"2016","parsedDate":"2016-01-01"}]},{"whaleSharkID":"2016_WS5","coordinates":[{"lat":-22.69969,"long":113.57822,"eventDate":"2016","parsedDate":"2016-01-01"}]},{"whaleSharkID":"2016_WS55","coordinates":[{"lat":-22.56987,"long":113.63282,"eventDate":"2016","parsedDate":"2016-01-01"}]},{"whaleSharkID":"2016_WS59","coordinates":[{"lat":-22.57746,"long":113.6228,"eventDate":"2016","parsedDate":"2016-01-01"}]},{"whaleSharkID":"2016_WS64","coordinates":[{"lat":-22.68327,"long":113.6027,"eventDate":"2016","parsedDate":"2016-01-01"}]},{"whaleSharkID":"2016_WS74","coordinates":[{"lat":-22.66352,"long":113.60358,"eventDate":"2016","parsedDate":"2016-01-01"}]},{"whaleSharkID":"2016_WS87","coordinates":[{"lat":-22.55102,"long":113.62777,"eventDate":"2016","parsedDate":"2016-01-01"}]},{"whaleSharkID":"2016_WS95","coordinates":[{"lat":-22.74143,"long":113.61999,"eventDate":"2016","parsedDate":"2016-01-01"}]},{"whaleSharkID":"232241056","coordinates":[{"lat":-15.942787,"long":-5.795739,"eventDate":"2015-01-08","parsedDate":"2015-01-08"}]},{"whaleSharkID":"2108570","coordinates":[{"lat":24.228181,"long":-110.539627,"eventDate":"2015-01-01","parsedDate":"2015-01-01"}]},{"whaleSharkID":"27415711","coordinates":[{"lat":-21.767686,"long":114.265482,"eventDate":"2015-01-18","parsedDate":"2015-01-18"}]},{"whaleSharkID":"82908892","coordinates":[{"lat":-15.878703,"long":-5.614452,"eventDate":"2015-01-08","parsedDate":"2015-01-08"}]},{"whaleSharkID":"82908895","coordinates":[{"lat":-15.834067,"long":-5.67597,"eventDate":"2015-01-12","parsedDate":"2015-01-12"}]},{"whaleSharkID":"83221815","coordinates":[{"lat":-15.819699,"long":-5.631899,"eventDate":"2015-01-08","parsedDate":"2015-01-08"}]},{"whaleSharkID":"83221819","coordinates":[{"lat":-15.937505,"long":-5.729712,"eventDate":"2015-01-25","parsedDate":"2015-01-25"}]},{"whaleSharkID":"83221820","coordinates":[{"lat":-15.928079,"long":-5.737855,"eventDate":"2015-01-31","parsedDate":"2015-01-31"}]},{"whaleSharkID":"83221824","coordinates":[{"lat":-15.911246,"long":-5.639442,"eventDate":"2015-01-23","parsedDate":"2015-01-23"}]},{"whaleSharkID":"83221827","coordinates":[{"lat":-15.970561,"long":-5.644062,"eventDate":"2015-01-23","parsedDate":"2015-01-23"}]},{"whaleSharkID":"83385080","coordinates":[{"lat":-15.979629,"long":-5.622001,"eventDate":"2015-01-09","parsedDate":"2015-01-09"}]},{"whaleSharkID":"84846208","coordinates":[{"lat":-15.918126,"long":-5.613812,"eventDate":"2015-01-07","parsedDate":"2015-01-07"}]},{"whaleSharkID":"84846209","coordinates":[{"lat":-15.838985,"long":-5.775935,"eventDate":"2015-01-09","parsedDate":"2015-01-09"}]},{"whaleSharkID":"85590916","coordinates":[{"lat":9.005151,"long":123.249477,"eventDate":"2015-01-19","parsedDate":"2015-01-19"}]},{"whaleSharkID":"89525407","coordinates":[{"lat":-15.982975,"long":-5.725973,"eventDate":"2015-01-13","parsedDate":"2015-01-13"}]},{"whaleSharkID":"141184247","coordinates":[{"lat":24.142641,"long":-110.312753,"eventDate":"2015-01-13","parsedDate":"2015-01-13"}]},{"whaleSharkID":"190834701","coordinates":[{"lat":21.717455,"long":-86.813831,"eventDate":"2015-01-05","parsedDate":"2015-01-05"}]},{"whaleSharkID":"218407757","coordinates":[{"lat":16.830548,"long":82.303587,"eventDate":"2015-02-21","parsedDate":"2015-02-21"}]},{"whaleSharkID":"6610356","coordinates":[{"lat":24.187358,"long":-110.328483,"eventDate":"2015-02-14","parsedDate":"2015-02-14"}]},{"whaleSharkID":"151342074","coordinates":[{"lat":4.043404,"long":112.449059,"eventDate":"2015-02-11","parsedDate":"2015-02-11"}]},{"whaleSharkID":"23198986","coordinates":[{"lat":15.737075,"long":-96.117153,"eventDate":"2015-03-17","parsedDate":"2015-03-17"}]},{"whaleSharkID":"2366973","coordinates":[{"lat":20.545847,"long":-105.293055,"eventDate":"2015-03-02","parsedDate":"2015-03-02"}]},{"whaleSharkID":"51287004","coordinates":[{"lat":-0.195759,"long":72.829126,"eventDate":"2015-03-12","parsedDate":"2015-03-12"}]},{"whaleSharkID":"599437359","coordinates":[{"lat":10.157448,"long":125.120051,"eventDate":"2015-03-01","parsedDate":"2015-03-01"}]},{"whaleSharkID":"261550567","coordinates":[{"lat":-21.963281,"long":114.201142,"eventDate":"2015-04-14","parsedDate":"2015-04-14"}]},{"whaleSharkID":"68899210","coordinates":[{"lat":9.495287,"long":123.400808,"eventDate":"2015-04-25","parsedDate":"2015-04-25"}]},{"whaleSharkID":"196197032","coordinates":[{"lat":19.522579,"long":-110.617506,"eventDate":"2015-04-28","parsedDate":"2015-04-28"}]},{"whaleSharkID":"9872286","coordinates":[{"lat":-22.691775,"long":113.673479,"eventDate":"2015-05-05","parsedDate":"2015-05-05"}]},{"whaleSharkID":"24636646","coordinates":[{"lat":-26.239383,"long":32.956371,"eventDate":"2015-06-29","parsedDate":"2015-06-29"}]},{"whaleSharkID":"143678","coordinates":[{"lat":-22.5,"long":113.5,"eventDate":"2015-06-27","parsedDate":"2015-06-27"},{"lat":-22.5,"long":112.5,"eventDate":"2015-06-30","parsedDate":"2015-06-30"},{"lat":-21.5,"long":112.5,"eventDate":"2015-07-03","parsedDate":"2015-07-03"},{"lat":-20.5,"long":112.5,"eventDate":"2015-07-05","parsedDate":"2015-07-05"},{"lat":-19.5,"long":111.5,"eventDate":"2015-07-06","parsedDate":"2015-07-06"},{"lat":-19.5,"long":112.5,"eventDate":"2015-07-07","parsedDate":"2015-07-07"},{"lat":-18.5,"long":111.5,"eventDate":"2015-07-09","parsedDate":"2015-07-09"},{"lat":-17.5,"long":109.5,"eventDate":"2015-07-11","parsedDate":"2015-07-11"},{"lat":-16.5,"long":109.5,"eventDate":"2015-07-12","parsedDate":"2015-07-12"},{"lat":-15.5,"long":109.5,"eventDate":"2015-07-14","parsedDate":"2015-07-14"},{"lat":-14.5,"long":109.5,"eventDate":"2015-07-16","parsedDate":"2015-07-16"},{"lat":-13.5,"long":109.5,"eventDate":"2015-07-19","parsedDate":"2015-07-19"},{"lat":-12.5,"long":108.5,"eventDate":"2015-07-20","parsedDate":"2015-07-20"},{"lat":-12.5,"long":107.5,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":-11.5,"long":105.5,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":-10.5,"long":104.5,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":-9.5,"long":104.5,"eventDate":"2015-08-02","parsedDate":"2015-08-02"}]},{"whaleSharkID":"A69-9002-12411","coordinates":[{"lat":-22.05,"long":113.88,"eventDate":"2015-06-26","parsedDate":"2015-06-26"},{"lat":-21.9,"long":113.93,"eventDate":"2015-07-12","parsedDate":"2015-07-12"},{"lat":-21.88,"long":113.9,"eventDate":"2015-09-02","parsedDate":"2015-09-02"},{"lat":-21.88,"long":113.91,"eventDate":"2015-09-02","parsedDate":"2015-09-02"},{"lat":-22.6,"long":113.62,"eventDate":"2015-09-03","parsedDate":"2015-09-03"},{"lat":-23.13,"long":113.71,"eventDate":"2015-09-04","parsedDate":"2015-09-04"}]},{"whaleSharkID":"79317039","coordinates":[{"lat":21.529268,"long":-86.464662,"eventDate":"2015-06-23","parsedDate":"2015-06-23"}]},{"whaleSharkID":"9967126","coordinates":[{"lat":21.411955,"long":-86.781264,"eventDate":"2015-06-30","parsedDate":"2015-06-30"}]},{"whaleSharkID":"117816825","coordinates":[{"lat":21.496758,"long":-86.805001,"eventDate":"2015-06-08","parsedDate":"2015-06-08"}]},{"whaleSharkID":"146054882","coordinates":[{"lat":1.473198,"long":73.024545,"eventDate":"2015-06-03","parsedDate":"2015-06-03"}]},{"whaleSharkID":"146054884","coordinates":[{"lat":1.402201,"long":73.102188,"eventDate":"2015-06-03","parsedDate":"2015-06-03"}]},{"whaleSharkID":"241530195","coordinates":[{"lat":28.954022,"long":-113.507286,"eventDate":"2015-07-18","parsedDate":"2015-07-18"}]},{"whaleSharkID":"24636764","coordinates":[{"lat":-26.212273,"long":32.902334,"eventDate":"2015-07-01","parsedDate":"2015-07-01"}]},{"whaleSharkID":"24636943","coordinates":[{"lat":-26.391538,"long":32.860654,"eventDate":"2015-07-01","parsedDate":"2015-07-01"}]},{"whaleSharkID":"24637285","coordinates":[{"lat":-26.74319,"long":32.946798,"eventDate":"2015-07-03","parsedDate":"2015-07-03"}]},{"whaleSharkID":"143674","coordinates":[{"lat":-20.5,"long":114.5,"eventDate":"2015-07-01","parsedDate":"2015-07-01"},{"lat":-28.5,"long":80.5,"eventDate":"2015-07-01","parsedDate":"2015-07-01"},{"lat":-20.5,"long":115.5,"eventDate":"2015-07-03","parsedDate":"2015-07-03"},{"lat":-21.5,"long":115.5,"eventDate":"2015-07-09","parsedDate":"2015-07-09"},{"lat":-19.5,"long":115.5,"eventDate":"2015-07-17","parsedDate":"2015-07-17"}]},{"whaleSharkID":"379116801","coordinates":[{"lat":-22.014055,"long":113.917473,"eventDate":"2015-07-23","parsedDate":"2015-07-23"}]},{"whaleSharkID":"522780555","coordinates":[{"lat":10.551065,"long":99.09103,"eventDate":"2015-07-20","parsedDate":"2015-07-20"}]},{"whaleSharkID":"593437689","coordinates":[{"lat":21.584021,"long":-87.382508,"eventDate":"2015-07-16","parsedDate":"2015-07-16"}]},{"whaleSharkID":"57817167","coordinates":[{"lat":9.557262,"long":123.537193,"eventDate":"2015-07-31","parsedDate":"2015-07-31"}]},{"whaleSharkID":"9626659","coordinates":[{"lat":28.944202,"long":-113.556389,"eventDate":"2015-07-01","parsedDate":"2015-07-01"}]},{"whaleSharkID":"Kimberly","coordinates":[{"lat":2.81195,"long":-95.68036,"eventDate":"2011-07-20","parsedDate":"2011-07-20"},{"lat":1.65928,"long":-99.78648,"eventDate":"2011-07-27","parsedDate":"2011-07-27"},{"lat":1.12802,"long":-99.95818,"eventDate":"2011-07-28","parsedDate":"2011-07-28"},{"lat":0.75908,"long":-100.77013,"eventDate":"2011-07-29","parsedDate":"2011-07-29"},{"lat":-0.25175,"long":-102.62035,"eventDate":"2011-08-01","parsedDate":"2011-08-01"},{"lat":-2.84757,"long":-103.46048,"eventDate":"2011-08-04","parsedDate":"2011-08-04"},{"lat":-5.60556,"long":-103.86192,"eventDate":"2011-08-08","parsedDate":"2011-08-08"},{"lat":1.6714,"long":-91.98927,"eventDate":"2015-07-09","parsedDate":"2015-07-09"},{"lat":2.56489,"long":-95.9201,"eventDate":"2015-07-21","parsedDate":"2015-07-21"},{"lat":2.57214,"long":-95.92113,"eventDate":"2015-07-21","parsedDate":"2015-07-21"},{"lat":2.67209,"long":-95.80338,"eventDate":"2015-07-21","parsedDate":"2015-07-21"},{"lat":2.6857,"long":-95.76522,"eventDate":"2015-07-21","parsedDate":"2015-07-21"},{"lat":2.71347,"long":-95.75756,"eventDate":"2015-07-21","parsedDate":"2015-07-21"},{"lat":2.74373,"long":-95.71163,"eventDate":"2015-07-21","parsedDate":"2015-07-21"},{"lat":2.80236,"long":-95.6884,"eventDate":"2015-07-21","parsedDate":"2015-07-21"},{"lat":2.14189,"long":-96.57795,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":2.14721,"long":-96.5489,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":2.20464,"long":-96.50504,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":2.27721,"long":-96.41682,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":2.30918,"long":-96.38715,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":2.32315,"long":-96.35895,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":2.35926,"long":-96.32343,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":1.56214,"long":-97.37405,"eventDate":"2015-07-23","parsedDate":"2015-07-23"},{"lat":1.60686,"long":-97.34633,"eventDate":"2015-07-23","parsedDate":"2015-07-23"},{"lat":1.6127,"long":-97.33365,"eventDate":"2015-07-23","parsedDate":"2015-07-23"},{"lat":1.63724,"long":-97.28756,"eventDate":"2015-07-23","parsedDate":"2015-07-23"},{"lat":1.68477,"long":-97.22525,"eventDate":"2015-07-23","parsedDate":"2015-07-23"},{"lat":1.79183,"long":-97.09224,"eventDate":"2015-07-23","parsedDate":"2015-07-23"},{"lat":1.82134,"long":-97.08699,"eventDate":"2015-07-23","parsedDate":"2015-07-23"},{"lat":1.30825,"long":-97.74206,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":1.38293,"long":-97.98987,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":1.40206,"long":-98.04143,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":1.40445,"long":-98.03736,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":1.37417,"long":-98.35478,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":1.38608,"long":-98.32136,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":1.40213,"long":-98.63027,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":1.41035,"long":-98.65632,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":1.4113,"long":-98.65369,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":1.47763,"long":-98.52411,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":1.49243,"long":-98.54374,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":1.42618,"long":-99.04272,"eventDate":"2015-07-26","parsedDate":"2015-07-26"},{"lat":1.42644,"long":-99.0412,"eventDate":"2015-07-26","parsedDate":"2015-07-26"},{"lat":1.44013,"long":-99.01242,"eventDate":"2015-07-26","parsedDate":"2015-07-26"},{"lat":1.44015,"long":-99.0262,"eventDate":"2015-07-26","parsedDate":"2015-07-26"},{"lat":1.44654,"long":-98.9843,"eventDate":"2015-07-26","parsedDate":"2015-07-26"},{"lat":1.44985,"long":-99.07764,"eventDate":"2015-07-26","parsedDate":"2015-07-26"},{"lat":1.50988,"long":-99.162,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":1.51824,"long":-99.18523,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":1.66627,"long":-99.40267,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":1.6826,"long":-99.45141,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":1.71235,"long":-99.46338,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":1.7221,"long":-99.46585,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":1.72513,"long":-99.46804,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":1.74523,"long":-99.47618,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":1.49481,"long":-99.8984,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.50571,"long":-99.89982,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.53339,"long":-99.86446,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.5446,"long":-99.88231,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.55992,"long":-99.84486,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.62276,"long":-99.8149,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.82807,"long":-99.63917,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.85276,"long":-99.74743,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.02196,"long":-100.23814,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.05104,"long":-100.21105,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.07385,"long":-100.19497,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.10455,"long":-100.16888,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.14376,"long":-100.12501,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.22414,"long":-100.0791,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.22701,"long":-100.05874,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.22896,"long":-99.95353,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":0.66621,"long":-100.93897,"eventDate":"2015-07-30","parsedDate":"2015-07-30"},{"lat":0.66702,"long":-100.98423,"eventDate":"2015-07-30","parsedDate":"2015-07-30"},{"lat":0.72845,"long":-100.92227,"eventDate":"2015-07-30","parsedDate":"2015-07-30"},{"lat":0.92506,"long":-100.26346,"eventDate":"2015-07-30","parsedDate":"2015-07-30"},{"lat":0.3598,"long":-101.77803,"eventDate":"2015-07-31","parsedDate":"2015-07-31"},{"lat":0.38775,"long":-101.72809,"eventDate":"2015-07-31","parsedDate":"2015-07-31"},{"lat":0.38852,"long":-101.72536,"eventDate":"2015-07-31","parsedDate":"2015-07-31"},{"lat":0.65035,"long":-100.99034,"eventDate":"2015-07-31","parsedDate":"2015-07-31"},{"lat":0.67078,"long":-101.17473,"eventDate":"2015-07-31","parsedDate":"2015-07-31"},{"lat":0.11728,"long":-102.01873,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":0.11797,"long":-102.0287,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":0.12014,"long":-102.00175,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":0.12715,"long":-101.90553,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":0.13781,"long":-101.9708,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":0.19526,"long":-102.05022,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":0.27312,"long":-102.03052,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":-0.21709,"long":-102.58175,"eventDate":"2015-08-02","parsedDate":"2015-08-02"},{"lat":-0.25175,"long":-102.62001,"eventDate":"2015-08-02","parsedDate":"2015-08-02"},{"lat":-0.282,"long":-102.59395,"eventDate":"2015-08-02","parsedDate":"2015-08-02"},{"lat":-0.3401,"long":-102.66675,"eventDate":"2015-08-02","parsedDate":"2015-08-02"},{"lat":-0.38379,"long":-102.67851,"eventDate":"2015-08-02","parsedDate":"2015-08-02"},{"lat":0.04382,"long":-102.24229,"eventDate":"2015-08-02","parsedDate":"2015-08-02"},{"lat":0.07998,"long":-102.20829,"eventDate":"2015-08-02","parsedDate":"2015-08-02"},{"lat":0.08079,"long":-102.18611,"eventDate":"2015-08-02","parsedDate":"2015-08-02"},{"lat":-0.49115,"long":-102.77255,"eventDate":"2015-08-03","parsedDate":"2015-08-03"},{"lat":-0.78339,"long":-102.88886,"eventDate":"2015-08-03","parsedDate":"2015-08-03"},{"lat":-0.8532,"long":-102.9028,"eventDate":"2015-08-03","parsedDate":"2015-08-03"},{"lat":-1.18103,"long":-102.98035,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":-1.43879,"long":-103.07223,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":-1.68889,"long":-103.12889,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":-1.76717,"long":-103.17931,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":-1.76717,"long":-103.17932,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":-1.7762,"long":-103.13914,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":-1.86216,"long":-103.21466,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":-1.97577,"long":-103.2592,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":-2.77143,"long":-103.42985,"eventDate":"2015-08-05","parsedDate":"2015-08-05"},{"lat":-2.92969,"long":-103.47432,"eventDate":"2015-08-05","parsedDate":"2015-08-05"},{"lat":-3.17045,"long":-103.52596,"eventDate":"2015-08-05","parsedDate":"2015-08-05"},{"lat":-3.23732,"long":-103.52095,"eventDate":"2015-08-06","parsedDate":"2015-08-06"},{"lat":-3.65863,"long":-103.38649,"eventDate":"2015-08-06","parsedDate":"2015-08-06"},{"lat":-3.7009,"long":-103.38052,"eventDate":"2015-08-06","parsedDate":"2015-08-06"},{"lat":-3.72351,"long":-103.3659,"eventDate":"2015-08-06","parsedDate":"2015-08-06"},{"lat":-3.75019,"long":-103.40363,"eventDate":"2015-08-06","parsedDate":"2015-08-06"},{"lat":-3.81012,"long":-103.35724,"eventDate":"2015-08-06","parsedDate":"2015-08-06"},{"lat":-3.81478,"long":-103.35618,"eventDate":"2015-08-06","parsedDate":"2015-08-06"},{"lat":-3.98394,"long":-103.41803,"eventDate":"2015-08-07","parsedDate":"2015-08-07"},{"lat":-4.11283,"long":-103.4224,"eventDate":"2015-08-07","parsedDate":"2015-08-07"},{"lat":-4.27772,"long":-103.44013,"eventDate":"2015-08-07","parsedDate":"2015-08-07"},{"lat":-4.39984,"long":-103.44142,"eventDate":"2015-08-07","parsedDate":"2015-08-07"},{"lat":-4.4361,"long":-103.43342,"eventDate":"2015-08-07","parsedDate":"2015-08-07"},{"lat":-4.75944,"long":-103.53802,"eventDate":"2015-08-08","parsedDate":"2015-08-08"},{"lat":-4.84684,"long":-103.58704,"eventDate":"2015-08-08","parsedDate":"2015-08-08"},{"lat":-4.85661,"long":-103.44572,"eventDate":"2015-08-08","parsedDate":"2015-08-08"},{"lat":-4.94691,"long":-103.66708,"eventDate":"2015-08-08","parsedDate":"2015-08-08"},{"lat":-5.39671,"long":-103.83527,"eventDate":"2015-08-09","parsedDate":"2015-08-09"},{"lat":-5.40846,"long":-103.84436,"eventDate":"2015-08-09","parsedDate":"2015-08-09"},{"lat":-5.44486,"long":-103.80194,"eventDate":"2015-08-09","parsedDate":"2015-08-09"},{"lat":-5.47349,"long":-103.82147,"eventDate":"2015-08-09","parsedDate":"2015-08-09"},{"lat":-5.47851,"long":-103.81212,"eventDate":"2015-08-09","parsedDate":"2015-08-09"},{"lat":-5.56446,"long":-103.84634,"eventDate":"2015-08-09","parsedDate":"2015-08-09"},{"lat":-5.69009,"long":-103.89113,"eventDate":"2015-08-10","parsedDate":"2015-08-10"},{"lat":-6.07362,"long":-103.84867,"eventDate":"2015-08-10","parsedDate":"2015-08-10"},{"lat":-6.08647,"long":-103.84655,"eventDate":"2015-08-10","parsedDate":"2015-08-10"},{"lat":-6.09115,"long":-103.85518,"eventDate":"2015-08-10","parsedDate":"2015-08-10"},{"lat":-6.18992,"long":-103.81575,"eventDate":"2015-08-10","parsedDate":"2015-08-10"},{"lat":-6.24547,"long":-103.78852,"eventDate":"2015-08-10","parsedDate":"2015-08-10"},{"lat":-6.18792,"long":-103.76363,"eventDate":"2015-08-11","parsedDate":"2015-08-11"},{"lat":-6.18925,"long":-103.76078,"eventDate":"2015-08-11","parsedDate":"2015-08-11"},{"lat":-6.19136,"long":-103.75893,"eventDate":"2015-08-11","parsedDate":"2015-08-11"},{"lat":-6.1988,"long":-103.74629,"eventDate":"2015-08-11","parsedDate":"2015-08-11"},{"lat":-6.20387,"long":-103.75242,"eventDate":"2015-08-11","parsedDate":"2015-08-11"},{"lat":-6.22484,"long":-103.82732,"eventDate":"2015-08-11","parsedDate":"2015-08-11"},{"lat":-6.2256,"long":-103.75792,"eventDate":"2015-08-11","parsedDate":"2015-08-11"},{"lat":-6.24346,"long":-103.77615,"eventDate":"2015-08-11","parsedDate":"2015-08-11"},{"lat":-6.25918,"long":-103.82326,"eventDate":"2015-08-11","parsedDate":"2015-08-11"},{"lat":-6.26523,"long":-103.75851,"eventDate":"2015-08-11","parsedDate":"2015-08-11"},{"lat":-6.29988,"long":-103.81305,"eventDate":"2015-08-11","parsedDate":"2015-08-11"},{"lat":-6.04007,"long":-103.88037,"eventDate":"2015-08-12","parsedDate":"2015-08-12"},{"lat":-6.06142,"long":-103.86713,"eventDate":"2015-08-12","parsedDate":"2015-08-12"},{"lat":-6.06436,"long":-103.86014,"eventDate":"2015-08-12","parsedDate":"2015-08-12"},{"lat":-6.06908,"long":-103.86671,"eventDate":"2015-08-12","parsedDate":"2015-08-12"},{"lat":-6.07415,"long":-103.8782,"eventDate":"2015-08-12","parsedDate":"2015-08-12"},{"lat":-6.11354,"long":-103.83282,"eventDate":"2015-08-12","parsedDate":"2015-08-12"},{"lat":-6.1216,"long":-103.82234,"eventDate":"2015-08-12","parsedDate":"2015-08-12"},{"lat":-6.12464,"long":-103.8212,"eventDate":"2015-08-12","parsedDate":"2015-08-12"},{"lat":-6.12659,"long":-103.82069,"eventDate":"2015-08-12","parsedDate":"2015-08-12"},{"lat":-5.82248,"long":-103.95268,"eventDate":"2015-08-13","parsedDate":"2015-08-13"},{"lat":-5.82864,"long":-103.94751,"eventDate":"2015-08-13","parsedDate":"2015-08-13"},{"lat":-5.83158,"long":-103.95618,"eventDate":"2015-08-13","parsedDate":"2015-08-13"},{"lat":-5.85542,"long":-103.93781,"eventDate":"2015-08-13","parsedDate":"2015-08-13"},{"lat":-5.87791,"long":-103.93399,"eventDate":"2015-08-13","parsedDate":"2015-08-13"},{"lat":-5.9318,"long":-103.92222,"eventDate":"2015-08-13","parsedDate":"2015-08-13"},{"lat":-5.88238,"long":-104.02972,"eventDate":"2015-08-14","parsedDate":"2015-08-14"},{"lat":-5.89222,"long":-104.04719,"eventDate":"2015-08-14","parsedDate":"2015-08-14"},{"lat":-5.90015,"long":-103.9408,"eventDate":"2015-08-14","parsedDate":"2015-08-14"},{"lat":-5.91309,"long":-104.05131,"eventDate":"2015-08-14","parsedDate":"2015-08-14"},{"lat":-5.9197,"long":-104.07158,"eventDate":"2015-08-14","parsedDate":"2015-08-14"},{"lat":-5.92516,"long":-104.07898,"eventDate":"2015-08-14","parsedDate":"2015-08-14"},{"lat":-5.92898,"long":-103.97359,"eventDate":"2015-08-14","parsedDate":"2015-08-14"},{"lat":-5.94308,"long":-104.00583,"eventDate":"2015-08-14","parsedDate":"2015-08-14"},{"lat":-5.94513,"long":-104.0087,"eventDate":"2015-08-14","parsedDate":"2015-08-14"},{"lat":-5.97043,"long":-104.06286,"eventDate":"2015-08-14","parsedDate":"2015-08-14"},{"lat":-5.87706,"long":-103.78643,"eventDate":"2015-08-15","parsedDate":"2015-08-15"},{"lat":-5.88752,"long":-103.98297,"eventDate":"2015-08-15","parsedDate":"2015-08-15"},{"lat":-5.8938,"long":-103.96979,"eventDate":"2015-08-15","parsedDate":"2015-08-15"},{"lat":-5.89519,"long":-103.99395,"eventDate":"2015-08-15","parsedDate":"2015-08-15"},{"lat":-5.89621,"long":-103.98361,"eventDate":"2015-08-15","parsedDate":"2015-08-15"},{"lat":-5.93534,"long":-104.02066,"eventDate":"2015-08-15","parsedDate":"2015-08-15"},{"lat":-5.994,"long":-104.05623,"eventDate":"2015-08-15","parsedDate":"2015-08-15"},{"lat":-6.0015,"long":-104.03068,"eventDate":"2015-08-15","parsedDate":"2015-08-15"},{"lat":-6.16146,"long":-104.13628,"eventDate":"2015-08-16","parsedDate":"2015-08-16"},{"lat":-6.24211,"long":-104.20767,"eventDate":"2015-08-16","parsedDate":"2015-08-16"},{"lat":-6.51387,"long":-103.84826,"eventDate":"2015-08-16","parsedDate":"2015-08-16"},{"lat":-6.57642,"long":-103.80592,"eventDate":"2015-08-16","parsedDate":"2015-08-16"},{"lat":-6.60245,"long":-103.78857,"eventDate":"2015-08-16","parsedDate":"2015-08-16"},{"lat":-6.66862,"long":-103.74571,"eventDate":"2015-08-16","parsedDate":"2015-08-16"},{"lat":-6.67451,"long":-103.74526,"eventDate":"2015-08-16","parsedDate":"2015-08-16"},{"lat":-6.73704,"long":-103.71921,"eventDate":"2015-08-17","parsedDate":"2015-08-17"},{"lat":-6.77973,"long":-103.66479,"eventDate":"2015-08-17","parsedDate":"2015-08-17"},{"lat":-6.791,"long":-103.72711,"eventDate":"2015-08-17","parsedDate":"2015-08-17"},{"lat":-6.94135,"long":-103.74523,"eventDate":"2015-08-17","parsedDate":"2015-08-17"},{"lat":-6.94443,"long":-103.74398,"eventDate":"2015-08-17","parsedDate":"2015-08-17"},{"lat":-7.01704,"long":-103.64298,"eventDate":"2015-08-17","parsedDate":"2015-08-17"},{"lat":-7.54093,"long":-103.47446,"eventDate":"2015-08-18","parsedDate":"2015-08-18"},{"lat":-7.71628,"long":-103.30077,"eventDate":"2015-08-18","parsedDate":"2015-08-18"},{"lat":-7.7695,"long":-103.6649,"eventDate":"2015-08-18","parsedDate":"2015-08-18"},{"lat":-7.77226,"long":-103.65606,"eventDate":"2015-08-18","parsedDate":"2015-08-18"},{"lat":-7.80108,"long":-103.65429,"eventDate":"2015-08-18","parsedDate":"2015-08-18"},{"lat":-7.76367,"long":-103.68733,"eventDate":"2015-08-19","parsedDate":"2015-08-19"},{"lat":-7.7676,"long":-103.69446,"eventDate":"2015-08-19","parsedDate":"2015-08-19"},{"lat":-7.77046,"long":-103.66517,"eventDate":"2015-08-19","parsedDate":"2015-08-19"},{"lat":-7.77129,"long":-103.66895,"eventDate":"2015-08-19","parsedDate":"2015-08-19"},{"lat":-7.78221,"long":-103.67186,"eventDate":"2015-08-19","parsedDate":"2015-08-19"},{"lat":-7.78377,"long":-103.69157,"eventDate":"2015-08-19","parsedDate":"2015-08-19"},{"lat":-7.78624,"long":-103.73892,"eventDate":"2015-08-19","parsedDate":"2015-08-19"},{"lat":-7.79649,"long":-103.7433,"eventDate":"2015-08-19","parsedDate":"2015-08-19"},{"lat":-7.79942,"long":-103.69009,"eventDate":"2015-08-19","parsedDate":"2015-08-19"},{"lat":-7.80861,"long":-103.68057,"eventDate":"2015-08-19","parsedDate":"2015-08-19"},{"lat":-7.73356,"long":-103.81672,"eventDate":"2015-08-20","parsedDate":"2015-08-20"},{"lat":-7.82902,"long":-104.21905,"eventDate":"2015-08-20","parsedDate":"2015-08-20"},{"lat":-7.82944,"long":-104.14633,"eventDate":"2015-08-20","parsedDate":"2015-08-20"},{"lat":-7.83083,"long":-104.12881,"eventDate":"2015-08-20","parsedDate":"2015-08-20"},{"lat":-7.85176,"long":-104.06213,"eventDate":"2015-08-20","parsedDate":"2015-08-20"},{"lat":-7.85423,"long":-104.06708,"eventDate":"2015-08-20","parsedDate":"2015-08-20"},{"lat":-7.85812,"long":-104.10785,"eventDate":"2015-08-20","parsedDate":"2015-08-20"},{"lat":-7.86595,"long":-104.13789,"eventDate":"2015-08-20","parsedDate":"2015-08-20"},{"lat":-7.88384,"long":-104.06884,"eventDate":"2015-08-20","parsedDate":"2015-08-20"},{"lat":-7.92842,"long":-104.10145,"eventDate":"2015-08-20","parsedDate":"2015-08-20"},{"lat":-7.99692,"long":-104.26621,"eventDate":"2015-08-21","parsedDate":"2015-08-21"},{"lat":-8.00488,"long":-104.29374,"eventDate":"2015-08-21","parsedDate":"2015-08-21"},{"lat":-8.09265,"long":-104.31609,"eventDate":"2015-08-21","parsedDate":"2015-08-21"},{"lat":-8.10877,"long":-104.2962,"eventDate":"2015-08-21","parsedDate":"2015-08-21"},{"lat":-8.14414,"long":-104.32179,"eventDate":"2015-08-21","parsedDate":"2015-08-21"},{"lat":-8.40353,"long":-104.45015,"eventDate":"2015-08-22","parsedDate":"2015-08-22"},{"lat":-8.46867,"long":-104.42339,"eventDate":"2015-08-22","parsedDate":"2015-08-22"},{"lat":-8.70584,"long":-104.49063,"eventDate":"2015-08-22","parsedDate":"2015-08-22"},{"lat":-8.91733,"long":-104.53719,"eventDate":"2015-08-22","parsedDate":"2015-08-22"},{"lat":-8.93176,"long":-104.49415,"eventDate":"2015-08-22","parsedDate":"2015-08-22"},{"lat":-9.05939,"long":-104.19016,"eventDate":"2015-08-23","parsedDate":"2015-08-23"},{"lat":-9.06557,"long":-104.31151,"eventDate":"2015-08-23","parsedDate":"2015-08-23"},{"lat":-9.07074,"long":-104.14968,"eventDate":"2015-08-23","parsedDate":"2015-08-23"},{"lat":-9.09624,"long":-104.1763,"eventDate":"2015-08-23","parsedDate":"2015-08-23"}]},{"whaleSharkID":"Lea","coordinates":[{"lat":1.66341,"long":-99.78291,"eventDate":"2011-07-29","parsedDate":"2011-07-29"},{"lat":1.6714,"long":-91.98927,"eventDate":"2015-07-13","parsedDate":"2015-07-13"},{"lat":1.66433,"long":-99.76501,"eventDate":"2015-07-30","parsedDate":"2015-07-30"},{"lat":1.66657,"long":-99.75846,"eventDate":"2015-07-30","parsedDate":"2015-07-30"},{"lat":1.54746,"long":-99.89238,"eventDate":"2015-07-31","parsedDate":"2015-07-31"},{"lat":1.4669,"long":-100.12654,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":1.56548,"long":-99.88293,"eventDate":"2015-08-02","parsedDate":"2015-08-02"},{"lat":2.0744,"long":-103.83989,"eventDate":"2015-08-12","parsedDate":"2015-08-12"},{"lat":2.08075,"long":-103.78242,"eventDate":"2015-08-12","parsedDate":"2015-08-12"},{"lat":2.09234,"long":-103.78933,"eventDate":"2015-08-12","parsedDate":"2015-08-12"}]},{"whaleSharkID":"Eduarda","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-07-11","parsedDate":"2015-07-11"},{"lat":1.35576,"long":-92.24447,"eventDate":"2015-07-12","parsedDate":"2015-07-12"},{"lat":1.36044,"long":-92.24053,"eventDate":"2015-07-12","parsedDate":"2015-07-12"},{"lat":1.38523,"long":-92.21267,"eventDate":"2015-07-12","parsedDate":"2015-07-12"},{"lat":1.38778,"long":-92.21032,"eventDate":"2015-07-12","parsedDate":"2015-07-12"},{"lat":1.39027,"long":-92.20785,"eventDate":"2015-07-12","parsedDate":"2015-07-12"},{"lat":1.39584,"long":-92.20318,"eventDate":"2015-07-12","parsedDate":"2015-07-12"},{"lat":1.41051,"long":-92.1932,"eventDate":"2015-07-12","parsedDate":"2015-07-12"},{"lat":1.56982,"long":-92.02852,"eventDate":"2015-07-12","parsedDate":"2015-07-12"},{"lat":1.07975,"long":-93.03561,"eventDate":"2015-07-13","parsedDate":"2015-07-13"},{"lat":1.09172,"long":-93.04187,"eventDate":"2015-07-13","parsedDate":"2015-07-13"},{"lat":1.09749,"long":-93.0018,"eventDate":"2015-07-13","parsedDate":"2015-07-13"},{"lat":1.1067,"long":-93.01102,"eventDate":"2015-07-13","parsedDate":"2015-07-13"},{"lat":0.77618,"long":-94.40346,"eventDate":"2015-07-14","parsedDate":"2015-07-14"},{"lat":0.81284,"long":-94.25574,"eventDate":"2015-07-14","parsedDate":"2015-07-14"},{"lat":0.84711,"long":-94.19953,"eventDate":"2015-07-14","parsedDate":"2015-07-14"},{"lat":0.96567,"long":-93.60512,"eventDate":"2015-07-14","parsedDate":"2015-07-14"},{"lat":0.62663,"long":-95.46971,"eventDate":"2015-07-15","parsedDate":"2015-07-15"},{"lat":0.63467,"long":-94.93458,"eventDate":"2015-07-15","parsedDate":"2015-07-15"},{"lat":0.72497,"long":-94.56736,"eventDate":"2015-07-15","parsedDate":"2015-07-15"},{"lat":0.59788,"long":-95.6431,"eventDate":"2015-07-16","parsedDate":"2015-07-16"},{"lat":0.60688,"long":-96.17442,"eventDate":"2015-07-16","parsedDate":"2015-07-16"},{"lat":0.61023,"long":-96.52026,"eventDate":"2015-07-16","parsedDate":"2015-07-16"},{"lat":0.61748,"long":-96.13119,"eventDate":"2015-07-16","parsedDate":"2015-07-16"},{"lat":0.61818,"long":-96.12493,"eventDate":"2015-07-16","parsedDate":"2015-07-16"},{"lat":0.61889,"long":-96.07087,"eventDate":"2015-07-16","parsedDate":"2015-07-16"},{"lat":0.62107,"long":-96.23477,"eventDate":"2015-07-16","parsedDate":"2015-07-16"},{"lat":0.58663,"long":-97.14835,"eventDate":"2015-07-17","parsedDate":"2015-07-17"},{"lat":0.73114,"long":-98.44799,"eventDate":"2015-07-18","parsedDate":"2015-07-18"},{"lat":0.73339,"long":-98.44685,"eventDate":"2015-07-18","parsedDate":"2015-07-18"},{"lat":0.78188,"long":-98.62433,"eventDate":"2015-07-19","parsedDate":"2015-07-19"},{"lat":1.45673,"long":-100.42706,"eventDate":"2015-07-20","parsedDate":"2015-07-20"},{"lat":1.45911,"long":-100.35672,"eventDate":"2015-07-20","parsedDate":"2015-07-20"},{"lat":1.51011,"long":-100.43412,"eventDate":"2015-07-20","parsedDate":"2015-07-20"},{"lat":1.53164,"long":-100.50464,"eventDate":"2015-07-20","parsedDate":"2015-07-20"},{"lat":1.53808,"long":-100.53923,"eventDate":"2015-07-20","parsedDate":"2015-07-20"},{"lat":1.59771,"long":-100.67599,"eventDate":"2015-07-21","parsedDate":"2015-07-21"},{"lat":1.7319,"long":-100.97213,"eventDate":"2015-07-21","parsedDate":"2015-07-21"},{"lat":1.46826,"long":-101.76311,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":1.62656,"long":-102.42697,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":1.70813,"long":-102.55262,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":1.71691,"long":-102.57338,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":1.1527,"long":-103.90953,"eventDate":"2015-07-23","parsedDate":"2015-07-23"},{"lat":1.16488,"long":-103.84767,"eventDate":"2015-07-23","parsedDate":"2015-07-23"},{"lat":1.22484,"long":-103.64429,"eventDate":"2015-07-23","parsedDate":"2015-07-23"},{"lat":1.7272,"long":-102.60057,"eventDate":"2015-07-23","parsedDate":"2015-07-23"},{"lat":0.8688,"long":-105.01883,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":0.87275,"long":-105.0173,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":0.87386,"long":-105.01727,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":0.89463,"long":-104.89388,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":1.13264,"long":-103.99804,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":0.83611,"long":-105.01919,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":0.80617,"long":-107.30788,"eventDate":"2015-07-26","parsedDate":"2015-07-26"},{"lat":0.92113,"long":-107.39636,"eventDate":"2015-07-26","parsedDate":"2015-07-26"},{"lat":1.25058,"long":-109.69386,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":1.2734,"long":-109.64061,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":1.27845,"long":-109.84374,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":1.33569,"long":-110.90405,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.33623,"long":-110.92171,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.35471,"long":-111.01656,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.31705,"long":-111.37445,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.31766,"long":-111.39459,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.31872,"long":-111.46109,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.33283,"long":-111.4703,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.33629,"long":-111.47903,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.35254,"long":-111.53303,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.35752,"long":-111.54143,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.35882,"long":-111.56509,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.36347,"long":-111.05656,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.36743,"long":-111.60669,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.32832,"long":-111.70792,"eventDate":"2015-07-30","parsedDate":"2015-07-30"},{"lat":1.68352,"long":-112.12742,"eventDate":"2015-07-31","parsedDate":"2015-07-31"}]},{"whaleSharkID":"Macarena","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-07-12","parsedDate":"2015-07-12"},{"lat":1.68008,"long":-91.99997,"eventDate":"2015-07-12","parsedDate":"2015-07-12"}]},{"whaleSharkID":"Sarai","coordinates":[{"lat":1.66448,"long":-91.99309,"eventDate":"2015-07-15","parsedDate":"2015-07-15"},{"lat":1.6714,"long":-91.98927,"eventDate":"2015-07-15","parsedDate":"2015-07-15"}]},{"whaleSharkID":"Sofia","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-07-16","parsedDate":"2015-07-16"},{"lat":1.60828,"long":-92.0623,"eventDate":"2015-07-17","parsedDate":"2015-07-17"}]},{"whaleSharkID":"Elsa","coordinates":[{"lat":1.68046,"long":-91.99839,"eventDate":"2011-07-14","parsedDate":"2011-07-14"},{"lat":1.28766,"long":-96.31442,"eventDate":"2011-08-04","parsedDate":"2011-08-04"},{"lat":1.6714,"long":-91.98927,"eventDate":"2015-07-15","parsedDate":"2015-07-15"},{"lat":1.67954,"long":-91.99501,"eventDate":"2015-07-15","parsedDate":"2015-07-15"},{"lat":1.68588,"long":-91.99533,"eventDate":"2015-07-15","parsedDate":"2015-07-15"},{"lat":1.81005,"long":-92.17354,"eventDate":"2015-07-21","parsedDate":"2015-07-21"},{"lat":0.40087,"long":-91.75744,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":1.0924,"long":-92.89054,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":1.54821,"long":-95.90222,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":1.01755,"long":-98.76572,"eventDate":"2015-08-09","parsedDate":"2015-08-09"},{"lat":1.59415,"long":-96.86119,"eventDate":"2015-09-03","parsedDate":"2015-09-03"},{"lat":1.59733,"long":-96.83433,"eventDate":"2015-09-03","parsedDate":"2015-09-03"},{"lat":1.62253,"long":-96.86905,"eventDate":"2015-09-03","parsedDate":"2015-09-03"},{"lat":1.64491,"long":-96.9027,"eventDate":"2015-09-03","parsedDate":"2015-09-03"},{"lat":1.66212,"long":-96.9456,"eventDate":"2015-09-03","parsedDate":"2015-09-03"},{"lat":1.68465,"long":-97.00362,"eventDate":"2015-09-03","parsedDate":"2015-09-03"},{"lat":1.9598,"long":-97.1525,"eventDate":"2015-09-04","parsedDate":"2015-09-04"},{"lat":1.98695,"long":-97.18246,"eventDate":"2015-09-04","parsedDate":"2015-09-04"},{"lat":1.99261,"long":-97.19486,"eventDate":"2015-09-04","parsedDate":"2015-09-04"},{"lat":2.12598,"long":-97.33653,"eventDate":"2015-09-05","parsedDate":"2015-09-05"},{"lat":2.12866,"long":-97.38857,"eventDate":"2015-09-05","parsedDate":"2015-09-05"},{"lat":2.23582,"long":-97.5683,"eventDate":"2015-09-05","parsedDate":"2015-09-05"}]},{"whaleSharkID":"Jaws","coordinates":[{"lat":2.65779,"long":-97.24141,"eventDate":"2011-07-18","parsedDate":"2011-07-18"},{"lat":1.6714,"long":-91.98927,"eventDate":"2015-07-09","parsedDate":"2015-07-09"},{"lat":1.52145,"long":-93.39721,"eventDate":"2015-07-11","parsedDate":"2015-07-11"},{"lat":1.62796,"long":-93.51138,"eventDate":"2015-07-11","parsedDate":"2015-07-11"},{"lat":1.63776,"long":-93.59675,"eventDate":"2015-07-11","parsedDate":"2015-07-11"},{"lat":2.90412,"long":-94.40959,"eventDate":"2015-07-14","parsedDate":"2015-07-14"},{"lat":2.90419,"long":-94.4084,"eventDate":"2015-07-14","parsedDate":"2015-07-14"},{"lat":2.93198,"long":-94.42566,"eventDate":"2015-07-14","parsedDate":"2015-07-14"},{"lat":3.45102,"long":-94.76406,"eventDate":"2015-07-18","parsedDate":"2015-07-18"},{"lat":2.6497,"long":-97.23809,"eventDate":"2015-07-19","parsedDate":"2015-07-19"},{"lat":2.65904,"long":-97.2507,"eventDate":"2015-07-19","parsedDate":"2015-07-19"},{"lat":2.65926,"long":-97.24201,"eventDate":"2015-07-19","parsedDate":"2015-07-19"},{"lat":2.66034,"long":-97.2427,"eventDate":"2015-07-19","parsedDate":"2015-07-19"},{"lat":2.42931,"long":-97.62282,"eventDate":"2015-07-20","parsedDate":"2015-07-20"},{"lat":2.47052,"long":-97.65952,"eventDate":"2015-07-20","parsedDate":"2015-07-20"},{"lat":2.34977,"long":-98.24791,"eventDate":"2015-07-21","parsedDate":"2015-07-21"},{"lat":2.35663,"long":-98.13893,"eventDate":"2015-07-21","parsedDate":"2015-07-21"},{"lat":2.35647,"long":-98.70943,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":2.17336,"long":-99.63932,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":2.18488,"long":-99.73235,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":2.36741,"long":-99.55846,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":2.24032,"long":-99.61203,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":2.2579,"long":-100.1539,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":2.32747,"long":-101.01065,"eventDate":"2015-07-26","parsedDate":"2015-07-26"},{"lat":2.04002,"long":-100.68508,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":2.18663,"long":-100.80438,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.98092,"long":-100.82314,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.70589,"long":-101.6658,"eventDate":"2015-07-30","parsedDate":"2015-07-30"},{"lat":1.70614,"long":-101.66606,"eventDate":"2015-07-30","parsedDate":"2015-07-30"},{"lat":1.70781,"long":-101.79093,"eventDate":"2015-07-30","parsedDate":"2015-07-30"},{"lat":1.76517,"long":-101.82159,"eventDate":"2015-07-31","parsedDate":"2015-07-31"},{"lat":1.92726,"long":-102.6978,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":1.34581,"long":-103.0585,"eventDate":"2015-08-02","parsedDate":"2015-08-02"},{"lat":1.39752,"long":-102.88624,"eventDate":"2015-08-02","parsedDate":"2015-08-02"},{"lat":1.15722,"long":-103.72821,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":1.92243,"long":-106.83341,"eventDate":"2015-08-07","parsedDate":"2015-08-07"},{"lat":3.18461,"long":-103.37414,"eventDate":"2015-08-19","parsedDate":"2015-08-19"},{"lat":3.53522,"long":-103.99036,"eventDate":"2015-08-20","parsedDate":"2015-08-20"},{"lat":3.46369,"long":-104.29083,"eventDate":"2015-08-21","parsedDate":"2015-08-21"},{"lat":3.32941,"long":-104.44632,"eventDate":"2015-08-22","parsedDate":"2015-08-22"},{"lat":3.36625,"long":-104.5367,"eventDate":"2015-08-22","parsedDate":"2015-08-22"},{"lat":3.50443,"long":-104.88863,"eventDate":"2015-08-23","parsedDate":"2015-08-23"},{"lat":3.42756,"long":-105.08868,"eventDate":"2015-08-24","parsedDate":"2015-08-24"},{"lat":3.51678,"long":-105.08363,"eventDate":"2015-08-24","parsedDate":"2015-08-24"},{"lat":3.51688,"long":-105.10183,"eventDate":"2015-08-24","parsedDate":"2015-08-24"},{"lat":3.60423,"long":-105.02042,"eventDate":"2015-08-24","parsedDate":"2015-08-24"},{"lat":4.36945,"long":-103.66907,"eventDate":"2015-08-30","parsedDate":"2015-08-30"},{"lat":4.63241,"long":-103.49355,"eventDate":"2015-09-01","parsedDate":"2015-09-01"},{"lat":4.69251,"long":-103.53165,"eventDate":"2015-09-04","parsedDate":"2015-09-04"},{"lat":1.97848,"long":-95.84413,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":1.98071,"long":-95.84683,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":1.98489,"long":-95.86302,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":1.98976,"long":-95.88123,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":1.99469,"long":-95.90133,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":2.01046,"long":-95.8929,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":2.06334,"long":-96.03305,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":2.08038,"long":-96.07692,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":2.09463,"long":-96.11121,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":2.30854,"long":-95.89476,"eventDate":"2015-10-10","parsedDate":"2015-10-10"},{"lat":2.4721,"long":-95.32067,"eventDate":"2015-10-12","parsedDate":"2015-10-12"},{"lat":1.52657,"long":-92.6429,"eventDate":"2015-10-17","parsedDate":"2015-10-17"},{"lat":1.74663,"long":-89.45017,"eventDate":"2015-10-21","parsedDate":"2015-10-21"},{"lat":3.03986,"long":-88.47629,"eventDate":"2015-10-28","parsedDate":"2015-10-28"},{"lat":0.08537,"long":-89.99835,"eventDate":"2015-10-30","parsedDate":"2015-10-30"},{"lat":-6.45496,"long":-89.56296,"eventDate":"2015-11-17","parsedDate":"2015-11-17"},{"lat":-6.46178,"long":-89.5667,"eventDate":"2015-11-17","parsedDate":"2015-11-17"},{"lat":-6.51776,"long":-89.57471,"eventDate":"2015-11-17","parsedDate":"2015-11-17"},{"lat":-7.13849,"long":-82.30517,"eventDate":"2015-12-25","parsedDate":"2015-12-25"},{"lat":-7.148,"long":-82.30513,"eventDate":"2015-12-25","parsedDate":"2015-12-25"},{"lat":-7.1507,"long":-82.29494,"eventDate":"2015-12-25","parsedDate":"2015-12-25"},{"lat":-7.16102,"long":-82.29496,"eventDate":"2015-12-25","parsedDate":"2015-12-25"},{"lat":-7.17132,"long":-82.29688,"eventDate":"2015-12-25","parsedDate":"2015-12-25"},{"lat":-7.01866,"long":-82.45133,"eventDate":"2015-12-26","parsedDate":"2015-12-26"}]},{"whaleSharkID":"Sydney","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-07-12","parsedDate":"2015-07-12"},{"lat":1.67423,"long":-91.99433,"eventDate":"2015-07-13","parsedDate":"2015-07-13"}]},{"whaleSharkID":"Isabela","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-07-14","parsedDate":"2015-07-14"},{"lat":1.68149,"long":-91.99913,"eventDate":"2015-07-14","parsedDate":"2015-07-14"}]},{"whaleSharkID":"Yas","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-07-14","parsedDate":"2015-07-14"},{"lat":1.68152,"long":-91.97304,"eventDate":"2015-07-15","parsedDate":"2015-07-15"},{"lat":2.15321,"long":-99.34929,"eventDate":"2015-07-23","parsedDate":"2015-07-23"},{"lat":2.11386,"long":-99.72868,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":2.11412,"long":-99.72497,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":2.12709,"long":-99.91844,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":2.09538,"long":-99.95962,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":2.10215,"long":-100.08158,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":2.12075,"long":-100.12451,"eventDate":"2015-07-25","parsedDate":"2015-07-25"},{"lat":2.44095,"long":-100.11634,"eventDate":"2015-07-26","parsedDate":"2015-07-26"},{"lat":2.57072,"long":-100.60541,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":2.57445,"long":-100.54744,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":2.58814,"long":-100.65236,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":2.59416,"long":-100.67585,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":2.59439,"long":-100.6533,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":2.59411,"long":-100.67559,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":2.68382,"long":-100.67763,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":2.73524,"long":-100.66716,"eventDate":"2015-07-30","parsedDate":"2015-07-30"},{"lat":2.73604,"long":-100.66694,"eventDate":"2015-07-30","parsedDate":"2015-07-30"},{"lat":2.11102,"long":-100.91277,"eventDate":"2015-08-19","parsedDate":"2015-08-19"},{"lat":2.30258,"long":-100.87617,"eventDate":"2015-08-24","parsedDate":"2015-08-24"},{"lat":3.91802,"long":-110.08211,"eventDate":"2015-11-03","parsedDate":"2015-11-03"},{"lat":3.92359,"long":-110.08354,"eventDate":"2015-11-03","parsedDate":"2015-11-03"},{"lat":3.92691,"long":-110.08717,"eventDate":"2015-11-03","parsedDate":"2015-11-03"},{"lat":3.94977,"long":-110.1055,"eventDate":"2015-11-04","parsedDate":"2015-11-04"}]},{"whaleSharkID":"Kamila","coordinates":[{"lat":2.92299,"long":-115.77025,"eventDate":"2011-09-28","parsedDate":"2011-09-28"},{"lat":1.6714,"long":-91.98927,"eventDate":"2015-07-15","parsedDate":"2015-07-15"},{"lat":1.6838,"long":-97.15422,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":1.68395,"long":-97.15466,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":1.68688,"long":-97.16135,"eventDate":"2015-07-22","parsedDate":"2015-07-22"},{"lat":1.96497,"long":-97.29496,"eventDate":"2015-07-23","parsedDate":"2015-07-23"},{"lat":1.67895,"long":-98.32911,"eventDate":"2015-07-24","parsedDate":"2015-07-24"},{"lat":1.80016,"long":-99.07792,"eventDate":"2015-07-26","parsedDate":"2015-07-26"},{"lat":1.83067,"long":-99.04251,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":1.95446,"long":-99.1519,"eventDate":"2015-07-27","parsedDate":"2015-07-27"},{"lat":1.65509,"long":-99.49877,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.68804,"long":-99.50054,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.6884,"long":-99.50662,"eventDate":"2015-07-28","parsedDate":"2015-07-28"},{"lat":1.69569,"long":-99.51052,"eventDate":"2015-07-29","parsedDate":"2015-07-29"},{"lat":1.63387,"long":-99.54962,"eventDate":"2015-07-30","parsedDate":"2015-07-30"},{"lat":1.81882,"long":-100.63505,"eventDate":"2015-07-31","parsedDate":"2015-07-31"},{"lat":1.89881,"long":-101.06772,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":1.97827,"long":-100.97765,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":1.97938,"long":-100.95456,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":1.98266,"long":-100.97079,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":1.9874,"long":-100.96685,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":1.99373,"long":-101.01002,"eventDate":"2015-08-01","parsedDate":"2015-08-01"},{"lat":1.47245,"long":-102.1428,"eventDate":"2015-08-03","parsedDate":"2015-08-03"},{"lat":1.77603,"long":-102.32961,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":1.77768,"long":-102.05461,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":1.78393,"long":-102.05496,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":1.78407,"long":-102.0557,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":1.78701,"long":-102.05519,"eventDate":"2015-08-04","parsedDate":"2015-08-04"},{"lat":1.79856,"long":-102.82313,"eventDate":"2015-08-05","parsedDate":"2015-08-05"},{"lat":1.8115,"long":-102.79108,"eventDate":"2015-08-05","parsedDate":"2015-08-05"},{"lat":1.79702,"long":-102.81748,"eventDate":"2015-08-06","parsedDate":"2015-08-06"},{"lat":1.95708,"long":-103.91719,"eventDate":"2015-08-06","parsedDate":"2015-08-06"},{"lat":1.76045,"long":-104.29288,"eventDate":"2015-08-17","parsedDate":"2015-08-17"},{"lat":2.20495,"long":-104.04093,"eventDate":"2015-08-17","parsedDate":"2015-08-17"},{"lat":2.23471,"long":-105.64888,"eventDate":"2015-08-18","parsedDate":"2015-08-18"},{"lat":2.24804,"long":-105.23317,"eventDate":"2015-08-18","parsedDate":"2015-08-18"},{"lat":2.13778,"long":-105.84014,"eventDate":"2015-08-19","parsedDate":"2015-08-19"},{"lat":2.10045,"long":-107.40033,"eventDate":"2015-08-20","parsedDate":"2015-08-20"},{"lat":2.19138,"long":-107.32503,"eventDate":"2015-08-20","parsedDate":"2015-08-20"},{"lat":1.51508,"long":-108.04304,"eventDate":"2015-08-21","parsedDate":"2015-08-21"},{"lat":1.51511,"long":-108.04249,"eventDate":"2015-08-21","parsedDate":"2015-08-21"},{"lat":1.51662,"long":-108.10159,"eventDate":"2015-08-21","parsedDate":"2015-08-21"},{"lat":1.49636,"long":-108.10143,"eventDate":"2015-08-22","parsedDate":"2015-08-22"},{"lat":1.46275,"long":-109.25715,"eventDate":"2015-08-28","parsedDate":"2015-08-28"},{"lat":5.42821,"long":-109.23204,"eventDate":"2015-09-09","parsedDate":"2015-09-09"},{"lat":4.52142,"long":-114.83854,"eventDate":"2015-09-11","parsedDate":"2015-09-11"},{"lat":3.58245,"long":-114.1685,"eventDate":"2015-09-20","parsedDate":"2015-09-20"},{"lat":3.58646,"long":-114.16744,"eventDate":"2015-09-20","parsedDate":"2015-09-20"},{"lat":3.38385,"long":-114.45628,"eventDate":"2015-09-21","parsedDate":"2015-09-21"},{"lat":3.40496,"long":-114.42791,"eventDate":"2015-09-21","parsedDate":"2015-09-21"},{"lat":3.05569,"long":-114.71265,"eventDate":"2015-09-24","parsedDate":"2015-09-24"},{"lat":2.88698,"long":-114.90274,"eventDate":"2015-09-25","parsedDate":"2015-09-25"},{"lat":3.01539,"long":-115.01786,"eventDate":"2015-09-27","parsedDate":"2015-09-27"},{"lat":3.01756,"long":-115.01531,"eventDate":"2015-09-27","parsedDate":"2015-09-27"},{"lat":3.01758,"long":-115.0153,"eventDate":"2015-09-27","parsedDate":"2015-09-27"},{"lat":3.02801,"long":-115.02053,"eventDate":"2015-09-27","parsedDate":"2015-09-27"},{"lat":2.99303,"long":-115.03508,"eventDate":"2015-09-28","parsedDate":"2015-09-28"},{"lat":2.91592,"long":-115.78688,"eventDate":"2015-09-29","parsedDate":"2015-09-29"},{"lat":2.92306,"long":-115.77018,"eventDate":"2015-09-29","parsedDate":"2015-09-29"},{"lat":2.89753,"long":-115.99321,"eventDate":"2015-09-30","parsedDate":"2015-09-30"},{"lat":2.88347,"long":-116.49067,"eventDate":"2015-10-01","parsedDate":"2015-10-01"},{"lat":2.88419,"long":-116.48908,"eventDate":"2015-10-01","parsedDate":"2015-10-01"},{"lat":4.69353,"long":-116.84024,"eventDate":"2015-10-12","parsedDate":"2015-10-12"},{"lat":4.27234,"long":-109.4315,"eventDate":"2015-10-24","parsedDate":"2015-10-24"},{"lat":3.6879,"long":-109.49136,"eventDate":"2015-10-29","parsedDate":"2015-10-29"},{"lat":1.6611,"long":-100.43647,"eventDate":"2015-11-22","parsedDate":"2015-11-22"},{"lat":1.68183,"long":-100.45228,"eventDate":"2015-11-22","parsedDate":"2015-11-22"}]},{"whaleSharkID":"185170962","coordinates":[{"lat":-22.000294,"long":113.068734,"eventDate":"2015-07-06","parsedDate":"2015-07-06"}]},{"whaleSharkID":"6772905","coordinates":[{"lat":21.884709,"long":-86.933183,"eventDate":"2015-08-01","parsedDate":"2015-08-01"}]},{"whaleSharkID":"514407333","coordinates":[{"lat":22.154368,"long":-86.990622,"eventDate":"2015-08-12","parsedDate":"2015-08-12"}]},{"whaleSharkID":"4768250","coordinates":[{"lat":1.629544,"long":-91.843219,"eventDate":"2015-08-13","parsedDate":"2015-08-13"}]},{"whaleSharkID":"4829082","coordinates":[{"lat":1.753713,"long":-91.912529,"eventDate":"2015-08-13","parsedDate":"2015-08-13"}]},{"whaleSharkID":"68340177","coordinates":[{"lat":26.056951,"long":-96.747821,"eventDate":"2015-08-29","parsedDate":"2015-08-29"}]},{"whaleSharkID":"7312776","coordinates":[{"lat":26.139902,"long":-96.393942,"eventDate":"2015-08-29","parsedDate":"2015-08-29"}]},{"whaleSharkID":"7550786","coordinates":[{"lat":23.863059,"long":-109.657414,"eventDate":"2015-08-05","parsedDate":"2015-08-05"}]},{"whaleSharkID":"141116315","coordinates":[{"lat":26.079792,"long":-95.827273,"eventDate":"2015-08-29","parsedDate":"2015-08-29"}]},{"whaleSharkID":"27746801","coordinates":[{"lat":16.824864,"long":-99.918895,"eventDate":"2015-09-29","parsedDate":"2015-09-29"}]},{"whaleSharkID":"369086486","coordinates":[{"lat":-12.887061,"long":45.320765,"eventDate":"2015-09-03","parsedDate":"2015-09-03"}]},{"whaleSharkID":"3818526","coordinates":[{"lat":3.466478,"long":72.832988,"eventDate":"2015-09-27","parsedDate":"2015-09-27"}]},{"whaleSharkID":"527503683","coordinates":[{"lat":21.61827,"long":-87.223638,"eventDate":"2015-09-04","parsedDate":"2015-09-04"}]},{"whaleSharkID":"MariaGracia","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-09-02","parsedDate":"2015-09-02"},{"lat":-5.87343,"long":-85.74506,"eventDate":"2015-10-21","parsedDate":"2015-10-21"},{"lat":-5.88066,"long":-85.72911,"eventDate":"2015-10-21","parsedDate":"2015-10-21"},{"lat":-5.88101,"long":-85.73704,"eventDate":"2015-10-21","parsedDate":"2015-10-21"},{"lat":-5.90096,"long":-85.76063,"eventDate":"2015-10-21","parsedDate":"2015-10-21"},{"lat":-3.63659,"long":-84.88432,"eventDate":"2015-10-26","parsedDate":"2015-10-26"},{"lat":-5.92856,"long":-84.15458,"eventDate":"2015-11-08","parsedDate":"2015-11-08"}]},{"whaleSharkID":"108100","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-09-11","parsedDate":"2015-09-11"},{"lat":0.9507,"long":-93.37838,"eventDate":"2015-09-19","parsedDate":"2015-09-19"},{"lat":4.47808,"long":-103.2458,"eventDate":"2015-10-05","parsedDate":"2015-10-05"}]},{"whaleSharkID":"108103","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-09-10","parsedDate":"2015-09-10"},{"lat":1.68173,"long":-92.00719,"eventDate":"2015-09-10","parsedDate":"2015-09-10"},{"lat":1.68261,"long":-92.00098,"eventDate":"2015-09-10","parsedDate":"2015-09-10"},{"lat":1.68848,"long":-91.9991,"eventDate":"2015-09-10","parsedDate":"2015-09-10"},{"lat":1.68747,"long":-92.00674,"eventDate":"2015-09-11","parsedDate":"2015-09-11"}]},{"whaleSharkID":"Yessie","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-09-02","parsedDate":"2015-09-02"},{"lat":1.66458,"long":-91.99979,"eventDate":"2015-09-04","parsedDate":"2015-09-04"},{"lat":1.66826,"long":-91.9986,"eventDate":"2015-09-04","parsedDate":"2015-09-04"},{"lat":1.66869,"long":-92.0119,"eventDate":"2015-09-04","parsedDate":"2015-09-04"},{"lat":1.87326,"long":-92.03368,"eventDate":"2015-09-04","parsedDate":"2015-09-04"},{"lat":1.88384,"long":-91.97919,"eventDate":"2015-09-04","parsedDate":"2015-09-04"},{"lat":1.88873,"long":-91.97969,"eventDate":"2015-09-04","parsedDate":"2015-09-04"},{"lat":1.9003,"long":-91.98347,"eventDate":"2015-09-04","parsedDate":"2015-09-04"},{"lat":1.75827,"long":-92.02805,"eventDate":"2015-09-09","parsedDate":"2015-09-09"},{"lat":2.71487,"long":-92.72539,"eventDate":"2015-10-02","parsedDate":"2015-10-02"}]},{"whaleSharkID":"Margarita","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-09-09","parsedDate":"2015-09-09"},{"lat":1.85875,"long":-92.09377,"eventDate":"2015-09-13","parsedDate":"2015-09-13"},{"lat":1.96806,"long":-92.07375,"eventDate":"2015-09-13","parsedDate":"2015-09-13"},{"lat":1.99814,"long":-92.02847,"eventDate":"2015-09-13","parsedDate":"2015-09-13"},{"lat":2.00089,"long":-92.03403,"eventDate":"2015-09-13","parsedDate":"2015-09-13"},{"lat":2.0067,"long":-92.03519,"eventDate":"2015-09-13","parsedDate":"2015-09-13"},{"lat":2.01931,"long":-92.01696,"eventDate":"2015-09-13","parsedDate":"2015-09-13"},{"lat":2.21142,"long":-91.85915,"eventDate":"2015-09-14","parsedDate":"2015-09-14"},{"lat":2.49347,"long":-91.60686,"eventDate":"2015-09-15","parsedDate":"2015-09-15"},{"lat":2.00539,"long":-92.01937,"eventDate":"2015-09-16","parsedDate":"2015-09-16"},{"lat":1.95223,"long":-91.80969,"eventDate":"2015-09-17","parsedDate":"2015-09-17"},{"lat":1.84878,"long":-90.77434,"eventDate":"2015-09-20","parsedDate":"2015-09-20"},{"lat":1.30407,"long":-90.88248,"eventDate":"2015-09-21","parsedDate":"2015-09-21"},{"lat":1.33011,"long":-90.83792,"eventDate":"2015-09-21","parsedDate":"2015-09-21"},{"lat":1.15422,"long":-90.76193,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":1.20118,"long":-90.75153,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":1.20235,"long":-90.7521,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":1.20701,"long":-90.76022,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":1.30891,"long":-90.74003,"eventDate":"2015-09-22","parsedDate":"2015-09-22"},{"lat":0.78659,"long":-90.77684,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":0.83232,"long":-90.77418,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":0.87109,"long":-90.7719,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":0.95513,"long":-90.76745,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":0.60171,"long":-90.82024,"eventDate":"2015-09-24","parsedDate":"2015-09-24"},{"lat":0.60228,"long":-90.82043,"eventDate":"2015-09-25","parsedDate":"2015-09-25"},{"lat":0.6897,"long":-90.80391,"eventDate":"2015-09-25","parsedDate":"2015-09-25"},{"lat":0.8202,"long":-90.93292,"eventDate":"2015-09-25","parsedDate":"2015-09-25"},{"lat":1.25489,"long":-90.69618,"eventDate":"2015-09-25","parsedDate":"2015-09-25"},{"lat":1.25575,"long":-90.6894,"eventDate":"2015-09-25","parsedDate":"2015-09-25"},{"lat":1.51917,"long":-90.59446,"eventDate":"2015-09-26","parsedDate":"2015-09-26"},{"lat":1.65475,"long":-90.5796,"eventDate":"2015-09-26","parsedDate":"2015-09-26"},{"lat":1.69286,"long":-90.62104,"eventDate":"2015-09-26","parsedDate":"2015-09-26"},{"lat":1.9418,"long":-90.63484,"eventDate":"2015-09-27","parsedDate":"2015-09-27"},{"lat":1.97885,"long":-90.69604,"eventDate":"2015-09-27","parsedDate":"2015-09-27"},{"lat":2.0908,"long":-90.70437,"eventDate":"2015-09-27","parsedDate":"2015-09-27"},{"lat":2.23967,"long":-90.65452,"eventDate":"2015-09-28","parsedDate":"2015-09-28"},{"lat":2.26181,"long":-90.55701,"eventDate":"2015-09-28","parsedDate":"2015-09-28"},{"lat":2.0411,"long":-90.35781,"eventDate":"2015-09-29","parsedDate":"2015-09-29"},{"lat":1.62786,"long":-90.06158,"eventDate":"2015-09-30","parsedDate":"2015-09-30"},{"lat":1.45213,"long":-89.24122,"eventDate":"2015-10-01","parsedDate":"2015-10-01"},{"lat":1.4664,"long":-89.28517,"eventDate":"2015-10-01","parsedDate":"2015-10-01"},{"lat":1.34786,"long":-88.75461,"eventDate":"2015-10-02","parsedDate":"2015-10-02"},{"lat":0.9688,"long":-88.15047,"eventDate":"2015-10-03","parsedDate":"2015-10-03"},{"lat":0.97004,"long":-88.1457,"eventDate":"2015-10-03","parsedDate":"2015-10-03"},{"lat":1.17079,"long":-88.48552,"eventDate":"2015-10-03","parsedDate":"2015-10-03"},{"lat":0.81184,"long":-87.79096,"eventDate":"2015-10-04","parsedDate":"2015-10-04"},{"lat":0.49741,"long":-87.08546,"eventDate":"2015-10-05","parsedDate":"2015-10-05"},{"lat":0.11405,"long":-87.26161,"eventDate":"2015-10-07","parsedDate":"2015-10-07"},{"lat":-1.79793,"long":-88.1899,"eventDate":"2015-10-09","parsedDate":"2015-10-09"},{"lat":-1.73621,"long":-88.11758,"eventDate":"2015-10-11","parsedDate":"2015-10-11"},{"lat":1.18829,"long":-89.24752,"eventDate":"2015-10-15","parsedDate":"2015-10-15"},{"lat":1.25639,"long":-89.31684,"eventDate":"2015-10-15","parsedDate":"2015-10-15"},{"lat":1.5918,"long":-89.25735,"eventDate":"2015-10-16","parsedDate":"2015-10-16"},{"lat":1.60342,"long":-89.27051,"eventDate":"2015-10-16","parsedDate":"2015-10-16"},{"lat":1.61109,"long":-89.26945,"eventDate":"2015-10-16","parsedDate":"2015-10-16"},{"lat":1.60962,"long":-89.24652,"eventDate":"2015-10-17","parsedDate":"2015-10-17"},{"lat":1.64496,"long":-89.31889,"eventDate":"2015-10-17","parsedDate":"2015-10-17"}]},{"whaleSharkID":"132070","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-09-03","parsedDate":"2015-09-03"},{"lat":1.67344,"long":-91.98294,"eventDate":"2015-09-03","parsedDate":"2015-09-03"},{"lat":1.67875,"long":-91.97447,"eventDate":"2015-09-04","parsedDate":"2015-09-04"}]},{"whaleSharkID":"132071","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-09-04","parsedDate":"2015-09-04"},{"lat":1.69931,"long":-91.99415,"eventDate":"2015-09-04","parsedDate":"2015-09-04"},{"lat":1.68066,"long":-91.99574,"eventDate":"2015-09-05","parsedDate":"2015-09-05"},{"lat":1.68264,"long":-92.00749,"eventDate":"2015-09-05","parsedDate":"2015-09-05"}]},{"whaleSharkID":"132072","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-09-03","parsedDate":"2015-09-03"},{"lat":1.56133,"long":-88.96079,"eventDate":"2015-09-09","parsedDate":"2015-09-09"},{"lat":-2.3891,"long":-81.54947,"eventDate":"2015-09-18","parsedDate":"2015-09-18"},{"lat":-2.39098,"long":-81.54682,"eventDate":"2015-09-18","parsedDate":"2015-09-18"},{"lat":-2.39227,"long":-81.55429,"eventDate":"2015-09-18","parsedDate":"2015-09-18"},{"lat":-2.39405,"long":-81.55312,"eventDate":"2015-09-18","parsedDate":"2015-09-18"},{"lat":-2.39659,"long":-81.55372,"eventDate":"2015-09-18","parsedDate":"2015-09-18"}]},{"whaleSharkID":"132073","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-09-08","parsedDate":"2015-09-08"}]},{"whaleSharkID":"132074","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-09-03","parsedDate":"2015-09-03"},{"lat":1.66782,"long":-92.40752,"eventDate":"2015-09-06","parsedDate":"2015-09-06"},{"lat":1.7,"long":-92.29226,"eventDate":"2015-09-06","parsedDate":"2015-09-06"},{"lat":1.71007,"long":-92.38601,"eventDate":"2015-09-06","parsedDate":"2015-09-06"},{"lat":1.74656,"long":-92.30521,"eventDate":"2015-09-06","parsedDate":"2015-09-06"},{"lat":1.67366,"long":-92.63443,"eventDate":"2015-09-07","parsedDate":"2015-09-07"},{"lat":1.67782,"long":-92.59967,"eventDate":"2015-09-07","parsedDate":"2015-09-07"},{"lat":2.13637,"long":-92.97337,"eventDate":"2015-09-08","parsedDate":"2015-09-08"},{"lat":2.46318,"long":-93.19437,"eventDate":"2015-09-09","parsedDate":"2015-09-09"},{"lat":2.53563,"long":-93.05398,"eventDate":"2015-09-09","parsedDate":"2015-09-09"},{"lat":2.50269,"long":-93.01474,"eventDate":"2015-09-10","parsedDate":"2015-09-10"},{"lat":2.51924,"long":-93.03122,"eventDate":"2015-09-10","parsedDate":"2015-09-10"},{"lat":2.54067,"long":-93.04704,"eventDate":"2015-09-10","parsedDate":"2015-09-10"},{"lat":2.54826,"long":-93.0302,"eventDate":"2015-09-10","parsedDate":"2015-09-10"},{"lat":2.45825,"long":-93.00125,"eventDate":"2015-09-11","parsedDate":"2015-09-11"},{"lat":2.50314,"long":-92.92781,"eventDate":"2015-09-12","parsedDate":"2015-09-12"},{"lat":2.48831,"long":-92.90853,"eventDate":"2015-09-13","parsedDate":"2015-09-13"},{"lat":2.52515,"long":-92.89848,"eventDate":"2015-09-13","parsedDate":"2015-09-13"},{"lat":2.50694,"long":-92.8151,"eventDate":"2015-09-14","parsedDate":"2015-09-14"},{"lat":2.51265,"long":-92.79782,"eventDate":"2015-09-14","parsedDate":"2015-09-14"},{"lat":2.59539,"long":-92.53827,"eventDate":"2015-09-15","parsedDate":"2015-09-15"},{"lat":1.07435,"long":-91.84226,"eventDate":"2015-09-18","parsedDate":"2015-09-18"},{"lat":0.4086,"long":-90.83998,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":0.41401,"long":-90.65244,"eventDate":"2015-09-23","parsedDate":"2015-09-23"},{"lat":-0.29003,"long":-90.25959,"eventDate":"2015-09-28","parsedDate":"2015-09-28"},{"lat":-0.29716,"long":-90.30028,"eventDate":"2015-09-28","parsedDate":"2015-09-28"},{"lat":-0.30361,"long":-90.2936,"eventDate":"2015-09-28","parsedDate":"2015-09-28"},{"lat":-0.49095,"long":-90.19381,"eventDate":"2015-09-29","parsedDate":"2015-09-29"},{"lat":-0.5248,"long":-90.14873,"eventDate":"2015-09-29","parsedDate":"2015-09-29"},{"lat":-0.53671,"long":-89.65982,"eventDate":"2015-10-01","parsedDate":"2015-10-01"},{"lat":-0.54657,"long":-89.67166,"eventDate":"2015-10-01","parsedDate":"2015-10-01"},{"lat":-0.58802,"long":-89.71873,"eventDate":"2015-10-01","parsedDate":"2015-10-01"},{"lat":-0.59158,"long":-89.70932,"eventDate":"2015-10-01","parsedDate":"2015-10-01"},{"lat":-0.45102,"long":-89.76601,"eventDate":"2015-10-02","parsedDate":"2015-10-02"},{"lat":-0.48691,"long":-89.73775,"eventDate":"2015-10-02","parsedDate":"2015-10-02"},{"lat":-0.4886,"long":-89.71343,"eventDate":"2015-10-02","parsedDate":"2015-10-02"},{"lat":0.97042,"long":-88.29802,"eventDate":"2015-10-12","parsedDate":"2015-10-12"},{"lat":1.09797,"long":-88.35435,"eventDate":"2015-10-13","parsedDate":"2015-10-13"},{"lat":1.15198,"long":-88.22981,"eventDate":"2015-10-13","parsedDate":"2015-10-13"},{"lat":1.16882,"long":-88.18181,"eventDate":"2015-10-13","parsedDate":"2015-10-13"},{"lat":1.3325,"long":-88.24268,"eventDate":"2015-10-13","parsedDate":"2015-10-13"},{"lat":1.41436,"long":-88.16105,"eventDate":"2015-10-13","parsedDate":"2015-10-13"},{"lat":1.59166,"long":-88.12046,"eventDate":"2015-10-13","parsedDate":"2015-10-13"},{"lat":2.00788,"long":-88.01172,"eventDate":"2015-10-14","parsedDate":"2015-10-14"},{"lat":2.35274,"long":-87.39513,"eventDate":"2015-10-15","parsedDate":"2015-10-15"},{"lat":2.46158,"long":-87.33004,"eventDate":"2015-10-15","parsedDate":"2015-10-15"},{"lat":2.56212,"long":-87.27915,"eventDate":"2015-10-15","parsedDate":"2015-10-15"},{"lat":-2.44319,"long":-86.53769,"eventDate":"2015-10-24","parsedDate":"2015-10-24"},{"lat":-2.47451,"long":-86.48883,"eventDate":"2015-10-24","parsedDate":"2015-10-24"},{"lat":-2.47768,"long":-86.49018,"eventDate":"2015-10-24","parsedDate":"2015-10-24"},{"lat":-2.32421,"long":-86.39268,"eventDate":"2015-10-25","parsedDate":"2015-10-25"},{"lat":-2.37499,"long":-86.3742,"eventDate":"2015-10-25","parsedDate":"2015-10-25"},{"lat":-2.37654,"long":-86.37622,"eventDate":"2015-10-25","parsedDate":"2015-10-25"},{"lat":-2.37706,"long":-86.38021,"eventDate":"2015-10-25","parsedDate":"2015-10-25"},{"lat":-2.49356,"long":-86.739,"eventDate":"2015-10-27","parsedDate":"2015-10-27"},{"lat":-3.15354,"long":-89.60807,"eventDate":"2015-11-02","parsedDate":"2015-11-02"},{"lat":-3.09915,"long":-89.88968,"eventDate":"2015-11-03","parsedDate":"2015-11-03"},{"lat":-3.14494,"long":-89.61589,"eventDate":"2015-11-03","parsedDate":"2015-11-03"},{"lat":-3.03303,"long":-90.32875,"eventDate":"2015-11-04","parsedDate":"2015-11-04"},{"lat":-3.0705,"long":-90.01832,"eventDate":"2015-11-04","parsedDate":"2015-11-04"},{"lat":-2.7133,"long":-89.36971,"eventDate":"2015-11-06","parsedDate":"2015-11-06"},{"lat":-9.49215,"long":-81.00997,"eventDate":"2015-12-13","parsedDate":"2015-12-13"},{"lat":-9.49945,"long":-81.01022,"eventDate":"2015-12-13","parsedDate":"2015-12-13"},{"lat":-9.50955,"long":-81.0026,"eventDate":"2015-12-13","parsedDate":"2015-12-13"},{"lat":-9.21668,"long":-81.1282,"eventDate":"2015-12-14","parsedDate":"2015-12-14"},{"lat":-9.23966,"long":-81.11674,"eventDate":"2015-12-14","parsedDate":"2015-12-14"},{"lat":-9.24618,"long":-81.10896,"eventDate":"2015-12-14","parsedDate":"2015-12-14"},{"lat":-9.02311,"long":-81.19082,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-9.13071,"long":-81.1552,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-9.18604,"long":-81.12909,"eventDate":"2015-12-15","parsedDate":"2015-12-15"},{"lat":-7.92727,"long":-82.24569,"eventDate":"2015-12-23","parsedDate":"2015-12-23"},{"lat":-7.96461,"long":-82.25477,"eventDate":"2015-12-23","parsedDate":"2015-12-23"},{"lat":-7.97539,"long":-82.23799,"eventDate":"2015-12-23","parsedDate":"2015-12-23"},{"lat":-7.86493,"long":-82.32729,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-7.88636,"long":-82.31335,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-7.88749,"long":-82.31356,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-7.89539,"long":-82.38651,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-7.8957,"long":-82.32962,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-7.92252,"long":-82.28097,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-7.93746,"long":-82.25159,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-7.9381,"long":-82.25334,"eventDate":"2015-12-24","parsedDate":"2015-12-24"},{"lat":-7.94636,"long":-82.25422,"eventDate":"2015-12-24","parsedDate":"2015-12-24"}]},{"whaleSharkID":"151677","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-09-11","parsedDate":"2015-09-11"},{"lat":1.52006,"long":-91.99205,"eventDate":"2015-09-12","parsedDate":"2015-09-12"},{"lat":1.52682,"long":-91.94581,"eventDate":"2015-09-12","parsedDate":"2015-09-12"},{"lat":1.5784,"long":-92.07009,"eventDate":"2015-09-12","parsedDate":"2015-09-12"},{"lat":1.10085,"long":-90.39197,"eventDate":"2015-09-28","parsedDate":"2015-09-28"},{"lat":1.10929,"long":-90.39262,"eventDate":"2015-09-28","parsedDate":"2015-09-28"},{"lat":1.18743,"long":-90.37872,"eventDate":"2015-09-29","parsedDate":"2015-09-29"},{"lat":1.45581,"long":-90.09481,"eventDate":"2015-09-29","parsedDate":"2015-09-29"},{"lat":1.57104,"long":-90.05538,"eventDate":"2015-09-29","parsedDate":"2015-09-29"},{"lat":1.57656,"long":-90.05605,"eventDate":"2015-09-29","parsedDate":"2015-09-29"},{"lat":1.58283,"long":-90.04733,"eventDate":"2015-09-29","parsedDate":"2015-09-29"},{"lat":2.10017,"long":-89.47767,"eventDate":"2015-10-01","parsedDate":"2015-10-01"},{"lat":2.16799,"long":-89.4352,"eventDate":"2015-10-01","parsedDate":"2015-10-01"},{"lat":2.36796,"long":-89.31108,"eventDate":"2015-10-02","parsedDate":"2015-10-02"},{"lat":-1.66796,"long":-88.71188,"eventDate":"2015-11-16","parsedDate":"2015-11-16"}]},{"whaleSharkID":"18853225","coordinates":[{"lat":28.846385,"long":-113.409812,"eventDate":"2015-09-10","parsedDate":"2015-09-10"}]},{"whaleSharkID":"19200694","coordinates":[{"lat":9.542229,"long":123.242609,"eventDate":"2015-09-16","parsedDate":"2015-09-16"}]},{"whaleSharkID":"Rataverde","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-10-24","parsedDate":"2015-10-24"},{"lat":4.12259,"long":-99.59825,"eventDate":"2015-11-04","parsedDate":"2015-11-04"}]},{"whaleSharkID":"Belen","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2015-10-29","parsedDate":"2015-10-29"},{"lat":1.68015,"long":-91.99608,"eventDate":"2015-10-29","parsedDate":"2015-10-29"},{"lat":1.68132,"long":-92.00062,"eventDate":"2015-10-29","parsedDate":"2015-10-29"},{"lat":1.68263,"long":-92.01877,"eventDate":"2015-10-30","parsedDate":"2015-10-30"},{"lat":1.69866,"long":-92.01596,"eventDate":"2015-10-30","parsedDate":"2015-10-30"}]},{"whaleSharkID":"177383356","coordinates":[{"lat":24.130705,"long":-110.399623,"eventDate":"2015-10-10","parsedDate":"2015-10-10"}]},{"whaleSharkID":"215951401","coordinates":[{"lat":24.228079,"long":-110.496994,"eventDate":"2015-10-14","parsedDate":"2015-10-14"}]},{"whaleSharkID":"260252539","coordinates":[{"lat":24.203157,"long":-110.413909,"eventDate":"2015-12-03","parsedDate":"2015-12-03"}]},{"whaleSharkID":"233225275","coordinates":[{"lat":9.892139,"long":99.918079,"eventDate":"2014-01-24","parsedDate":"2014-01-24"}]},{"whaleSharkID":"24532425","coordinates":[{"lat":-27.542388,"long":32.656026,"eventDate":"2014-01-07","parsedDate":"2014-01-07"}]},{"whaleSharkID":"64605012","coordinates":[{"lat":7.708059,"long":98.21647,"eventDate":"2014-02-10","parsedDate":"2014-02-10"}]},{"whaleSharkID":"232297081","coordinates":[{"lat":9.848955,"long":99.833282,"eventDate":"2014-03-11","parsedDate":"2014-03-11"}]},{"whaleSharkID":"24333042","coordinates":[{"lat":-34.093951,"long":18.238788,"eventDate":"2014-03-17","parsedDate":"2014-03-17"}]},{"whaleSharkID":"24359991","coordinates":[{"lat":-34.112141,"long":18.237292,"eventDate":"2014-03-17","parsedDate":"2014-03-17"}]},{"whaleSharkID":"261196145","coordinates":[{"lat":10.100514,"long":123.783219,"eventDate":"2014-03-12","parsedDate":"2014-03-12"}]},{"whaleSharkID":"9777629","coordinates":[{"lat":16.147995,"long":-86.959714,"eventDate":"2014-04-16","parsedDate":"2014-04-16"}]},{"whaleSharkID":"199099822","coordinates":[{"lat":9.44571,"long":123.573127,"eventDate":"2014-04-12","parsedDate":"2014-04-12"}]},{"whaleSharkID":"2368116","coordinates":[{"lat":9.469106,"long":123.322592,"eventDate":"2014-05-10","parsedDate":"2014-05-10"}]},{"whaleSharkID":"3620349","coordinates":[{"lat":26.90263,"long":-111.945662,"eventDate":"2014-05-24","parsedDate":"2014-05-24"}]},{"whaleSharkID":"4892834","coordinates":[{"lat":16.035386,"long":-86.963031,"eventDate":"2014-05-06","parsedDate":"2014-05-06"}]},{"whaleSharkID":"605863848","coordinates":[{"lat":-21.846745,"long":113.721938,"eventDate":"2014-05-16","parsedDate":"2014-05-16"}]},{"whaleSharkID":"2152331","coordinates":[{"lat":21.806517,"long":-86.606315,"eventDate":"2014-07-24","parsedDate":"2014-07-24"}]},{"whaleSharkID":"41091530","coordinates":[{"lat":21.472356,"long":-86.780827,"eventDate":"2014-07-15","parsedDate":"2014-07-15"}]},{"whaleSharkID":"139126","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2014-07-31","parsedDate":"2014-07-31"}]},{"whaleSharkID":"9713278","coordinates":[{"lat":21.691709,"long":-87.12411,"eventDate":"2014-07-17","parsedDate":"2014-07-17"}]},{"whaleSharkID":"1472604","coordinates":[{"lat":21.146621,"long":-86.877745,"eventDate":"2014-07-20","parsedDate":"2014-07-20"}]},{"whaleSharkID":"200420598","coordinates":[{"lat":9.57139,"long":123.492638,"eventDate":"2014-07-23","parsedDate":"2014-07-23"}]},{"whaleSharkID":"524739902","coordinates":[{"lat":21.264054,"long":-86.404245,"eventDate":"2014-08-27","parsedDate":"2014-08-27"}]},{"whaleSharkID":"524739908","coordinates":[{"lat":21.211891,"long":-86.576379,"eventDate":"2014-08-27","parsedDate":"2014-08-27"}]},{"whaleSharkID":"533888848","coordinates":[{"lat":21.430532,"long":-86.655201,"eventDate":"2014-08-19","parsedDate":"2014-08-19"}]},{"whaleSharkID":"5251891","coordinates":[{"lat":21.624562,"long":-87.311399,"eventDate":"2014-08-28","parsedDate":"2014-08-28"}]},{"whaleSharkID":"139119","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2014-08-07","parsedDate":"2014-08-07"},{"lat":-9.08396,"long":-80.11866,"eventDate":"2014-12-09","parsedDate":"2014-12-09"},{"lat":-9.0852,"long":-80.11548,"eventDate":"2014-12-09","parsedDate":"2014-12-09"},{"lat":-8.47647,"long":-82.91225,"eventDate":"2014-12-27","parsedDate":"2014-12-27"}]},{"whaleSharkID":"139120","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2014-08-08","parsedDate":"2014-08-08"}]},{"whaleSharkID":"139121","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2014-08-06","parsedDate":"2014-08-06"},{"lat":10.33697,"long":-124.80136,"eventDate":"2014-08-19","parsedDate":"2014-08-19"}]},{"whaleSharkID":"139122","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2014-08-06","parsedDate":"2014-08-06"},{"lat":1.64106,"long":-92.05853,"eventDate":"2014-08-08","parsedDate":"2014-08-08"}]},{"whaleSharkID":"139123","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2014-08-03","parsedDate":"2014-08-03"},{"lat":1.76202,"long":-93.56416,"eventDate":"2014-08-23","parsedDate":"2014-08-23"},{"lat":0.64175,"long":-93.431,"eventDate":"2014-09-06","parsedDate":"2014-09-06"},{"lat":0.68473,"long":-93.4831,"eventDate":"2014-09-07","parsedDate":"2014-09-07"}]},{"whaleSharkID":"139124","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2014-08-06","parsedDate":"2014-08-06"},{"lat":1.49617,"long":-92.39313,"eventDate":"2014-08-08","parsedDate":"2014-08-08"},{"lat":1.43242,"long":-93.06331,"eventDate":"2014-08-09","parsedDate":"2014-08-09"},{"lat":1.44153,"long":-93.04955,"eventDate":"2014-08-09","parsedDate":"2014-08-09"},{"lat":1.35705,"long":-93.67628,"eventDate":"2014-08-10","parsedDate":"2014-08-10"},{"lat":1.36159,"long":-93.65752,"eventDate":"2014-08-10","parsedDate":"2014-08-10"},{"lat":1.31647,"long":-94.28831,"eventDate":"2014-08-11","parsedDate":"2014-08-11"},{"lat":1.32518,"long":-94.3008,"eventDate":"2014-08-11","parsedDate":"2014-08-11"},{"lat":1.30427,"long":-94.99633,"eventDate":"2014-08-12","parsedDate":"2014-08-12"},{"lat":1.30842,"long":-94.98093,"eventDate":"2014-08-12","parsedDate":"2014-08-12"},{"lat":1.25729,"long":-95.70087,"eventDate":"2014-08-13","parsedDate":"2014-08-13"},{"lat":1.28841,"long":-95.70944,"eventDate":"2014-08-13","parsedDate":"2014-08-13"},{"lat":1.40939,"long":-96.45095,"eventDate":"2014-08-14","parsedDate":"2014-08-14"},{"lat":1.4128,"long":-96.44453,"eventDate":"2014-08-14","parsedDate":"2014-08-14"},{"lat":1.44619,"long":-97.2228,"eventDate":"2014-08-15","parsedDate":"2014-08-15"},{"lat":1.60909,"long":-98.00737,"eventDate":"2014-08-16","parsedDate":"2014-08-16"},{"lat":1.61986,"long":-98.00405,"eventDate":"2014-08-16","parsedDate":"2014-08-16"},{"lat":1.82161,"long":-98.64091,"eventDate":"2014-08-17","parsedDate":"2014-08-17"},{"lat":1.82297,"long":-99.30609,"eventDate":"2014-08-18","parsedDate":"2014-08-18"},{"lat":1.82492,"long":-99.26293,"eventDate":"2014-08-18","parsedDate":"2014-08-18"},{"lat":1.82657,"long":-99.26491,"eventDate":"2014-08-18","parsedDate":"2014-08-18"},{"lat":1.82902,"long":-99.26959,"eventDate":"2014-08-18","parsedDate":"2014-08-18"},{"lat":1.62835,"long":-100.41823,"eventDate":"2014-08-19","parsedDate":"2014-08-19"},{"lat":1.65022,"long":-100.36374,"eventDate":"2014-08-19","parsedDate":"2014-08-19"},{"lat":2.49868,"long":-104.05807,"eventDate":"2014-08-24","parsedDate":"2014-08-24"},{"lat":2.51223,"long":-104.09275,"eventDate":"2014-08-24","parsedDate":"2014-08-24"},{"lat":3.57615,"long":-104.94979,"eventDate":"2014-08-27","parsedDate":"2014-08-27"},{"lat":3.93973,"long":-104.29724,"eventDate":"2014-08-29","parsedDate":"2014-08-29"},{"lat":3.41743,"long":-105.09156,"eventDate":"2014-09-03","parsedDate":"2014-09-03"},{"lat":3.65462,"long":-105.47923,"eventDate":"2014-09-04","parsedDate":"2014-09-04"},{"lat":3.49708,"long":-110.31405,"eventDate":"2014-09-28","parsedDate":"2014-09-28"},{"lat":3.49907,"long":-110.30149,"eventDate":"2014-09-28","parsedDate":"2014-09-28"},{"lat":3.50175,"long":-110.29177,"eventDate":"2014-09-28","parsedDate":"2014-09-28"},{"lat":3.45447,"long":-110.48627,"eventDate":"2014-09-29","parsedDate":"2014-09-29"},{"lat":3.46411,"long":-110.47836,"eventDate":"2014-09-29","parsedDate":"2014-09-29"},{"lat":3.29182,"long":-110.85185,"eventDate":"2014-09-30","parsedDate":"2014-09-30"},{"lat":3.29338,"long":-110.84912,"eventDate":"2014-09-30","parsedDate":"2014-09-30"},{"lat":3.25615,"long":-111.22702,"eventDate":"2014-10-01","parsedDate":"2014-10-01"},{"lat":3.26084,"long":-111.22208,"eventDate":"2014-10-01","parsedDate":"2014-10-01"},{"lat":3.27905,"long":-111.67984,"eventDate":"2014-10-02","parsedDate":"2014-10-02"},{"lat":3.28199,"long":-111.67835,"eventDate":"2014-10-02","parsedDate":"2014-10-02"},{"lat":3.28652,"long":-111.71629,"eventDate":"2014-10-02","parsedDate":"2014-10-02"},{"lat":3.38568,"long":-112.16711,"eventDate":"2014-10-03","parsedDate":"2014-10-03"},{"lat":3.3952,"long":-112.19034,"eventDate":"2014-10-03","parsedDate":"2014-10-03"},{"lat":3.3971,"long":-112.20038,"eventDate":"2014-10-03","parsedDate":"2014-10-03"},{"lat":3.65412,"long":-112.51321,"eventDate":"2014-10-04","parsedDate":"2014-10-04"},{"lat":3.66163,"long":-112.54637,"eventDate":"2014-10-04","parsedDate":"2014-10-04"},{"lat":3.66628,"long":-112.53833,"eventDate":"2014-10-04","parsedDate":"2014-10-04"},{"lat":3.83868,"long":-112.82765,"eventDate":"2014-10-05","parsedDate":"2014-10-05"},{"lat":3.96823,"long":-112.98943,"eventDate":"2014-10-06","parsedDate":"2014-10-06"},{"lat":3.97198,"long":-112.99936,"eventDate":"2014-10-06","parsedDate":"2014-10-06"},{"lat":3.97565,"long":-112.99673,"eventDate":"2014-10-06","parsedDate":"2014-10-06"},{"lat":3.96643,"long":-113.12896,"eventDate":"2014-10-07","parsedDate":"2014-10-07"},{"lat":3.97023,"long":-113.12833,"eventDate":"2014-10-07","parsedDate":"2014-10-07"},{"lat":3.86479,"long":-113.293,"eventDate":"2014-10-08","parsedDate":"2014-10-08"},{"lat":3.86729,"long":-113.28807,"eventDate":"2014-10-08","parsedDate":"2014-10-08"},{"lat":3.70397,"long":-113.36587,"eventDate":"2014-10-09","parsedDate":"2014-10-09"},{"lat":3.71517,"long":-113.33748,"eventDate":"2014-10-09","parsedDate":"2014-10-09"},{"lat":3.72711,"long":-113.32104,"eventDate":"2014-10-09","parsedDate":"2014-10-09"},{"lat":3.50427,"long":-113.41943,"eventDate":"2014-10-10","parsedDate":"2014-10-10"},{"lat":3.6056,"long":-113.42589,"eventDate":"2014-10-10","parsedDate":"2014-10-10"},{"lat":3.66385,"long":-113.42368,"eventDate":"2014-10-10","parsedDate":"2014-10-10"},{"lat":3.3233,"long":-113.66012,"eventDate":"2014-10-11","parsedDate":"2014-10-11"},{"lat":3.33872,"long":-113.63619,"eventDate":"2014-10-11","parsedDate":"2014-10-11"},{"lat":3.08593,"long":-114.03335,"eventDate":"2014-10-12","parsedDate":"2014-10-12"},{"lat":2.90693,"long":-114.4923,"eventDate":"2014-10-13","parsedDate":"2014-10-13"},{"lat":2.92202,"long":-114.5028,"eventDate":"2014-10-13","parsedDate":"2014-10-13"},{"lat":2.64181,"long":-115.10158,"eventDate":"2014-10-14","parsedDate":"2014-10-14"},{"lat":2.64899,"long":-115.08778,"eventDate":"2014-10-14","parsedDate":"2014-10-14"},{"lat":2.6614,"long":-115.05118,"eventDate":"2014-10-14","parsedDate":"2014-10-14"},{"lat":2.36245,"long":-115.82094,"eventDate":"2014-10-15","parsedDate":"2014-10-15"},{"lat":2.28658,"long":-116.69691,"eventDate":"2014-10-16","parsedDate":"2014-10-16"},{"lat":2.29201,"long":-116.69283,"eventDate":"2014-10-16","parsedDate":"2014-10-16"},{"lat":2.30056,"long":-116.67955,"eventDate":"2014-10-16","parsedDate":"2014-10-16"},{"lat":2.50351,"long":-117.06081,"eventDate":"2014-10-17","parsedDate":"2014-10-17"},{"lat":2.94943,"long":-118.69028,"eventDate":"2014-10-18","parsedDate":"2014-10-18"},{"lat":2.96001,"long":-118.69446,"eventDate":"2014-10-18","parsedDate":"2014-10-18"},{"lat":2.96379,"long":-118.69534,"eventDate":"2014-10-18","parsedDate":"2014-10-18"},{"lat":4.10223,"long":-119.77782,"eventDate":"2014-10-19","parsedDate":"2014-10-19"},{"lat":4.10555,"long":-119.77378,"eventDate":"2014-10-19","parsedDate":"2014-10-19"},{"lat":4.52562,"long":-119.78835,"eventDate":"2014-10-20","parsedDate":"2014-10-20"},{"lat":4.9297,"long":-119.98063,"eventDate":"2014-10-20","parsedDate":"2014-10-20"},{"lat":5.481,"long":-119.98483,"eventDate":"2014-10-21","parsedDate":"2014-10-21"},{"lat":5.49196,"long":-119.88286,"eventDate":"2014-10-21","parsedDate":"2014-10-21"},{"lat":5.55916,"long":-119.74196,"eventDate":"2014-10-21","parsedDate":"2014-10-21"},{"lat":5.63205,"long":-119.63883,"eventDate":"2014-10-21","parsedDate":"2014-10-21"},{"lat":5.58512,"long":-119.57584,"eventDate":"2014-10-22","parsedDate":"2014-10-22"},{"lat":5.60734,"long":-119.63579,"eventDate":"2014-10-22","parsedDate":"2014-10-22"},{"lat":5.4163,"long":-119.27575,"eventDate":"2014-10-23","parsedDate":"2014-10-23"},{"lat":5.44143,"long":-119.21965,"eventDate":"2014-10-23","parsedDate":"2014-10-23"},{"lat":5.19681,"long":-119.18216,"eventDate":"2014-10-24","parsedDate":"2014-10-24"}]},{"whaleSharkID":"139125","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2014-08-08","parsedDate":"2014-08-08"}]},{"whaleSharkID":"139127","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2014-08-01","parsedDate":"2014-08-01"},{"lat":0.41395,"long":-92.89266,"eventDate":"2014-08-20","parsedDate":"2014-08-20"},{"lat":0.58131,"long":-92.9797,"eventDate":"2014-08-20","parsedDate":"2014-08-20"},{"lat":0.3016,"long":-93.0889,"eventDate":"2014-08-21","parsedDate":"2014-08-21"},{"lat":-0.14159,"long":-90.95062,"eventDate":"2014-09-13","parsedDate":"2014-09-13"},{"lat":-0.0764,"long":-90.85237,"eventDate":"2014-09-15","parsedDate":"2014-09-15"},{"lat":-0.40724,"long":-90.98486,"eventDate":"2014-10-03","parsedDate":"2014-10-03"},{"lat":-7.27426,"long":-84.80404,"eventDate":"2014-12-15","parsedDate":"2014-12-15"},{"lat":-7.27508,"long":-84.80513,"eventDate":"2014-12-15","parsedDate":"2014-12-15"},{"lat":-7.27865,"long":-84.79976,"eventDate":"2014-12-15","parsedDate":"2014-12-15"},{"lat":-7.42424,"long":-84.90606,"eventDate":"2014-12-16","parsedDate":"2014-12-16"},{"lat":-7.54192,"long":-84.99059,"eventDate":"2014-12-17","parsedDate":"2014-12-17"},{"lat":-7.55051,"long":-84.99164,"eventDate":"2014-12-17","parsedDate":"2014-12-17"}]},{"whaleSharkID":"140649","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2014-08-08","parsedDate":"2014-08-08"},{"lat":1.66417,"long":-92.01607,"eventDate":"2014-08-12","parsedDate":"2014-08-12"},{"lat":1.46264,"long":-92.05797,"eventDate":"2014-08-13","parsedDate":"2014-08-13"},{"lat":0.72945,"long":-92.9739,"eventDate":"2014-08-15","parsedDate":"2014-08-15"},{"lat":0.72493,"long":-93.2435,"eventDate":"2014-08-16","parsedDate":"2014-08-16"},{"lat":0.78871,"long":-93.33329,"eventDate":"2014-08-16","parsedDate":"2014-08-16"},{"lat":0.80197,"long":-93.36543,"eventDate":"2014-08-16","parsedDate":"2014-08-16"},{"lat":0.81762,"long":-93.3781,"eventDate":"2014-08-16","parsedDate":"2014-08-16"},{"lat":1.31619,"long":-93.38866,"eventDate":"2014-08-18","parsedDate":"2014-08-18"},{"lat":1.58739,"long":-94.49183,"eventDate":"2014-08-19","parsedDate":"2014-08-19"},{"lat":1.78026,"long":-94.73523,"eventDate":"2014-08-20","parsedDate":"2014-08-20"},{"lat":1.80281,"long":-94.75288,"eventDate":"2014-08-20","parsedDate":"2014-08-20"},{"lat":1.82067,"long":-94.78674,"eventDate":"2014-08-20","parsedDate":"2014-08-20"},{"lat":1.82101,"long":-94.74432,"eventDate":"2014-08-20","parsedDate":"2014-08-20"},{"lat":2.30703,"long":-96.14165,"eventDate":"2014-08-22","parsedDate":"2014-08-22"},{"lat":2.33063,"long":-96.18662,"eventDate":"2014-08-22","parsedDate":"2014-08-22"},{"lat":2.34187,"long":-96.21092,"eventDate":"2014-08-22","parsedDate":"2014-08-22"},{"lat":2.37625,"long":-96.24076,"eventDate":"2014-08-22","parsedDate":"2014-08-22"},{"lat":2.81287,"long":-96.77843,"eventDate":"2014-08-23","parsedDate":"2014-08-23"},{"lat":2.81784,"long":-96.78507,"eventDate":"2014-08-23","parsedDate":"2014-08-23"},{"lat":2.82176,"long":-96.85542,"eventDate":"2014-08-23","parsedDate":"2014-08-23"},{"lat":2.72023,"long":-96.49485,"eventDate":"2014-08-24","parsedDate":"2014-08-24"},{"lat":2.79794,"long":-96.88877,"eventDate":"2014-08-24","parsedDate":"2014-08-24"},{"lat":2.65789,"long":-97.54846,"eventDate":"2014-08-25","parsedDate":"2014-08-25"},{"lat":2.65869,"long":-97.68583,"eventDate":"2014-08-25","parsedDate":"2014-08-25"},{"lat":2.66301,"long":-97.6335,"eventDate":"2014-08-25","parsedDate":"2014-08-25"},{"lat":2.83841,"long":-98.08938,"eventDate":"2014-08-26","parsedDate":"2014-08-26"},{"lat":2.95966,"long":-98.27835,"eventDate":"2014-08-26","parsedDate":"2014-08-26"},{"lat":3.35793,"long":-98.89036,"eventDate":"2014-08-27","parsedDate":"2014-08-27"},{"lat":3.39574,"long":-99.1453,"eventDate":"2014-08-27","parsedDate":"2014-08-27"},{"lat":3.63964,"long":-98.76381,"eventDate":"2014-08-28","parsedDate":"2014-08-28"},{"lat":3.66899,"long":-98.73423,"eventDate":"2014-08-28","parsedDate":"2014-08-28"},{"lat":3.53827,"long":-98.61675,"eventDate":"2014-08-29","parsedDate":"2014-08-29"},{"lat":3.5396,"long":-98.61663,"eventDate":"2014-08-29","parsedDate":"2014-08-29"},{"lat":3.5558,"long":-98.61271,"eventDate":"2014-08-29","parsedDate":"2014-08-29"},{"lat":3.55603,"long":-98.57199,"eventDate":"2014-08-29","parsedDate":"2014-08-29"},{"lat":3.67773,"long":-98.65923,"eventDate":"2014-08-29","parsedDate":"2014-08-29"},{"lat":3.55582,"long":-98.54439,"eventDate":"2014-08-30","parsedDate":"2014-08-30"},{"lat":3.56609,"long":-98.57066,"eventDate":"2014-08-31","parsedDate":"2014-08-31"},{"lat":3.81305,"long":-98.49773,"eventDate":"2014-09-01","parsedDate":"2014-09-01"},{"lat":3.8297,"long":-98.47556,"eventDate":"2014-09-01","parsedDate":"2014-09-01"},{"lat":3.7753,"long":-98.53921,"eventDate":"2014-09-02","parsedDate":"2014-09-02"},{"lat":3.80065,"long":-98.50559,"eventDate":"2014-09-02","parsedDate":"2014-09-02"},{"lat":3.40694,"long":-98.53192,"eventDate":"2014-09-04","parsedDate":"2014-09-04"},{"lat":3.40696,"long":-98.51847,"eventDate":"2014-09-04","parsedDate":"2014-09-04"},{"lat":3.39126,"long":-98.60052,"eventDate":"2014-09-05","parsedDate":"2014-09-05"},{"lat":3.39633,"long":-98.59695,"eventDate":"2014-09-05","parsedDate":"2014-09-05"},{"lat":3.38893,"long":-98.61253,"eventDate":"2014-09-06","parsedDate":"2014-09-06"},{"lat":3.40023,"long":-98.57815,"eventDate":"2014-09-06","parsedDate":"2014-09-06"},{"lat":3.40075,"long":-98.5853,"eventDate":"2014-09-06","parsedDate":"2014-09-06"},{"lat":3.43335,"long":-98.66744,"eventDate":"2014-09-06","parsedDate":"2014-09-06"},{"lat":3.43545,"long":-98.67281,"eventDate":"2014-09-06","parsedDate":"2014-09-06"},{"lat":3.44501,"long":-98.68903,"eventDate":"2014-09-06","parsedDate":"2014-09-06"},{"lat":3.3423,"long":-98.60554,"eventDate":"2014-09-07","parsedDate":"2014-09-07"},{"lat":3.35715,"long":-98.61417,"eventDate":"2014-09-07","parsedDate":"2014-09-07"},{"lat":3.39863,"long":-98.63469,"eventDate":"2014-09-07","parsedDate":"2014-09-07"},{"lat":3.30113,"long":-98.63913,"eventDate":"2014-09-08","parsedDate":"2014-09-08"},{"lat":3.59952,"long":-98.55475,"eventDate":"2014-09-09","parsedDate":"2014-09-09"},{"lat":3.65612,"long":-98.56817,"eventDate":"2014-09-09","parsedDate":"2014-09-09"},{"lat":3.70752,"long":-98.60021,"eventDate":"2014-09-09","parsedDate":"2014-09-09"},{"lat":3.73533,"long":-98.68762,"eventDate":"2014-09-09","parsedDate":"2014-09-09"},{"lat":3.74752,"long":-98.68284,"eventDate":"2014-09-09","parsedDate":"2014-09-09"},{"lat":3.67727,"long":-98.57099,"eventDate":"2014-09-10","parsedDate":"2014-09-10"},{"lat":3.53654,"long":-98.51865,"eventDate":"2014-09-11","parsedDate":"2014-09-11"},{"lat":3.61083,"long":-98.52986,"eventDate":"2014-09-11","parsedDate":"2014-09-11"},{"lat":3.76645,"long":-98.64302,"eventDate":"2014-09-11","parsedDate":"2014-09-11"},{"lat":3.53664,"long":-98.53196,"eventDate":"2014-09-12","parsedDate":"2014-09-12"},{"lat":3.53793,"long":-98.53159,"eventDate":"2014-09-12","parsedDate":"2014-09-12"},{"lat":3.61348,"long":-98.53532,"eventDate":"2014-09-13","parsedDate":"2014-09-13"},{"lat":3.3677,"long":-98.51467,"eventDate":"2014-09-14","parsedDate":"2014-09-14"},{"lat":3.05887,"long":-98.65459,"eventDate":"2014-09-15","parsedDate":"2014-09-15"},{"lat":3.14433,"long":-98.63976,"eventDate":"2014-09-15","parsedDate":"2014-09-15"},{"lat":3.22553,"long":-98.6324,"eventDate":"2014-09-15","parsedDate":"2014-09-15"},{"lat":3.08025,"long":-98.64834,"eventDate":"2014-09-16","parsedDate":"2014-09-16"},{"lat":3.08599,"long":-98.64717,"eventDate":"2014-09-16","parsedDate":"2014-09-16"},{"lat":3.10268,"long":-98.59963,"eventDate":"2014-09-16","parsedDate":"2014-09-16"},{"lat":2.91927,"long":-98.76577,"eventDate":"2014-09-17","parsedDate":"2014-09-17"},{"lat":2.92748,"long":-98.77435,"eventDate":"2014-09-17","parsedDate":"2014-09-17"},{"lat":2.93352,"long":-98.77678,"eventDate":"2014-09-17","parsedDate":"2014-09-17"},{"lat":2.93368,"long":-98.77694,"eventDate":"2014-09-17","parsedDate":"2014-09-17"},{"lat":2.66278,"long":-98.98585,"eventDate":"2014-09-18","parsedDate":"2014-09-18"},{"lat":2.59103,"long":-99.11063,"eventDate":"2014-09-19","parsedDate":"2014-09-19"},{"lat":2.62973,"long":-99.08217,"eventDate":"2014-09-19","parsedDate":"2014-09-19"},{"lat":2.63058,"long":-99.0807,"eventDate":"2014-09-19","parsedDate":"2014-09-19"},{"lat":2.62562,"long":-99.09405,"eventDate":"2014-09-20","parsedDate":"2014-09-20"},{"lat":2.6498,"long":-99.13233,"eventDate":"2014-09-20","parsedDate":"2014-09-20"},{"lat":2.68696,"long":-99.19169,"eventDate":"2014-09-20","parsedDate":"2014-09-20"},{"lat":2.75467,"long":-99.30224,"eventDate":"2014-09-21","parsedDate":"2014-09-21"},{"lat":2.75519,"long":-99.47323,"eventDate":"2014-09-22","parsedDate":"2014-09-22"},{"lat":2.7679,"long":-99.73152,"eventDate":"2014-09-22","parsedDate":"2014-09-22"},{"lat":2.78248,"long":-99.73823,"eventDate":"2014-09-22","parsedDate":"2014-09-22"},{"lat":2.54931,"long":-99.86301,"eventDate":"2014-09-23","parsedDate":"2014-09-23"},{"lat":2.59817,"long":-99.90007,"eventDate":"2014-09-23","parsedDate":"2014-09-23"},{"lat":1.76447,"long":-100.50964,"eventDate":"2014-09-26","parsedDate":"2014-09-26"},{"lat":1.78872,"long":-100.59653,"eventDate":"2014-09-26","parsedDate":"2014-09-26"},{"lat":1.89316,"long":-100.29325,"eventDate":"2014-09-26","parsedDate":"2014-09-26"},{"lat":1.60297,"long":-101.09474,"eventDate":"2014-09-27","parsedDate":"2014-09-27"},{"lat":1.63401,"long":-101.10233,"eventDate":"2014-09-27","parsedDate":"2014-09-27"},{"lat":1.65389,"long":-101.03632,"eventDate":"2014-09-27","parsedDate":"2014-09-27"},{"lat":1.66267,"long":-101.11438,"eventDate":"2014-09-27","parsedDate":"2014-09-27"},{"lat":1.62779,"long":-101.27004,"eventDate":"2014-09-28","parsedDate":"2014-09-28"},{"lat":1.6296,"long":-101.18654,"eventDate":"2014-09-28","parsedDate":"2014-09-28"},{"lat":1.94605,"long":-102.32038,"eventDate":"2014-09-30","parsedDate":"2014-09-30"},{"lat":1.9462,"long":-102.32132,"eventDate":"2014-09-30","parsedDate":"2014-09-30"},{"lat":3.30689,"long":-104.35672,"eventDate":"2014-10-04","parsedDate":"2014-10-04"},{"lat":3.74937,"long":-104.13081,"eventDate":"2014-10-05","parsedDate":"2014-10-05"},{"lat":3.78262,"long":-104.01686,"eventDate":"2014-10-05","parsedDate":"2014-10-05"},{"lat":3.7707,"long":-104.17871,"eventDate":"2014-10-07","parsedDate":"2014-10-07"},{"lat":2.93711,"long":-104.9018,"eventDate":"2014-10-10","parsedDate":"2014-10-10"},{"lat":2.3524,"long":-104.95268,"eventDate":"2014-10-11","parsedDate":"2014-10-11"},{"lat":2.26906,"long":-105.06929,"eventDate":"2014-10-13","parsedDate":"2014-10-13"},{"lat":1.58011,"long":-105.64783,"eventDate":"2014-10-14","parsedDate":"2014-10-14"},{"lat":2.01181,"long":-105.42699,"eventDate":"2014-10-14","parsedDate":"2014-10-14"},{"lat":0.79848,"long":-106.6814,"eventDate":"2014-10-15","parsedDate":"2014-10-15"},{"lat":2.03917,"long":-109.17245,"eventDate":"2014-10-24","parsedDate":"2014-10-24"},{"lat":3.85771,"long":-110.36543,"eventDate":"2014-11-01","parsedDate":"2014-11-01"},{"lat":4.6632,"long":-100.2754,"eventDate":"2014-12-26","parsedDate":"2014-12-26"},{"lat":4.66426,"long":-100.27528,"eventDate":"2014-12-26","parsedDate":"2014-12-26"},{"lat":4.75332,"long":-100.17426,"eventDate":"2014-12-28","parsedDate":"2014-12-28"},{"lat":4.75752,"long":-100.18207,"eventDate":"2014-12-28","parsedDate":"2014-12-28"},{"lat":4.75274,"long":-100.05055,"eventDate":"2014-12-29","parsedDate":"2014-12-29"}]},{"whaleSharkID":"141484","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2014-08-06","parsedDate":"2014-08-06"}]},{"whaleSharkID":"143536217","coordinates":[{"lat":41.498813,"long":-66.610271,"eventDate":"2014-08-23","parsedDate":"2014-08-23"}]},{"whaleSharkID":"15776603","coordinates":[{"lat":40.248627,"long":-68.031444,"eventDate":"2014-08-23","parsedDate":"2014-08-23"}]},{"whaleSharkID":"24524816","coordinates":[{"lat":-27.596684,"long":32.69553,"eventDate":"2014-10-09","parsedDate":"2014-10-09"}]},{"whaleSharkID":"2783604","coordinates":[{"lat":24.179331,"long":-110.395088,"eventDate":"2014-11-08","parsedDate":"2014-11-08"}]},{"whaleSharkID":"101556169","coordinates":[{"lat":-13.44391,"long":48.040335,"eventDate":"2014-11-15","parsedDate":"2014-11-15"}]},{"whaleSharkID":"133775913","coordinates":[{"lat":-7.823408,"long":39.686948,"eventDate":"2014-11-20","parsedDate":"2014-11-20"}]},{"whaleSharkID":"198292650","coordinates":[{"lat":24.22567,"long":-110.331791,"eventDate":"2014-11-13","parsedDate":"2014-11-13"}]},{"whaleSharkID":"230709385","coordinates":[{"lat":9.475783,"long":123.210639,"eventDate":"2013-01-04","parsedDate":"2013-01-04"}]},{"whaleSharkID":"230709387","coordinates":[{"lat":9.456207,"long":123.383717,"eventDate":"2013-01-04","parsedDate":"2013-01-04"}]},{"whaleSharkID":"230709393","coordinates":[{"lat":9.599305,"long":123.276168,"eventDate":"2013-01-04","parsedDate":"2013-01-04"}]},{"whaleSharkID":"342283410","coordinates":[{"lat":12.94171,"long":123.543228,"eventDate":"2013-02-17","parsedDate":"2013-02-17"}]},{"whaleSharkID":"53996342","coordinates":[{"lat":-30.334478,"long":30.935594,"eventDate":"2013-02-22","parsedDate":"2013-02-22"}]},{"whaleSharkID":"14461208","coordinates":[{"lat":-21.857506,"long":114.309139,"eventDate":"2013-03-26","parsedDate":"2013-03-26"}]},{"whaleSharkID":"7193558","coordinates":[{"lat":-34.556161,"long":173.414468,"eventDate":"2013-04-09","parsedDate":"2013-04-09"}]},{"whaleSharkID":"516708506","coordinates":[{"lat":9.513152,"long":123.449979,"eventDate":"2013-04-17","parsedDate":"2013-04-17"}]},{"whaleSharkID":"606177274","coordinates":[{"lat":22.677906,"long":-109.981328,"eventDate":"2013-04-19","parsedDate":"2013-04-19"}]},{"whaleSharkID":"A69-9001-28405","coordinates":[{"lat":-21.96,"long":113.91,"eventDate":"2013-04-09","parsedDate":"2013-04-09"},{"lat":-22.58,"long":113.63,"eventDate":"2013-04-09","parsedDate":"2013-04-09"},{"lat":-21.9,"long":113.93,"eventDate":"2013-04-15","parsedDate":"2013-04-15"},{"lat":-21.97,"long":113.9,"eventDate":"2013-04-16","parsedDate":"2013-04-16"},{"lat":-22.09,"long":113.87,"eventDate":"2013-04-16","parsedDate":"2013-04-16"},{"lat":-22.6,"long":113.61,"eventDate":"2013-04-20","parsedDate":"2013-04-20"},{"lat":-22.6,"long":113.62,"eventDate":"2013-04-20","parsedDate":"2013-04-20"},{"lat":-22.6,"long":113.62,"eventDate":"2013-04-22","parsedDate":"2013-04-22"},{"lat":-22.59,"long":113.61,"eventDate":"2013-04-23","parsedDate":"2013-04-23"},{"lat":-22.6,"long":113.61,"eventDate":"2013-04-23","parsedDate":"2013-04-23"},{"lat":-22.09,"long":113.87,"eventDate":"2013-04-26","parsedDate":"2013-04-26"},{"lat":-22.09,"long":113.88,"eventDate":"2013-04-26","parsedDate":"2013-04-26"},{"lat":-22.01,"long":113.9,"eventDate":"2013-04-27","parsedDate":"2013-04-27"},{"lat":-22.09,"long":113.87,"eventDate":"2013-04-27","parsedDate":"2013-04-27"},{"lat":-21.9,"long":113.93,"eventDate":"2013-05-07","parsedDate":"2013-05-07"},{"lat":-21.97,"long":113.9,"eventDate":"2013-05-07","parsedDate":"2013-05-07"},{"lat":-22.09,"long":113.87,"eventDate":"2013-05-07","parsedDate":"2013-05-07"},{"lat":-21.95,"long":113.91,"eventDate":"2013-05-08","parsedDate":"2013-05-08"},{"lat":-21.97,"long":113.9,"eventDate":"2013-05-08","parsedDate":"2013-05-08"},{"lat":-21.97,"long":113.91,"eventDate":"2013-05-08","parsedDate":"2013-05-08"},{"lat":-21.98,"long":113.91,"eventDate":"2013-05-08","parsedDate":"2013-05-08"},{"lat":-22,"long":113.9,"eventDate":"2013-05-08","parsedDate":"2013-05-08"},{"lat":-21.9,"long":113.93,"eventDate":"2013-05-09","parsedDate":"2013-05-09"},{"lat":-21.96,"long":113.91,"eventDate":"2013-05-09","parsedDate":"2013-05-09"},{"lat":-21.97,"long":113.9,"eventDate":"2013-05-09","parsedDate":"2013-05-09"},{"lat":-21.9,"long":113.93,"eventDate":"2013-05-13","parsedDate":"2013-05-13"},{"lat":-21.95,"long":113.91,"eventDate":"2013-05-13","parsedDate":"2013-05-13"},{"lat":-21.97,"long":113.91,"eventDate":"2013-05-13","parsedDate":"2013-05-13"},{"lat":-21.98,"long":113.91,"eventDate":"2013-05-13","parsedDate":"2013-05-13"},{"lat":-21.99,"long":113.91,"eventDate":"2013-05-13","parsedDate":"2013-05-13"},{"lat":-22.09,"long":113.87,"eventDate":"2013-05-13","parsedDate":"2013-05-13"},{"lat":-21.98,"long":113.91,"eventDate":"2013-05-17","parsedDate":"2013-05-17"},{"lat":-21.99,"long":113.91,"eventDate":"2013-05-17","parsedDate":"2013-05-17"},{"lat":-22,"long":113.9,"eventDate":"2013-05-17","parsedDate":"2013-05-17"},{"lat":-22.01,"long":113.9,"eventDate":"2013-05-17","parsedDate":"2013-05-17"},{"lat":-22.09,"long":113.88,"eventDate":"2013-05-17","parsedDate":"2013-05-17"},{"lat":-21.96,"long":113.91,"eventDate":"2013-05-18","parsedDate":"2013-05-18"},{"lat":-21.97,"long":113.91,"eventDate":"2013-05-18","parsedDate":"2013-05-18"},{"lat":-21.98,"long":113.91,"eventDate":"2013-05-18","parsedDate":"2013-05-18"},{"lat":-21.99,"long":113.91,"eventDate":"2013-05-18","parsedDate":"2013-05-18"},{"lat":-22,"long":113.9,"eventDate":"2013-05-18","parsedDate":"2013-05-18"},{"lat":-21.99,"long":113.91,"eventDate":"2013-05-19","parsedDate":"2013-05-19"},{"lat":-22,"long":113.9,"eventDate":"2013-05-19","parsedDate":"2013-05-19"},{"lat":-21.9,"long":113.93,"eventDate":"2013-06-15","parsedDate":"2013-06-15"},{"lat":-21.97,"long":113.91,"eventDate":"2013-06-15","parsedDate":"2013-06-15"},{"lat":-22.09,"long":113.87,"eventDate":"2013-06-15","parsedDate":"2013-06-15"},{"lat":-22.59,"long":113.61,"eventDate":"2013-06-25","parsedDate":"2013-06-25"},{"lat":-22.6,"long":113.61,"eventDate":"2013-06-25","parsedDate":"2013-06-25"},{"lat":-22.09,"long":113.87,"eventDate":"2013-06-27","parsedDate":"2013-06-27"},{"lat":-21.89,"long":113.92,"eventDate":"2013-06-29","parsedDate":"2013-06-29"},{"lat":-22.09,"long":113.87,"eventDate":"2013-06-30","parsedDate":"2013-06-30"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-03","parsedDate":"2013-07-03"},{"lat":-21.88,"long":113.91,"eventDate":"2013-07-05","parsedDate":"2013-07-05"},{"lat":-21.89,"long":113.92,"eventDate":"2013-07-05","parsedDate":"2013-07-05"},{"lat":-21.89,"long":113.92,"eventDate":"2013-07-06","parsedDate":"2013-07-06"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-08","parsedDate":"2013-07-08"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-09","parsedDate":"2013-07-09"},{"lat":-21.88,"long":113.91,"eventDate":"2013-07-10","parsedDate":"2013-07-10"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-12","parsedDate":"2013-07-12"}]},{"whaleSharkID":"A69-9001-28406","coordinates":[{"lat":-22.58,"long":113.63,"eventDate":"2013-04-09","parsedDate":"2013-04-09"},{"lat":-21.89,"long":113.92,"eventDate":"2013-04-16","parsedDate":"2013-04-16"},{"lat":-22.59,"long":113.61,"eventDate":"2013-04-17","parsedDate":"2013-04-17"},{"lat":-22.6,"long":113.61,"eventDate":"2013-04-17","parsedDate":"2013-04-17"},{"lat":-23,"long":113.76,"eventDate":"2013-04-20","parsedDate":"2013-04-20"},{"lat":-23.12,"long":113.64,"eventDate":"2013-04-22","parsedDate":"2013-04-22"},{"lat":-23.12,"long":113.65,"eventDate":"2013-04-22","parsedDate":"2013-04-22"},{"lat":-23.12,"long":113.66,"eventDate":"2013-04-22","parsedDate":"2013-04-22"},{"lat":-23.13,"long":113.73,"eventDate":"2013-04-22","parsedDate":"2013-04-22"},{"lat":-23.12,"long":113.7,"eventDate":"2013-04-28","parsedDate":"2013-04-28"},{"lat":-23.13,"long":113.71,"eventDate":"2013-04-28","parsedDate":"2013-04-28"},{"lat":-23.13,"long":113.71,"eventDate":"2013-04-30","parsedDate":"2013-04-30"},{"lat":-23.13,"long":113.72,"eventDate":"2013-04-30","parsedDate":"2013-04-30"},{"lat":-22.59,"long":113.61,"eventDate":"2013-05-11","parsedDate":"2013-05-11"},{"lat":-22.6,"long":113.61,"eventDate":"2013-05-11","parsedDate":"2013-05-11"},{"lat":-22.59,"long":113.61,"eventDate":"2013-05-12","parsedDate":"2013-05-12"},{"lat":-22.6,"long":113.61,"eventDate":"2013-05-12","parsedDate":"2013-05-12"},{"lat":-22.6,"long":113.62,"eventDate":"2013-05-12","parsedDate":"2013-05-12"},{"lat":-22.59,"long":113.61,"eventDate":"2013-05-18","parsedDate":"2013-05-18"},{"lat":-22.6,"long":113.61,"eventDate":"2013-05-18","parsedDate":"2013-05-18"},{"lat":-22.59,"long":113.61,"eventDate":"2013-05-19","parsedDate":"2013-05-19"},{"lat":-22.6,"long":113.61,"eventDate":"2013-05-19","parsedDate":"2013-05-19"},{"lat":-22.6,"long":113.61,"eventDate":"2013-05-20","parsedDate":"2013-05-20"},{"lat":-22.6,"long":113.62,"eventDate":"2013-05-20","parsedDate":"2013-05-20"},{"lat":-22.59,"long":113.61,"eventDate":"2013-05-25","parsedDate":"2013-05-25"},{"lat":-22.6,"long":113.61,"eventDate":"2013-05-25","parsedDate":"2013-05-25"},{"lat":-22.59,"long":113.59,"eventDate":"2013-05-30","parsedDate":"2013-05-30"},{"lat":-22.6,"long":113.61,"eventDate":"2013-05-30","parsedDate":"2013-05-30"},{"lat":-22.6,"long":113.62,"eventDate":"2013-05-30","parsedDate":"2013-05-30"},{"lat":-22.6,"long":113.61,"eventDate":"2013-06-05","parsedDate":"2013-06-05"},{"lat":-22.6,"long":113.62,"eventDate":"2013-06-05","parsedDate":"2013-06-05"},{"lat":-22.6,"long":113.63,"eventDate":"2013-06-06","parsedDate":"2013-06-06"},{"lat":-23,"long":113.76,"eventDate":"2013-07-01","parsedDate":"2013-07-01"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-05","parsedDate":"2013-07-05"},{"lat":-21.97,"long":113.91,"eventDate":"2013-07-11","parsedDate":"2013-07-11"},{"lat":-21.99,"long":113.91,"eventDate":"2013-07-19","parsedDate":"2013-07-19"},{"lat":-22.01,"long":113.9,"eventDate":"2013-07-19","parsedDate":"2013-07-19"},{"lat":-22.01,"long":113.9,"eventDate":"2013-07-20","parsedDate":"2013-07-20"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-20","parsedDate":"2013-07-20"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-22","parsedDate":"2013-07-22"},{"lat":-22.09,"long":113.88,"eventDate":"2013-07-22","parsedDate":"2013-07-22"},{"lat":-21.95,"long":113.91,"eventDate":"2013-07-23","parsedDate":"2013-07-23"},{"lat":-21.96,"long":113.91,"eventDate":"2013-07-23","parsedDate":"2013-07-23"},{"lat":-21.97,"long":113.91,"eventDate":"2013-07-23","parsedDate":"2013-07-23"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-23","parsedDate":"2013-07-23"},{"lat":-21.96,"long":113.91,"eventDate":"2013-07-24","parsedDate":"2013-07-24"},{"lat":-21.97,"long":113.91,"eventDate":"2013-07-24","parsedDate":"2013-07-24"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-24","parsedDate":"2013-07-24"},{"lat":-21.96,"long":113.91,"eventDate":"2013-07-25","parsedDate":"2013-07-25"},{"lat":-21.97,"long":113.91,"eventDate":"2013-07-25","parsedDate":"2013-07-25"}]},{"whaleSharkID":"A69-9001-28408","coordinates":[{"lat":-22.09,"long":113.87,"eventDate":"2013-04-10","parsedDate":"2013-04-10"},{"lat":-22.58,"long":113.63,"eventDate":"2013-04-10","parsedDate":"2013-04-10"},{"lat":-22.59,"long":113.61,"eventDate":"2013-04-19","parsedDate":"2013-04-19"},{"lat":-22.6,"long":113.61,"eventDate":"2013-04-19","parsedDate":"2013-04-19"},{"lat":-21.97,"long":113.91,"eventDate":"2013-04-21","parsedDate":"2013-04-21"},{"lat":-22.09,"long":113.87,"eventDate":"2013-04-21","parsedDate":"2013-04-21"},{"lat":-21.95,"long":113.91,"eventDate":"2013-04-22","parsedDate":"2013-04-22"},{"lat":-21.96,"long":113.91,"eventDate":"2013-04-22","parsedDate":"2013-04-22"},{"lat":-21.97,"long":113.91,"eventDate":"2013-04-22","parsedDate":"2013-04-22"},{"lat":-22,"long":113.9,"eventDate":"2013-04-22","parsedDate":"2013-04-22"},{"lat":-22.09,"long":113.87,"eventDate":"2013-04-23","parsedDate":"2013-04-23"},{"lat":-21.95,"long":113.91,"eventDate":"2013-06-06","parsedDate":"2013-06-06"},{"lat":-21.96,"long":113.91,"eventDate":"2013-06-06","parsedDate":"2013-06-06"},{"lat":-21.97,"long":113.91,"eventDate":"2013-06-06","parsedDate":"2013-06-06"},{"lat":-21.89,"long":113.92,"eventDate":"2013-06-07","parsedDate":"2013-06-07"},{"lat":-21.9,"long":113.93,"eventDate":"2013-06-07","parsedDate":"2013-06-07"},{"lat":-21.95,"long":113.91,"eventDate":"2013-06-08","parsedDate":"2013-06-08"},{"lat":-21.95,"long":113.91,"eventDate":"2013-06-21","parsedDate":"2013-06-21"},{"lat":-21.97,"long":113.91,"eventDate":"2013-06-21","parsedDate":"2013-06-21"},{"lat":-21.95,"long":113.91,"eventDate":"2013-06-22","parsedDate":"2013-06-22"},{"lat":-21.97,"long":113.91,"eventDate":"2013-06-22","parsedDate":"2013-06-22"},{"lat":-21.99,"long":113.91,"eventDate":"2013-06-22","parsedDate":"2013-06-22"},{"lat":-22,"long":113.9,"eventDate":"2013-06-22","parsedDate":"2013-06-22"},{"lat":-21.97,"long":113.91,"eventDate":"2013-06-23","parsedDate":"2013-06-23"},{"lat":-22.09,"long":113.87,"eventDate":"2013-06-23","parsedDate":"2013-06-23"},{"lat":-22.6,"long":113.62,"eventDate":"2013-06-24","parsedDate":"2013-06-24"},{"lat":-22.6,"long":113.61,"eventDate":"2013-06-26","parsedDate":"2013-06-26"},{"lat":-22.6,"long":113.62,"eventDate":"2013-06-27","parsedDate":"2013-06-27"},{"lat":-22.09,"long":113.87,"eventDate":"2013-06-29","parsedDate":"2013-06-29"},{"lat":-22.09,"long":113.87,"eventDate":"2013-06-30","parsedDate":"2013-06-30"},{"lat":-21.88,"long":113.91,"eventDate":"2013-07-03","parsedDate":"2013-07-03"},{"lat":-21.89,"long":113.92,"eventDate":"2013-07-03","parsedDate":"2013-07-03"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-03","parsedDate":"2013-07-03"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-06","parsedDate":"2013-07-06"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-08","parsedDate":"2013-07-08"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-09","parsedDate":"2013-07-09"},{"lat":-21.88,"long":113.91,"eventDate":"2013-07-10","parsedDate":"2013-07-10"},{"lat":-21.89,"long":113.92,"eventDate":"2013-07-10","parsedDate":"2013-07-10"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-10","parsedDate":"2013-07-10"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-14","parsedDate":"2013-07-14"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-15","parsedDate":"2013-07-15"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-16","parsedDate":"2013-07-16"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-18","parsedDate":"2013-07-18"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-20","parsedDate":"2013-07-20"},{"lat":-22.09,"long":113.87,"eventDate":"2013-07-21","parsedDate":"2013-07-21"},{"lat":-21.96,"long":113.91,"eventDate":"2013-07-23","parsedDate":"2013-07-23"},{"lat":-21.97,"long":113.91,"eventDate":"2013-07-23","parsedDate":"2013-07-23"},{"lat":-21.97,"long":113.91,"eventDate":"2013-07-27","parsedDate":"2013-07-27"},{"lat":-22.6,"long":113.62,"eventDate":"2013-07-31","parsedDate":"2013-07-31"},{"lat":-22.59,"long":113.61,"eventDate":"2013-08-02","parsedDate":"2013-08-02"},{"lat":-22.6,"long":113.61,"eventDate":"2013-08-02","parsedDate":"2013-08-02"},{"lat":-22,"long":113.9,"eventDate":"2013-08-09","parsedDate":"2013-08-09"},{"lat":-22.09,"long":113.87,"eventDate":"2013-08-09","parsedDate":"2013-08-09"},{"lat":-21.97,"long":113.91,"eventDate":"2013-08-10","parsedDate":"2013-08-10"},{"lat":-21.89,"long":113.92,"eventDate":"2013-08-22","parsedDate":"2013-08-22"},{"lat":-22.6,"long":113.61,"eventDate":"2013-08-24","parsedDate":"2013-08-24"},{"lat":-22.6,"long":113.62,"eventDate":"2013-08-24","parsedDate":"2013-08-24"},{"lat":-22.09,"long":113.87,"eventDate":"2013-08-30","parsedDate":"2013-08-30"}]},{"whaleSharkID":"121925265","coordinates":[{"lat":16.675691,"long":-87.932233,"eventDate":"2013-05-27","parsedDate":"2013-05-27"}]},{"whaleSharkID":"A69-9001-28404","coordinates":[{"lat":-22.09,"long":113.87,"eventDate":"2013-05-05","parsedDate":"2013-05-05"},{"lat":-22.58,"long":113.63,"eventDate":"2013-05-05","parsedDate":"2013-05-05"},{"lat":-22.6,"long":113.61,"eventDate":"2013-05-08","parsedDate":"2013-05-08"},{"lat":-22.6,"long":113.62,"eventDate":"2013-05-08","parsedDate":"2013-05-08"},{"lat":-22.59,"long":113.59,"eventDate":"2013-05-13","parsedDate":"2013-05-13"},{"lat":-22.09,"long":113.87,"eventDate":"2013-05-15","parsedDate":"2013-05-15"},{"lat":-22.09,"long":113.87,"eventDate":"2013-05-16","parsedDate":"2013-05-16"},{"lat":-22.59,"long":113.61,"eventDate":"2013-05-18","parsedDate":"2013-05-18"},{"lat":-22.6,"long":113.61,"eventDate":"2013-05-18","parsedDate":"2013-05-18"},{"lat":-22.09,"long":113.87,"eventDate":"2013-05-23","parsedDate":"2013-05-23"},{"lat":-21.98,"long":113.91,"eventDate":"2013-05-24","parsedDate":"2013-05-24"},{"lat":-22,"long":113.9,"eventDate":"2013-05-24","parsedDate":"2013-05-24"},{"lat":-21.96,"long":113.91,"eventDate":"2013-05-28","parsedDate":"2013-05-28"},{"lat":-21.97,"long":113.91,"eventDate":"2013-05-28","parsedDate":"2013-05-28"},{"lat":-23.12,"long":113.7,"eventDate":"2013-11-10","parsedDate":"2013-11-10"},{"lat":-23.13,"long":113.71,"eventDate":"2013-11-10","parsedDate":"2013-11-10"}]},{"whaleSharkID":"403075133","coordinates":[{"lat":21.161908,"long":-86.851528,"eventDate":"2013-06-13","parsedDate":"2013-06-13"}]},{"whaleSharkID":"507916","coordinates":[{"lat":-27.111461,"long":-48.539333,"eventDate":"2013-06-09","parsedDate":"2013-06-09"}]},{"whaleSharkID":"8696062","coordinates":[{"lat":9.445911,"long":123.434387,"eventDate":"2013-06-27","parsedDate":"2013-06-27"}]},{"whaleSharkID":"130076294","coordinates":[{"lat":21.514257,"long":-86.740163,"eventDate":"2013-06-22","parsedDate":"2013-06-22"}]},{"whaleSharkID":"157356562","coordinates":[{"lat":21.736932,"long":-86.537472,"eventDate":"2013-06-22","parsedDate":"2013-06-22"}]},{"whaleSharkID":"823144","coordinates":[{"lat":21.766482,"long":-87.379228,"eventDate":"2013-07-17","parsedDate":"2013-07-17"}]},{"whaleSharkID":"9836650","coordinates":[{"lat":21.236695,"long":-86.735768,"eventDate":"2013-07-19","parsedDate":"2013-07-19"}]},{"whaleSharkID":"124940635","coordinates":[{"lat":21.499229,"long":-86.42038,"eventDate":"2013-07-17","parsedDate":"2013-07-17"}]},{"whaleSharkID":"130667","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":22.5,"long":-87.5,"eventDate":"2010-08-21","parsedDate":"2010-08-21"},{"lat":22.5,"long":-88.5,"eventDate":"2010-08-30","parsedDate":"2010-08-30"},{"lat":23.5,"long":-89.5,"eventDate":"2010-09-09","parsedDate":"2010-09-09"},{"lat":22.5,"long":-89.5,"eventDate":"2010-09-12","parsedDate":"2010-09-12"},{"lat":23.5,"long":-90.5,"eventDate":"2013-07-17","parsedDate":"2013-07-17"},{"lat":24.5,"long":-90.5,"eventDate":"2013-07-22","parsedDate":"2013-07-22"},{"lat":24.5,"long":-91.5,"eventDate":"2013-07-23","parsedDate":"2013-07-23"},{"lat":25.5,"long":-91.5,"eventDate":"2013-07-29","parsedDate":"2013-07-29"},{"lat":26.5,"long":-91.5,"eventDate":"2013-08-02","parsedDate":"2013-08-02"},{"lat":27.5,"long":-90.5,"eventDate":"2013-08-06","parsedDate":"2013-08-06"},{"lat":26.5,"long":-89.5,"eventDate":"2013-08-13","parsedDate":"2013-08-13"},{"lat":26.5,"long":-88.5,"eventDate":"2013-08-17","parsedDate":"2013-08-17"},{"lat":25.5,"long":-88.5,"eventDate":"2013-08-23","parsedDate":"2013-08-23"},{"lat":25.5,"long":-87.5,"eventDate":"2013-08-27","parsedDate":"2013-08-27"}]},{"whaleSharkID":"45741323","coordinates":[{"lat":21.696545,"long":-86.856615,"eventDate":"2013-08-15","parsedDate":"2013-08-15"}]},{"whaleSharkID":"112468","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":22.5,"long":-86.5,"eventDate":"2010-08-17","parsedDate":"2010-08-17"},{"lat":22.5,"long":-87.5,"eventDate":"2010-08-21","parsedDate":"2010-08-21"},{"lat":22.5,"long":-88.5,"eventDate":"2010-08-30","parsedDate":"2010-08-30"},{"lat":22.5,"long":-92.5,"eventDate":"2010-09-08","parsedDate":"2010-09-08"},{"lat":22.5,"long":-89.5,"eventDate":"2010-09-12","parsedDate":"2010-09-12"},{"lat":22.5,"long":-90.5,"eventDate":"2010-10-26","parsedDate":"2010-10-26"},{"lat":24.5,"long":-94.5,"eventDate":"2010-10-28","parsedDate":"2010-10-28"},{"lat":22.5,"long":-91.5,"eventDate":"2010-10-30","parsedDate":"2010-10-30"},{"lat":22.5,"long":-93.5,"eventDate":"2010-11-07","parsedDate":"2010-11-07"},{"lat":22.5,"long":-94.5,"eventDate":"2010-11-09","parsedDate":"2010-11-09"},{"lat":23.5,"long":-95.5,"eventDate":"2010-11-21","parsedDate":"2010-11-21"},{"lat":24.5,"long":-95.5,"eventDate":"2010-11-22","parsedDate":"2010-11-22"},{"lat":25.5,"long":-94.5,"eventDate":"2010-11-25","parsedDate":"2010-11-25"},{"lat":26.5,"long":-94.5,"eventDate":"2010-12-01","parsedDate":"2010-12-01"},{"lat":26.5,"long":-93.5,"eventDate":"2010-12-04","parsedDate":"2010-12-04"},{"lat":22.5,"long":-95.5,"eventDate":"2010-12-29","parsedDate":"2010-12-29"},{"lat":24.5,"long":-90.5,"eventDate":"2013-07-22","parsedDate":"2013-07-22"},{"lat":27.5,"long":-90.5,"eventDate":"2013-08-06","parsedDate":"2013-08-06"},{"lat":23.5,"long":-92.5,"eventDate":"2013-08-16","parsedDate":"2013-08-16"},{"lat":25.5,"long":-88.5,"eventDate":"2013-08-23","parsedDate":"2013-08-23"},{"lat":27.5,"long":-93.5,"eventDate":"2013-10-05","parsedDate":"2013-10-05"},{"lat":27.5,"long":-92.5,"eventDate":"2013-10-06","parsedDate":"2013-10-06"},{"lat":27.5,"long":-91.5,"eventDate":"2013-10-11","parsedDate":"2013-10-11"},{"lat":26.5,"long":-90.5,"eventDate":"2013-10-15","parsedDate":"2013-10-15"},{"lat":25.5,"long":-90.5,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":24.5,"long":-89.5,"eventDate":"2013-10-24","parsedDate":"2013-10-24"},{"lat":24.5,"long":-87.5,"eventDate":"2013-11-12","parsedDate":"2013-11-12"},{"lat":24.5,"long":-88.5,"eventDate":"2013-11-13","parsedDate":"2013-11-13"}]},{"whaleSharkID":"112470","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":22.5,"long":-86.5,"eventDate":"2010-08-17","parsedDate":"2010-08-17"},{"lat":22.5,"long":-87.5,"eventDate":"2010-08-21","parsedDate":"2010-08-21"},{"lat":22.5,"long":-88.5,"eventDate":"2010-08-30","parsedDate":"2010-08-30"},{"lat":22.5,"long":-92.5,"eventDate":"2010-09-08","parsedDate":"2010-09-08"},{"lat":22.5,"long":-89.5,"eventDate":"2010-09-12","parsedDate":"2010-09-12"},{"lat":22.5,"long":-90.5,"eventDate":"2010-10-26","parsedDate":"2010-10-26"},{"lat":24.5,"long":-94.5,"eventDate":"2010-10-28","parsedDate":"2010-10-28"},{"lat":22.5,"long":-91.5,"eventDate":"2010-10-30","parsedDate":"2010-10-30"},{"lat":23.5,"long":-95.5,"eventDate":"2010-11-21","parsedDate":"2010-11-21"},{"lat":24.5,"long":-95.5,"eventDate":"2010-11-22","parsedDate":"2010-11-22"},{"lat":25.5,"long":-94.5,"eventDate":"2010-11-25","parsedDate":"2010-11-25"},{"lat":26.5,"long":-94.5,"eventDate":"2010-12-01","parsedDate":"2010-12-01"},{"lat":26.5,"long":-93.5,"eventDate":"2010-12-04","parsedDate":"2010-12-04"},{"lat":27.5,"long":-94.5,"eventDate":"2010-12-10","parsedDate":"2010-12-10"},{"lat":21.5,"long":-96.5,"eventDate":"2010-12-23","parsedDate":"2010-12-23"},{"lat":22.5,"long":-96.5,"eventDate":"2010-12-26","parsedDate":"2010-12-26"},{"lat":25.5,"long":-95.5,"eventDate":"2011-02-12","parsedDate":"2011-02-12"},{"lat":25.5,"long":-96.5,"eventDate":"2011-02-12","parsedDate":"2011-02-12"},{"lat":21.5,"long":-92.5,"eventDate":"2013-08-04","parsedDate":"2013-08-04"},{"lat":21.5,"long":-93.5,"eventDate":"2013-08-07","parsedDate":"2013-08-07"},{"lat":21.5,"long":-94.5,"eventDate":"2013-08-14","parsedDate":"2013-08-14"},{"lat":21.5,"long":-95.5,"eventDate":"2013-08-19","parsedDate":"2013-08-19"},{"lat":22.5,"long":-97.5,"eventDate":"2013-08-28","parsedDate":"2013-08-28"},{"lat":23.5,"long":-96.5,"eventDate":"2013-09-01","parsedDate":"2013-09-01"},{"lat":26.5,"long":-96.5,"eventDate":"2013-09-19","parsedDate":"2013-09-19"},{"lat":25.5,"long":-101.5,"eventDate":"2013-09-20","parsedDate":"2013-09-20"},{"lat":27.5,"long":-95.5,"eventDate":"2013-09-24","parsedDate":"2013-09-24"},{"lat":27.5,"long":-93.5,"eventDate":"2013-10-05","parsedDate":"2013-10-05"},{"lat":27.5,"long":-92.5,"eventDate":"2013-10-06","parsedDate":"2013-10-06"},{"lat":28.5,"long":-93.5,"eventDate":"2013-10-31","parsedDate":"2013-10-31"}]},{"whaleSharkID":"144197201","coordinates":[{"lat":28.914657,"long":-113.504069,"eventDate":"2013-08-08","parsedDate":"2013-08-08"}]},{"whaleSharkID":"144197202","coordinates":[{"lat":28.915165,"long":-113.504412,"eventDate":"2013-08-08","parsedDate":"2013-08-08"}]},{"whaleSharkID":"144197203","coordinates":[{"lat":28.915973,"long":-113.504756,"eventDate":"2013-08-08","parsedDate":"2013-08-08"}]},{"whaleSharkID":"778235","coordinates":[{"lat":9.562915,"long":123.336643,"eventDate":"2013-10-12","parsedDate":"2013-10-12"}]},{"whaleSharkID":"131986","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2013-10-07","parsedDate":"2013-10-07"},{"lat":1.753889,"long":-92.050833,"eventDate":"2013-10-08","parsedDate":"2013-10-08"},{"lat":1.757222,"long":-92.05,"eventDate":"2013-10-08","parsedDate":"2013-10-08"},{"lat":1.759167,"long":-92.050833,"eventDate":"2013-10-08","parsedDate":"2013-10-08"},{"lat":1.770278,"long":-92.0575,"eventDate":"2013-10-08","parsedDate":"2013-10-08"},{"lat":1.688056,"long":-92.036111,"eventDate":"2013-10-09","parsedDate":"2013-10-09"},{"lat":1.673889,"long":-92.354722,"eventDate":"2013-10-10","parsedDate":"2013-10-10"},{"lat":1.702222,"long":-92.330833,"eventDate":"2013-10-10","parsedDate":"2013-10-10"},{"lat":1.706944,"long":-92.338611,"eventDate":"2013-10-10","parsedDate":"2013-10-10"},{"lat":1.550278,"long":-92.502222,"eventDate":"2013-10-11","parsedDate":"2013-10-11"},{"lat":1.581111,"long":-92.483611,"eventDate":"2013-10-11","parsedDate":"2013-10-11"},{"lat":1.346667,"long":-92.729444,"eventDate":"2013-10-12","parsedDate":"2013-10-12"},{"lat":1.399444,"long":-92.660833,"eventDate":"2013-10-12","parsedDate":"2013-10-12"},{"lat":1.401667,"long":-92.658333,"eventDate":"2013-10-12","parsedDate":"2013-10-12"},{"lat":1.084722,"long":-93.080833,"eventDate":"2013-10-13","parsedDate":"2013-10-13"},{"lat":1.118889,"long":-93.043056,"eventDate":"2013-10-13","parsedDate":"2013-10-13"},{"lat":1.182778,"long":-92.962222,"eventDate":"2013-10-13","parsedDate":"2013-10-13"},{"lat":1.203611,"long":-92.928889,"eventDate":"2013-10-13","parsedDate":"2013-10-13"},{"lat":0.885556,"long":-93.386667,"eventDate":"2013-10-14","parsedDate":"2013-10-14"},{"lat":0.934167,"long":-93.312222,"eventDate":"2013-10-14","parsedDate":"2013-10-14"},{"lat":0.9375,"long":-93.302778,"eventDate":"2013-10-14","parsedDate":"2013-10-14"},{"lat":0.945556,"long":-93.29,"eventDate":"2013-10-14","parsedDate":"2013-10-14"},{"lat":0.722778,"long":-93.835,"eventDate":"2013-10-15","parsedDate":"2013-10-15"},{"lat":0.726944,"long":-93.795833,"eventDate":"2013-10-15","parsedDate":"2013-10-15"},{"lat":0.728056,"long":-93.698611,"eventDate":"2013-10-15","parsedDate":"2013-10-15"},{"lat":0.735833,"long":-93.706389,"eventDate":"2013-10-15","parsedDate":"2013-10-15"},{"lat":0.740833,"long":-93.699167,"eventDate":"2013-10-15","parsedDate":"2013-10-15"},{"lat":0.866111,"long":-95.029444,"eventDate":"2013-10-17","parsedDate":"2013-10-17"},{"lat":0.869444,"long":-95.021389,"eventDate":"2013-10-17","parsedDate":"2013-10-17"},{"lat":0.873889,"long":-95.010278,"eventDate":"2013-10-17","parsedDate":"2013-10-17"},{"lat":0.875278,"long":-94.987222,"eventDate":"2013-10-17","parsedDate":"2013-10-17"},{"lat":0.926389,"long":-94.580278,"eventDate":"2013-10-17","parsedDate":"2013-10-17"},{"lat":0.938611,"long":-94.602222,"eventDate":"2013-10-17","parsedDate":"2013-10-17"},{"lat":0.938611,"long":-94.610833,"eventDate":"2013-10-17","parsedDate":"2013-10-17"},{"lat":0.791667,"long":-95.421111,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.7975,"long":-95.539167,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.801111,"long":-95.415278,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.801389,"long":-95.524722,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.803611,"long":-95.382778,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.805833,"long":-95.504167,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.806667,"long":-95.323056,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.806944,"long":-95.358056,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.807778,"long":-95.314444,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.809722,"long":-95.247222,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.810833,"long":-95.288056,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.811944,"long":-95.2675,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.816944,"long":-95.303056,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.835278,"long":-95.1425,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.835833,"long":-95.140833,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.838889,"long":-95.098611,"eventDate":"2013-10-18","parsedDate":"2013-10-18"},{"lat":0.839167,"long":-95.100833,"eventDate":"2013-10-18","parsedDate":"2013-10-18"}]},{"whaleSharkID":"131988","coordinates":[{"lat":1.6714,"long":-91.98927,"eventDate":"2013-10-13","parsedDate":"2013-10-13"}]},{"whaleSharkID":"87470607","coordinates":[{"lat":3.479699,"long":72.828469,"eventDate":"2013-11-16","parsedDate":"2013-11-16"}]},{"whaleSharkID":"169656174","coordinates":[{"lat":3.916926,"long":73.507188,"eventDate":"2013-11-12","parsedDate":"2013-11-12"}]},{"whaleSharkID":"3496611","coordinates":[{"lat":3.460936,"long":72.70136,"eventDate":"2013-12-06","parsedDate":"2013-12-06"}]},{"whaleSharkID":"112471","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":22.5,"long":-92.5,"eventDate":"2010-09-08","parsedDate":"2010-09-08"},{"lat":23.5,"long":-94.5,"eventDate":"2010-10-25","parsedDate":"2010-10-25"},{"lat":22.5,"long":-90.5,"eventDate":"2010-10-26","parsedDate":"2010-10-26"},{"lat":22.5,"long":-91.5,"eventDate":"2010-10-30","parsedDate":"2010-10-30"},{"lat":22.5,"long":-93.5,"eventDate":"2010-11-07","parsedDate":"2010-11-07"},{"lat":22.5,"long":-94.5,"eventDate":"2010-11-09","parsedDate":"2010-11-09"},{"lat":23.5,"long":-95.5,"eventDate":"2010-11-21","parsedDate":"2010-11-21"},{"lat":24.5,"long":-95.5,"eventDate":"2010-11-22","parsedDate":"2010-11-22"},{"lat":22.5,"long":-96.5,"eventDate":"2010-12-26","parsedDate":"2010-12-26"},{"lat":24.5,"long":-96.5,"eventDate":"2011-02-07","parsedDate":"2011-02-07"},{"lat":25.5,"long":-95.5,"eventDate":"2011-02-12","parsedDate":"2011-02-12"},{"lat":25.5,"long":-96.5,"eventDate":"2011-02-12","parsedDate":"2011-02-12"},{"lat":23.5,"long":-96.5,"eventDate":"2013-09-01","parsedDate":"2013-09-01"},{"lat":21.5,"long":-97.5,"eventDate":"2013-12-09","parsedDate":"2013-12-09"},{"lat":18.5,"long":-94.5,"eventDate":"2013-12-16","parsedDate":"2013-12-16"}]},{"whaleSharkID":"112467","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":36.5,"long":-121.5,"eventDate":"2013-08-28","parsedDate":"2013-08-28"}]},{"whaleSharkID":"A69-1303-64094","coordinates":[{"lat":-22.58,"long":113.63,"eventDate":"2011-03-31","parsedDate":"2011-03-31"},{"lat":-12.29,"long":142.1,"eventDate":"2011-06-24","parsedDate":"2011-06-24"},{"lat":-12.29,"long":142.1,"eventDate":"2011-07-01","parsedDate":"2011-07-01"},{"lat":-12.29,"long":142.1,"eventDate":"2011-07-10","parsedDate":"2011-07-10"},{"lat":-12.29,"long":142.1,"eventDate":"2011-07-28","parsedDate":"2011-07-28"},{"lat":-22.6,"long":113.61,"eventDate":"2011-09-14","parsedDate":"2011-09-14"},{"lat":-23.13,"long":113.73,"eventDate":"2011-09-16","parsedDate":"2011-09-16"},{"lat":-22.59,"long":113.61,"eventDate":"2011-10-03","parsedDate":"2011-10-03"},{"lat":-22.6,"long":113.61,"eventDate":"2011-10-03","parsedDate":"2011-10-03"},{"lat":-21.89,"long":113.92,"eventDate":"2011-10-04","parsedDate":"2011-10-04"},{"lat":-21.98,"long":113.9,"eventDate":"2011-10-04","parsedDate":"2011-10-04"},{"lat":-12.29,"long":142.1,"eventDate":"2011-10-05","parsedDate":"2011-10-05"},{"lat":-12.29,"long":142.1,"eventDate":"2011-10-12","parsedDate":"2011-10-12"},{"lat":-12.29,"long":142.1,"eventDate":"2011-10-15","parsedDate":"2011-10-15"},{"lat":-12.29,"long":142.1,"eventDate":"2011-10-22","parsedDate":"2011-10-22"},{"lat":-23.13,"long":113.71,"eventDate":"2011-10-28","parsedDate":"2011-10-28"},{"lat":-12.29,"long":142.1,"eventDate":"2011-11-05","parsedDate":"2011-11-05"},{"lat":-12.29,"long":142.1,"eventDate":"2011-11-19","parsedDate":"2011-11-19"},{"lat":-12.29,"long":142.1,"eventDate":"2011-11-29","parsedDate":"2011-11-29"},{"lat":-23.13,"long":113.73,"eventDate":"2012-01-02","parsedDate":"2012-01-02"},{"lat":-22.6,"long":113.62,"eventDate":"2012-01-06","parsedDate":"2012-01-06"},{"lat":-21.9,"long":113.93,"eventDate":"2012-01-07","parsedDate":"2012-01-07"},{"lat":-21.97,"long":113.91,"eventDate":"2012-01-07","parsedDate":"2012-01-07"},{"lat":-21.98,"long":113.9,"eventDate":"2012-01-07","parsedDate":"2012-01-07"},{"lat":-21.98,"long":113.91,"eventDate":"2012-01-07","parsedDate":"2012-01-07"},{"lat":-21.89,"long":113.92,"eventDate":"2012-01-08","parsedDate":"2012-01-08"},{"lat":-21.9,"long":113.93,"eventDate":"2012-01-08","parsedDate":"2012-01-08"},{"lat":-21.98,"long":113.9,"eventDate":"2012-01-08","parsedDate":"2012-01-08"},{"lat":-21.98,"long":113.91,"eventDate":"2012-01-08","parsedDate":"2012-01-08"},{"lat":-21.9,"long":113.93,"eventDate":"2012-01-09","parsedDate":"2012-01-09"},{"lat":-21.98,"long":113.9,"eventDate":"2012-01-09","parsedDate":"2012-01-09"},{"lat":-22.6,"long":113.62,"eventDate":"2012-01-13","parsedDate":"2012-01-13"},{"lat":-21.9,"long":113.93,"eventDate":"2012-01-15","parsedDate":"2012-01-15"},{"lat":-21.9,"long":113.93,"eventDate":"2012-01-21","parsedDate":"2012-01-21"},{"lat":-21.98,"long":113.9,"eventDate":"2012-01-21","parsedDate":"2012-01-21"},{"lat":-22.6,"long":113.61,"eventDate":"2012-01-22","parsedDate":"2012-01-22"},{"lat":-23.12,"long":113.69,"eventDate":"2012-02-08","parsedDate":"2012-02-08"},{"lat":-23.12,"long":113.7,"eventDate":"2012-02-08","parsedDate":"2012-02-08"}]},{"whaleSharkID":"240514850","coordinates":[{"lat":9.434345,"long":123.509212,"eventDate":"2012-02-06","parsedDate":"2012-02-06"}]},{"whaleSharkID":"3360710","coordinates":[{"lat":7.105062,"long":125.750745,"eventDate":"2012-02-27","parsedDate":"2012-02-27"}]},{"whaleSharkID":"158193372","coordinates":[{"lat":12.84165,"long":123.472645,"eventDate":"2012-03-25","parsedDate":"2012-03-25"}]},{"whaleSharkID":"600245019","coordinates":[{"lat":-21.82095,"long":113.870424,"eventDate":"2012-04-24","parsedDate":"2012-04-24"}]},{"whaleSharkID":"130086304","coordinates":[{"lat":-16.131758,"long":145.846721,"eventDate":"2012-04-10","parsedDate":"2012-04-10"}]},{"whaleSharkID":"165903952","coordinates":[{"lat":16.012534,"long":-86.897023,"eventDate":"2012-04-12","parsedDate":"2012-04-12"}]},{"whaleSharkID":"165905750","coordinates":[{"lat":16.166487,"long":-86.852327,"eventDate":"2012-04-16","parsedDate":"2012-04-16"}]},{"whaleSharkID":"121903","coordinates":[{"lat":19.863173,"long":-87.277767,"eventDate":"2012-04-05","parsedDate":"2012-04-05"}]},{"whaleSharkID":"1844028","coordinates":[{"lat":20.90754,"long":-86.406255,"eventDate":"2012-05-17","parsedDate":"2012-05-17"}]},{"whaleSharkID":"146332693","coordinates":[{"lat":21.768163,"long":-87.295457,"eventDate":"2012-05-24","parsedDate":"2012-05-24"}]},{"whaleSharkID":"146332841","coordinates":[{"lat":21.525531,"long":-87.316405,"eventDate":"2012-05-24","parsedDate":"2012-05-24"}]},{"whaleSharkID":"19037706","coordinates":[{"lat":-3.222892,"long":134.824827,"eventDate":"2012-06-27","parsedDate":"2012-06-27"}]},{"whaleSharkID":"214210563","coordinates":[{"lat":-3.238067,"long":134.879676,"eventDate":"2012-06-25","parsedDate":"2012-06-25"}]},{"whaleSharkID":"221265875","coordinates":[{"lat":-21.830428,"long":113.873347,"eventDate":"2012-07-23","parsedDate":"2012-07-23"}]},{"whaleSharkID":"221266187","coordinates":[{"lat":-21.846311,"long":113.968175,"eventDate":"2012-07-23","parsedDate":"2012-07-23"}]},{"whaleSharkID":"221266188","coordinates":[{"lat":-21.868166,"long":113.812439,"eventDate":"2012-07-23","parsedDate":"2012-07-23"}]},{"whaleSharkID":"221266189","coordinates":[{"lat":-21.975354,"long":113.917598,"eventDate":"2012-07-23","parsedDate":"2012-07-23"}]},{"whaleSharkID":"221266190","coordinates":[{"lat":-21.902232,"long":113.847762,"eventDate":"2012-07-23","parsedDate":"2012-07-23"}]},{"whaleSharkID":"26748385","coordinates":[{"lat":29.034497,"long":-113.544066,"eventDate":"2012-07-27","parsedDate":"2012-07-27"}]},{"whaleSharkID":"360971525","coordinates":[{"lat":21.236693,"long":-86.735768,"eventDate":"2012-07-10","parsedDate":"2012-07-10"}]},{"whaleSharkID":"71219344","coordinates":[{"lat":-2.406219,"long":135.583739,"eventDate":"2012-07-13","parsedDate":"2012-07-13"}]},{"whaleSharkID":"71219345","coordinates":[{"lat":-2.599907,"long":135.553463,"eventDate":"2012-07-13","parsedDate":"2012-07-13"}]},{"whaleSharkID":"71219349","coordinates":[{"lat":-2.448952,"long":135.558521,"eventDate":"2012-07-13","parsedDate":"2012-07-13"}]},{"whaleSharkID":"71219350","coordinates":[{"lat":-2.55705,"long":135.472762,"eventDate":"2012-07-14","parsedDate":"2012-07-14"}]},{"whaleSharkID":"71219353","coordinates":[{"lat":-2.464178,"long":135.525095,"eventDate":"2012-07-14","parsedDate":"2012-07-14"}]},{"whaleSharkID":"71219359","coordinates":[{"lat":-2.530798,"long":135.516091,"eventDate":"2012-07-14","parsedDate":"2012-07-14"}]},{"whaleSharkID":"418706108","coordinates":[{"lat":21.236695,"long":-86.735768,"eventDate":"2012-08-17","parsedDate":"2012-08-17"}]},{"whaleSharkID":"82494312","coordinates":[{"lat":21.457622,"long":-86.244439,"eventDate":"2012-08-25","parsedDate":"2012-08-25"}]},{"whaleSharkID":"82494333","coordinates":[{"lat":21.609525,"long":-86.091249,"eventDate":"2012-08-25","parsedDate":"2012-08-25"}]},{"whaleSharkID":"82494338","coordinates":[{"lat":21.743457,"long":-86.102105,"eventDate":"2012-08-25","parsedDate":"2012-08-25"}]},{"whaleSharkID":"A69-9001-28407","coordinates":[{"lat":-22.58,"long":113.63,"eventDate":"2010-12-31","parsedDate":"2010-12-31"},{"lat":-22.58,"long":113.63,"eventDate":"2012-08-07","parsedDate":"2012-08-07"}]},{"whaleSharkID":"1336108","coordinates":[{"lat":21.302681,"long":-86.727791,"eventDate":"2012-08-31","parsedDate":"2012-08-31"}]},{"whaleSharkID":"593371582","coordinates":[{"lat":-3.192915,"long":134.836166,"eventDate":"2012-09-19","parsedDate":"2012-09-19"}]},{"whaleSharkID":"593372855","coordinates":[{"lat":-3.160303,"long":135.155502,"eventDate":"2012-09-19","parsedDate":"2012-09-19"}]},{"whaleSharkID":"593373199","coordinates":[{"lat":-3.396121,"long":135.589585,"eventDate":"2012-09-19","parsedDate":"2012-09-19"}]},{"whaleSharkID":"593373675","coordinates":[{"lat":-3.047528,"long":135.077395,"eventDate":"2012-09-19","parsedDate":"2012-09-19"}]},{"whaleSharkID":"593374575","coordinates":[{"lat":-3.045961,"long":134.805747,"eventDate":"2012-09-19","parsedDate":"2012-09-19"}]},{"whaleSharkID":"73511732","coordinates":[{"lat":1.790786,"long":-92.066663,"eventDate":"2012-09-11","parsedDate":"2012-09-11"}]},{"whaleSharkID":"84565566","coordinates":[{"lat":21.437072,"long":-86.771699,"eventDate":"2012-09-02","parsedDate":"2012-09-02"}]},{"whaleSharkID":"A69-9001-28409","coordinates":[{"lat":-22.58,"long":113.63,"eventDate":"2011-03-31","parsedDate":"2011-03-31"},{"lat":-22.58,"long":113.63,"eventDate":"2012-09-09","parsedDate":"2012-09-09"},{"lat":-23.13,"long":113.71,"eventDate":"2012-09-11","parsedDate":"2012-09-11"},{"lat":-23.13,"long":113.72,"eventDate":"2012-09-11","parsedDate":"2012-09-11"},{"lat":-23.13,"long":113.73,"eventDate":"2012-10-02","parsedDate":"2012-10-02"},{"lat":-22.6,"long":113.61,"eventDate":"2012-10-03","parsedDate":"2012-10-03"},{"lat":-21.99,"long":113.91,"eventDate":"2012-10-04","parsedDate":"2012-10-04"},{"lat":-21.89,"long":113.92,"eventDate":"2012-10-14","parsedDate":"2012-10-14"},{"lat":-22.59,"long":113.61,"eventDate":"2012-10-18","parsedDate":"2012-10-18"},{"lat":-22.6,"long":113.61,"eventDate":"2012-10-18","parsedDate":"2012-10-18"},{"lat":-23.13,"long":113.73,"eventDate":"2012-10-25","parsedDate":"2012-10-25"}]},{"whaleSharkID":"2937437","coordinates":[{"lat":28.361121,"long":-91.975054,"eventDate":"2012-10-21","parsedDate":"2012-10-21"}]},{"whaleSharkID":"A69-1303-64093","coordinates":[{"lat":-22.58,"long":113.63,"eventDate":"2011-03-31","parsedDate":"2011-03-31"},{"lat":-22.6,"long":113.61,"eventDate":"2011-09-15","parsedDate":"2011-09-15"},{"lat":-22.6,"long":113.61,"eventDate":"2011-09-16","parsedDate":"2011-09-16"},{"lat":-21.98,"long":113.9,"eventDate":"2011-09-21","parsedDate":"2011-09-21"},{"lat":-21.98,"long":113.91,"eventDate":"2011-09-21","parsedDate":"2011-09-21"},{"lat":-21.89,"long":113.92,"eventDate":"2011-10-10","parsedDate":"2011-10-10"},{"lat":-21.96,"long":113.91,"eventDate":"2011-10-11","parsedDate":"2011-10-11"},{"lat":-21.97,"long":113.91,"eventDate":"2011-10-11","parsedDate":"2011-10-11"},{"lat":-21.98,"long":113.9,"eventDate":"2011-10-11","parsedDate":"2011-10-11"},{"lat":-21.98,"long":113.91,"eventDate":"2011-10-11","parsedDate":"2011-10-11"},{"lat":-22.59,"long":113.6,"eventDate":"2011-10-17","parsedDate":"2011-10-17"},{"lat":-22.59,"long":113.61,"eventDate":"2011-10-17","parsedDate":"2011-10-17"},{"lat":-22.59,"long":113.61,"eventDate":"2011-10-18","parsedDate":"2011-10-18"},{"lat":-22.6,"long":113.61,"eventDate":"2011-10-18","parsedDate":"2011-10-18"},{"lat":-21.98,"long":113.9,"eventDate":"2011-10-28","parsedDate":"2011-10-28"},{"lat":-21.98,"long":113.91,"eventDate":"2011-10-28","parsedDate":"2011-10-28"},{"lat":-21.98,"long":113.9,"eventDate":"2011-10-29","parsedDate":"2011-10-29"},{"lat":-21.98,"long":113.91,"eventDate":"2011-10-29","parsedDate":"2011-10-29"},{"lat":-21.99,"long":113.91,"eventDate":"2011-10-29","parsedDate":"2011-10-29"},{"lat":-22,"long":113.9,"eventDate":"2011-10-29","parsedDate":"2011-10-29"},{"lat":-21.98,"long":113.9,"eventDate":"2011-10-30","parsedDate":"2011-10-30"},{"lat":-21.98,"long":113.91,"eventDate":"2011-10-30","parsedDate":"2011-10-30"},{"lat":-21.89,"long":113.92,"eventDate":"2011-10-31","parsedDate":"2011-10-31"},{"lat":-21.9,"long":113.93,"eventDate":"2011-10-31","parsedDate":"2011-10-31"},{"lat":-21.95,"long":113.91,"eventDate":"2011-10-31","parsedDate":"2011-10-31"},{"lat":-21.96,"long":113.91,"eventDate":"2011-10-31","parsedDate":"2011-10-31"},{"lat":-21.97,"long":113.91,"eventDate":"2011-10-31","parsedDate":"2011-10-31"},{"lat":-21.98,"long":113.91,"eventDate":"2011-10-31","parsedDate":"2011-10-31"},{"lat":-21.99,"long":113.91,"eventDate":"2011-10-31","parsedDate":"2011-10-31"},{"lat":-22,"long":113.9,"eventDate":"2011-10-31","parsedDate":"2011-10-31"},{"lat":-21.89,"long":113.92,"eventDate":"2011-11-01","parsedDate":"2011-11-01"},{"lat":-21.98,"long":113.9,"eventDate":"2011-11-02","parsedDate":"2011-11-02"},{"lat":-21.9,"long":113.93,"eventDate":"2011-11-03","parsedDate":"2011-11-03"},{"lat":-21.95,"long":113.91,"eventDate":"2011-11-03","parsedDate":"2011-11-03"},{"lat":-21.98,"long":113.9,"eventDate":"2011-11-03","parsedDate":"2011-11-03"},{"lat":-21.89,"long":113.92,"eventDate":"2011-11-04","parsedDate":"2011-11-04"},{"lat":-21.9,"long":113.93,"eventDate":"2011-11-04","parsedDate":"2011-11-04"},{"lat":-21.98,"long":113.9,"eventDate":"2011-11-05","parsedDate":"2011-11-05"},{"lat":-21.98,"long":113.91,"eventDate":"2011-11-05","parsedDate":"2011-11-05"},{"lat":-21.98,"long":113.9,"eventDate":"2011-11-06","parsedDate":"2011-11-06"},{"lat":-22.59,"long":113.59,"eventDate":"2011-11-09","parsedDate":"2011-11-09"},{"lat":-22.59,"long":113.6,"eventDate":"2011-11-09","parsedDate":"2011-11-09"},{"lat":-22.59,"long":113.61,"eventDate":"2011-11-09","parsedDate":"2011-11-09"},{"lat":-22.6,"long":113.61,"eventDate":"2011-11-09","parsedDate":"2011-11-09"},{"lat":-22.6,"long":113.62,"eventDate":"2011-11-10","parsedDate":"2011-11-10"},{"lat":-22.6,"long":113.61,"eventDate":"2011-11-11","parsedDate":"2011-11-11"},{"lat":-22.6,"long":113.62,"eventDate":"2011-11-11","parsedDate":"2011-11-11"},{"lat":-21.89,"long":113.92,"eventDate":"2011-11-12","parsedDate":"2011-11-12"},{"lat":-21.9,"long":113.93,"eventDate":"2011-11-12","parsedDate":"2011-11-12"},{"lat":-21.88,"long":113.91,"eventDate":"2011-11-13","parsedDate":"2011-11-13"},{"lat":-21.89,"long":113.92,"eventDate":"2011-11-13","parsedDate":"2011-11-13"},{"lat":-21.9,"long":113.93,"eventDate":"2011-11-13","parsedDate":"2011-11-13"},{"lat":-21.97,"long":113.91,"eventDate":"2011-11-14","parsedDate":"2011-11-14"},{"lat":-21.98,"long":113.9,"eventDate":"2011-11-14","parsedDate":"2011-11-14"},{"lat":-21.98,"long":113.91,"eventDate":"2011-11-14","parsedDate":"2011-11-14"},{"lat":-21.99,"long":113.91,"eventDate":"2011-11-14","parsedDate":"2011-11-14"},{"lat":-22,"long":113.9,"eventDate":"2011-11-14","parsedDate":"2011-11-14"},{"lat":-21.98,"long":113.9,"eventDate":"2011-11-16","parsedDate":"2011-11-16"},{"lat":-21.9,"long":113.93,"eventDate":"2011-11-17","parsedDate":"2011-11-17"},{"lat":-21.95,"long":113.91,"eventDate":"2011-11-17","parsedDate":"2011-11-17"},{"lat":-21.96,"long":113.91,"eventDate":"2011-11-17","parsedDate":"2011-11-17"},{"lat":-21.97,"long":113.91,"eventDate":"2011-11-17","parsedDate":"2011-11-17"},{"lat":-21.9,"long":113.93,"eventDate":"2011-11-18","parsedDate":"2011-11-18"},{"lat":-21.89,"long":113.92,"eventDate":"2011-11-20","parsedDate":"2011-11-20"},{"lat":-21.9,"long":113.93,"eventDate":"2011-11-20","parsedDate":"2011-11-20"},{"lat":-21.97,"long":113.91,"eventDate":"2011-11-21","parsedDate":"2011-11-21"},{"lat":-21.98,"long":113.9,"eventDate":"2011-11-21","parsedDate":"2011-11-21"},{"lat":-22,"long":113.9,"eventDate":"2011-11-21","parsedDate":"2011-11-21"},{"lat":-21.98,"long":113.9,"eventDate":"2011-11-22","parsedDate":"2011-11-22"},{"lat":-21.98,"long":113.91,"eventDate":"2011-11-22","parsedDate":"2011-11-22"},{"lat":-22.6,"long":113.61,"eventDate":"2011-11-26","parsedDate":"2011-11-26"},{"lat":-22.6,"long":113.62,"eventDate":"2011-11-26","parsedDate":"2011-11-26"},{"lat":-21.89,"long":113.92,"eventDate":"2011-11-28","parsedDate":"2011-11-28"},{"lat":-21.98,"long":113.9,"eventDate":"2011-11-28","parsedDate":"2011-11-28"},{"lat":-21.98,"long":113.91,"eventDate":"2011-11-28","parsedDate":"2011-11-28"},{"lat":-21.9,"long":113.93,"eventDate":"2011-12-01","parsedDate":"2011-12-01"},{"lat":-21.98,"long":113.9,"eventDate":"2011-12-02","parsedDate":"2011-12-02"},{"lat":-22.58,"long":113.58,"eventDate":"2011-12-11","parsedDate":"2011-12-11"},{"lat":-22.6,"long":113.61,"eventDate":"2011-12-11","parsedDate":"2011-12-11"},{"lat":-22.6,"long":113.62,"eventDate":"2011-12-11","parsedDate":"2011-12-11"},{"lat":-12.27,"long":141.98,"eventDate":"2012-10-16","parsedDate":"2012-10-16"}]},{"whaleSharkID":"239322152","coordinates":[{"lat":29.808082,"long":-114.389067,"eventDate":"2012-11-23","parsedDate":"2012-11-23"}]},{"whaleSharkID":"50835a","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":21.5,"long":-87.5,"eventDate":"2010-09-19","parsedDate":"2010-09-19"},{"lat":19.5,"long":-96.5,"eventDate":"2011-01-14","parsedDate":"2011-01-14"}]},{"whaleSharkID":"101369a","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":22.5,"long":-86.5,"eventDate":"2010-08-17","parsedDate":"2010-08-17"},{"lat":22.5,"long":-87.5,"eventDate":"2010-08-21","parsedDate":"2010-08-21"},{"lat":22.5,"long":-88.5,"eventDate":"2010-08-30","parsedDate":"2010-08-30"},{"lat":22.5,"long":-92.5,"eventDate":"2010-09-08","parsedDate":"2010-09-08"},{"lat":22.5,"long":-89.5,"eventDate":"2010-09-12","parsedDate":"2010-09-12"},{"lat":19.5,"long":-93.5,"eventDate":"2010-09-16","parsedDate":"2010-09-16"},{"lat":22.5,"long":-85.5,"eventDate":"2010-10-01","parsedDate":"2010-10-01"},{"lat":23.5,"long":-86.5,"eventDate":"2010-10-02","parsedDate":"2010-10-02"},{"lat":24.5,"long":-86.5,"eventDate":"2010-10-03","parsedDate":"2010-10-03"},{"lat":23.5,"long":-87.5,"eventDate":"2010-10-05","parsedDate":"2010-10-05"},{"lat":23.5,"long":-94.5,"eventDate":"2010-10-25","parsedDate":"2010-10-25"},{"lat":22.5,"long":-90.5,"eventDate":"2010-10-26","parsedDate":"2010-10-26"},{"lat":24.5,"long":-94.5,"eventDate":"2010-10-28","parsedDate":"2010-10-28"},{"lat":22.5,"long":-91.5,"eventDate":"2010-10-30","parsedDate":"2010-10-30"},{"lat":23.5,"long":-93.5,"eventDate":"2010-11-04","parsedDate":"2010-11-04"},{"lat":21.5,"long":-91.5,"eventDate":"2010-11-06","parsedDate":"2010-11-06"},{"lat":22.5,"long":-93.5,"eventDate":"2010-11-07","parsedDate":"2010-11-07"},{"lat":24.5,"long":-95.5,"eventDate":"2010-11-22","parsedDate":"2010-11-22"},{"lat":25.5,"long":-94.5,"eventDate":"2010-11-25","parsedDate":"2010-11-25"},{"lat":25.5,"long":-93.5,"eventDate":"2010-12-31","parsedDate":"2010-12-31"},{"lat":25.5,"long":-92.5,"eventDate":"2011-01-05","parsedDate":"2011-01-05"}]},{"whaleSharkID":"101371a","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":22.5,"long":-86.5,"eventDate":"2010-08-17","parsedDate":"2010-08-17"},{"lat":23.5,"long":-86.5,"eventDate":"2010-10-02","parsedDate":"2010-10-02"},{"lat":24.5,"long":-86.5,"eventDate":"2010-10-03","parsedDate":"2010-10-03"},{"lat":23.5,"long":-81.5,"eventDate":"2010-10-17","parsedDate":"2010-10-17"},{"lat":24.5,"long":-85.5,"eventDate":"2010-10-22","parsedDate":"2010-10-22"},{"lat":25.5,"long":-85.5,"eventDate":"2010-10-23","parsedDate":"2010-10-23"},{"lat":25.5,"long":-84.5,"eventDate":"2010-10-24","parsedDate":"2010-10-24"},{"lat":24.5,"long":-83.5,"eventDate":"2010-10-26","parsedDate":"2010-10-26"},{"lat":23.5,"long":-82.5,"eventDate":"2010-10-27","parsedDate":"2010-10-27"},{"lat":24.5,"long":-82.5,"eventDate":"2010-10-28","parsedDate":"2010-10-28"},{"lat":23.5,"long":-83.5,"eventDate":"2010-11-07","parsedDate":"2010-11-07"},{"lat":24.5,"long":-81.5,"eventDate":"2010-11-07","parsedDate":"2010-11-07"},{"lat":24.5,"long":-80.5,"eventDate":"2010-11-10","parsedDate":"2010-11-10"},{"lat":25.5,"long":-79.5,"eventDate":"2010-11-11","parsedDate":"2010-11-11"},{"lat":26.5,"long":-79.5,"eventDate":"2010-11-12","parsedDate":"2010-11-12"},{"lat":27.5,"long":-79.5,"eventDate":"2010-11-15","parsedDate":"2010-11-15"},{"lat":28.5,"long":-79.5,"eventDate":"2010-12-10","parsedDate":"2010-12-10"},{"lat":29.5,"long":-79.5,"eventDate":"2010-12-12","parsedDate":"2010-12-12"},{"lat":30.5,"long":-79.5,"eventDate":"2010-12-12","parsedDate":"2010-12-12"},{"lat":30.5,"long":-78.5,"eventDate":"2010-12-14","parsedDate":"2010-12-14"},{"lat":31.5,"long":-78.5,"eventDate":"2010-12-18","parsedDate":"2010-12-18"},{"lat":29.5,"long":-78.5,"eventDate":"2010-12-28","parsedDate":"2010-12-28"},{"lat":31.5,"long":-77.5,"eventDate":"2011-01-18","parsedDate":"2011-01-18"},{"lat":31.5,"long":-76.5,"eventDate":"2011-01-22","parsedDate":"2011-01-22"},{"lat":30.5,"long":-76.5,"eventDate":"2011-01-24","parsedDate":"2011-01-24"},{"lat":29.5,"long":-77.5,"eventDate":"2011-01-26","parsedDate":"2011-01-26"},{"lat":29.5,"long":-76.5,"eventDate":"2011-01-28","parsedDate":"2011-01-28"}]},{"whaleSharkID":"101376a","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":21.5,"long":-87.5,"eventDate":"2010-09-19","parsedDate":"2010-09-19"},{"lat":22.5,"long":-85.5,"eventDate":"2010-10-01","parsedDate":"2010-10-01"},{"lat":23.5,"long":-86.5,"eventDate":"2010-10-02","parsedDate":"2010-10-02"},{"lat":24.5,"long":-86.5,"eventDate":"2010-10-03","parsedDate":"2010-10-03"},{"lat":25.5,"long":-86.5,"eventDate":"2010-10-16","parsedDate":"2010-10-16"},{"lat":22.5,"long":-84.5,"eventDate":"2010-11-08","parsedDate":"2010-11-08"},{"lat":12.5,"long":-81.5,"eventDate":"2011-01-11","parsedDate":"2011-01-11"},{"lat":12.5,"long":-82.5,"eventDate":"2011-01-15","parsedDate":"2011-01-15"},{"lat":11.5,"long":-82.5,"eventDate":"2011-01-18","parsedDate":"2011-01-18"},{"lat":11.5,"long":-83.5,"eventDate":"2011-01-19","parsedDate":"2011-01-19"}]},{"whaleSharkID":"50834a","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":26.5,"long":-94.5,"eventDate":"2010-12-01","parsedDate":"2010-12-01"},{"lat":27.5,"long":-94.5,"eventDate":"2010-12-10","parsedDate":"2010-12-10"},{"lat":24.5,"long":-97.5,"eventDate":"2011-02-05","parsedDate":"2011-02-05"},{"lat":24.5,"long":-96.5,"eventDate":"2011-02-07","parsedDate":"2011-02-07"},{"lat":25.5,"long":-95.5,"eventDate":"2011-02-12","parsedDate":"2011-02-12"},{"lat":25.5,"long":-96.5,"eventDate":"2011-02-12","parsedDate":"2011-02-12"},{"lat":27.5,"long":-96.5,"eventDate":"2011-03-06","parsedDate":"2011-03-06"},{"lat":27.5,"long":-97.5,"eventDate":"2011-03-19","parsedDate":"2011-03-19"}]},{"whaleSharkID":"A69-1303-64091","coordinates":[{"lat":-22.58,"long":113.63,"eventDate":"2011-03-31","parsedDate":"2011-03-31"},{"lat":-22.6,"long":113.61,"eventDate":"2011-09-14","parsedDate":"2011-09-14"},{"lat":-22.6,"long":113.63,"eventDate":"2011-09-14","parsedDate":"2011-09-14"},{"lat":-22.59,"long":113.6,"eventDate":"2011-09-15","parsedDate":"2011-09-15"},{"lat":-22.59,"long":113.61,"eventDate":"2011-09-15","parsedDate":"2011-09-15"},{"lat":-22.6,"long":113.61,"eventDate":"2011-09-15","parsedDate":"2011-09-15"},{"lat":-22.59,"long":113.6,"eventDate":"2011-09-17","parsedDate":"2011-09-17"},{"lat":-22.59,"long":113.61,"eventDate":"2011-09-17","parsedDate":"2011-09-17"},{"lat":-22.59,"long":113.59,"eventDate":"2011-09-18","parsedDate":"2011-09-18"},{"lat":-22.59,"long":113.6,"eventDate":"2011-09-18","parsedDate":"2011-09-18"},{"lat":-22.59,"long":113.61,"eventDate":"2011-09-18","parsedDate":"2011-09-18"},{"lat":-22.6,"long":113.61,"eventDate":"2011-09-18","parsedDate":"2011-09-18"},{"lat":-22.6,"long":113.61,"eventDate":"2011-10-13","parsedDate":"2011-10-13"},{"lat":-22.59,"long":113.6,"eventDate":"2011-10-16","parsedDate":"2011-10-16"},{"lat":-22.59,"long":113.61,"eventDate":"2011-10-16","parsedDate":"2011-10-16"},{"lat":-22.6,"long":113.61,"eventDate":"2011-10-16","parsedDate":"2011-10-16"},{"lat":-22.59,"long":113.61,"eventDate":"2011-10-24","parsedDate":"2011-10-24"},{"lat":-22.6,"long":113.61,"eventDate":"2011-10-24","parsedDate":"2011-10-24"},{"lat":-22.6,"long":113.63,"eventDate":"2011-10-24","parsedDate":"2011-10-24"},{"lat":-23.12,"long":113.69,"eventDate":"2011-11-02","parsedDate":"2011-11-02"},{"lat":-23.12,"long":113.7,"eventDate":"2011-11-02","parsedDate":"2011-11-02"}]},{"whaleSharkID":"A69-1303-64112","coordinates":[{"lat":-22.58,"long":113.63,"eventDate":"2011-03-31","parsedDate":"2011-03-31"},{"lat":-21.89,"long":113.92,"eventDate":"2011-09-20","parsedDate":"2011-09-20"},{"lat":-21.95,"long":113.91,"eventDate":"2011-09-20","parsedDate":"2011-09-20"},{"lat":-21.98,"long":113.9,"eventDate":"2011-09-20","parsedDate":"2011-09-20"},{"lat":-21.98,"long":113.91,"eventDate":"2011-09-20","parsedDate":"2011-09-20"},{"lat":-21.99,"long":113.91,"eventDate":"2011-09-20","parsedDate":"2011-09-20"},{"lat":-21.9,"long":113.93,"eventDate":"2011-10-11","parsedDate":"2011-10-11"}]},{"whaleSharkID":"A69-1303-64092","coordinates":[{"lat":-22.58,"long":113.63,"eventDate":"2011-03-31","parsedDate":"2011-03-31"},{"lat":-21.97,"long":113.91,"eventDate":"2011-09-11","parsedDate":"2011-09-11"},{"lat":-21.98,"long":113.9,"eventDate":"2011-09-11","parsedDate":"2011-09-11"},{"lat":-21.98,"long":113.91,"eventDate":"2011-09-11","parsedDate":"2011-09-11"},{"lat":-22.6,"long":113.63,"eventDate":"2011-09-12","parsedDate":"2011-09-12"},{"lat":-23,"long":113.76,"eventDate":"2011-09-14","parsedDate":"2011-09-14"},{"lat":-23.12,"long":113.7,"eventDate":"2011-09-19","parsedDate":"2011-09-19"},{"lat":-23.13,"long":113.71,"eventDate":"2011-09-19","parsedDate":"2011-09-19"},{"lat":-23.12,"long":113.63,"eventDate":"2011-10-18","parsedDate":"2011-10-18"},{"lat":-23.12,"long":113.64,"eventDate":"2011-10-18","parsedDate":"2011-10-18"},{"lat":-21.9,"long":113.93,"eventDate":"2011-10-22","parsedDate":"2011-10-22"},{"lat":-21.9,"long":113.93,"eventDate":"2011-10-30","parsedDate":"2011-10-30"},{"lat":-22.01,"long":113.9,"eventDate":"2011-10-31","parsedDate":"2011-10-31"},{"lat":-23.07,"long":113.75,"eventDate":"2011-11-05","parsedDate":"2011-11-05"},{"lat":-23,"long":113.76,"eventDate":"2011-11-22","parsedDate":"2011-11-22"},{"lat":-23.13,"long":113.73,"eventDate":"2011-11-22","parsedDate":"2011-11-22"},{"lat":-22.6,"long":113.61,"eventDate":"2011-11-24","parsedDate":"2011-11-24"},{"lat":-22.6,"long":113.62,"eventDate":"2011-11-24","parsedDate":"2011-11-24"},{"lat":-22.6,"long":113.61,"eventDate":"2011-11-27","parsedDate":"2011-11-27"},{"lat":-23.13,"long":113.72,"eventDate":"2011-12-01","parsedDate":"2011-12-01"},{"lat":-23.13,"long":113.72,"eventDate":"2011-12-02","parsedDate":"2011-12-02"}]},{"whaleSharkID":"A69-1303-64110","coordinates":[{"lat":-22.58,"long":113.63,"eventDate":"2011-03-31","parsedDate":"2011-03-31"},{"lat":-21.88,"long":113.9,"eventDate":"2011-09-15","parsedDate":"2011-09-15"},{"lat":-21.89,"long":113.91,"eventDate":"2011-09-15","parsedDate":"2011-09-15"},{"lat":-21.9,"long":113.93,"eventDate":"2011-09-15","parsedDate":"2011-09-15"},{"lat":-21.88,"long":113.9,"eventDate":"2011-09-16","parsedDate":"2011-09-16"},{"lat":-21.89,"long":113.91,"eventDate":"2011-09-16","parsedDate":"2011-09-16"},{"lat":-21.9,"long":113.93,"eventDate":"2011-09-16","parsedDate":"2011-09-16"},{"lat":-22.59,"long":113.61,"eventDate":"2011-10-09","parsedDate":"2011-10-09"},{"lat":-22.6,"long":113.61,"eventDate":"2011-10-09","parsedDate":"2011-10-09"}]},{"whaleSharkID":"84565650","coordinates":[{"lat":16.016559,"long":-86.867505,"eventDate":"2011-04-06","parsedDate":"2011-04-06"}]},{"whaleSharkID":"101373","coordinates":[{"lat":16.5,"long":-87.5,"eventDate":"2011-04-20","parsedDate":"2011-04-20"},{"lat":16.5,"long":-88.5,"eventDate":"2011-04-23","parsedDate":"2011-04-23"},{"lat":15.5,"long":-88.5,"eventDate":"2011-04-25","parsedDate":"2011-04-25"},{"lat":15.5,"long":-87.5,"eventDate":"2011-04-26","parsedDate":"2011-04-26"},{"lat":10.5,"long":-60.5,"eventDate":"2011-04-27","parsedDate":"2011-04-27"}]},{"whaleSharkID":"101373b","coordinates":[{"lat":16.5,"long":-87.5,"eventDate":"2011-04-20","parsedDate":"2011-04-20"},{"lat":16.5,"long":-88.5,"eventDate":"2011-04-23","parsedDate":"2011-04-23"},{"lat":15.5,"long":-88.5,"eventDate":"2011-04-25","parsedDate":"2011-04-25"},{"lat":15.5,"long":-87.5,"eventDate":"2011-04-26","parsedDate":"2011-04-26"},{"lat":10.5,"long":-60.5,"eventDate":"2011-04-27","parsedDate":"2011-04-27"}]},{"whaleSharkID":"165770044","coordinates":[{"lat":16.112782,"long":-86.926328,"eventDate":"2011-04-11","parsedDate":"2011-04-11"}]},{"whaleSharkID":"10718623","coordinates":[{"lat":21.353142,"long":-86.778422,"eventDate":"2011-06-17","parsedDate":"2011-06-17"}]},{"whaleSharkID":"50769","coordinates":[{"lat":16.5,"long":-84.5,"eventDate":"2011-01-12","parsedDate":"2011-01-12"},{"lat":16.5,"long":-87.5,"eventDate":"2011-04-20","parsedDate":"2011-04-20"},{"lat":16.5,"long":-88.5,"eventDate":"2011-04-23","parsedDate":"2011-04-23"},{"lat":15.5,"long":-88.5,"eventDate":"2011-04-25","parsedDate":"2011-04-25"},{"lat":15.5,"long":-87.5,"eventDate":"2011-04-26","parsedDate":"2011-04-26"},{"lat":16.5,"long":-86.5,"eventDate":"2011-06-01","parsedDate":"2011-06-01"},{"lat":16.5,"long":-85.5,"eventDate":"2011-06-05","parsedDate":"2011-06-05"},{"lat":15.5,"long":-84.5,"eventDate":"2011-06-09","parsedDate":"2011-06-09"},{"lat":17.5,"long":-85.5,"eventDate":"2011-06-17","parsedDate":"2011-06-17"},{"lat":17.5,"long":-86.5,"eventDate":"2011-06-20","parsedDate":"2011-06-20"},{"lat":17.5,"long":-87.5,"eventDate":"2011-06-24","parsedDate":"2011-06-24"}]},{"whaleSharkID":"50769b","coordinates":[{"lat":16.5,"long":-84.5,"eventDate":"2011-01-12","parsedDate":"2011-01-12"},{"lat":16.5,"long":-87.5,"eventDate":"2011-04-20","parsedDate":"2011-04-20"},{"lat":16.5,"long":-88.5,"eventDate":"2011-04-23","parsedDate":"2011-04-23"},{"lat":15.5,"long":-88.5,"eventDate":"2011-04-25","parsedDate":"2011-04-25"},{"lat":15.5,"long":-87.5,"eventDate":"2011-04-26","parsedDate":"2011-04-26"},{"lat":16.5,"long":-86.5,"eventDate":"2011-06-01","parsedDate":"2011-06-01"},{"lat":16.5,"long":-85.5,"eventDate":"2011-06-05","parsedDate":"2011-06-05"},{"lat":15.5,"long":-84.5,"eventDate":"2011-06-09","parsedDate":"2011-06-09"},{"lat":17.5,"long":-85.5,"eventDate":"2011-06-17","parsedDate":"2011-06-17"},{"lat":17.5,"long":-86.5,"eventDate":"2011-06-20","parsedDate":"2011-06-20"},{"lat":17.5,"long":-87.5,"eventDate":"2011-06-24","parsedDate":"2011-06-24"}]},{"whaleSharkID":"325173786","coordinates":[{"lat":28.952366,"long":-113.518145,"eventDate":"2011-07-17","parsedDate":"2011-07-17"}]},{"whaleSharkID":"457499067","coordinates":[{"lat":21.29839,"long":-86.713125,"eventDate":"2011-07-05","parsedDate":"2011-07-05"}]},{"whaleSharkID":"587581975","coordinates":[{"lat":-21.946152,"long":113.844951,"eventDate":"2011-07-21","parsedDate":"2011-07-21"}]},{"whaleSharkID":"80801747","coordinates":[{"lat":41.470023,"long":-65.806909,"eventDate":"2011-07-16","parsedDate":"2011-07-16"}]},{"whaleSharkID":"144188056","coordinates":[{"lat":1.352654,"long":-91.903054,"eventDate":"2011-07-02","parsedDate":"2011-07-02"}]},{"whaleSharkID":"144188079","coordinates":[{"lat":1.780256,"long":-91.90107,"eventDate":"2011-07-04","parsedDate":"2011-07-04"}]},{"whaleSharkID":"230058950","coordinates":[{"lat":20.808095,"long":-86.796171,"eventDate":"2011-08-20","parsedDate":"2011-08-20"}]},{"whaleSharkID":"62297655","coordinates":[{"lat":26.073776,"long":-96.671957,"eventDate":"2011-08-27","parsedDate":"2011-08-27"}]},{"whaleSharkID":"38265841","coordinates":[{"lat":21.449777,"long":-105.447971,"eventDate":"2011-11-11","parsedDate":"2011-11-11"}]},{"whaleSharkID":"69579588","coordinates":[{"lat":3.42917,"long":72.963927,"eventDate":"2011-11-18","parsedDate":"2011-11-18"}]},{"whaleSharkID":"9981344","coordinates":[{"lat":28.89338,"long":-113.495293,"eventDate":"2011-11-15","parsedDate":"2011-11-15"}]},{"whaleSharkID":"12151307","coordinates":[{"lat":28.910692,"long":-113.509644,"eventDate":"2011-11-01","parsedDate":"2011-11-01"}]},{"whaleSharkID":"24437579","coordinates":[{"lat":-27.412331,"long":32.6225,"eventDate":"2011-12-05","parsedDate":"2011-12-05"}]},{"whaleSharkID":"15069683","coordinates":[{"lat":24.185191,"long":-110.378265,"eventDate":"2011-12-17","parsedDate":"2011-12-17"}]},{"whaleSharkID":"101368a","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":21.5,"long":-87.5,"eventDate":"2010-09-19","parsedDate":"2010-09-19"},{"lat":16.5,"long":-83.5,"eventDate":"2010-11-09","parsedDate":"2010-11-09"},{"lat":16.5,"long":-82.5,"eventDate":"2010-11-12","parsedDate":"2010-11-12"},{"lat":16.5,"long":-84.5,"eventDate":"2011-01-12","parsedDate":"2011-01-12"}]},{"whaleSharkID":"456277824","coordinates":[{"lat":8.853706,"long":97.810721,"eventDate":"2010-01-28","parsedDate":"2010-01-28"}]},{"whaleSharkID":"327156","coordinates":[{"lat":12.859188,"long":123.527289,"eventDate":"2010-01-29","parsedDate":"2010-01-29"}]},{"whaleSharkID":"477659425","coordinates":[{"lat":-7.802448,"long":39.40242,"eventDate":"2010-01-01","parsedDate":"2010-01-01"}]},{"whaleSharkID":"S14601","coordinates":[{"lat":-30.629,"long":30.546,"eventDate":"2010-01-27","parsedDate":"2010-01-27"}]},{"whaleSharkID":"S14602","coordinates":[{"lat":-30.629,"long":30.546,"eventDate":"2010-01-27","parsedDate":"2010-01-27"}]},{"whaleSharkID":"34359059","coordinates":[{"lat":12.873071,"long":123.528381,"eventDate":"2010-02-18","parsedDate":"2010-02-18"}]},{"whaleSharkID":"89628499","coordinates":[{"lat":21.577287,"long":-105.329873,"eventDate":"2010-02-20","parsedDate":"2010-02-20"}]},{"whaleSharkID":"S14603","coordinates":[{"lat":-30.292,"long":30.757999,"eventDate":"2010-02-10","parsedDate":"2010-02-10"}]},{"whaleSharkID":"54079827","coordinates":[{"lat":-22.63852,"long":113.513199,"eventDate":"2010-04-01","parsedDate":"2010-04-01"}]},{"whaleSharkID":"556151094","coordinates":[{"lat":-21.946066,"long":113.806425,"eventDate":"2010-04-19","parsedDate":"2010-04-19"}]},{"whaleSharkID":"205888470","coordinates":[{"lat":-21.915537,"long":113.835099,"eventDate":"2010-04-19","parsedDate":"2010-04-19"}]},{"whaleSharkID":"332353728","coordinates":[{"lat":-22.796336,"long":113.626339,"eventDate":"2010-06-19","parsedDate":"2010-06-19"}]},{"whaleSharkID":"A69-1303-8497","coordinates":[{"lat":-34.96,"long":118.17,"eventDate":"2010-07-20","parsedDate":"2010-07-20"}]},{"whaleSharkID":"139026081","coordinates":[{"lat":4.000769,"long":-81.440764,"eventDate":"2010-07-09","parsedDate":"2010-07-09"}]},{"whaleSharkID":"345501272","coordinates":[{"lat":21.850472,"long":-87.498853,"eventDate":"2010-08-06","parsedDate":"2010-08-06"}]},{"whaleSharkID":"345502300","coordinates":[{"lat":21.727865,"long":-87.477934,"eventDate":"2010-08-06","parsedDate":"2010-08-06"}]},{"whaleSharkID":"345506237","coordinates":[{"lat":21.680366,"long":-87.456973,"eventDate":"2010-08-07","parsedDate":"2010-08-07"}]},{"whaleSharkID":"345508076","coordinates":[{"lat":21.69776,"long":-87.542803,"eventDate":"2010-08-07","parsedDate":"2010-08-07"}]},{"whaleSharkID":"345510542","coordinates":[{"lat":21.747099,"long":-87.231638,"eventDate":"2010-08-07","parsedDate":"2010-08-07"}]},{"whaleSharkID":"345512297","coordinates":[{"lat":21.608506,"long":-87.357352,"eventDate":"2010-08-07","parsedDate":"2010-08-07"}]},{"whaleSharkID":"345513332","coordinates":[{"lat":21.757456,"long":-87.355064,"eventDate":"2010-08-07","parsedDate":"2010-08-07"}]},{"whaleSharkID":"345514103","coordinates":[{"lat":21.605729,"long":-87.36666,"eventDate":"2010-08-08","parsedDate":"2010-08-08"}]},{"whaleSharkID":"71385672","coordinates":[{"lat":-23.842043,"long":35.499082,"eventDate":"2010-08-14","parsedDate":"2010-08-14"}]},{"whaleSharkID":"236875542","coordinates":[{"lat":5.452475,"long":-87.145213,"eventDate":"2010-09-22","parsedDate":"2010-09-22"}]},{"whaleSharkID":"63230611","coordinates":[{"lat":-23.979728,"long":35.548868,"eventDate":"2010-09-29","parsedDate":"2010-09-29"}]},{"whaleSharkID":"50831a","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":22.5,"long":-86.5,"eventDate":"2010-08-17","parsedDate":"2010-08-17"},{"lat":22.5,"long":-87.5,"eventDate":"2010-08-21","parsedDate":"2010-08-21"},{"lat":22.5,"long":-88.5,"eventDate":"2010-08-30","parsedDate":"2010-08-30"},{"lat":23.5,"long":-88.5,"eventDate":"2010-09-06","parsedDate":"2010-09-06"},{"lat":23.5,"long":-89.5,"eventDate":"2010-09-09","parsedDate":"2010-09-09"},{"lat":22.5,"long":-89.5,"eventDate":"2010-09-12","parsedDate":"2010-09-12"},{"lat":23.5,"long":-94.5,"eventDate":"2010-10-25","parsedDate":"2010-10-25"},{"lat":24.5,"long":-94.5,"eventDate":"2010-10-28","parsedDate":"2010-10-28"},{"lat":24.5,"long":-93.5,"eventDate":"2010-11-02","parsedDate":"2010-11-02"},{"lat":23.5,"long":-93.5,"eventDate":"2010-11-04","parsedDate":"2010-11-04"},{"lat":22.5,"long":-93.5,"eventDate":"2010-11-07","parsedDate":"2010-11-07"},{"lat":22.5,"long":-94.5,"eventDate":"2010-11-09","parsedDate":"2010-11-09"},{"lat":23.5,"long":-95.5,"eventDate":"2010-11-21","parsedDate":"2010-11-21"},{"lat":24.5,"long":-95.5,"eventDate":"2010-11-22","parsedDate":"2010-11-22"},{"lat":25.5,"long":-94.5,"eventDate":"2010-11-25","parsedDate":"2010-11-25"},{"lat":26.5,"long":-94.5,"eventDate":"2010-12-01","parsedDate":"2010-12-01"},{"lat":26.5,"long":-93.5,"eventDate":"2010-12-04","parsedDate":"2010-12-04"},{"lat":27.5,"long":-94.5,"eventDate":"2010-12-10","parsedDate":"2010-12-10"}]},{"whaleSharkID":"101375a","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":31.5,"long":-39.5,"eventDate":"2010-09-08","parsedDate":"2010-09-08"},{"lat":19.5,"long":-78.5,"eventDate":"2010-09-27","parsedDate":"2010-09-27"},{"lat":23.5,"long":-81.5,"eventDate":"2010-10-17","parsedDate":"2010-10-17"},{"lat":23.5,"long":-80.5,"eventDate":"2010-10-25","parsedDate":"2010-10-25"}]},{"whaleSharkID":"239288605","coordinates":[{"lat":28.902635,"long":-113.502009,"eventDate":"2010-10-13","parsedDate":"2010-10-13"}]},{"whaleSharkID":"101367a","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":22.5,"long":-87.5,"eventDate":"2010-08-21","parsedDate":"2010-08-21"},{"lat":22.5,"long":-88.5,"eventDate":"2010-08-30","parsedDate":"2010-08-30"},{"lat":21.5,"long":-88.5,"eventDate":"2010-09-08","parsedDate":"2010-09-08"},{"lat":22.5,"long":-92.5,"eventDate":"2010-09-08","parsedDate":"2010-09-08"},{"lat":21.5,"long":-87.5,"eventDate":"2010-09-19","parsedDate":"2010-09-19"},{"lat":21.5,"long":-89.5,"eventDate":"2010-09-28","parsedDate":"2010-09-28"},{"lat":21.5,"long":-90.5,"eventDate":"2010-10-12","parsedDate":"2010-10-12"},{"lat":20.5,"long":-90.5,"eventDate":"2010-10-16","parsedDate":"2010-10-16"},{"lat":24.5,"long":-70.5,"eventDate":"2010-11-30","parsedDate":"2010-11-30"},{"lat":14.5,"long":-116.5,"eventDate":"2010-12-04","parsedDate":"2010-12-04"},{"lat":19.5,"long":-95.5,"eventDate":"2010-12-19","parsedDate":"2010-12-19"},{"lat":16.5,"long":-109.5,"eventDate":"2010-12-22","parsedDate":"2010-12-22"}]},{"whaleSharkID":"101370a","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":22.5,"long":-86.5,"eventDate":"2010-08-17","parsedDate":"2010-08-17"},{"lat":22.5,"long":-87.5,"eventDate":"2010-08-21","parsedDate":"2010-08-21"},{"lat":22.5,"long":-88.5,"eventDate":"2010-08-30","parsedDate":"2010-08-30"},{"lat":19.5,"long":-93.5,"eventDate":"2010-09-16","parsedDate":"2010-09-16"},{"lat":21.5,"long":-89.5,"eventDate":"2010-09-28","parsedDate":"2010-09-28"},{"lat":21.5,"long":-90.5,"eventDate":"2010-10-12","parsedDate":"2010-10-12"},{"lat":20.5,"long":-90.5,"eventDate":"2010-10-16","parsedDate":"2010-10-16"},{"lat":20.5,"long":-91.5,"eventDate":"2010-11-01","parsedDate":"2010-11-01"},{"lat":19.5,"long":-90.5,"eventDate":"2010-11-05","parsedDate":"2010-11-05"},{"lat":19.5,"long":-91.5,"eventDate":"2010-11-05","parsedDate":"2010-11-05"},{"lat":18.5,"long":-91.5,"eventDate":"2010-11-21","parsedDate":"2010-11-21"},{"lat":23.5,"long":-95.5,"eventDate":"2010-11-21","parsedDate":"2010-11-21"},{"lat":19.5,"long":-92.5,"eventDate":"2010-11-24","parsedDate":"2010-11-24"},{"lat":18.5,"long":-92.5,"eventDate":"2010-11-27","parsedDate":"2010-11-27"},{"lat":20.5,"long":-93.5,"eventDate":"2010-12-11","parsedDate":"2010-12-11"},{"lat":20.5,"long":-94.5,"eventDate":"2010-12-15","parsedDate":"2010-12-15"},{"lat":20.5,"long":-95.5,"eventDate":"2010-12-19","parsedDate":"2010-12-19"},{"lat":20.5,"long":-96.5,"eventDate":"2010-12-22","parsedDate":"2010-12-22"},{"lat":21.5,"long":-96.5,"eventDate":"2010-12-23","parsedDate":"2010-12-23"},{"lat":22.5,"long":-96.5,"eventDate":"2010-12-26","parsedDate":"2010-12-26"},{"lat":22.5,"long":-95.5,"eventDate":"2010-12-29","parsedDate":"2010-12-29"}]},{"whaleSharkID":"101373a","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":22.5,"long":-86.5,"eventDate":"2010-08-17","parsedDate":"2010-08-17"},{"lat":21.5,"long":-87.5,"eventDate":"2010-09-19","parsedDate":"2010-09-19"},{"lat":22.5,"long":-85.5,"eventDate":"2010-10-01","parsedDate":"2010-10-01"},{"lat":23.5,"long":-86.5,"eventDate":"2010-10-02","parsedDate":"2010-10-02"},{"lat":21.5,"long":-85.5,"eventDate":"2010-10-03","parsedDate":"2010-10-03"},{"lat":24.5,"long":-86.5,"eventDate":"2010-10-03","parsedDate":"2010-10-03"},{"lat":25.5,"long":-86.5,"eventDate":"2010-10-16","parsedDate":"2010-10-16"},{"lat":25.5,"long":-85.5,"eventDate":"2010-10-23","parsedDate":"2010-10-23"},{"lat":25.5,"long":-84.5,"eventDate":"2010-10-24","parsedDate":"2010-10-24"},{"lat":23.5,"long":-82.5,"eventDate":"2010-10-27","parsedDate":"2010-10-27"},{"lat":24.5,"long":-84.5,"eventDate":"2010-11-06","parsedDate":"2010-11-06"},{"lat":23.5,"long":-83.5,"eventDate":"2010-11-07","parsedDate":"2010-11-07"},{"lat":24.5,"long":-81.5,"eventDate":"2010-11-07","parsedDate":"2010-11-07"},{"lat":24.5,"long":-80.5,"eventDate":"2010-11-10","parsedDate":"2010-11-10"},{"lat":25.5,"long":-79.5,"eventDate":"2010-11-11","parsedDate":"2010-11-11"},{"lat":26.5,"long":-79.5,"eventDate":"2010-11-12","parsedDate":"2010-11-12"},{"lat":27.5,"long":-79.5,"eventDate":"2010-11-15","parsedDate":"2010-11-15"},{"lat":27.5,"long":-80.5,"eventDate":"2010-11-16","parsedDate":"2010-11-16"},{"lat":47.5,"long":-122.5,"eventDate":"2010-12-15","parsedDate":"2010-12-15"},{"lat":54.5,"long":-90.5,"eventDate":"2010-12-15","parsedDate":"2010-12-15"}]},{"whaleSharkID":"522248664","coordinates":[{"lat":3.900505,"long":72.873254,"eventDate":"2010-11-16","parsedDate":"2010-11-16"}]},{"whaleSharkID":"50832b","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":21.5,"long":-88.5,"eventDate":"2010-09-08","parsedDate":"2010-09-08"}]},{"whaleSharkID":"259500513","coordinates":[{"lat":24.192081,"long":-110.421134,"eventDate":"2009-01-31","parsedDate":"2009-01-31"}]},{"whaleSharkID":"395760","coordinates":[{"lat":19.42831,"long":85.139496,"eventDate":"2009-02-22","parsedDate":"2009-02-22"}]},{"whaleSharkID":"24747444","coordinates":[{"lat":-27.45314,"long":32.774465,"eventDate":"2009-03-14","parsedDate":"2009-03-14"}]},{"whaleSharkID":"251026382","coordinates":[{"lat":24.19401,"long":-110.317216,"eventDate":"2009-03-07","parsedDate":"2009-03-07"}]},{"whaleSharkID":"453556317","coordinates":[{"lat":12.963106,"long":123.586701,"eventDate":"2009-03-01","parsedDate":"2009-03-01"}]},{"whaleSharkID":"8858300","coordinates":[{"lat":-21.838055,"long":113.965258,"eventDate":"2009-04-24","parsedDate":"2009-04-24"}]},{"whaleSharkID":"9170218","coordinates":[{"lat":-21.941584,"long":113.979526,"eventDate":"2009-04-25","parsedDate":"2009-04-25"}]},{"whaleSharkID":"17823496","coordinates":[{"lat":-21.94963,"long":113.838159,"eventDate":"2009-04-27","parsedDate":"2009-04-27"}]},{"whaleSharkID":"18314875","coordinates":[{"lat":-21.899823,"long":113.819444,"eventDate":"2009-04-27","parsedDate":"2009-04-27"}]},{"whaleSharkID":"503364155","coordinates":[{"lat":-23.045379,"long":113.770707,"eventDate":"2009-05-26","parsedDate":"2009-05-26"}]},{"whaleSharkID":"118091789","coordinates":[{"lat":-22.747174,"long":113.532438,"eventDate":"2009-07-05","parsedDate":"2009-07-05"}]},{"whaleSharkID":"20635029","coordinates":[{"lat":21.998708,"long":-86.559493,"eventDate":"2009-07-24","parsedDate":"2009-07-24"}]},{"whaleSharkID":"149208","coordinates":[{"lat":7.74994,"long":-81.610535,"eventDate":"2009-08-20","parsedDate":"2009-08-20"}]},{"whaleSharkID":"279738362","coordinates":[{"lat":24.525833,"long":-110.41659,"eventDate":"2009-08-08","parsedDate":"2009-08-08"}]},{"whaleSharkID":"102900024","coordinates":[{"lat":21.534847,"long":-87.286377,"eventDate":"2009-08-13","parsedDate":"2009-08-13"}]},{"whaleSharkID":"12571175","coordinates":[{"lat":21.62049,"long":-87.294975,"eventDate":"2009-08-23","parsedDate":"2009-08-23"}]},{"whaleSharkID":"1217913","coordinates":[{"lat":21.24228,"long":-86.412148,"eventDate":"2009-08-26","parsedDate":"2009-08-26"}]},{"whaleSharkID":"160161671","coordinates":[{"lat":21.495356,"long":-86.794413,"eventDate":"2009-08-28","parsedDate":"2009-08-28"}]},{"whaleSharkID":"329216146","coordinates":[{"lat":-23.959203,"long":35.434528,"eventDate":"2009-10-05","parsedDate":"2009-10-05"}]},{"whaleSharkID":"248338","coordinates":[{"lat":-0.865336,"long":-90.85389,"eventDate":"2009-10-18","parsedDate":"2009-10-18"}]},{"whaleSharkID":"424514393","coordinates":[{"lat":-14.886432,"long":-147.64668,"eventDate":"2009-10-05","parsedDate":"2009-10-05"}]},{"whaleSharkID":"29051314","coordinates":[{"lat":-4.69573,"long":39.226106,"eventDate":"2009-11-27","parsedDate":"2009-11-27"}]},{"whaleSharkID":"1140138","coordinates":[{"lat":10.907754,"long":-63.61045,"eventDate":"2009-12-26","parsedDate":"2009-12-26"}]},{"whaleSharkID":"S14598","coordinates":[{"lat":-27.926001,"long":32.595001,"eventDate":"2009-12-19","parsedDate":"2009-12-19"}]},{"whaleSharkID":"S14599","coordinates":[{"lat":-28.086,"long":32.561001,"eventDate":"2009-12-26","parsedDate":"2009-12-26"}]},{"whaleSharkID":"S14600","coordinates":[{"lat":-28.049999,"long":32.57,"eventDate":"2009-12-26","parsedDate":"2009-12-26"}]},{"whaleSharkID":"386072498","coordinates":[{"lat":-27.380525,"long":153.55807,"eventDate":"2008-01-27","parsedDate":"2008-01-27"}]},{"whaleSharkID":"19485634","coordinates":[{"lat":31.564806,"long":-114.302745,"eventDate":"2008-03-13","parsedDate":"2008-03-13"}]},{"whaleSharkID":"486424177","coordinates":[{"lat":-27.431704,"long":32.687488,"eventDate":"2008-04-26","parsedDate":"2008-04-26"}]},{"whaleSharkID":"373939398","coordinates":[{"lat":-22.798857,"long":113.620863,"eventDate":"2008-05-24","parsedDate":"2008-05-24"}]},{"whaleSharkID":"434252688","coordinates":[{"lat":-22.723422,"long":113.006155,"eventDate":"2008-05-24","parsedDate":"2008-05-24"}]},{"whaleSharkID":"232826020","coordinates":[{"lat":31.46721,"long":-114.116971,"eventDate":"2008-06-29","parsedDate":"2008-06-29"}]},{"whaleSharkID":"405180731","coordinates":[{"lat":-22.799197,"long":113.727366,"eventDate":"2008-06-12","parsedDate":"2008-06-12"}]},{"whaleSharkID":"223464464","coordinates":[{"lat":3.347674,"long":73.288206,"eventDate":"2008-09-16","parsedDate":"2008-09-16"}]},{"whaleSharkID":"160145057","coordinates":[{"lat":10.915779,"long":-64.149004,"eventDate":"2008-12-14","parsedDate":"2008-12-14"}]},{"whaleSharkID":"1780761","coordinates":[{"lat":-35.28231,"long":174.793033,"eventDate":"2007-02-11","parsedDate":"2007-02-11"}]},{"whaleSharkID":"133778025","coordinates":[{"lat":-26.997698,"long":32.82297,"eventDate":"2007-03-11","parsedDate":"2007-03-11"}]},{"whaleSharkID":"138682887","coordinates":[{"lat":16.162096,"long":-86.814612,"eventDate":"2007-03-19","parsedDate":"2007-03-19"}]},{"whaleSharkID":"221804260","coordinates":[{"lat":3.40084,"long":72.915685,"eventDate":"2007-04-04","parsedDate":"2007-04-04"}]},{"whaleSharkID":"187973957","coordinates":[{"lat":4.39948,"long":113.921155,"eventDate":"2007-05-02","parsedDate":"2007-05-02"}]},{"whaleSharkID":"239600842","coordinates":[{"lat":26.424334,"long":35.051482,"eventDate":"2007-07-30","parsedDate":"2007-07-30"}]},{"whaleSharkID":"44860138","coordinates":[{"lat":28.941984,"long":-113.503972,"eventDate":"2007-07-22","parsedDate":"2007-07-22"}]},{"whaleSharkID":"84106484","coordinates":[{"lat":24.289811,"long":-110.433457,"eventDate":"2007-09-28","parsedDate":"2007-09-28"}]},{"whaleSharkID":"228333175","coordinates":[{"lat":11.6268,"long":42.928095,"eventDate":"2007-12-11","parsedDate":"2007-12-11"}]},{"whaleSharkID":"228333177","coordinates":[{"lat":11.648145,"long":42.855293,"eventDate":"2007-12-12","parsedDate":"2007-12-12"}]},{"whaleSharkID":"301692","coordinates":[{"lat":-10.40139,"long":105.628445,"eventDate":"2007-12-04","parsedDate":"2007-12-04"}]},{"whaleSharkID":"326908","coordinates":[{"lat":-10.574132,"long":105.602871,"eventDate":"2007-12-06","parsedDate":"2007-12-06"}]},{"whaleSharkID":"66816","coordinates":[{"lat":-10.461137,"long":105.751475,"eventDate":"2007-12-03","parsedDate":"2007-12-03"}]},{"whaleSharkID":"22886850","coordinates":[{"lat":8.651223,"long":97.73917,"eventDate":"2006-04-01","parsedDate":"2006-04-01"}]},{"whaleSharkID":"59390109","coordinates":[{"lat":-21.656908,"long":114.185151,"eventDate":"2006-04-13","parsedDate":"2006-04-13"}]},{"whaleSharkID":"94677429","coordinates":[{"lat":24.232111,"long":-110.366185,"eventDate":"2006-07-06","parsedDate":"2006-07-06"}]},{"whaleSharkID":"206430436","coordinates":[{"lat":21.662945,"long":-87.378554,"eventDate":"2006-08-29","parsedDate":"2006-08-29"}]},{"whaleSharkID":"308791869","coordinates":[{"lat":16.012686,"long":-86.995537,"eventDate":"2006-11-14","parsedDate":"2006-11-14"}]},{"whaleSharkID":"519","coordinates":[{"lat":24.250278,"long":-109.848611,"eventDate":"2005-01-01","parsedDate":"2005-01-01"}]},{"whaleSharkID":"563567375","coordinates":[{"lat":-21.804699,"long":113.946874,"eventDate":"2005-05-11","parsedDate":"2005-05-11"}]},{"whaleSharkID":"9530921","coordinates":[{"lat":26.776911,"long":-95.055444,"eventDate":"2005-06-25","parsedDate":"2005-06-25"}]},{"whaleSharkID":"165905405","coordinates":[{"lat":1.677599,"long":-91.925843,"eventDate":"2005-06-08","parsedDate":"2005-06-08"}]},{"whaleSharkID":"43233994","coordinates":[{"lat":21.747539,"long":-87.094119,"eventDate":"2005-07-07","parsedDate":"2005-07-07"}]},{"whaleSharkID":"143759837","coordinates":[{"lat":24.218288,"long":-110.213359,"eventDate":"2005-09-04","parsedDate":"2005-09-04"}]},{"whaleSharkID":"63587994","coordinates":[{"lat":1.625071,"long":-92.135849,"eventDate":"2004-07-01","parsedDate":"2004-07-01"}]},{"whaleSharkID":"209648936","coordinates":[{"lat":-17.787098,"long":178.997509,"eventDate":"2003-09-16","parsedDate":"2003-09-16"}]},{"whaleSharkID":"137577885","coordinates":[{"lat":19.068516,"long":-155.810098,"eventDate":"2003-12-31","parsedDate":"2003-12-31"}]},{"whaleSharkID":"149200686","coordinates":[{"lat":21.212638,"long":-157.823198,"eventDate":"2002-11-27","parsedDate":"2002-11-27"}]},{"whaleSharkID":"129655663","coordinates":[{"lat":1.609483,"long":-92.007489,"eventDate":"2001-10-28","parsedDate":"2001-10-28"}]},{"whaleSharkID":"318789379","coordinates":[{"lat":19.401734,"long":-92.568035,"eventDate":"2000-03-28","parsedDate":"2000-03-28"}]},{"whaleSharkID":"221274034","coordinates":[{"lat":-10.462917,"long":105.716905,"eventDate":"1995-03-21","parsedDate":"1995-03-21"}]},{"whaleSharkID":"221274036","coordinates":[{"lat":-10.455694,"long":105.614521,"eventDate":"1995-03-21","parsedDate":"1995-03-21"}]},{"whaleSharkID":"221274035","coordinates":[{"lat":-10.457686,"long":105.611038,"eventDate":"1995-03-21","parsedDate":"1995-03-21"}]},{"whaleSharkID":"221274039","coordinates":[{"lat":-10.584917,"long":105.716987,"eventDate":"1995-03-21","parsedDate":"1995-03-21"}]},{"whaleSharkID":"221274040","coordinates":[{"lat":-10.403227,"long":105.74495,"eventDate":"1995-03-21","parsedDate":"1995-03-21"}]},{"whaleSharkID":"221274041","coordinates":[{"lat":-10.498608,"long":105.79929,"eventDate":"1995-03-21","parsedDate":"1995-03-21"}]},{"whaleSharkID":"526312326","coordinates":[{"lat":23.784698,"long":-97.753071,"eventDate":"1989-04-05","parsedDate":"1989-04-05"}]},{"whaleSharkID":"4653f277-fc21-11e2-ac3f-081965b14959","coordinates":[{"lat":-28.133333,"long":32.566666,"eventDate":"1973-01","parsedDate":"1973-01-01"}]},{"whaleSharkID":"160057021","coordinates":[{"lat":-33.992116,"long":151.231191,"eventDate":"1965-02-17","parsedDate":"1965-02-17"}]},{"whaleSharkID":"620234","coordinates":[{"lat":16.837021,"long":-99.892162,"eventDate":"1937","parsedDate":"1937-01-01"}]},{"whaleSharkID":"619183","coordinates":[{"lat":16.837021,"long":-99.892162,"eventDate":"1936-12","parsedDate":"1936-12-01"}]},{"whaleSharkID":"6170","coordinates":[{"lat":20.4,"long":-105.7,"eventDate":"eventDate Unknown","parsedDate":"9999-12-31"}]},{"whaleSharkID":"36295","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-20.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-25.5,"long":112.5,"eventDate":"2016-12-19","parsedDate":"2016-12-19"},{"lat":-20.5,"long":113.5,"eventDate":"2017-07-27","parsedDate":"2017-07-27"}]},{"whaleSharkID":"57830","coordinates":[{"lat":-20.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-19.5,"long":114.5,"eventDate":"2016-08-01","parsedDate":"2016-08-01"},{"lat":-18.5,"long":114.5,"eventDate":"2016-08-07","parsedDate":"2016-08-07"},{"lat":-18.5,"long":115.5,"eventDate":"2017-07-28","parsedDate":"2017-07-28"}]},{"whaleSharkID":"161730","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-22.5,"long":114.5,"eventDate":"2017-06-07","parsedDate":"2017-06-07"}]},{"whaleSharkID":"36293","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"},{"lat":-19.5,"long":116.5,"eventDate":"2016-08-31","parsedDate":"2016-08-31"},{"lat":-18.5,"long":112.5,"eventDate":"2016-12-11","parsedDate":"2016-12-11"}]},{"whaleSharkID":"143669","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"}]},{"whaleSharkID":"161727","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"}]},{"whaleSharkID":"161729","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-20.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"}]},{"whaleSharkID":"161734","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-20.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"}]},{"whaleSharkID":"161735","coordinates":[{"lat":-21.5,"long":113.5,"eventDate":"2016-06-01","parsedDate":"2016-06-01"},{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"},{"lat":-20.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-21.5,"long":114.5,"eventDate":"2016-06-07","parsedDate":"2016-06-07"},{"lat":-20.5,"long":115.5,"eventDate":"2016-06-08","parsedDate":"2016-06-08"},{"lat":-19.5,"long":115.5,"eventDate":"2016-06-14","parsedDate":"2016-06-14"}]},{"whaleSharkID":"57822","coordinates":[{"lat":-22.5,"long":113.5,"eventDate":"2016-06-03","parsedDate":"2016-06-03"}]},{"whaleSharkID":"50836a","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":22.5,"long":-86.5,"eventDate":"2010-08-17","parsedDate":"2010-08-17"},{"lat":22.5,"long":-87.5,"eventDate":"2010-08-21","parsedDate":"2010-08-21"},{"lat":21.5,"long":-87.5,"eventDate":"2010-09-19","parsedDate":"2010-09-19"}]},{"whaleSharkID":"85227","coordinates":[{"lat":21.5,"long":-87.5,"eventDate":"2010-09-19","parsedDate":"2010-09-19"}]},{"whaleSharkID":"101366a","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"}]},{"whaleSharkID":"130663","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"}]},{"whaleSharkID":"130664","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"},{"lat":22.5,"long":-88.5,"eventDate":"2010-08-30","parsedDate":"2010-08-30"},{"lat":22.5,"long":-89.5,"eventDate":"2010-09-12","parsedDate":"2010-09-12"}]},{"whaleSharkID":"130665","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"}]},{"whaleSharkID":"130666","coordinates":[{"lat":21.5,"long":-86.5,"eventDate":"2010-07-23","parsedDate":"2010-07-23"}]},{"whaleSharkID":"3127","coordinates":[{"lat":30.266667,"long":-112.85,"eventDate":"eventDate Unknown","parsedDate":"9999-12-31"}]},{"whaleSharkID":"4619","coordinates":[{"lat":22.883333,"long":-109.916667,"eventDate":"eventDate Unknown","parsedDate":"9999-12-31"}]},{"whaleSharkID":"1561","coordinates":[{"lat":31.033333,"long":-114.816667,"eventDate":"eventDate Unknown","parsedDate":"9999-12-31"}]}]');function Am(n,e=1/0){return n?n.coordinates.slice(-e).map(a=>{const r=Math.random()*2e3;return{id:`${a.whaleSharkID}-${a.lat}-${a.long}`,lat:a.lat,lng:a.long,date:a.eventDate,size:1,ringMaxSize:3,ringPropagationSpeed:.7,ringRepeatPeriod:2e3+r}}):[]}function PG(){let n=[];return lm.forEach(t=>{let a=Am(t,5);n.push(...a)}),n}function iG(n){if(!n)return[];const e=lm.find(t=>t.whaleSharkID==n);return Am(e)}const lG="/whale-shark-site/assets/earth-blue-marble-CClELF0E.jpg",AG="/whale-shark-site/assets/earth-topology-BdTlfuPO.png";function uG(){const n=new jU().globeImageUrl(lG).bumpImageUrl(AG),e=new B8({color:22015,roughness:.7,metalness:.3,emissive:16766720,emissiveIntensity:3});return n.material=e,n.scale.set(1,1,1),n.visible=!0,n}function dG(){const n=new t8(16777215,1*Math.PI),e=new Jg(16777215,.6*Math.PI);return e.position.set(0,1,1),{ambientLight:n,directionalLight:e}}function cG(n){const e=new di(75,n.clientWidth/n.clientHeight,.1,1e3);return e.position.set(0,0,200),e}function hG(n,e){const t=new QU(n,e.domElement);return t.enableDamping=!0,t.dampingFactor=.25,t.rotateSpeed=.5,t.enableZoom=!0,t.autoRotate=!1,t.minDistance=125,t.maxDistance=220,t}function pG(n,e){const t=new L1,a=new L1,r=new L1;return n.add(t),t.add(a),a.add(r),r.add(e),{pivot:t,yaw:a,pitch:r}}function gG(n){const e=Math.round(255-n*255),t=Math.round(255),a=Math.round(n*255);return`rgba(${e}, ${t}, ${a}, ${.9+(1-n)*.1})`}function DG(n,e){n&&n.ringsData(e).ringColor(()=>gG).ringMaxRadius("ringMaxSize").ringPropagationSpeed("ringPropagationSpeed").ringRepeatPeriod("ringRepeatPeriod")}function BG(n,e){n&&n.ringsData(e).ringColor(()=>"rgba(230, 255, 50, 0.9)").ringMaxRadius(.5).ringPropagationSpeed(0).ringRepeatPeriod(0)}async function fG(n,e,t){new N1(n.position).to({x:0,y:0,z:300},1e3).easing(R1.InOut).start(),new N1(e.current.rotation).to({x:0,y:0,z:0},1025).easing(R1.InOut).start(),new N1(t.current.rotation).to({x:0,y:0,z:0},1050).easing(R1.InOut).start(),new N1(n.position).to({x:0,y:0,z:200},1075).easing(R1.InOut).start(),Di.update()}function vG(n,e,t,a){new N1(t.current.rotation).to({x:n/180*Math.PI*-1},1e3).easing(R1.InOut).start(),new N1(a.current.rotation).to({y:e/180*Math.PI},1e3).easing(R1.InOut).start()}async function mG(n,e,t,a,r,s){const o=iG(s);if(!(!n||!o.length)){e.enabled=!1,new N1(t.position).to({z:150},2500).easing(R1.InOut).start(),console.log(`Playing story for shark ID: ${s}`);for(let d=0;d<o.length;d++){const c=o[d];console.log(c),vG(c.lat,c.lng,a,r),d==0&&await new Promise(g=>setTimeout(g,2e3)),DG(n,[c]),await new Promise(g=>setTimeout(g,2e3))}setTimeout(()=>{e.enabled=!0},1e3)}}const LG=x0.forwardRef((n,e)=>{const t=x0.useRef(null),a=x0.useRef(null),r=x0.useRef(null),s=x0.useRef(null),o=x0.useRef(null),d=x0.useRef(null),c=x0.useRef(null),g=async D=>{!a.current||!s.current||!r.current||(fG(r.current,c,d),await new Promise(m=>setTimeout(m,1e3)),await mG(a.current,s.current,r.current,c,d,D))};return x0.useImperativeHandle(e,()=>({getGlobe:()=>a.current,playStory:g})),x0.useEffect(()=>{const D=t.current;if(!D)return;const m=new cA,_=uG();m.add(_);const{ambientLight:w,directionalLight:x}=dG();m.add(w),m.add(x);const T=cG(D),I=new jw({antialias:!0}),{pivot:N,yaw:R,pitch:M}=pG(m,T);o.current=N,d.current=R,c.current=M;const B=()=>{if(!D.offsetWidth||!D.offsetHeight)return;const G=D.offsetWidth,j=D.offsetHeight;I.setSize(G,j),I.setPixelRatio(window.devicePixelRatio),T.aspect=G/j,T.updateProjectionMatrix()};(()=>{D.contains(I.domElement)||D.appendChild(I.domElement),B()})(),window.addEventListener("resize",B);const L=hG(T,I);a.current=_,r.current=T,s.current=L;const O=()=>{L.update(),Di.update(),I.render(m,T),requestAnimationFrame(O)};return O(),()=>{window.removeEventListener("resize",B),D.contains(I.domElement)&&D.removeChild(I.domElement),I.dispose()}},[]),y_.jsx("div",{ref:t,style:{width:"100%",height:"100%"}})});export{LG as G,BG as a,PG as g};
