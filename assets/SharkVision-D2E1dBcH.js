import{j as e,r as p,F as I,v as k,q as y,m as A,d as M}from"./index-_eeLRr-Q.js";import{e as R,a as B}from"./FilterSharks-BIgq0YVg.js";const O=()=>e.jsxs("div",{className:"cv-hero-intro",children:[e.jsx("section",{className:"hero",style:{background:"url(./cv-whale-shark-hero.png) center/cover no-repeat"},children:e.jsxs("div",{className:"hero-content",children:[e.jsx("h1",{children:"AI for Whale Sharks"}),e.jsx("p",{children:"Using computer vision to protect the oceans' gentle giants."})]})}),e.jsxs("section",{className:"intro section-layout",children:[e.jsxs("div",{className:"section-text",children:[e.jsx("h2",{children:"What is Computer Vision?"}),e.jsx("p",{children:'Computer vision is the field of artificial intelligence that teaches computers to "see" and understand images and videos, much like how humans process visual information.'}),e.jsx("p",{children:"For whale shark research, computer vision revolutionizes how we study these magnificent creatures. Instead of relying solely on manual observation and identification, we can now automatically detect, track, and analyze whale sharks from underwater footage and photographs."}),e.jsx("p",{children:"This technology enables researchers to process thousands of images quickly, identify individual sharks by their unique spot patterns, measure their size and behavior, and monitor populations across vast ocean territories â€” all while minimizing human disturbance to these gentle giants."})]}),e.jsx("div",{className:"section-image",children:e.jsxs("div",{className:"image-wrapper-large",children:[e.jsx("img",{src:"./cv-intro-example.jpg",alt:"Bounding box for whale shark with computer vision"}),e.jsx("p",{className:"shark-image-meta",children:e.jsx("small",{children:"ðŸ“¸ Creator: Ryan E. Gray | CC BY-NC [Attribution-NonCommercial]"})})]})})]})]}),S=[{title:"Image Acquisition",description:"Underwater cameras and drones capture high-resolution images and videos of whale sharks in their natural habitat.",icon:"ðŸ“·"},{title:"Object Detection",description:"AI algorithms scan images to locate and identify whale sharks, drawing bounding boxes around detected individuals.",icon:"ðŸŽ¯"},{title:"Segmentation",description:"Advanced models create precise pixel-level masks that outline the exact shape and boundaries of each whale shark.",icon:"âœ‚ï¸"},{title:"Pattern Recognition",description:"Computer vision analyzes the spot patterns and scars that are unique to each whale shark for individual identification.",icon:"ðŸ”"},{title:"Data Analysis",description:"Extracted features are processed to re-identify known whale sharks by matching their embeddings in a database.",icon:"ðŸ“Š"}],_=()=>{const[s,n]=p.useState({}),i=t=>{n(c=>({...c,[t]:!c[t]}))};return e.jsxs("section",{className:"cv-pipeline section-layout reverse",children:[e.jsxs("div",{className:"section-text",children:[e.jsx("h2",{children:"How Computer Vision Works"}),e.jsx("p",{children:"This AI-powered pipeline for shark research involves several interconnected steps that build upon each other to transform raw underwater imagery into valuable scientific insights."}),e.jsx("div",{className:"pipeline-steps",children:S.map((t,c)=>e.jsxs("div",{className:"pipeline-step",children:[e.jsxs("div",{className:"step-header clickable",onClick:()=>i(c),children:[e.jsx("span",{className:"step-icon",children:t.icon}),e.jsxs("h3",{children:[t.title,c<S.length-1]}),e.jsx("span",{className:`expand-icon ${s[c]?"expanded":""}`,children:"â–¼"})]}),s[c]&&e.jsx("div",{className:"step-content",children:e.jsx("p",{children:t.description})})]},c))})]}),e.jsx("div",{className:"section-image",children:e.jsxs("div",{className:"image-wrapper-large",children:[e.jsx("img",{src:"./cv-pipeline-example.jpg",alt:"Example image in computer vision pipeline"}),e.jsx("p",{className:"shark-image-meta",children:e.jsx("small",{children:"ðŸ“¸ Creator: richardtenbrinke | CC BY-NC [Attribution-NonCommercial]"})})]})})]})};function w({id:s,name:n,description:i,creator:t,license:c}){return{id:s,name:n,original:`./cv-demos/shark_${s}_original.jpg`,bbox:`./cv-demos/shark_${s}_bbox.jpg`,segmentation:`./cv-demos/shark_${s}_segmentation.jpg`,description:i,creator:t,license:c}}const C=[w({id:3070393848,name:"Whale Shark #1",description:"TBD.. description currently a WIP",creator:"stefzanirato",license:"CC BY-NC [Attribution-NonCommercial]"}),w({id:3338151009,name:"Whale Shark #2",description:"TBD.. description currently a WIP",creator:"Carlos GajÃ³n BermÃºdez",license:"CC BY-NC [Attribution-NonCommercial]"}),w({id:4177294484,name:"Whale Shark #3",description:"TBD.. description currently a WIP",creator:"Nathan Cook",license:"CC BY-NC [Attribution-NonCommercial]"}),w({id:4900906641,name:"Whale Shark #4",description:"TBD.. description currently a WIP",creator:"Slunky",license:"CC BY [Attribution]"})],D=()=>{const[s,n]=p.useState(C[0]),[i,t]=p.useState("Original"),c=()=>{switch(i){case"BBOX":return s.bbox;case"Segmentation":return s.segmentation;default:return s.original}},o=()=>{switch(i){case"BBOX":return"Bounding box detection highlights where the AI has identified whale sharks in the image, along with its confidence.";case"Segmentation":return"Segmentation masks show the precise pixel-level outline of each detected whale shark.";default:return"Original underwater photograph captured by researchers or underwater cameras."}};return e.jsxs("section",{className:"interactive-demo",children:[e.jsx("h2",{children:"Try It Yourself"}),e.jsx("p",{children:"Select a real-world whale shark below and explore how computer vision processes the same image through various AI-powered analytical stages."}),e.jsxs("div",{className:"image-selector",children:[e.jsx("h3",{children:"Choose an Image:"}),e.jsx("div",{className:"image-thumbnails",children:C.map(l=>e.jsxs("div",{className:`thumbnail ${s.id===l.id?"active":""}`,onClick:()=>n(l),children:[e.jsxs("div",{className:"image-wrapper",children:[e.jsx("img",{src:l.original,alt:l.name}),e.jsx("p",{className:"shark-image-meta",children:e.jsxs("small",{children:["ðŸ“¸ Creator: ",l.creator," | ",l.license]})})]}),e.jsxs("div",{className:"thumbnail-info",children:[e.jsx("h4",{children:l.name}),e.jsx("p",{children:l.description})]})]},l.id))})]}),e.jsxs("div",{className:"view-controls",children:[e.jsx("h3",{children:"Analysis View:"}),e.jsxs("div",{className:"control-buttons",children:[e.jsx("button",{className:i==="Original"?"active":"",onClick:()=>t("Original"),children:"Original Image"}),e.jsx("button",{className:i==="BBOX"?"active":"",onClick:()=>t("BBOX"),children:"Bounding Box"}),e.jsx("button",{className:i==="Segmentation"?"active":"",onClick:()=>t("Segmentation"),children:"Segmentation"})]})]}),e.jsxs("div",{className:"demo-display",children:[e.jsx("div",{className:"image-container",children:e.jsxs("div",{className:"image-wrapper-large",children:[e.jsx("img",{src:c(),alt:`${s.name} - ${i}`,className:"demo-image"}),e.jsx("p",{className:"shark-image-meta",children:e.jsxs("small",{children:["ðŸ“¸ Creator: ",s.creator," | ",s.license]})})]})}),e.jsxs("div",{className:"analysis-info",children:[e.jsxs("h3",{children:[s.name," - ",i]}),e.jsx("p",{className:"view-description",children:o()}),e.jsxs("div",{className:"image-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",s.description]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Current View:"})," ",i," Analysis"]})]})]})]})]})},$=[{title:"Individual Identification",description:"Each whale shark has a unique spot pattern. Computer vision can match and identify individuals from pictures.",impact:"Track migration patterns and population dynamics",icon:"ðŸ†”"},{title:"Population Monitoring",description:"Automated tracking of whale sharks in large datasets helps scientists monitor population health and trends over time.",impact:"Assess conservation status and effectiveness",icon:"ðŸ“ˆ"},{title:"Behavior Analysis",description:"AI can detect and classify whale shark behaviors like feeding, mating, and social interactions from video footage.",impact:"Understand ecological roles and habitat needs",icon:"ðŸŽ­"},{title:"Size Estimation",description:"Computer vision algorithms can measure whale shark length and estimate age, crucial for understanding growth rates.",impact:"Study life cycles and reproductive maturity",icon:"ðŸ“"},{title:"Habitat Mapping",description:"By analyzing where whale sharks are detected in images, researchers can map critical habitats and migration corridors.",impact:"Inform marine protected area planning",icon:"ðŸ—ºï¸"},{title:"Health Assessment",description:"AI can detect injuries, scars, and parasites on whale sharks, helping monitor individual and population health.",impact:"Identify threats and conservation priorities",icon:"ðŸ¥"}],E=()=>e.jsxs("section",{className:"cv-applications",children:[e.jsx("h2",{children:"Research Applications"}),e.jsx("p",{children:"Computer vision technology is transforming whale shark research across multiple domains, enabling new insights that were previously impossible or very time-consuming to obtain."}),e.jsx("div",{className:"applications-grid",children:$.map((s,n)=>e.jsxs("div",{className:"application-card",children:[e.jsxs("div",{className:"app-header",children:[e.jsx("span",{className:"app-icon",children:s.icon}),e.jsx("h3",{children:s.title})]}),e.jsx("p",{className:"app-description",children:s.description}),e.jsxs("div",{className:"app-impact",children:[e.jsx("strong",{children:"Impact:"})," ",s.impact]})]},n))}),e.jsxs("div",{className:"research-impact",children:[e.jsx("h3",{children:"Transforming Conservation"}),e.jsx("p",{children:"These computer vision applications are revolutionizing how we study and protect whale sharks. By automating time-intensive analysis tasks, researchers can process vastly more data, leading to better understanding of whale shark ecology and more effective conservation strategies."}),e.jsx("p",{children:"The technology also enables real-time monitoring and rapid response to threats, making whale shark conservation more proactive and data-driven than ever before."})]})]});function F({criteria:s,onChange:n,countries:i}){return e.jsxs("fieldset",{className:"filter-group",children:[e.jsx("legend",{children:"Location"}),e.jsxs("label",{className:"filter-label",children:["Country:",e.jsxs("select",{value:s.country,onChange:t=>n({...s,country:t.target.value}),className:"filter-select",children:[e.jsx("option",{value:"",children:"All"}),i.map(t=>e.jsx("option",{value:t,children:t},t))]})]})]})}function T({criteria:s,onChange:n,minYear:i,maxYear:t,months:c}){return e.jsxs("fieldset",{className:"filter-group",children:[e.jsx("legend",{children:"Time"}),e.jsxs("label",{className:"filter-label",children:["Year Range:",e.jsxs("div",{className:"range-inputs",children:[e.jsx("input",{type:"number",value:s.yearRange[0],onChange:o=>{const l=o.target.value;n({...s,yearRange:[l,s.yearRange[1]]})},onBlur:()=>{const o=parseInt(s.yearRange[0]),l=isNaN(o)?i:Math.max(i,Math.min(o,parseInt(s.yearRange[1])));n({...s,yearRange:[String(l),s.yearRange[1]]})},className:"filter-input"}),e.jsx("span",{style:{margin:"0 0.25rem"},children:"to"}),e.jsx("input",{type:"number",value:s.yearRange[1],onChange:o=>{const l=o.target.value;n({...s,yearRange:[s.yearRange[0],l]})},onBlur:()=>{const o=parseInt(s.yearRange[1]),l=isNaN(o)?t:Math.min(t,Math.max(o,parseInt(s.yearRange[0])));n({...s,yearRange:[s.yearRange[0],String(l)]})},className:"filter-input"})]})]}),e.jsxs("label",{className:"filter-label",children:["Month:",e.jsxs("select",{value:s.month,onChange:o=>n({...s,month:o.target.value}),className:"filter-select",children:[e.jsx("option",{value:"",children:"All"}),c.map(o=>e.jsx("option",{value:o,children:o},o))]})]})]})}function V({criteria:s,onChange:n}){return e.jsxs("fieldset",{className:"filter-group",children:[e.jsx("legend",{children:"Match Quality"}),e.jsxs("label",{className:"filter-label",children:["MIEWID Distance Range:",e.jsxs("div",{className:"range-inputs",children:[e.jsx("input",{type:"number",step:"0.1",min:"0",value:s.miewidDistanceRange[0],onChange:i=>{const t=parseFloat(i.target.value);n({...s,miewidDistanceRange:[t,s.miewidDistanceRange[1]]})},className:"filter-input"}),e.jsx("span",{style:{margin:"0 0.25rem"},children:"to"}),e.jsx("input",{type:"number",step:"0.1",min:"0",value:s.miewidDistanceRange[1],onChange:i=>{const t=parseFloat(i.target.value);n({...s,miewidDistanceRange:[s.miewidDistanceRange[0],t]})},className:"filter-input"})]}),e.jsx("div",{className:"match-filter-hint",children:e.jsx("small",{children:"0.0 = Perfect | 0.5-1.0 = Very similar | 1.0-2.0 = Moderate | 2.0+ = Different"})})]}),e.jsxs("label",{className:"filter-label",children:["Plausibility:",e.jsxs("select",{value:s.plausibility||"",onChange:i=>n({...s,plausibility:i.target.value}),className:"filter-select",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"PLAUSIBLE",children:"Plausible"}),e.jsx("option",{value:"UNCERTAIN",children:"Uncertain"}),e.jsx("option",{value:"IMPOSSIBLE",children:"Impossible"}),e.jsx("option",{value:"UNKNOWN",children:"Unknown"})]})]}),e.jsxs("label",{className:"filter-label",children:[e.jsx("input",{type:"checkbox",checked:s.showOnlyConfidentMatches,onChange:()=>n({...s,showOnlyConfidentMatches:!s.showOnlyConfidentMatches})}),"Show only confident matches (distance < 1.0)"]}),e.jsxs("label",{className:"filter-label",children:[e.jsx("input",{type:"checkbox",checked:s.hasMatchedImages,onChange:()=>n({...s,hasMatchedImages:!s.hasMatchedImages})}),"Matched shark has images"]})]})}function W({criteria:s,onChange:n,options:i}){const{countries:t=[],minYear:c=2e3,maxYear:o=2024,months:l=[]}=i;return e.jsxs("div",{className:"match-filters-all",children:[e.jsx(F,{criteria:s,onChange:n,countries:t}),e.jsx(T,{criteria:s,onChange:n,minYear:c,maxYear:o,months:l}),e.jsx(V,{criteria:s,onChange:n})]})}function P({sharks:s,onSharkSelect:n,selectedSharkId:i}){const t=R(s,"countries"),c=s.flatMap(r=>[parseInt(r.oldest),parseInt(r.newest)]).filter(r=>!isNaN(r)),o=c.length>0?Math.min(...c):2e3,l=c.length>0?Math.max(...c):2024,N=I,j=p.useMemo(()=>({country:"",yearRange:[String(o),String(l)],month:"",miewidDistanceRange:[0,5],showOnlyConfidentMatches:!1,hasMatchedImages:!1,plausibility:"",showOnlyWithMedia:!1,hasOccurrenceNotes:!1,minRecords:1,sex:"",lifeStage:"",publishingCountry:"",observationType:""}),[o,l]),[v,f]=p.useState(j),[d,u]=p.useState(!0),m=()=>{f(j)},a=p.useMemo(()=>B(s,v),[s,v]),h={countries:t,minYear:o,maxYear:l,months:N};return e.jsxs("div",{className:"match-shark-selector",children:[e.jsxs("div",{className:"match-selector-buttons",children:[e.jsx("button",{onClick:()=>u(r=>!r),className:`match-toggle-filter-button ${d?"active":""}`,children:d?"Hide Filters â–²":"Show Filters â–¼"}),e.jsx("button",{onClick:m,className:"match-reset-filters-button",children:"Reset Filters"})]}),e.jsx("div",{className:"match-list-header",children:e.jsxs("span",{children:["Showing ",a.length," of ",s.length," sharks"]})}),d&&e.jsx("div",{className:"match-filters-section",children:e.jsx(W,{criteria:v,onChange:f,options:h})}),e.jsx("div",{className:"match-list-container",children:e.jsx("div",{className:"match-shark-list",children:a.map(r=>e.jsxs("div",{className:`match-shark-item ${i===r.id?"selected":""}`,onClick:()=>n(r.id),children:[e.jsxs("div",{className:"match-shark-id",children:["ID: ",r.id||"N/A"]}),e.jsxs("div",{className:"match-shark-meta",children:[r.countries||"Unknown"," | ",r.oldest||"N/A"]}),e.jsxs("div",{children:[r.miewid_match_distance&&e.jsx("span",{className:`match-distance-value ${r.miewid_match_distance<1?"good":"moderate"}`,children:r.miewid_match_distance}),r.plausibility&&e.jsx("span",{className:`match-plausibility plausibility-${r.plausibility.toLowerCase()}`,children:r.plausibility})]})]},r.id))})})]})}function U(){const[s,n]=p.useState(null),[i,t]=p.useState(0),[c,o]=p.useState([]),[l,N]=p.useState(null),j=m=>{const a=A.find(h=>h.id===m);return!a||!a.image?[]:M(a.image)};p.useEffect(()=>{if(s){const m=j(s);o(m),t(0)}},[s]),p.useEffect(()=>{if(s){const a=k.filter(h=>h.id===s)[i];if(a!=null&&a.matched_shark_id){const h=j(a.matched_shark_id);N(h.length>0?h[0]:null)}}},[s,i]);const v=m=>y.find(a=>a.id===m),f=m=>{n(m)},d=s?v(s):null,u=c[i];return e.jsxs("div",{className:"shark-match-viewer",children:[e.jsx("h2",{children:"Shark Image Match Viewer"}),e.jsx("p",{className:"match-viewer-description",children:"Explore whale shark identifications and their matched images using MiewID embeddings"}),e.jsxs("div",{className:"match-viewer-container",children:[e.jsx("div",{className:"match-selector-panel",children:e.jsx(P,{sharks:y,onSharkSelect:f,selectedSharkId:s})}),e.jsx("div",{className:"match-viewer-main",children:s&&c.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"match-info-banner",children:(()=>{const a=k.filter(h=>h.id===s)[i];return e.jsxs("div",{className:"match-stats-group",children:[e.jsxs("div",{className:"match-stats-left",children:[e.jsx("span",{className:"match-stat-pair",children:e.jsx("span",{className:`match-distance-value ${(a==null?void 0:a.miewid_match_distance)<1?"good":"moderate"}`,children:(a==null?void 0:a.miewid_match_distance)||"N/A"})}),(a==null?void 0:a.plausibility)&&e.jsx("span",{className:"match-stat-pair",children:e.jsx("span",{className:`match-plausibility plausibility-${a.plausibility.toLowerCase()}`,children:a.plausibility})})]}),e.jsx("div",{className:"match-distance-legend-inline",children:e.jsx("small",{children:"Distance Scale: 0.0 = Perfect match | 0.5-1.0 = Very similar | 1.0-2.0 = Moderate | 2.0+ = Different"})})]})})()}),e.jsx("div",{className:"match-details",children:e.jsxs("div",{className:"match-container",children:[e.jsxs("div",{className:"match-shark-box",children:[e.jsxs("div",{className:"match-shark-info-box",children:[e.jsxs("div",{className:"match-shark-id-row",children:[e.jsx("span",{className:"match-shark-label",children:"QUERY SHARK ID:"}),e.jsx("span",{className:"match-shark-id-value",children:d==null?void 0:d.id})]}),e.jsxs("div",{className:"match-shark-details-row",children:[e.jsx("span",{className:"match-shark-meta",children:d==null?void 0:d.countries}),e.jsxs("span",{className:"match-shark-meta",children:["(",d==null?void 0:d.oldest," to ",d==null?void 0:d.newest,")"]})]})]}),e.jsxs("div",{className:"image-wrapper-large",children:[e.jsx("img",{src:u==null?void 0:u.url,alt:"Query",className:"match-main-image"}),e.jsx("p",{className:"shark-image-meta",children:e.jsxs("small",{children:["ðŸ“¸ Creator: ",u==null?void 0:u.creator," | ",u==null?void 0:u.license]})})]}),e.jsxs("div",{className:"match-images-grid",children:[e.jsxs("h6",{children:["All Images for Query Shark (",c.length,"):"]}),c.length>1?e.jsx("div",{className:"match-thumbnails",children:c.map((m,a)=>e.jsxs("div",{className:`match-thumbnail-item ${i===a?"active":""}`,onClick:()=>t(a),children:[e.jsx("img",{src:m.url,alt:`Query ${a+1}`}),e.jsx("div",{className:"match-thumbnail-label",children:a+1})]},`query-${a}`))}):e.jsx("p",{className:"match-no-other-images",children:"No other images for this whale shark"})]})]}),e.jsx("div",{className:"match-shark-box",children:(()=>{const a=k.filter(g=>g.id===s)[i],h=y.find(g=>g.id===(a==null?void 0:a.matched_shark_id));if(!(a!=null&&a.matched_shark_id))return e.jsx("p",{className:"match-no-matches",children:"No match data available"});const r=j(a.matched_shark_id);if(r.length===0)return e.jsx("p",{className:"match-no-matches",children:"No images found for matched shark ID"});const x=l??(r==null?void 0:r[0]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"match-shark-info-box",children:[e.jsxs("div",{className:"match-shark-id-row",children:[e.jsx("span",{className:"match-shark-label",children:"MATCHED SHARK ID:"}),e.jsx("span",{className:"match-shark-id-value",children:a==null?void 0:a.matched_shark_id})]}),e.jsxs("div",{className:"match-shark-details-row",children:[e.jsx("span",{className:"match-shark-meta",children:h==null?void 0:h.countries}),e.jsxs("span",{className:"match-shark-meta",children:["(",h==null?void 0:h.oldest," to ",h==null?void 0:h.newest,")"]})]})]}),e.jsxs("div",{className:"image-wrapper-large",children:[e.jsx("img",{src:x==null?void 0:x.url,alt:"Matched shark main",className:"match-main-image"}),e.jsx("p",{className:"shark-image-meta",children:e.jsxs("small",{children:["ðŸ“¸ Creator: ",x==null?void 0:x.creator," | ",x==null?void 0:x.license]})})]}),e.jsxs("div",{className:"match-images-grid",children:[e.jsxs("h6",{children:["All Images for Matched Shark (",r.length,"):"]}),r.length>1?e.jsx("div",{className:"match-thumbnails",children:r.map((g,b)=>e.jsxs("div",{className:`match-thumbnail-item ${(l==null?void 0:l.url)===g.url?"active":""}`,onClick:()=>N(g),children:[e.jsx("img",{src:g.url,alt:`Matched ${b+1}`}),e.jsx("div",{className:"match-thumbnail-label",children:b+1})]},`matched-${b}`))}):e.jsx("p",{className:"match-no-other-images",children:"No other images for this whale shark"})]})]})})()})]})})]}):e.jsx("div",{className:"match-no-selection",children:e.jsx("p",{children:"Select a shark from the list to view its images and matches"})})})]})]})}function H(){return e.jsxs("div",{className:"page-content shark-vision-wrapper",children:[e.jsx(O,{}),e.jsx(_,{}),e.jsx(D,{}),e.jsx(E,{}),e.jsx(U,{})]})}export{H as default};
