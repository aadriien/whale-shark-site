import{r as d,j as s}from"./index-CBKJcG93.js";import{s as g,G as p}from"./DataUtils-DHrMFre3.js";import"./three.module-biTqBqrf.js";import"./linear-BcwBMSNj.js";import"./country-list-CMU6V2HV.js";const N=({shark:e,onPlayStory:i,isPlaying:a,playingSharkId:l})=>{const[n,c]=d.useState(!1),t=()=>{c(!n)};return s.jsxs("div",{className:`shark-card
            ${l===e.id&&a?" currentlyPlaying":""}
            ${a?" anyPlaying":""}
            ${n?" expanded":""}
        `,onClick:t,children:[s.jsx("div",{className:"shark-country-tags",children:Array.from(new Set(e.countries.split(",").map(r=>r.trim().split(" (")[0]))).map(r=>s.jsx("span",{className:"country-tag",children:r},r))}),s.jsx("div",{className:"shark-card-image",children:e.cartoonImageURL?s.jsx("img",{src:e.cartoonImageURL,alt:`LLM-generated cartoon image of whale shark named ${e.name}`}):s.jsx("span",{children:"Shark Image"})}),s.jsx("div",{className:"shark-card-content",children:s.jsx("button",{className:`
                    ${l===e.id&&a?" currentlyPlaying":""}
                    ${a?" anyPlaying":""}
                `,onClick:r=>{r.stopPropagation(),i(e.id)},disabled:a,children:a?"Story in Progress...":s.jsxs(s.Fragment,{children:["Play ",s.jsx("strong",{children:e.name}),"'s Story"]})})}),n&&s.jsxs("div",{className:"shark-card-details",children:[s.jsxs("h2",{className:"shark-id",children:["ID:  ",e.id]}),s.jsxs("div",{className:"shark-nicknames",children:[s.jsx("h3",{className:"shark-name",children:"LLM-generated nicknames"}),s.jsxs("p",{className:"shark-details",children:[s.jsx("strong",{children:"OpenAI:"}),"  ",e.name]}),s.jsxs("p",{className:"shark-details",children:[s.jsx("strong",{children:"Gemma:"}),"  ",e.gemmaName]})]}),s.jsxs("div",{className:"shark-traits",children:[s.jsxs("p",{className:"shark-details",children:[s.jsx("strong",{children:"Sex:"}),"  ",e.sex]}),s.jsxs("p",{className:"shark-details",children:[s.jsx("strong",{children:"Life Stage:"}),"  ",e.lifeStage]})]}),s.jsxs("div",{className:"shark-records",children:[s.jsxs("h3",{className:"shark-details",children:[s.jsx("strong",{children:"Total Records:"}),"  ",e.occurrences]}),s.jsxs("p",{className:"shark-details",children:[e.oldest,"  ...  ",e.newest]}),s.jsxs("p",{className:"shark-details",children:[s.jsx("strong",{children:"Satellite tracking:"}),"  ",Math.round(e.machine/(e.machine+e.human)*100),"%"]}),s.jsxs("p",{className:"shark-details",children:[s.jsx("strong",{children:"Human sightings:"}),"  ",Math.round(e.human/(e.machine+e.human)*100),"%"]})]}),s.jsxs("div",{className:"shark-regions",children:[s.jsx("h3",{className:"shark-details",children:"Places Visited"}),s.jsx("ul",{className:"timeline-list",children:e.countries.split(",").map((r,m)=>s.jsx("li",{className:"timeline-item",children:r},m))})]})]})]})},j=({sharks:e,onPlayStory:i,isPlaying:a,playingSharkId:l})=>s.jsx("div",{className:"shark-grid",children:e.map(n=>s.jsx(N,{shark:n,onPlayStory:i,isPlaying:a,playingSharkId:l},n.id))});function v(){const[e,i]=d.useState(!1),[a,l]=d.useState(null),n=d.useRef(),c=g,t=Math.ceil(c.length/2),r=c.slice(0,t),m=c.slice(t),o=h=>{var x;i(!0),l(h),(x=n.current)==null||x.playStory(h).finally(()=>{i(!1),l(null)})};return s.jsxs("div",{className:"sharktracker-wrapper",children:[s.jsx("h1",{children:"SharkTracker Page"}),s.jsxs("div",{className:"globe-cards-container",children:[s.jsx("div",{className:"side-column",children:s.jsx(j,{sharks:r,onPlayStory:o,isPlaying:e,playingSharkId:a})}),s.jsx("div",{className:"globe-container",children:s.jsx(p,{ref:n})}),s.jsx("div",{className:"side-column",children:s.jsx(j,{sharks:m,onPlayStory:o,isPlaying:e,playingSharkId:a})})]})]})}export{v as default};
