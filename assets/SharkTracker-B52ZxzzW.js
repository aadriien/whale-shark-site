import{r as d,j as e}from"./index-CFp1UTdv.js";import{s as g,G as p}from"./DataUtils-CgzupoU9.js";import"./three.module-B1l304HR.js";import"./linear-DWw4ICw8.js";const u=({shark:s,onPlayStory:t,isPlaying:a,playingSharkId:r})=>{const[l,i]=d.useState(!1),c=()=>{i(!l)};return e.jsxs("div",{className:`shark-card
            ${r===s.id&&a?" currentlyPlaying":""}
            ${a?" anyPlaying":""}
            ${l?" expanded":""}
        `,onClick:c,children:[e.jsx("div",{className:"shark-country-tags",children:Array.from(new Set(s.countries.split(",").map(n=>n.trim().split(" (")[0]))).map(n=>e.jsx("span",{className:"country-tag",children:n},n))}),e.jsx("div",{className:"shark-card-image",children:s.cartoonImageURL?e.jsx("img",{src:s.cartoonImageURL,alt:`LLM-generated cartoon image of whale shark named ${s.name}`}):e.jsx("span",{children:"Shark Image"})}),e.jsx("div",{className:"shark-card-content",children:e.jsx("button",{className:`
                    ${r===s.id&&a?" currentlyPlaying":""}
                    ${a?" anyPlaying":""}
                `,onClick:n=>{n.stopPropagation(),t(s.id)},disabled:a,children:a?"Story in Progress...":e.jsxs(e.Fragment,{children:["Play ",e.jsx("strong",{children:s.name}),"'s Story"]})})}),l&&e.jsxs("div",{className:"shark-card-details",children:[e.jsxs("h2",{className:"shark-id",children:["ID:  ",s.id]}),e.jsxs("div",{className:"shark-nicknames",children:[e.jsx("h3",{className:"shark-name",children:"LLM-generated nicknames"}),e.jsxs("p",{className:"shark-details",children:[e.jsx("strong",{children:"OpenAI:"}),"  ",s.name]}),e.jsxs("p",{className:"shark-details",children:[e.jsx("strong",{children:"Gemma:"}),"  ",s.gemmaName]})]}),e.jsxs("div",{className:"shark-traits",children:[e.jsxs("p",{className:"shark-details",children:[e.jsx("strong",{children:"Sex:"}),"  ",s.sex]}),e.jsxs("p",{className:"shark-details",children:[e.jsx("strong",{children:"Life Stage:"}),"  ",s.lifeStage]})]}),e.jsxs("div",{className:"shark-records",children:[e.jsxs("h3",{className:"shark-details",children:[e.jsx("strong",{children:"Total Records:"}),"  ",s.occurrences]}),e.jsxs("p",{className:"shark-details",children:[s.oldest,"  ...  ",s.newest]}),e.jsxs("p",{className:"shark-details",children:[e.jsx("strong",{children:"Satellite tracking:"}),"  ",Math.round(s.machine/(s.machine+s.human)*100),"%"]}),e.jsxs("p",{className:"shark-details",children:[e.jsx("strong",{children:"Human sightings:"}),"  ",Math.round(s.human/(s.machine+s.human)*100),"%"]})]}),e.jsxs("div",{className:"shark-regions",children:[e.jsx("h3",{className:"shark-details",children:"Places Visited"}),e.jsx("ul",{className:"timeline-list",children:s.countries.split(",").map((n,o)=>e.jsx("li",{className:"timeline-item",children:n},o))})]})]})]})},j=({sharks:s,onPlayStory:t,isPlaying:a,playingSharkId:r})=>e.jsx("div",{className:"shark-grid",children:s.map(l=>e.jsx(u,{shark:l,onPlayStory:t,isPlaying:a,playingSharkId:r},l.id))});function k(){const[s,t]=d.useState(!1),[a,r]=d.useState(null),l=d.useRef(),i=g,c=Math.ceil(i.length/2),n=i.slice(0,c),o=i.slice(c),h=m=>{var x;t(!0),r(m),(x=l.current)==null||x.playStory(m).finally(()=>{t(!1),r(null)})};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",overflowY:"auto",textAlign:"center",paddingTop:"60px"},children:[e.jsx("h1",{children:"SharkTracker Page"}),e.jsxs("div",{className:"globe-cards-container",style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"flex-start",width:"100%"},children:[e.jsx("div",{style:{flex:"0.1",height:"35rem"},children:e.jsx(j,{sharks:n,onPlayStory:h,isPlaying:s,playingSharkId:a})}),e.jsx("div",{className:"globe-container",style:{flex:"0.8",height:"40rem"},children:e.jsx(p,{ref:l})}),e.jsx("div",{style:{flex:"0.1",height:"35rem"},children:e.jsx(j,{sharks:o,onPlayStory:h,isPlaying:s,playingSharkId:a})})]})]})}export{k as default};
