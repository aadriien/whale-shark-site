import{r as V,j as O}from"./index-Btjc2iQG.js";import{i as fn,r as Vn,c as K,l as Un,f as hn,g as Bn,h as qn,j as Jn,k as Ln,m as Kt,n as Xn,d as Wt,s as yt,a as zn}from"./linear-D8wwPlEk.js";class Zt extends Map{constructor(n,e=Wn){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Qt(this,n))}has(n){return super.has(Qt(this,n))}set(n,e){return super.set(Gn(this,n),e)}delete(n){return super.delete(Kn(this,n))}}function Qt({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Gn({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Kn({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Wn(t){return t!==null&&typeof t=="object"?t.valueOf():t}const jt=Symbol("implicit");function Ut(){var t=new Zt,n=[],e=[],r=jt;function i(s){let o=t.get(s);if(o===void 0){if(r!==jt)return r;t.set(s,o=n.push(s)-1)}return e[o%e.length]}return i.domain=function(s){if(!arguments.length)return n.slice();n=[],t=new Zt;for(const o of s)t.has(o)||t.set(o,n.push(o)-1);return i},i.range=function(s){return arguments.length?(e=Array.from(s),i):e.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Ut(n,e).unknown(r)},fn.apply(i,arguments),i}function pn(){var t=Ut().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,s,o,a=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var f=n().length,p=i<r,d=p?i:r,_=p?r:i;s=(_-d)/Math.max(1,f-l+u*2),a&&(s=Math.floor(s)),d+=(_-d-s*(f-l))*c,o=s*(1-l),a&&(d=Math.round(d),o=Math.round(o));var A=Vn(f).map(function(v){return d+s*v});return e(p?A.reverse():A)}return t.domain=function(f){return arguments.length?(n(f),h()):n()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,h()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(f){return arguments.length?(a=!!f,h()):a},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return pn(n(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},fn.apply(h(),arguments)}var tn=180/Math.PI,bt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dn(t,n,e,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,l/=a),t*r<n*e&&(t=-t,n=-n,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(n,t)*tn,skewX:Math.atan(l)*tn,scaleX:o,scaleY:a}}var ft;function Zn(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?bt:dn(n.a,n.b,n.c,n.d,n.e,n.f)}function Qn(t){return t==null||(ft||(ft=document.createElementNS("http://www.w3.org/2000/svg","g")),ft.setAttribute("transform",t),!(t=ft.transform.baseVal.consolidate()))?bt:(t=t.matrix,dn(t.a,t.b,t.c,t.d,t.e,t.f))}function gn(t,n,e,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,h,f,p,d){if(u!==h||c!==f){var _=p.push("translate(",null,n,null,e);d.push({i:_-4,x:K(u,h)},{i:_-2,x:K(c,f)})}else(h||f)&&p.push("translate("+h+n+f+e)}function o(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:K(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function a(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:K(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,f,p,d){if(u!==h||c!==f){var _=p.push(i(p)+"scale(",null,",",null,")");d.push({i:_-4,x:K(u,h)},{i:_-2,x:K(c,f)})}else(h!==1||f!==1)&&p.push(i(p)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),s(u.translateX,u.translateY,c.translateX,c.translateY,h,f),o(u.rotate,c.rotate,h,f),a(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(p){for(var d=-1,_=f.length,A;++d<_;)h[(A=f[d]).i]=A.x(p);return h.join("")}}}var jn=gn(Zn,"px, ","px)","deg)"),te=gn(Qn,", ",")",")");function ne(){var t=0,n=1,e,r,i,s,o=hn,a=!1,l;function u(h){return h==null||isNaN(h=+h)?l:o(i===0?.5:(h=(s(h)-e)*i,a?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,n]=h,e=s(t=+t),r=s(n=+n),i=e===r?0:1/(r-e),u):[t,n]},u.clamp=function(h){return arguments.length?(a=!!h,u):a},u.interpolator=function(h){return arguments.length?(o=h,u):o};function c(h){return function(f){var p,d;return arguments.length?([p,d]=f,o=h(p,d),u):[o(0),o(1)]}}return u.range=c(qn),u.rangeRound=c(Jn),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,e=h(t),r=h(n),i=e===r?0:1/(r-e),u}}function ee(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function _n(){var t=Un(ne()(hn));return t.copy=function(){return ee(t,_n())},Bn.apply(t,arguments)}function vn(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const re=vn("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ie=t=>Ln(t[t.length-1]);var se=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(vn);const oe=ie(se);var ae={value:()=>{}};function yn(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new dt(e)}function dt(t){this._=t}function ue(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}dt.prototype=yn.prototype={constructor:dt,on:function(t,n){var e=this._,r=ue(t+"",e),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=ce(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++s<o;)if(i=(t=r[s]).type)e[i]=nn(e[i],t.name,n);else if(n==null)for(i in e)e[i]=nn(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new dt(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,s;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(n,e)}};function ce(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function nn(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=ae,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var kt="http://www.w3.org/1999/xhtml";const en={svg:"http://www.w3.org/2000/svg",xhtml:kt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nt(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),en.hasOwnProperty(n)?{space:en[n],local:t}:t}function le(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===kt&&n.documentElement.namespaceURI===kt?n.createElement(t):n.createElementNS(e,t)}}function fe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function mn(t){var n=Nt(t);return(n.local?fe:le)(n)}function he(){}function Bt(t){return t==null?he:function(){return this.querySelector(t)}}function pe(t){typeof t!="function"&&(t=Bt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var s=n[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=t.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new I(r,this._parents)}function de(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ge(){return[]}function wn(t){return t==null?ge:function(){return this.querySelectorAll(t)}}function _e(t){return function(){return de(t.apply(this,arguments))}}function ve(t){typeof t=="function"?t=_e(t):t=wn(t);for(var n=this._groups,e=n.length,r=[],i=[],s=0;s<e;++s)for(var o=n[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new I(r,i)}function An(t){return function(){return this.matches(t)}}function xn(t){return function(n){return n.matches(t)}}var ye=Array.prototype.find;function me(t){return function(){return ye.call(this.children,t)}}function we(){return this.firstElementChild}function Ae(t){return this.select(t==null?we:me(typeof t=="function"?t:xn(t)))}var xe=Array.prototype.filter;function Me(){return Array.from(this.children)}function Ne(t){return function(){return xe.call(this.children,t)}}function Oe(t){return this.selectAll(t==null?Me:Ne(typeof t=="function"?t:xn(t)))}function Se(t){typeof t!="function"&&(t=An(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var s=n[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new I(r,this._parents)}function Mn(t){return new Array(t.length)}function $e(){return new I(this._enter||this._groups.map(Mn),this._parents)}function mt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}mt.prototype={constructor:mt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ee(t){return function(){return t}}function Te(t,n,e,r,i,s){for(var o=0,a,l=n.length,u=s.length;o<u;++o)(a=n[o])?(a.__data__=s[o],r[o]=a):e[o]=new mt(t,s[o]);for(;o<l;++o)(a=n[o])&&(i[o]=a)}function Re(t,n,e,r,i,s,o){var a,l,u=new Map,c=n.length,h=s.length,f=new Array(c),p;for(a=0;a<c;++a)(l=n[a])&&(f[a]=p=o.call(l,l.__data__,a,n)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<h;++a)p=o.call(t,s[a],a,s)+"",(l=u.get(p))?(r[a]=l,l.__data__=s[a],u.delete(p)):e[a]=new mt(t,s[a]);for(a=0;a<c;++a)(l=n[a])&&u.get(f[a])===l&&(i[a]=l)}function Ce(t){return t.__data__}function Pe(t,n){if(!arguments.length)return Array.from(this,Ce);var e=n?Re:Te,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ee(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],h=i[u],f=h.length,p=Ie(t.call(c,c&&c.__data__,u,r)),d=p.length,_=a[u]=new Array(d),A=o[u]=new Array(d),v=l[u]=new Array(f);e(c,h,_,A,v,p,n);for(var x=0,w=0,m,N;x<d;++x)if(m=_[x]){for(x>=w&&(w=x+1);!(N=A[w])&&++w<d;);m._next=N||null}}return o=new I(o,r),o._enter=a,o._exit=l,o}function Ie(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function be(){return new I(this._exit||this._groups.map(Mn),this._parents)}function ke(t,n,e){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?s.remove():e(s),r&&i?r.merge(i).order():i}function Ye(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=e[l],c=r[l],h=u.length,f=a[l]=new Array(h),p,d=0;d<h;++d)(p=u[d]||c[d])&&(f[d]=p);for(;l<i;++l)a[l]=e[l];return new I(a,this._parents)}function De(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Fe(t){t||(t=He);function n(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s){for(var o=e[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(n)}return new I(i,this._parents).order()}function He(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Ve(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ue(){return Array.from(this)}function Be(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function qe(){let t=0;for(const n of this)++t;return t}function Je(){return!this.node()}function Le(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function Xe(t){return function(){this.removeAttribute(t)}}function ze(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ge(t,n){return function(){this.setAttribute(t,n)}}function Ke(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function We(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Ze(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Qe(t,n){var e=Nt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?ze:Xe:typeof n=="function"?e.local?Ze:We:e.local?Ke:Ge)(e,n))}function Nn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function je(t){return function(){this.style.removeProperty(t)}}function tr(t,n,e){return function(){this.style.setProperty(t,n,e)}}function nr(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function er(t,n,e){return arguments.length>1?this.each((n==null?je:typeof n=="function"?nr:tr)(t,n,e??"")):tt(this.node(),t)}function tt(t,n){return t.style.getPropertyValue(n)||Nn(t).getComputedStyle(t,null).getPropertyValue(n)}function rr(t){return function(){delete this[t]}}function ir(t,n){return function(){this[t]=n}}function sr(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function or(t,n){return arguments.length>1?this.each((n==null?rr:typeof n=="function"?sr:ir)(t,n)):this.node()[t]}function On(t){return t.trim().split(/^|\s+/)}function qt(t){return t.classList||new Sn(t)}function Sn(t){this._node=t,this._names=On(t.getAttribute("class")||"")}Sn.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function $n(t,n){for(var e=qt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function En(t,n){for(var e=qt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function ar(t){return function(){$n(this,t)}}function ur(t){return function(){En(this,t)}}function cr(t,n){return function(){(n.apply(this,arguments)?$n:En)(this,t)}}function lr(t,n){var e=On(t+"");if(arguments.length<2){for(var r=qt(this.node()),i=-1,s=e.length;++i<s;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?cr:n?ar:ur)(e,n))}function fr(){this.textContent=""}function hr(t){return function(){this.textContent=t}}function pr(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function dr(t){return arguments.length?this.each(t==null?fr:(typeof t=="function"?pr:hr)(t)):this.node().textContent}function gr(){this.innerHTML=""}function _r(t){return function(){this.innerHTML=t}}function vr(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function yr(t){return arguments.length?this.each(t==null?gr:(typeof t=="function"?vr:_r)(t)):this.node().innerHTML}function mr(){this.nextSibling&&this.parentNode.appendChild(this)}function wr(){return this.each(mr)}function Ar(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xr(){return this.each(Ar)}function Mr(t){var n=typeof t=="function"?t:mn(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Nr(){return null}function Or(t,n){var e=typeof t=="function"?t:mn(t),r=n==null?Nr:typeof n=="function"?n:Bt(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Sr(){var t=this.parentNode;t&&t.removeChild(this)}function $r(){return this.each(Sr)}function Er(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Tr(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Rr(t){return this.select(t?Tr:Er)}function Cr(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Pr(t){return function(n){t.call(this,n,this.__data__)}}function Ir(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function br(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,s;e<i;++e)s=n[e],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):n[++r]=s;++r?n.length=r:delete this.__on}}}function kr(t,n,e){return function(){var r=this.__on,i,s=Pr(n);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=e),i.value=n;return}}this.addEventListener(t.type,s,e),i={type:t.type,name:t.name,value:n,listener:s,options:e},r?r.push(i):this.__on=[i]}}function Yr(t,n,e){var r=Ir(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=n?kr:br,i=0;i<s;++i)this.each(a(r[i],n,e));return this}function Tn(t,n,e){var r=Nn(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Dr(t,n){return function(){return Tn(this,t,n)}}function Fr(t,n){return function(){return Tn(this,t,n.apply(this,arguments))}}function Hr(t,n){return this.each((typeof n=="function"?Fr:Dr)(t,n))}function*Vr(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Rn=[null];function I(t,n){this._groups=t,this._parents=n}function ut(){return new I([[document.documentElement]],Rn)}function Ur(){return this}I.prototype=ut.prototype={constructor:I,select:pe,selectAll:ve,selectChild:Ae,selectChildren:Oe,filter:Se,data:Pe,enter:$e,exit:be,join:ke,merge:Ye,selection:Ur,order:De,sort:Fe,call:Ve,nodes:Ue,node:Be,size:qe,empty:Je,each:Le,attr:Qe,style:er,property:or,classed:lr,text:dr,html:yr,raise:wr,lower:xr,append:Mr,insert:Or,remove:$r,clone:Rr,datum:Cr,on:Yr,dispatch:Hr,[Symbol.iterator]:Vr};function Br(t){return typeof t=="string"?new I([[document.querySelector(t)]],[document.documentElement]):new I([[t]],Rn)}var nt=0,rt=0,et=0,Cn=1e3,wt,it,At=0,Z=0,Ot=0,ot=typeof performance=="object"&&performance.now?performance:Date,Pn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Jt(){return Z||(Pn(qr),Z=ot.now()+Ot)}function qr(){Z=0}function xt(){this._call=this._time=this._next=null}xt.prototype=In.prototype={constructor:xt,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Jt():+e)+(n==null?0:+n),!this._next&&it!==this&&(it?it._next=this:wt=this,it=this),this._call=t,this._time=e,Yt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yt())}};function In(t,n,e){var r=new xt;return r.restart(t,n,e),r}function Jr(){Jt(),++nt;for(var t=wt,n;t;)(n=Z-t._time)>=0&&t._call.call(void 0,n),t=t._next;--nt}function rn(){Z=(At=ot.now())+Ot,nt=rt=0;try{Jr()}finally{nt=0,Xr(),Z=0}}function Lr(){var t=ot.now(),n=t-At;n>Cn&&(Ot-=n,At=t)}function Xr(){for(var t,n=wt,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:wt=e);it=t,Yt(r)}function Yt(t){if(!nt){rt&&(rt=clearTimeout(rt));var n=t-Z;n>24?(t<1/0&&(rt=setTimeout(rn,t-ot.now()-Ot)),et&&(et=clearInterval(et))):(et||(At=ot.now(),et=setInterval(Lr,Cn)),nt=1,Pn(rn))}}function sn(t,n,e){var r=new xt;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var zr=yn("start","end","cancel","interrupt"),Gr=[],bn=0,on=1,Dt=2,gt=3,an=4,Ft=5,_t=6;function St(t,n,e,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;Kr(t,e,{name:n,index:r,group:i,on:zr,tween:Gr,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:bn})}function Lt(t,n){var e=D(t,n);if(e.state>bn)throw new Error("too late; already scheduled");return e}function U(t,n){var e=D(t,n);if(e.state>gt)throw new Error("too late; already running");return e}function D(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Kr(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=In(s,0,e.time);function s(u){e.state=on,e.timer.restart(o,e.delay,e.time),e.delay<=u&&o(u-e.delay)}function o(u){var c,h,f,p;if(e.state!==on)return l();for(c in r)if(p=r[c],p.name===e.name){if(p.state===gt)return sn(o);p.state===an?(p.state=_t,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<n&&(p.state=_t,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(sn(function(){e.state===gt&&(e.state=an,e.timer.restart(a,e.delay,e.time),a(u))}),e.state=Dt,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Dt){for(e.state=gt,i=new Array(f=e.tween.length),c=0,h=-1;c<f;++c)(p=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=p);i.length=h+1}}function a(u){for(var c=u<e.duration?e.ease.call(null,u/e.duration):(e.timer.restart(l),e.state=Ft,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);e.state===Ft&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){e.state=_t,e.timer.stop(),delete r[n];for(var u in r)return;delete t.__transition}}function Wr(t,n){var e=t.__transition,r,i,s=!0,o;if(e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){s=!1;continue}i=r.state>Dt&&r.state<Ft,r.state=_t,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}s&&delete t.__transition}}function Zr(t){return this.each(function(){Wr(this,t)})}function Qr(t,n){var e,r;return function(){var i=U(this,t),s=i.tween;if(s!==e){r=e=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function jr(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var s=U(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:n,value:e},l=0,u=i.length;l<u;++l)if(i[l].name===n){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function ti(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=D(this.node(),e).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?Qr:jr)(e,t,n))}function Xt(t,n,e){var r=t._id;return t.each(function(){var i=U(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return D(i,r).value[n]}}function kn(t,n){var e;return(typeof n=="number"?K:n instanceof Wt?Kt:(e=Wt(n))?(n=e,Kt):Xn)(t,n)}function ni(t){return function(){this.removeAttribute(t)}}function ei(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ri(t,n,e){var r,i=e+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=n(r=o,e)}}function ii(t,n,e){var r,i=e+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=n(r=o,e)}}function si(t,n,e){var r,i,s;return function(){var o,a=e(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=n(r=o,a)))}}function oi(t,n,e){var r,i,s;return function(){var o,a=e(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=n(r=o,a)))}}function ai(t,n){var e=Nt(t),r=e==="transform"?te:kn;return this.attrTween(t,typeof n=="function"?(e.local?oi:si)(e,r,Xt(this,"attr."+t,n)):n==null?(e.local?ei:ni)(e):(e.local?ii:ri)(e,r,n))}function ui(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function ci(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function li(t,n){var e,r;function i(){var s=n.apply(this,arguments);return s!==r&&(e=(r=s)&&ci(t,s)),e}return i._value=n,i}function fi(t,n){var e,r;function i(){var s=n.apply(this,arguments);return s!==r&&(e=(r=s)&&ui(t,s)),e}return i._value=n,i}function hi(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=Nt(t);return this.tween(e,(r.local?li:fi)(r,n))}function pi(t,n){return function(){Lt(this,t).delay=+n.apply(this,arguments)}}function di(t,n){return n=+n,function(){Lt(this,t).delay=n}}function gi(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?pi:di)(n,t)):D(this.node(),n).delay}function _i(t,n){return function(){U(this,t).duration=+n.apply(this,arguments)}}function vi(t,n){return n=+n,function(){U(this,t).duration=n}}function yi(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?_i:vi)(n,t)):D(this.node(),n).duration}function mi(t,n){if(typeof n!="function")throw new Error;return function(){U(this,t).ease=n}}function wi(t){var n=this._id;return arguments.length?this.each(mi(n,t)):D(this.node(),n).ease}function Ai(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;U(this,t).ease=e}}function xi(t){if(typeof t!="function")throw new Error;return this.each(Ai(this._id,t))}function Mi(t){typeof t!="function"&&(t=An(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var s=n[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new X(r,this._parents,this._name,this._id)}function Ni(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=n[a],u=e[a],c=l.length,h=o[a]=new Array(c),f,p=0;p<c;++p)(f=l[p]||u[p])&&(h[p]=f);for(;a<r;++a)o[a]=n[a];return new X(o,this._parents,this._name,this._id)}function Oi(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Si(t,n,e){var r,i,s=Oi(n)?Lt:U;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(n,e),o.on=i}}function $i(t,n){var e=this._id;return arguments.length<2?D(this.node(),e).on.on(t):this.each(Si(e,t,n))}function Ei(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Ti(){return this.on("end.remove",Ei(this._id))}function Ri(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Bt(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,h,f=0;f<l;++f)(c=a[f])&&(h=t.call(c,c.__data__,f,a))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,St(u[f],n,e,f,u,D(c,e)));return new X(s,this._parents,n,e)}function Ci(t){var n=this._name,e=this._id;typeof t!="function"&&(t=wn(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),p,d=D(c,e),_=0,A=f.length;_<A;++_)(p=f[_])&&St(p,n,e,_,f,d);s.push(f),o.push(c)}return new X(s,o,n,e)}var Pi=ut.prototype.constructor;function Ii(){return new Pi(this._groups,this._parents)}function bi(t,n){var e,r,i;return function(){var s=tt(this,t),o=(this.style.removeProperty(t),tt(this,t));return s===o?null:s===e&&o===r?i:i=n(e=s,r=o)}}function Yn(t){return function(){this.style.removeProperty(t)}}function ki(t,n,e){var r,i=e+"",s;return function(){var o=tt(this,t);return o===i?null:o===r?s:s=n(r=o,e)}}function Yi(t,n,e){var r,i,s;return function(){var o=tt(this,t),a=e(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),tt(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=n(r=o,a))}}function Di(t,n){var e,r,i,s="style."+n,o="end."+s,a;return function(){var l=U(this,t),u=l.on,c=l.value[s]==null?a||(a=Yn(n)):void 0;(u!==e||i!==c)&&(r=(e=u).copy()).on(o,i=c),l.on=r}}function Fi(t,n,e){var r=(t+="")=="transform"?jn:kn;return n==null?this.styleTween(t,bi(t,r)).on("end.style."+t,Yn(t)):typeof n=="function"?this.styleTween(t,Yi(t,r,Xt(this,"style."+t,n))).each(Di(this._id,t)):this.styleTween(t,ki(t,r,n),e).on("end.style."+t,null)}function Hi(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Vi(t,n,e){var r,i;function s(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Hi(t,o,e)),r}return s._value=n,s}function Ui(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Vi(t,n,e??""))}function Bi(t){return function(){this.textContent=t}}function qi(t){return function(){var n=t(this);this.textContent=n??""}}function Ji(t){return this.tween("text",typeof t=="function"?qi(Xt(this,"text",t)):Bi(t==null?"":t+""))}function Li(t){return function(n){this.textContent=t.call(this,n)}}function Xi(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Li(i)),n}return r._value=t,r}function zi(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Xi(t))}function Gi(){for(var t=this._name,n=this._id,e=Dn(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=D(l,n);St(l,t,e,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new X(r,this._parents,t,e)}function Ki(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};e.each(function(){var u=U(this,r),c=u.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(l)),u.on=n}),i===0&&s()})}var Wi=0;function X(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Dn(){return++Wi}var L=ut.prototype;X.prototype={constructor:X,select:Ri,selectAll:Ci,selectChild:L.selectChild,selectChildren:L.selectChildren,filter:Mi,merge:Ni,selection:Ii,transition:Gi,call:L.call,nodes:L.nodes,node:L.node,size:L.size,empty:L.empty,each:L.each,on:$i,attr:ai,attrTween:hi,style:Fi,styleTween:Ui,text:Ji,textTween:zi,remove:Ti,tween:ti,delay:gi,duration:yi,ease:wi,easeVarying:xi,end:Ki,[Symbol.iterator]:L[Symbol.iterator]};function Zi(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Qi={time:null,delay:0,duration:250,ease:Zi};function ji(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function ts(t){var n,e;t instanceof X?(n=t._id,t=t._name):(n=Dn(),(e=Qi).time=Jt(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&St(l,t,n,u,o,e||ji(l,n));return new X(r,this._parents,t,n)}ut.prototype.interrupt=Zr;ut.prototype.transition=ts;const Ht=Math.PI,Vt=2*Ht,W=1e-6,ns=Vt-W;function Fn(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function es(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Fn;const e=10**n;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class rs{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Fn:es(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,s,o){this._append`C${+n},${+e},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(n,e,r,i,s){if(n=+n,e=+e,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-n,u=i-e,c=o-n,h=a-e,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(f>W)if(!(Math.abs(h*l-u*c)>W)||!s)this._append`L${this._x1=n},${this._y1=e}`;else{let p=r-o,d=i-a,_=l*l+u*u,A=p*p+d*d,v=Math.sqrt(_),x=Math.sqrt(f),w=s*Math.tan((Ht-Math.acos((_+f-A)/(2*v*x)))/2),m=w/x,N=w/v;Math.abs(m-1)>W&&this._append`L${n+m*c},${e+m*h}`,this._append`A${s},${s},0,0,${+(h*p>c*d)},${this._x1=n+N*l},${this._y1=e+N*u}`}}arc(n,e,r,i,s,o){if(n=+n,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=n+a,c=e+l,h=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>W||Math.abs(this._y1-c)>W)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%Vt+Vt),f>ns?this._append`A${r},${r},0,1,${h},${n-a},${e-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:f>W&&this._append`A${r},${r},0,${+(f>=Ht)},${h},${this._x1=n+r*Math.cos(s)},${this._y1=e+r*Math.sin(s)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function C(t){return function(){return t}}const un=Math.abs,R=Math.atan2,G=Math.cos,is=Math.max,It=Math.min,H=Math.sin,j=Math.sqrt,P=1e-12,at=Math.PI,Mt=at/2,vt=2*at;function ss(t){return t>1?0:t<-1?at:Math.acos(t)}function cn(t){return t>=1?Mt:t<=-1?-Mt:Math.asin(t)}function os(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new rs(n)}function as(t){return t.innerRadius}function us(t){return t.outerRadius}function cs(t){return t.startAngle}function ls(t){return t.endAngle}function fs(t){return t&&t.padAngle}function hs(t,n,e,r,i,s,o,a){var l=e-t,u=r-n,c=o-i,h=a-s,f=h*l-c*u;if(!(f*f<P))return f=(c*(n-s)-h*(t-i))/f,[t+f*l,n+f*u]}function ht(t,n,e,r,i,s,o){var a=t-e,l=n-r,u=(o?s:-s)/j(a*a+l*l),c=u*l,h=-u*a,f=t+c,p=n+h,d=e+c,_=r+h,A=(f+d)/2,v=(p+_)/2,x=d-f,w=_-p,m=x*x+w*w,N=i-s,$=f*_-d*p,B=(w<0?-1:1)*j(is(0,N*N*m-$*$)),F=($*w-x*B)/m,k=(-$*x-w*B)/m,M=($*w+x*B)/m,S=(-$*x+w*B)/m,E=F-A,g=k-v,y=M-A,b=S-v;return E*E+g*g>y*y+b*b&&(F=M,k=S),{cx:F,cy:k,x01:-c,y01:-h,x11:F*(i/N-1),y11:k*(i/N-1)}}function ln(){var t=as,n=us,e=C(0),r=null,i=cs,s=ls,o=fs,a=null,l=os(u);function u(){var c,h,f=+t.apply(this,arguments),p=+n.apply(this,arguments),d=i.apply(this,arguments)-Mt,_=s.apply(this,arguments)-Mt,A=un(_-d),v=_>d;if(a||(a=c=l()),p<f&&(h=p,p=f,f=h),!(p>P))a.moveTo(0,0);else if(A>vt-P)a.moveTo(p*G(d),p*H(d)),a.arc(0,0,p,d,_,!v),f>P&&(a.moveTo(f*G(_),f*H(_)),a.arc(0,0,f,_,d,v));else{var x=d,w=_,m=d,N=_,$=A,B=A,F=o.apply(this,arguments)/2,k=F>P&&(r?+r.apply(this,arguments):j(f*f+p*p)),M=It(un(p-f)/2,+e.apply(this,arguments)),S=M,E=M,g,y;if(k>P){var b=cn(k/f*H(F)),T=cn(k/p*H(F));($-=b*2)>P?(b*=v?1:-1,m+=b,N-=b):($=0,m=N=(d+_)/2),(B-=T*2)>P?(T*=v?1:-1,x+=T,w-=T):(B=0,x=w=(d+_)/2)}var Y=p*G(x),q=p*H(x),Q=f*G(N),z=f*H(N);if(M>P){var ct=p*G(w),lt=p*H(w),$t=f*G(m),Et=f*H(m),J;if(A<at)if(J=hs(Y,q,$t,Et,ct,lt,Q,z)){var Tt=Y-J[0],Rt=q-J[1],Ct=ct-J[0],Pt=lt-J[1],zt=1/H(ss((Tt*Ct+Rt*Pt)/(j(Tt*Tt+Rt*Rt)*j(Ct*Ct+Pt*Pt)))/2),Gt=j(J[0]*J[0]+J[1]*J[1]);S=It(M,(f-Gt)/(zt-1)),E=It(M,(p-Gt)/(zt+1))}else S=E=0}B>P?E>P?(g=ht($t,Et,Y,q,p,E,v),y=ht(ct,lt,Q,z,p,E,v),a.moveTo(g.cx+g.x01,g.cy+g.y01),E<M?a.arc(g.cx,g.cy,E,R(g.y01,g.x01),R(y.y01,y.x01),!v):(a.arc(g.cx,g.cy,E,R(g.y01,g.x01),R(g.y11,g.x11),!v),a.arc(0,0,p,R(g.cy+g.y11,g.cx+g.x11),R(y.cy+y.y11,y.cx+y.x11),!v),a.arc(y.cx,y.cy,E,R(y.y11,y.x11),R(y.y01,y.x01),!v))):(a.moveTo(Y,q),a.arc(0,0,p,x,w,!v)):a.moveTo(Y,q),!(f>P)||!($>P)?a.lineTo(Q,z):S>P?(g=ht(Q,z,ct,lt,f,-S,v),y=ht(Y,q,$t,Et,f,-S,v),a.lineTo(g.cx+g.x01,g.cy+g.y01),S<M?a.arc(g.cx,g.cy,S,R(g.y01,g.x01),R(y.y01,y.x01),!v):(a.arc(g.cx,g.cy,S,R(g.y01,g.x01),R(g.y11,g.x11),!v),a.arc(0,0,f,R(g.cy+g.y11,g.cx+g.x11),R(y.cy+y.y11,y.cx+y.x11),v),a.arc(y.cx,y.cy,S,R(y.y11,y.x11),R(y.y01,y.x01),!v))):a.arc(0,0,f,N,m,v)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-at/2;return[G(h)*c,H(h)*c]},u.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:C(+c),u):t},u.outerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:C(+c),u):n},u.cornerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:C(+c),u):e},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:C(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:C(+c),u):i},u.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:C(+c),u):s},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:C(+c),u):o},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function ps(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ds(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function gs(t){return t}function _s(){var t=gs,n=ds,e=null,r=C(0),i=C(vt),s=C(0);function o(a){var l,u=(a=ps(a)).length,c,h,f=0,p=new Array(u),d=new Array(u),_=+r.apply(this,arguments),A=Math.min(vt,Math.max(-vt,i.apply(this,arguments)-_)),v,x=Math.min(Math.abs(A)/u,s.apply(this,arguments)),w=x*(A<0?-1:1),m;for(l=0;l<u;++l)(m=d[p[l]=l]=+t(a[l],l,a))>0&&(f+=m);for(n!=null?p.sort(function(N,$){return n(d[N],d[$])}):e!=null&&p.sort(function(N,$){return e(a[N],a[$])}),l=0,h=f?(A-u*w)/f:0;l<u;++l,_=v)c=p[l],m=d[c],v=_+(m>0?m*h:0)+w,d[c]={data:a[c],index:l,value:m,startAngle:_,endAngle:v,padAngle:x};return d}return o.value=function(a){return arguments.length?(t=typeof a=="function"?a:C(+a),o):t},o.sortValues=function(a){return arguments.length?(n=a,e=null,o):n},o.sort=function(a){return arguments.length?(e=a,n=null,o):e},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:C(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:C(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:C(+a),o):s},o}function st(t,n,e){this.k=t,this.x=n,this.y=e}st.prototype={constructor:st,scale:function(t){return t===1?this:new st(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new st(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};st.prototype;const vs=({data:t,segmentField:n,ringField:e,valueField:r,title:i="Radial Heatmap",className:s="radial-heatmap",pieData:o=[]})=>{const a=V.useRef(null),[l,u]=V.useState({width:0,height:0}),c=()=>{if(a.current){const{width:h,height:f}=a.current.getBoundingClientRect();u({width:h,height:f})}};return V.useEffect(()=>(window.addEventListener("resize",c),c(),()=>{window.removeEventListener("resize",c)}),[]),V.useEffect(()=>{if(!t||t.length===0||l.width===0||l.height===0)return;const{width:h,height:f}=l,p=Br(a.current);p.selectAll("*").remove();const d=Math.min(h,f)*.1,_=.7*Math.min(h,f)/2,A=p.append("g").attr("transform",`translate(${_}, ${f/2})`),v=[...new Set(t.map(M=>M[n]))],x=[...new Set(t.map(M=>M[e]))].sort(),w=yt(t,M=>+M[r]);zn().domain([0,w]).range([0,2*Math.PI]);const m=pn().domain(x).range([d,_]),N=_n().domain([0,v.length-1]).interpolator(oe);let $=0;if(t.forEach(M=>{const S=M[n],E=M[e],g=+M[r]||0,y=m(E),b=y+m.bandwidth();if(g<=0)return;const T=Math.max(g/w*2*Math.PI,.5),Y=$,q=$+T;if($=q,Y===void 0||y===void 0)return;const Q=ln().innerRadius(y).outerRadius(b).startAngle(Y).endAngle(q),z=A.append("g");z.append("path").attr("d",Q).attr("fill",N(v.indexOf(S))).attr("stroke","#fff").attr("stroke-width",.5),z.append("title").text(`${S}: ${g}`)}),p.append("text").attr("x",h/2).attr("y",f/2-_-30).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","bold").text(i),o.length>0){const M=Math.min(h,f)*.2,S=p.append("g").attr("transform",`translate(${_}, ${f/2})`),E=_s().value(T=>T.value),g=ln().innerRadius(0).outerRadius(M),y=Ut(re),b=E(o);S.selectAll("path").data(b).enter().append("path").attr("d",g).attr("fill",(T,Y)=>y(Y)).attr("stroke","#fff").attr("stroke-width",1).append("title").text(T=>`${T.data.label}: ${T.data.value}`),S.selectAll("text").data(b).enter().append("text").attr("transform",T=>`translate(${g.centroid(T)})`).attr("text-anchor","middle").attr("font-size","11px").attr("font-weight","bold").text(T=>T.data.label)}const F=Math.min(h,f)*.7,k=p.append("g").attr("transform",`translate(${2*_+20}, ${f/2-F/2})`);v.forEach((M,S)=>{k.append("rect").attr("x",0).attr("y",S*18).attr("width",14).attr("height",12).attr("fill",N(v.indexOf(M))),k.append("text").attr("x",20).attr("y",S*18+12).attr("font-size","12px").text(()=>{const E=yt(t.filter(g=>g[n]===M),g=>g[r]);return`${M} — ${E}`})})},[t,n,e,r,i,o,l]),O.jsx("svg",{ref:a,className:s,style:{width:"100%",height:"100%"}})},ys=[{continent:"AFRICA","Total Occurrences":148,"Unique Sharks (with ID)":83,"Top 3 Publishing Countries":"United States > United Kingdom > Mexico","Avg Per Year (all)":6.17,"Avg Per Year (after 2020)":4.8,"Avg Per Year (2010 - 2020)":8.82,"Avg Per Year (2000 - 2010)":8.57,"Avg Per Year (before 2000)":1.5,Jan:28,Feb:3,Mar:5,Apr:8,May:4,Jun:3,Jul:10,Aug:5,Sep:5,Oct:19,Nov:12,Dec:17,HUMAN_OBSERVATION:105,MACHINE_OBSERVATION:0,"Oldest Occurrence":"1973-01","Newest Occurrence":"2025-02-28"},{continent:"ANTARCTICA","Total Occurrences":11,"Unique Sharks (with ID)":0,"Top 3 Publishing Countries":"Netherlands","Avg Per Year (all)":5.5,"Avg Per Year (after 2020)":0,"Avg Per Year (2010 - 2020)":5.5,"Avg Per Year (2000 - 2010)":0,"Avg Per Year (before 2000)":0,Jan:0,Feb:0,Mar:0,Apr:11,May:0,Jun:0,Jul:0,Aug:0,Sep:0,Oct:0,Nov:0,Dec:0,HUMAN_OBSERVATION:11,MACHINE_OBSERVATION:0,"Oldest Occurrence":"2017-04-16","Newest Occurrence":"2018-04-20"},{continent:"ASIA","Total Occurrences":380,"Unique Sharks (with ID)":181,"Top 3 Publishing Countries":"United States > United Kingdom > France","Avg Per Year (all)":9.5,"Avg Per Year (after 2020)":20.2,"Avg Per Year (2010 - 2020)":21.18,"Avg Per Year (2000 - 2010)":2.62,"Avg Per Year (before 2000)":1.82,Jan:26,Feb:32,Mar:38,Apr:26,May:30,Jun:33,Jul:58,Aug:30,Sep:19,Oct:25,Nov:24,Dec:18,HUMAN_OBSERVATION:277,MACHINE_OBSERVATION:3,"Oldest Occurrence":"1929","Newest Occurrence":"2025-03-31"},{continent:"EUROPE","Total Occurrences":2,"Unique Sharks (with ID)":1,"Top 3 Publishing Countries":"Portugal","Avg Per Year (all)":1,"Avg Per Year (after 2020)":0,"Avg Per Year (2010 - 2020)":1,"Avg Per Year (2000 - 2010)":1,"Avg Per Year (before 2000)":0,Jan:0,Feb:0,Mar:0,Apr:0,May:0,Jun:0,Jul:0,Aug:0,Sep:0,Oct:2,Nov:0,Dec:0,HUMAN_OBSERVATION:2,MACHINE_OBSERVATION:0,"Oldest Occurrence":"2008-10-18","Newest Occurrence":"2020-10-17"},{continent:"NORTH_AMERICA","Total Occurrences":385,"Unique Sharks (with ID)":341,"Top 3 Publishing Countries":"United States > Mexico > France","Avg Per Year (all)":13.46,"Avg Per Year (after 2020)":24.4,"Avg Per Year (2010 - 2020)":21.27,"Avg Per Year (2000 - 2010)":4.5,"Avg Per Year (before 2000)":1,Jan:33,Feb:24,Mar:37,Apr:23,May:16,Jun:22,Jul:43,Aug:40,Sep:30,Oct:25,Nov:34,Dec:31,HUMAN_OBSERVATION:341,MACHINE_OBSERVATION:38,"Oldest Occurrence":"1858","Newest Occurrence":"2025-01-07"},{continent:"OCEANIA","Total Occurrences":765,"Unique Sharks (with ID)":115,"Top 3 Publishing Countries":"Australia > United States > United Kingdom","Avg Per Year (all)":28.27,"Avg Per Year (after 2020)":7.8,"Avg Per Year (2010 - 2020)":61.73,"Avg Per Year (2000 - 2010)":4.29,"Avg Per Year (before 2000)":1.5,Jan:31,Feb:22,Mar:49,Apr:62,May:87,Jun:74,Jul:98,Aug:21,Sep:68,Oct:97,Nov:76,Dec:28,HUMAN_OBSERVATION:158,MACHINE_OBSERVATION:587,"Oldest Occurrence":"1964-04","Newest Occurrence":"2025-03-16"},{continent:"SOUTH_AMERICA","Total Occurrences":36,"Unique Sharks (with ID)":12,"Top 3 Publishing Countries":"Ecuador > France > United States","Avg Per Year (all)":1.89,"Avg Per Year (after 2020)":2,"Avg Per Year (2010 - 2020)":2.14,"Avg Per Year (2000 - 2010)":2.25,"Avg Per Year (before 2000)":1,Jan:1,Feb:0,Mar:3,Apr:5,May:2,Jun:4,Jul:1,Aug:4,Sep:4,Oct:5,Nov:1,Dec:2,HUMAN_OBSERVATION:25,MACHINE_OBSERVATION:6,"Oldest Occurrence":"1984-03-24","Newest Occurrence":"2024"}],Hn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ms=t=>{const n=[];return t.forEach(e=>{Hn.forEach(r=>{const i=e[r];i!=null&&!Number.isNaN(+i)&&n.push({continent:e.continent,month:r,"Total Occurrences":+i,"Avg Per Year (all)":+e["Avg Per Year (all)"],"Human Observation":+e.HUMAN_OBSERVATION||0,"Machine Observation":+e.MACHINE_OBSERVATION||0})})}),n},pt=()=>{const t=V.useMemo(()=>ms(ys),[]),[n,e]=V.useState(""),r=V.useMemo(()=>[...new Set(t.map(u=>u.continent))].sort(),[t]),i=V.useMemo(()=>t.filter(u=>u.continent===n),[t,n]),s=u=>{const c=t.filter(d=>d.continent===u);if(!c.length)return[];const h=yt(c,d=>d["Human Observation"]),f=yt(c,d=>d["Machine Observation"]),p=h+f;return[{label:"Human Observation",value:h/p*100},{label:"Machine Observation",value:f/p*100}]},o=V.useMemo(()=>s(n),[n,t]),a=u=>t.filter(c=>c.continent===u).reduce((c,h)=>(Hn.forEach(f=>{c[f]=(c[f]||0)+(h[f]||0)}),c),{}),l=V.useMemo(()=>n?a(n):{},[n,t]);return O.jsxs("div",{className:"continent-occurrence-card",style:{width:"100%",height:"100%",minWidth:"300px",minHeight:"300px",padding:"0.5rem"},children:[O.jsx("label",{htmlFor:"continent-select",style:{display:"block"},children:"Select a continent:"}),O.jsxs("select",{id:"continent-select",value:n,onChange:u=>e(u.target.value),children:[O.jsx("option",{value:"",children:"-- Choose a continent --"}),r.map(u=>O.jsx("option",{value:u,children:u},u))]}),i.length>0?O.jsx(O.Fragment,{children:O.jsx(vs,{data:i,segmentField:"month",ringField:"Avg Per Year (all)",valueField:"Total Occurrences",title:`Monthly Shark Records — ${n}`,monthOccurrences:l,pieData:o})}):O.jsx("p",{style:{textAlign:"center"},children:n?"No data available for this continent.":"Select a continent to view data."})]})},ws=({children:t})=>O.jsx("div",{className:"data-grid",children:t});function Ms(){return O.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",overflowY:"auto",textAlign:"center",paddingTop:"60px"},children:[O.jsx("h1",{children:"DataVisuals Page"}),O.jsxs(ws,{children:[O.jsx("div",{children:O.jsx(pt,{})}),O.jsx("div",{children:O.jsx(pt,{})}),O.jsx("div",{children:O.jsx(pt,{})}),O.jsx("div",{children:O.jsx(pt,{})})]})]})}export{Ms as default};
